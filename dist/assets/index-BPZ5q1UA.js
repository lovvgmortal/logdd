var Sy=e=>{throw TypeError(e)};var Bh=(e,t,n)=>t.has(e)||Sy("Cannot "+n);var E=(e,t,n)=>(Bh(e,t,"read from private field"),n?n.call(e):t.get(e)),je=(e,t,n)=>t.has(e)?Sy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ce=(e,t,n,r)=>(Bh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Le=(e,t,n)=>(Bh(e,t,"access private method"),n);var Hc=(e,t,n,r)=>({set _(s){ce(e,t,s,n)},get _(){return E(e,t,r)}});function qk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function R0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O0={exports:{}},Wd={},I0={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mc=Symbol.for("react.element"),Gk=Symbol.for("react.portal"),Yk=Symbol.for("react.fragment"),Qk=Symbol.for("react.strict_mode"),Xk=Symbol.for("react.profiler"),Jk=Symbol.for("react.provider"),Zk=Symbol.for("react.context"),eT=Symbol.for("react.forward_ref"),tT=Symbol.for("react.suspense"),nT=Symbol.for("react.memo"),rT=Symbol.for("react.lazy"),Ny=Symbol.iterator;function sT(e){return e===null||typeof e!="object"?null:(e=Ny&&e[Ny]||e["@@iterator"],typeof e=="function"?e:null)}var D0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M0=Object.assign,L0={};function ki(e,t,n){this.props=e,this.context=t,this.refs=L0,this.updater=n||D0}ki.prototype.isReactComponent={};ki.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ki.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $0(){}$0.prototype=ki.prototype;function Vm(e,t,n){this.props=e,this.context=t,this.refs=L0,this.updater=n||D0}var Wm=Vm.prototype=new $0;Wm.constructor=Vm;M0(Wm,ki.prototype);Wm.isPureReactComponent=!0;var jy=Array.isArray,F0=Object.prototype.hasOwnProperty,Hm={current:null},U0={key:!0,ref:!0,__self:!0,__source:!0};function z0(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)F0.call(t,r)&&!U0.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:mc,type:e,key:o,ref:i,props:s,_owner:Hm.current}}function oT(e,t){return{$$typeof:mc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Km(e){return typeof e=="object"&&e!==null&&e.$$typeof===mc}function aT(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _y=/\/+/g;function Vh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?aT(""+e.key):t.toString(36)}function ju(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case mc:case Gk:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Vh(i,0):r,jy(s)?(n="",e!=null&&(n=e.replace(_y,"$&/")+"/"),ju(s,t,n,"",function(u){return u})):s!=null&&(Km(s)&&(s=oT(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(_y,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",jy(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Vh(o,l);i+=ju(o,t,n,c,s)}else if(c=sT(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Vh(o,l++),i+=ju(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Kc(e,t,n){if(e==null)return e;var r=[],s=0;return ju(e,r,"","",function(o){return t.call(n,o,s++)}),r}function iT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sn={current:null},_u={transition:null},lT={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:_u,ReactCurrentOwner:Hm};function B0(){throw Error("act(...) is not supported in production builds of React.")}Fe.Children={map:Kc,forEach:function(e,t,n){Kc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kc(e,function(){t++}),t},toArray:function(e){return Kc(e,function(t){return t})||[]},only:function(e){if(!Km(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Fe.Component=ki;Fe.Fragment=Yk;Fe.Profiler=Xk;Fe.PureComponent=Vm;Fe.StrictMode=Qk;Fe.Suspense=tT;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lT;Fe.act=B0;Fe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=M0({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Hm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)F0.call(t,c)&&!U0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:mc,type:e.type,key:s,ref:o,props:r,_owner:i}};Fe.createContext=function(e){return e={$$typeof:Zk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jk,_context:e},e.Consumer=e};Fe.createElement=z0;Fe.createFactory=function(e){var t=z0.bind(null,e);return t.type=e,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(e){return{$$typeof:eT,render:e}};Fe.isValidElement=Km;Fe.lazy=function(e){return{$$typeof:rT,_payload:{_status:-1,_result:e},_init:iT}};Fe.memo=function(e,t){return{$$typeof:nT,type:e,compare:t===void 0?null:t}};Fe.startTransition=function(e){var t=_u.transition;_u.transition={};try{e()}finally{_u.transition=t}};Fe.unstable_act=B0;Fe.useCallback=function(e,t){return sn.current.useCallback(e,t)};Fe.useContext=function(e){return sn.current.useContext(e)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(e){return sn.current.useDeferredValue(e)};Fe.useEffect=function(e,t){return sn.current.useEffect(e,t)};Fe.useId=function(){return sn.current.useId()};Fe.useImperativeHandle=function(e,t,n){return sn.current.useImperativeHandle(e,t,n)};Fe.useInsertionEffect=function(e,t){return sn.current.useInsertionEffect(e,t)};Fe.useLayoutEffect=function(e,t){return sn.current.useLayoutEffect(e,t)};Fe.useMemo=function(e,t){return sn.current.useMemo(e,t)};Fe.useReducer=function(e,t,n){return sn.current.useReducer(e,t,n)};Fe.useRef=function(e){return sn.current.useRef(e)};Fe.useState=function(e){return sn.current.useState(e)};Fe.useSyncExternalStore=function(e,t,n){return sn.current.useSyncExternalStore(e,t,n)};Fe.useTransition=function(){return sn.current.useTransition()};Fe.version="18.3.1";I0.exports=Fe;var d=I0.exports;const ne=R0(d),qm=qk({__proto__:null,default:ne},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT=d,uT=Symbol.for("react.element"),dT=Symbol.for("react.fragment"),hT=Object.prototype.hasOwnProperty,fT=cT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pT={key:!0,ref:!0,__self:!0,__source:!0};function V0(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)hT.call(t,r)&&!pT.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:uT,type:e,key:o,ref:i,props:s,_owner:fT.current}}Wd.Fragment=dT;Wd.jsx=V0;Wd.jsxs=V0;O0.exports=Wd;var a=O0.exports,W0={exports:{}},An={},H0={exports:{}},K0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,A){var W=O.length;O.push(A);e:for(;0<W;){var ee=W-1>>>1,se=O[ee];if(0<s(se,A))O[ee]=A,O[W]=se,W=ee;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var A=O[0],W=O.pop();if(W!==A){O[0]=W;e:for(var ee=0,se=O.length,ae=se>>>1;ee<ae;){var ge=2*(ee+1)-1,K=O[ge],ye=ge+1,q=O[ye];if(0>s(K,W))ye<se&&0>s(q,K)?(O[ee]=q,O[ye]=W,ee=ye):(O[ee]=K,O[ge]=W,ee=ge);else if(ye<se&&0>s(q,W))O[ee]=q,O[ye]=W,ee=ye;else break e}}return A}function s(O,A){var W=O.sortIndex-A.sortIndex;return W!==0?W:O.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,f=null,g=3,m=!1,b=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(O){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=O)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function S(O){if(p=!1,w(O),!b)if(n(c)!==null)b=!0,V(N);else{var A=n(u);A!==null&&oe(S,A.startTime-O)}}function N(O,A){b=!1,p&&(p=!1,y(C),C=-1),m=!0;var W=g;try{for(w(A),f=n(c);f!==null&&(!(f.expirationTime>A)||O&&!R());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,g=f.priorityLevel;var se=ee(f.expirationTime<=A);A=e.unstable_now(),typeof se=="function"?f.callback=se:f===n(c)&&r(c),w(A)}else r(c);f=n(c)}if(f!==null)var ae=!0;else{var ge=n(u);ge!==null&&oe(S,ge.startTime-A),ae=!1}return ae}finally{f=null,g=W,m=!1}}var j=!1,_=null,C=-1,T=5,P=-1;function R(){return!(e.unstable_now()-P<T)}function M(){if(_!==null){var O=e.unstable_now();P=O;var A=!0;try{A=_(!0,O)}finally{A?F():(j=!1,_=null)}}else j=!1}var F;if(typeof v=="function")F=function(){v(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,te=I.port2;I.port1.onmessage=M,F=function(){te.postMessage(null)}}else F=function(){x(M,0)};function V(O){_=O,j||(j=!0,F())}function oe(O,A){C=x(function(){O(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,V(N))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(O){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var W=g;g=A;try{return O()}finally{g=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,A){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=g;g=O;try{return A()}finally{g=W}},e.unstable_scheduleCallback=function(O,A,W){var ee=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,O){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,O={id:h++,callback:A,priorityLevel:O,startTime:W,expirationTime:se,sortIndex:-1},W>ee?(O.sortIndex=W,t(u,O),n(c)===null&&O===n(u)&&(p?(y(C),C=-1):p=!0,oe(S,W-ee))):(O.sortIndex=se,t(c,O),b||m||(b=!0,V(N))),O},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(O){var A=g;return function(){var W=g;g=A;try{return O.apply(this,arguments)}finally{g=W}}}})(K0);H0.exports=K0;var mT=H0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT=d,Tn=mT;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var q0=new Set,Al={};function Yo(e,t){li(e,t),li(e+"Capture",t)}function li(e,t){for(Al[e]=t,e=0;e<t.length;e++)q0.add(t[e])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gf=Object.prototype.hasOwnProperty,vT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cy={},Ey={};function yT(e){return Gf.call(Ey,e)?!0:Gf.call(Cy,e)?!1:vT.test(e)?Ey[e]=!0:(Cy[e]=!0,!1)}function xT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wT(e,t,n,r){if(t===null||typeof t>"u"||xT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function on(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new on(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bt[t]=new on(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new on(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new on(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new on(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new on(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new on(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new on(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new on(e,5,!1,e.toLowerCase(),null,!1,!1)});var Gm=/[\-:]([a-z])/g;function Ym(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Gm,Ym);Bt[t]=new on(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Gm,Ym);Bt[t]=new on(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Gm,Ym);Bt[t]=new on(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new on(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new on(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qm(e,t,n,r){var s=Bt.hasOwnProperty(t)?Bt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wT(t,n,s,r)&&(n=null),r||s===null?yT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ss=gT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,qc=Symbol.for("react.element"),_a=Symbol.for("react.portal"),Ca=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),G0=Symbol.for("react.provider"),Y0=Symbol.for("react.context"),Jm=Symbol.for("react.forward_ref"),Qf=Symbol.for("react.suspense"),Xf=Symbol.for("react.suspense_list"),Zm=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),Q0=Symbol.for("react.offscreen"),ky=Symbol.iterator;function Gi(e){return e===null||typeof e!="object"?null:(e=ky&&e[ky]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,Wh;function il(e){if(Wh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wh=t&&t[1]||""}return`
`+Wh+e}var Hh=!1;function Kh(e,t){if(!e||Hh)return"";Hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Hh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?il(e):""}function bT(e){switch(e.tag){case 5:return il(e.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return e=Kh(e.type,!1),e;case 11:return e=Kh(e.type.render,!1),e;case 1:return e=Kh(e.type,!0),e;default:return""}}function Jf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ca:return"Fragment";case _a:return"Portal";case Yf:return"Profiler";case Xm:return"StrictMode";case Qf:return"Suspense";case Xf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y0:return(e.displayName||"Context")+".Consumer";case G0:return(e._context.displayName||"Context")+".Provider";case Jm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zm:return t=e.displayName||null,t!==null?t:Jf(e.type)||"Memo";case xs:t=e._payload,e=e._init;try{return Jf(e(t))}catch{}}return null}function ST(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jf(t);case 8:return t===Xm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function NT(e){var t=X0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gc(e){e._valueTracker||(e._valueTracker=NT(e))}function J0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zf(e,t){var n=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ty(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Z0(e,t){t=t.checked,t!=null&&Qm(e,"checked",t,!1)}function ep(e,t){Z0(e,t);var n=Qs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tp(e,t.type,n):t.hasOwnProperty("defaultValue")&&tp(e,t.type,Qs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ay(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tp(e,t,n){(t!=="number"||Vu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ll=Array.isArray;function $a(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function np(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Py(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(J(92));if(ll(n)){if(1<n.length)throw Error(J(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qs(n)}}function eb(e,t){var n=Qs(t.value),r=Qs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ry(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yc,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Yc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jT=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(e){jT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vl[t]=vl[e]})});function rb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vl.hasOwnProperty(e)&&vl[e]?(""+t).trim():t+"px"}function sb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var _T=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sp(e,t){if(t){if(_T[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function op(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ap=null;function eg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ip=null,Fa=null,Ua=null;function Oy(e){if(e=yc(e)){if(typeof ip!="function")throw Error(J(280));var t=e.stateNode;t&&(t=Yd(t),ip(e.stateNode,e.type,t))}}function ob(e){Fa?Ua?Ua.push(e):Ua=[e]:Fa=e}function ab(){if(Fa){var e=Fa,t=Ua;if(Ua=Fa=null,Oy(e),t)for(e=0;e<t.length;e++)Oy(t[e])}}function ib(e,t){return e(t)}function lb(){}var qh=!1;function cb(e,t,n){if(qh)return e(t,n);qh=!0;try{return ib(e,t,n)}finally{qh=!1,(Fa!==null||Ua!==null)&&(lb(),ab())}}function Rl(e,t){var n=e.stateNode;if(n===null)return null;var r=Yd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(J(231,t,typeof n));return n}var lp=!1;if(Jr)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){lp=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{lp=!1}function CT(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var yl=!1,Wu=null,Hu=!1,cp=null,ET={onError:function(e){yl=!0,Wu=e}};function kT(e,t,n,r,s,o,i,l,c){yl=!1,Wu=null,CT.apply(ET,arguments)}function TT(e,t,n,r,s,o,i,l,c){if(kT.apply(this,arguments),yl){if(yl){var u=Wu;yl=!1,Wu=null}else throw Error(J(198));Hu||(Hu=!0,cp=u)}}function Qo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ub(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iy(e){if(Qo(e)!==e)throw Error(J(188))}function AT(e){var t=e.alternate;if(!t){if(t=Qo(e),t===null)throw Error(J(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Iy(s),e;if(o===r)return Iy(s),t;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?e:t}function db(e){return e=AT(e),e!==null?hb(e):null}function hb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=hb(e);if(t!==null)return t;e=e.sibling}return null}var fb=Tn.unstable_scheduleCallback,Dy=Tn.unstable_cancelCallback,PT=Tn.unstable_shouldYield,RT=Tn.unstable_requestPaint,Nt=Tn.unstable_now,OT=Tn.unstable_getCurrentPriorityLevel,tg=Tn.unstable_ImmediatePriority,pb=Tn.unstable_UserBlockingPriority,Ku=Tn.unstable_NormalPriority,IT=Tn.unstable_LowPriority,mb=Tn.unstable_IdlePriority,Hd=null,Er=null;function DT(e){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Hd,e,void 0,(e.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:$T,MT=Math.log,LT=Math.LN2;function $T(e){return e>>>=0,e===0?32:31-(MT(e)/LT|0)|0}var Qc=64,Xc=4194304;function cl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function qu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=cl(l):(o&=i,o!==0&&(r=cl(o)))}else i=n&~s,i!==0?r=cl(i):o!==0&&(r=cl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ur(t),s=1<<n,r|=e[n],t&=~s;return r}function FT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ur(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=FT(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function up(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function gb(){var e=Qc;return Qc<<=1,!(Qc&4194240)&&(Qc=64),e}function Gh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ur(t),e[t]=n}function zT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ur(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function ng(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ur(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Qe=0;function vb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var yb,rg,xb,wb,bb,dp=!1,Jc=[],$s=null,Fs=null,Us=null,Ol=new Map,Il=new Map,Ss=[],BT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function My(e,t){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":Ol.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(t.pointerId)}}function Qi(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=yc(t),t!==null&&rg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function VT(e,t,n,r,s){switch(t){case"focusin":return $s=Qi($s,e,t,n,r,s),!0;case"dragenter":return Fs=Qi(Fs,e,t,n,r,s),!0;case"mouseover":return Us=Qi(Us,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ol.set(o,Qi(Ol.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Il.set(o,Qi(Il.get(o)||null,e,t,n,r,s)),!0}return!1}function Sb(e){var t=wo(e.target);if(t!==null){var n=Qo(t);if(n!==null){if(t=n.tag,t===13){if(t=ub(n),t!==null){e.blockedOn=t,bb(e.priority,function(){xb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ap=r,n.target.dispatchEvent(r),ap=null}else return t=yc(n),t!==null&&rg(t),e.blockedOn=n,!1;t.shift()}return!0}function Ly(e,t,n){Cu(e)&&n.delete(t)}function WT(){dp=!1,$s!==null&&Cu($s)&&($s=null),Fs!==null&&Cu(Fs)&&(Fs=null),Us!==null&&Cu(Us)&&(Us=null),Ol.forEach(Ly),Il.forEach(Ly)}function Xi(e,t){e.blockedOn===t&&(e.blockedOn=null,dp||(dp=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,WT)))}function Dl(e){function t(s){return Xi(s,e)}if(0<Jc.length){Xi(Jc[0],e);for(var n=1;n<Jc.length;n++){var r=Jc[n];r.blockedOn===e&&(r.blockedOn=null)}}for($s!==null&&Xi($s,e),Fs!==null&&Xi(Fs,e),Us!==null&&Xi(Us,e),Ol.forEach(t),Il.forEach(t),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)Sb(n),n.blockedOn===null&&Ss.shift()}var za=ss.ReactCurrentBatchConfig,Gu=!0;function HT(e,t,n,r){var s=Qe,o=za.transition;za.transition=null;try{Qe=1,sg(e,t,n,r)}finally{Qe=s,za.transition=o}}function KT(e,t,n,r){var s=Qe,o=za.transition;za.transition=null;try{Qe=4,sg(e,t,n,r)}finally{Qe=s,za.transition=o}}function sg(e,t,n,r){if(Gu){var s=hp(e,t,n,r);if(s===null)sf(e,t,r,Yu,n),My(e,r);else if(VT(s,e,t,n,r))r.stopPropagation();else if(My(e,r),t&4&&-1<BT.indexOf(e)){for(;s!==null;){var o=yc(s);if(o!==null&&yb(o),o=hp(e,t,n,r),o===null&&sf(e,t,r,Yu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else sf(e,t,r,null,n)}}var Yu=null;function hp(e,t,n,r){if(Yu=null,e=eg(r),e=wo(e),e!==null)if(t=Qo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ub(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yu=e,null}function Nb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(OT()){case tg:return 1;case pb:return 4;case Ku:case IT:return 16;case mb:return 536870912;default:return 16}default:return 16}}var Ds=null,og=null,Eu=null;function jb(){if(Eu)return Eu;var e,t=og,n=t.length,r,s="value"in Ds?Ds.value:Ds.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Eu=s.slice(e,1<r?1-r:void 0)}function ku(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zc(){return!0}function $y(){return!1}function Pn(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zc:$y,this.isPropagationStopped=$y,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),t}var Ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ag=Pn(Ti),vc=gt({},Ti,{view:0,detail:0}),qT=Pn(vc),Yh,Qh,Ji,Kd=gt({},vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ji&&(Ji&&e.type==="mousemove"?(Yh=e.screenX-Ji.screenX,Qh=e.screenY-Ji.screenY):Qh=Yh=0,Ji=e),Yh)},movementY:function(e){return"movementY"in e?e.movementY:Qh}}),Fy=Pn(Kd),GT=gt({},Kd,{dataTransfer:0}),YT=Pn(GT),QT=gt({},vc,{relatedTarget:0}),Xh=Pn(QT),XT=gt({},Ti,{animationName:0,elapsedTime:0,pseudoElement:0}),JT=Pn(XT),ZT=gt({},Ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eA=Pn(ZT),tA=gt({},Ti,{data:0}),Uy=Pn(tA),nA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sA[e])?!!t[e]:!1}function ig(){return oA}var aA=gt({},vc,{key:function(e){if(e.key){var t=nA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ku(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ig,charCode:function(e){return e.type==="keypress"?ku(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ku(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),iA=Pn(aA),lA=gt({},Kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zy=Pn(lA),cA=gt({},vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ig}),uA=Pn(cA),dA=gt({},Ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),hA=Pn(dA),fA=gt({},Kd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pA=Pn(fA),mA=[9,13,27,32],lg=Jr&&"CompositionEvent"in window,xl=null;Jr&&"documentMode"in document&&(xl=document.documentMode);var gA=Jr&&"TextEvent"in window&&!xl,_b=Jr&&(!lg||xl&&8<xl&&11>=xl),By=" ",Vy=!1;function Cb(e,t){switch(e){case"keyup":return mA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Eb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ea=!1;function vA(e,t){switch(e){case"compositionend":return Eb(t);case"keypress":return t.which!==32?null:(Vy=!0,By);case"textInput":return e=t.data,e===By&&Vy?null:e;default:return null}}function yA(e,t){if(Ea)return e==="compositionend"||!lg&&Cb(e,t)?(e=jb(),Eu=og=Ds=null,Ea=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _b&&t.locale!=="ko"?null:t.data;default:return null}}var xA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xA[e.type]:t==="textarea"}function kb(e,t,n,r){ob(r),t=Qu(t,"onChange"),0<t.length&&(n=new ag("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wl=null,Ml=null;function wA(e){Fb(e,0)}function qd(e){var t=Aa(e);if(J0(t))return e}function bA(e,t){if(e==="change")return t}var Tb=!1;if(Jr){var Jh;if(Jr){var Zh="oninput"in document;if(!Zh){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),Zh=typeof Hy.oninput=="function"}Jh=Zh}else Jh=!1;Tb=Jh&&(!document.documentMode||9<document.documentMode)}function Ky(){wl&&(wl.detachEvent("onpropertychange",Ab),Ml=wl=null)}function Ab(e){if(e.propertyName==="value"&&qd(Ml)){var t=[];kb(t,Ml,e,eg(e)),cb(wA,t)}}function SA(e,t,n){e==="focusin"?(Ky(),wl=t,Ml=n,wl.attachEvent("onpropertychange",Ab)):e==="focusout"&&Ky()}function NA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qd(Ml)}function jA(e,t){if(e==="click")return qd(t)}function _A(e,t){if(e==="input"||e==="change")return qd(t)}function CA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hr=typeof Object.is=="function"?Object.is:CA;function Ll(e,t){if(hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gf.call(t,s)||!hr(e[s],t[s]))return!1}return!0}function qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gy(e,t){var n=qy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qy(n)}}function Pb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Pb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Rb(){for(var e=window,t=Vu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vu(e.document)}return t}function cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function EA(e){var t=Rb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Pb(n.ownerDocument.documentElement,n)){if(r!==null&&cg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Gy(n,o);var i=Gy(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kA=Jr&&"documentMode"in document&&11>=document.documentMode,ka=null,fp=null,bl=null,pp=!1;function Yy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pp||ka==null||ka!==Vu(r)||(r=ka,"selectionStart"in r&&cg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bl&&Ll(bl,r)||(bl=r,r=Qu(fp,"onSelect"),0<r.length&&(t=new ag("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ka)))}function eu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ta={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},ef={},Ob={};Jr&&(Ob=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Gd(e){if(ef[e])return ef[e];if(!Ta[e])return e;var t=Ta[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ob)return ef[e]=t[n];return e}var Ib=Gd("animationend"),Db=Gd("animationiteration"),Mb=Gd("animationstart"),Lb=Gd("transitionend"),$b=new Map,Qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(e,t){$b.set(e,t),Yo(t,[e])}for(var tf=0;tf<Qy.length;tf++){var nf=Qy[tf],TA=nf.toLowerCase(),AA=nf[0].toUpperCase()+nf.slice(1);eo(TA,"on"+AA)}eo(Ib,"onAnimationEnd");eo(Db,"onAnimationIteration");eo(Mb,"onAnimationStart");eo("dblclick","onDoubleClick");eo("focusin","onFocus");eo("focusout","onBlur");eo(Lb,"onTransitionEnd");li("onMouseEnter",["mouseout","mouseover"]);li("onMouseLeave",["mouseout","mouseover"]);li("onPointerEnter",["pointerout","pointerover"]);li("onPointerLeave",["pointerout","pointerover"]);Yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Xy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,TT(r,t,void 0,e),e.currentTarget=null}function Fb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Xy(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Xy(s,l,u),o=c}}}if(Hu)throw e=cp,Hu=!1,cp=null,e}function ot(e,t){var n=t[xp];n===void 0&&(n=t[xp]=new Set);var r=e+"__bubble";n.has(r)||(Ub(t,e,2,!1),n.add(r))}function rf(e,t,n){var r=0;t&&(r|=4),Ub(n,e,r,t)}var tu="_reactListening"+Math.random().toString(36).slice(2);function $l(e){if(!e[tu]){e[tu]=!0,q0.forEach(function(n){n!=="selectionchange"&&(PA.has(n)||rf(n,!1,e),rf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tu]||(t[tu]=!0,rf("selectionchange",!1,t))}}function Ub(e,t,n,r){switch(Nb(t)){case 1:var s=HT;break;case 4:s=KT;break;default:s=sg}n=s.bind(null,t,n,e),s=void 0,!lp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function sf(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=wo(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}cb(function(){var u=o,h=eg(n),f=[];e:{var g=$b.get(e);if(g!==void 0){var m=ag,b=e;switch(e){case"keypress":if(ku(n)===0)break e;case"keydown":case"keyup":m=iA;break;case"focusin":b="focus",m=Xh;break;case"focusout":b="blur",m=Xh;break;case"beforeblur":case"afterblur":m=Xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=YT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=uA;break;case Ib:case Db:case Mb:m=JT;break;case Lb:m=hA;break;case"scroll":m=qT;break;case"wheel":m=pA;break;case"copy":case"cut":case"paste":m=eA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zy}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?g!==null?g+"Capture":null:g;p=[];for(var v=u,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Rl(v,y),S!=null&&p.push(Fl(v,S,w)))),x)break;v=v.return}0<p.length&&(g=new m(g,b,null,n,h),f.push({event:g,listeners:p}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==ap&&(b=n.relatedTarget||n.fromElement)&&(wo(b)||b[Zr]))break e;if((m||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?wo(b):null,b!==null&&(x=Qo(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(p=Fy,S="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=zy,S="onPointerLeave",y="onPointerEnter",v="pointer"),x=m==null?g:Aa(m),w=b==null?g:Aa(b),g=new p(S,v+"leave",m,n,h),g.target=x,g.relatedTarget=w,S=null,wo(h)===u&&(p=new p(y,v+"enter",b,n,h),p.target=w,p.relatedTarget=x,S=p),x=S,m&&b)t:{for(p=m,y=b,v=0,w=p;w;w=la(w))v++;for(w=0,S=y;S;S=la(S))w++;for(;0<v-w;)p=la(p),v--;for(;0<w-v;)y=la(y),w--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=la(p),y=la(y)}p=null}else p=null;m!==null&&Jy(f,g,m,p,!1),b!==null&&x!==null&&Jy(f,x,b,p,!0)}}e:{if(g=u?Aa(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var N=bA;else if(Wy(g))if(Tb)N=_A;else{N=NA;var j=SA}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(N=jA);if(N&&(N=N(e,u))){kb(f,N,n,h);break e}j&&j(e,g,u),e==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&tp(g,"number",g.value)}switch(j=u?Aa(u):window,e){case"focusin":(Wy(j)||j.contentEditable==="true")&&(ka=j,fp=u,bl=null);break;case"focusout":bl=fp=ka=null;break;case"mousedown":pp=!0;break;case"contextmenu":case"mouseup":case"dragend":pp=!1,Yy(f,n,h);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":Yy(f,n,h)}var _;if(lg)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ea?Cb(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(_b&&n.locale!=="ko"&&(Ea||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ea&&(_=jb()):(Ds=h,og="value"in Ds?Ds.value:Ds.textContent,Ea=!0)),j=Qu(u,C),0<j.length&&(C=new Uy(C,e,null,n,h),f.push({event:C,listeners:j}),_?C.data=_:(_=Eb(n),_!==null&&(C.data=_)))),(_=gA?vA(e,n):yA(e,n))&&(u=Qu(u,"onBeforeInput"),0<u.length&&(h=new Uy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=_))}Fb(f,t)})}function Fl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Qu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Rl(e,n),o!=null&&r.unshift(Fl(e,o,s)),o=Rl(e,t),o!=null&&r.push(Fl(e,o,s))),e=e.return}return r}function la(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jy(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Rl(n,o),c!=null&&i.unshift(Fl(n,c,l))):s||(c=Rl(n,o),c!=null&&i.push(Fl(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var RA=/\r\n?/g,OA=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(RA,`
`).replace(OA,"")}function nu(e,t,n){if(t=Zy(t),Zy(e)!==t&&n)throw Error(J(425))}function Xu(){}var mp=null,gp=null;function vp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yp=typeof setTimeout=="function"?setTimeout:void 0,IA=typeof clearTimeout=="function"?clearTimeout:void 0,ex=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof ex<"u"?function(e){return ex.resolve(null).then(e).catch(MA)}:yp;function MA(e){setTimeout(function(){throw e})}function of(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Dl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dl(t)}function zs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),jr="__reactFiber$"+Ai,Ul="__reactProps$"+Ai,Zr="__reactContainer$"+Ai,xp="__reactEvents$"+Ai,LA="__reactListeners$"+Ai,$A="__reactHandles$"+Ai;function wo(e){var t=e[jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[jr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tx(e);e!==null;){if(n=e[jr])return n;e=tx(e)}return t}e=n,n=e.parentNode}return null}function yc(e){return e=e[jr]||e[Zr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Aa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function Yd(e){return e[Ul]||null}var wp=[],Pa=-1;function to(e){return{current:e}}function at(e){0>Pa||(e.current=wp[Pa],wp[Pa]=null,Pa--)}function tt(e,t){Pa++,wp[Pa]=e.current,e.current=t}var Xs={},Gt=to(Xs),gn=to(!1),Do=Xs;function ci(e,t){var n=e.type.contextTypes;if(!n)return Xs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vn(e){return e=e.childContextTypes,e!=null}function Ju(){at(gn),at(Gt)}function nx(e,t,n){if(Gt.current!==Xs)throw Error(J(168));tt(Gt,t),tt(gn,n)}function zb(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(J(108,ST(e)||"Unknown",s));return gt({},n,r)}function Zu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xs,Do=Gt.current,tt(Gt,e),tt(gn,gn.current),!0}function rx(e,t,n){var r=e.stateNode;if(!r)throw Error(J(169));n?(e=zb(e,t,Do),r.__reactInternalMemoizedMergedChildContext=e,at(gn),at(Gt),tt(Gt,e)):at(gn),tt(gn,n)}var Ur=null,Qd=!1,af=!1;function Bb(e){Ur===null?Ur=[e]:Ur.push(e)}function FA(e){Qd=!0,Bb(e)}function no(){if(!af&&Ur!==null){af=!0;var e=0,t=Qe;try{var n=Ur;for(Qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ur=null,Qd=!1}catch(s){throw Ur!==null&&(Ur=Ur.slice(e+1)),fb(tg,no),s}finally{Qe=t,af=!1}}return null}var Ra=[],Oa=0,ed=null,td=0,Ln=[],$n=0,Mo=null,Wr=1,Hr="";function po(e,t){Ra[Oa++]=td,Ra[Oa++]=ed,ed=e,td=t}function Vb(e,t,n){Ln[$n++]=Wr,Ln[$n++]=Hr,Ln[$n++]=Mo,Mo=e;var r=Wr;e=Hr;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var o=32-ur(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Wr=1<<32-ur(t)+s|n<<s|r,Hr=o+e}else Wr=1<<o|n<<s|r,Hr=e}function ug(e){e.return!==null&&(po(e,1),Vb(e,1,0))}function dg(e){for(;e===ed;)ed=Ra[--Oa],Ra[Oa]=null,td=Ra[--Oa],Ra[Oa]=null;for(;e===Mo;)Mo=Ln[--$n],Ln[$n]=null,Hr=Ln[--$n],Ln[$n]=null,Wr=Ln[--$n],Ln[$n]=null}var En=null,Cn=null,lt=!1,ir=null;function Wb(e,t){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,En=e,Cn=zs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,En=e,Cn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mo!==null?{id:Wr,overflow:Hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,En=e,Cn=null,!0):!1;default:return!1}}function bp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sp(e){if(lt){var t=Cn;if(t){var n=t;if(!sx(e,t)){if(bp(e))throw Error(J(418));t=zs(n.nextSibling);var r=En;t&&sx(e,t)?Wb(r,n):(e.flags=e.flags&-4097|2,lt=!1,En=e)}}else{if(bp(e))throw Error(J(418));e.flags=e.flags&-4097|2,lt=!1,En=e}}}function ox(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function ru(e){if(e!==En)return!1;if(!lt)return ox(e),lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!vp(e.type,e.memoizedProps)),t&&(t=Cn)){if(bp(e))throw Hb(),Error(J(418));for(;t;)Wb(e,t),t=zs(t.nextSibling)}if(ox(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Cn=zs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Cn=null}}else Cn=En?zs(e.stateNode.nextSibling):null;return!0}function Hb(){for(var e=Cn;e;)e=zs(e.nextSibling)}function ui(){Cn=En=null,lt=!1}function hg(e){ir===null?ir=[e]:ir.push(e)}var UA=ss.ReactCurrentBatchConfig;function Zi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,e))}return e}function su(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ax(e){var t=e._init;return t(e._payload)}function Kb(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Hs(y,v),y.index=0,y.sibling=null,y}function o(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,S){return v===null||v.tag!==6?(v=pf(w,y.mode,S),v.return=y,v):(v=s(v,w),v.return=y,v)}function c(y,v,w,S){var N=w.type;return N===Ca?h(y,v,w.props.children,S,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xs&&ax(N)===v.type)?(S=s(v,w.props),S.ref=Zi(y,v,w),S.return=y,S):(S=Du(w.type,w.key,w.props,null,y.mode,S),S.ref=Zi(y,v,w),S.return=y,S)}function u(y,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=mf(w,y.mode,S),v.return=y,v):(v=s(v,w.children||[]),v.return=y,v)}function h(y,v,w,S,N){return v===null||v.tag!==7?(v=Io(w,y.mode,S,N),v.return=y,v):(v=s(v,w),v.return=y,v)}function f(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pf(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case qc:return w=Du(v.type,v.key,v.props,null,y.mode,w),w.ref=Zi(y,null,v),w.return=y,w;case _a:return v=mf(v,y.mode,w),v.return=y,v;case xs:var S=v._init;return f(y,S(v._payload),w)}if(ll(v)||Gi(v))return v=Io(v,y.mode,w,null),v.return=y,v;su(y,v)}return null}function g(y,v,w,S){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case qc:return w.key===N?c(y,v,w,S):null;case _a:return w.key===N?u(y,v,w,S):null;case xs:return N=w._init,g(y,v,N(w._payload),S)}if(ll(w)||Gi(w))return N!==null?null:h(y,v,w,S,null);su(y,w)}return null}function m(y,v,w,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,l(v,y,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case qc:return y=y.get(S.key===null?w:S.key)||null,c(v,y,S,N);case _a:return y=y.get(S.key===null?w:S.key)||null,u(v,y,S,N);case xs:var j=S._init;return m(y,v,w,j(S._payload),N)}if(ll(S)||Gi(S))return y=y.get(w)||null,h(v,y,S,N,null);su(v,S)}return null}function b(y,v,w,S){for(var N=null,j=null,_=v,C=v=0,T=null;_!==null&&C<w.length;C++){_.index>C?(T=_,_=null):T=_.sibling;var P=g(y,_,w[C],S);if(P===null){_===null&&(_=T);break}e&&_&&P.alternate===null&&t(y,_),v=o(P,v,C),j===null?N=P:j.sibling=P,j=P,_=T}if(C===w.length)return n(y,_),lt&&po(y,C),N;if(_===null){for(;C<w.length;C++)_=f(y,w[C],S),_!==null&&(v=o(_,v,C),j===null?N=_:j.sibling=_,j=_);return lt&&po(y,C),N}for(_=r(y,_);C<w.length;C++)T=m(_,y,C,w[C],S),T!==null&&(e&&T.alternate!==null&&_.delete(T.key===null?C:T.key),v=o(T,v,C),j===null?N=T:j.sibling=T,j=T);return e&&_.forEach(function(R){return t(y,R)}),lt&&po(y,C),N}function p(y,v,w,S){var N=Gi(w);if(typeof N!="function")throw Error(J(150));if(w=N.call(w),w==null)throw Error(J(151));for(var j=N=null,_=v,C=v=0,T=null,P=w.next();_!==null&&!P.done;C++,P=w.next()){_.index>C?(T=_,_=null):T=_.sibling;var R=g(y,_,P.value,S);if(R===null){_===null&&(_=T);break}e&&_&&R.alternate===null&&t(y,_),v=o(R,v,C),j===null?N=R:j.sibling=R,j=R,_=T}if(P.done)return n(y,_),lt&&po(y,C),N;if(_===null){for(;!P.done;C++,P=w.next())P=f(y,P.value,S),P!==null&&(v=o(P,v,C),j===null?N=P:j.sibling=P,j=P);return lt&&po(y,C),N}for(_=r(y,_);!P.done;C++,P=w.next())P=m(_,y,C,P.value,S),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?C:P.key),v=o(P,v,C),j===null?N=P:j.sibling=P,j=P);return e&&_.forEach(function(M){return t(y,M)}),lt&&po(y,C),N}function x(y,v,w,S){if(typeof w=="object"&&w!==null&&w.type===Ca&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case qc:e:{for(var N=w.key,j=v;j!==null;){if(j.key===N){if(N=w.type,N===Ca){if(j.tag===7){n(y,j.sibling),v=s(j,w.props.children),v.return=y,y=v;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xs&&ax(N)===j.type){n(y,j.sibling),v=s(j,w.props),v.ref=Zi(y,j,w),v.return=y,y=v;break e}n(y,j);break}else t(y,j);j=j.sibling}w.type===Ca?(v=Io(w.props.children,y.mode,S,w.key),v.return=y,y=v):(S=Du(w.type,w.key,w.props,null,y.mode,S),S.ref=Zi(y,v,w),S.return=y,y=S)}return i(y);case _a:e:{for(j=w.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=s(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=mf(w,y.mode,S),v.return=y,y=v}return i(y);case xs:return j=w._init,x(y,v,j(w._payload),S)}if(ll(w))return b(y,v,w,S);if(Gi(w))return p(y,v,w,S);su(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,w),v.return=y,y=v):(n(y,v),v=pf(w,y.mode,S),v.return=y,y=v),i(y)):n(y,v)}return x}var di=Kb(!0),qb=Kb(!1),nd=to(null),rd=null,Ia=null,fg=null;function pg(){fg=Ia=rd=null}function mg(e){var t=nd.current;at(nd),e._currentValue=t}function Np(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ba(e,t){rd=e,fg=Ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mn=!0),e.firstContext=null)}function Wn(e){var t=e._currentValue;if(fg!==e)if(e={context:e,memoizedValue:t,next:null},Ia===null){if(rd===null)throw Error(J(308));Ia=e,rd.dependencies={lanes:0,firstContext:e}}else Ia=Ia.next=e;return t}var bo=null;function gg(e){bo===null?bo=[e]:bo.push(e)}function Gb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,gg(t)):(n.next=s.next,s.next=n),t.interleaved=n,es(e,r)}function es(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ws=!1;function vg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,es(e,n)}return s=r.interleaved,s===null?(t.next=t,gg(r)):(t.next=s.next,s.next=t),r.interleaved=t,es(e,n)}function Tu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ng(e,n)}}function ix(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sd(e,t,n,r){var s=e.updateQueue;ws=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,h=u=c=null,l=o;do{var g=l.lane,m=l.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,p=l;switch(g=t,m=n,p.tag){case 1:if(b=p.payload,typeof b=="function"){f=b.call(m,f,g);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,g=typeof b=="function"?b.call(m,f,g):b,g==null)break e;f=gt({},f,g);break e;case 2:ws=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else m={eventTime:m,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=m,c=f):h=h.next=m,i|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);$o|=i,e.lanes=i,e.memoizedState=f}}function lx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(J(191,s));s.call(r)}}}var xc={},kr=to(xc),zl=to(xc),Bl=to(xc);function So(e){if(e===xc)throw Error(J(174));return e}function yg(e,t){switch(tt(Bl,t),tt(zl,e),tt(kr,xc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rp(t,e)}at(kr),tt(kr,t)}function hi(){at(kr),at(zl),at(Bl)}function Qb(e){So(Bl.current);var t=So(kr.current),n=rp(t,e.type);t!==n&&(tt(zl,e),tt(kr,n))}function xg(e){zl.current===e&&(at(kr),at(zl))}var ft=to(0);function od(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lf=[];function wg(){for(var e=0;e<lf.length;e++)lf[e]._workInProgressVersionPrimary=null;lf.length=0}var Au=ss.ReactCurrentDispatcher,cf=ss.ReactCurrentBatchConfig,Lo=0,pt=null,Pt=null,It=null,ad=!1,Sl=!1,Vl=0,zA=0;function Wt(){throw Error(J(321))}function bg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function Sg(e,t,n,r,s,o){if(Lo=o,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Au.current=e===null||e.memoizedState===null?HA:KA,e=n(r,s),Sl){o=0;do{if(Sl=!1,Vl=0,25<=o)throw Error(J(301));o+=1,It=Pt=null,t.updateQueue=null,Au.current=qA,e=n(r,s)}while(Sl)}if(Au.current=id,t=Pt!==null&&Pt.next!==null,Lo=0,It=Pt=pt=null,ad=!1,t)throw Error(J(300));return e}function Ng(){var e=Vl!==0;return Vl=0,e}function wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?pt.memoizedState=It=e:It=It.next=e,It}function Hn(){if(Pt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=It===null?pt.memoizedState:It.next;if(t!==null)It=t,Pt=e;else{if(e===null)throw Error(J(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},It===null?pt.memoizedState=It=e:It=It.next=e}return It}function Wl(e,t){return typeof t=="function"?t(e):t}function uf(e){var t=Hn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=Pt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var h=u.lane;if((Lo&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,pt.lanes|=h,$o|=h}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,hr(r,t.memoizedState)||(mn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,pt.lanes|=o,$o|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function df(e){var t=Hn(),n=t.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);hr(o,t.memoizedState)||(mn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Xb(){}function Jb(e,t){var n=pt,r=Hn(),s=t(),o=!hr(r.memoizedState,s);if(o&&(r.memoizedState=s,mn=!0),r=r.queue,jg(tS.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,Hl(9,eS.bind(null,n,r,s,t),void 0,null),Dt===null)throw Error(J(349));Lo&30||Zb(n,t,s)}return s}function Zb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function eS(e,t,n,r){t.value=n,t.getSnapshot=r,nS(t)&&rS(e)}function tS(e,t,n){return n(function(){nS(t)&&rS(e)})}function nS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch{return!0}}function rS(e){var t=es(e,1);t!==null&&dr(t,e,1,-1)}function cx(e){var t=wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:e},t.queue=e,e=e.dispatch=WA.bind(null,pt,e),[t.memoizedState,e]}function Hl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sS(){return Hn().memoizedState}function Pu(e,t,n,r){var s=wr();pt.flags|=e,s.memoizedState=Hl(1|t,n,void 0,r===void 0?null:r)}function Xd(e,t,n,r){var s=Hn();r=r===void 0?null:r;var o=void 0;if(Pt!==null){var i=Pt.memoizedState;if(o=i.destroy,r!==null&&bg(r,i.deps)){s.memoizedState=Hl(t,n,o,r);return}}pt.flags|=e,s.memoizedState=Hl(1|t,n,o,r)}function ux(e,t){return Pu(8390656,8,e,t)}function jg(e,t){return Xd(2048,8,e,t)}function oS(e,t){return Xd(4,2,e,t)}function aS(e,t){return Xd(4,4,e,t)}function iS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lS(e,t,n){return n=n!=null?n.concat([e]):null,Xd(4,4,iS.bind(null,t,e),n)}function _g(){}function cS(e,t){var n=Hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function uS(e,t){var n=Hn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&bg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function dS(e,t,n){return Lo&21?(hr(n,t)||(n=gb(),pt.lanes|=n,$o|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mn=!0),e.memoizedState=n)}function BA(e,t){var n=Qe;Qe=n!==0&&4>n?n:4,e(!0);var r=cf.transition;cf.transition={};try{e(!1),t()}finally{Qe=n,cf.transition=r}}function hS(){return Hn().memoizedState}function VA(e,t,n){var r=Ws(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fS(e))pS(t,n);else if(n=Gb(e,t,n,r),n!==null){var s=nn();dr(n,e,r,s),mS(n,t,r)}}function WA(e,t,n){var r=Ws(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fS(e))pS(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,hr(l,i)){var c=t.interleaved;c===null?(s.next=s,gg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Gb(e,t,s,r),n!==null&&(s=nn(),dr(n,e,r,s),mS(n,t,r))}}function fS(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function pS(e,t){Sl=ad=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ng(e,n)}}var id={readContext:Wn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},HA={readContext:Wn,useCallback:function(e,t){return wr().memoizedState=[e,t===void 0?null:t],e},useContext:Wn,useEffect:ux,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Pu(4194308,4,iS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pu(4,2,e,t)},useMemo:function(e,t){var n=wr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=VA.bind(null,pt,e),[r.memoizedState,e]},useRef:function(e){var t=wr();return e={current:e},t.memoizedState=e},useState:cx,useDebugValue:_g,useDeferredValue:function(e){return wr().memoizedState=e},useTransition:function(){var e=cx(!1),t=e[0];return e=BA.bind(null,e[1]),wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pt,s=wr();if(lt){if(n===void 0)throw Error(J(407));n=n()}else{if(n=t(),Dt===null)throw Error(J(349));Lo&30||Zb(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,ux(tS.bind(null,r,o,e),[e]),r.flags|=2048,Hl(9,eS.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wr(),t=Dt.identifierPrefix;if(lt){var n=Hr,r=Wr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},KA={readContext:Wn,useCallback:cS,useContext:Wn,useEffect:jg,useImperativeHandle:lS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:uS,useReducer:uf,useRef:sS,useState:function(){return uf(Wl)},useDebugValue:_g,useDeferredValue:function(e){var t=Hn();return dS(t,Pt.memoizedState,e)},useTransition:function(){var e=uf(Wl)[0],t=Hn().memoizedState;return[e,t]},useMutableSource:Xb,useSyncExternalStore:Jb,useId:hS,unstable_isNewReconciler:!1},qA={readContext:Wn,useCallback:cS,useContext:Wn,useEffect:jg,useImperativeHandle:lS,useInsertionEffect:oS,useLayoutEffect:aS,useMemo:uS,useReducer:df,useRef:sS,useState:function(){return df(Wl)},useDebugValue:_g,useDeferredValue:function(e){var t=Hn();return Pt===null?t.memoizedState=e:dS(t,Pt.memoizedState,e)},useTransition:function(){var e=df(Wl)[0],t=Hn().memoizedState;return[e,t]},useMutableSource:Xb,useSyncExternalStore:Jb,useId:hS,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function jp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jd={isMounted:function(e){return(e=e._reactInternals)?Qo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nn(),s=Ws(e),o=qr(r,s);o.payload=t,n!=null&&(o.callback=n),t=Bs(e,o,s),t!==null&&(dr(t,e,s,r),Tu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nn(),s=Ws(e),o=qr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Bs(e,o,s),t!==null&&(dr(t,e,s,r),Tu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nn(),r=Ws(e),s=qr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Bs(e,s,r),t!==null&&(dr(t,e,r,n),Tu(t,e,r))}};function dx(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ll(n,r)||!Ll(s,o):!0}function gS(e,t,n){var r=!1,s=Xs,o=t.contextType;return typeof o=="object"&&o!==null?o=Wn(o):(s=vn(t)?Do:Gt.current,r=t.contextTypes,o=(r=r!=null)?ci(e,s):Xs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function hx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jd.enqueueReplaceState(t,t.state,null)}function _p(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},vg(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Wn(o):(o=vn(t)?Do:Gt.current,s.context=ci(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(jp(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Jd.enqueueReplaceState(s,s.state,null),sd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function fi(e,t){try{var n="",r=t;do n+=bT(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function hf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var GA=typeof WeakMap=="function"?WeakMap:Map;function vS(e,t,n){n=qr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){cd||(cd=!0,Mp=r),Cp(e,t)},n}function yS(e,t,n){n=qr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Cp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Cp(e,t),typeof r!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function fx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new GA;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=lP.bind(null,e,t,n),t.then(e,e))}function px(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mx(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=qr(-1,1),t.tag=2,Bs(n,t,1))),n.lanes|=1),e)}var YA=ss.ReactCurrentOwner,mn=!1;function en(e,t,n,r){t.child=e===null?qb(t,null,n,r):di(t,e.child,n,r)}function gx(e,t,n,r,s){n=n.render;var o=t.ref;return Ba(t,s),r=Sg(e,t,n,r,o,s),n=Ng(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ts(e,t,s)):(lt&&n&&ug(t),t.flags|=1,en(e,t,r,s),t.child)}function vx(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Og(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,xS(e,t,o,r,s)):(e=Du(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ll,n(i,r)&&e.ref===t.ref)return ts(e,t,s)}return t.flags|=1,e=Hs(o,r),e.ref=t.ref,e.return=t,t.child=e}function xS(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ll(o,r)&&e.ref===t.ref)if(mn=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,ts(e,t,s)}return Ep(e,t,n,r,s)}function wS(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Ma,bn),bn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Ma,bn),bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tt(Ma,bn),bn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,tt(Ma,bn),bn|=r;return en(e,t,s,n),t.child}function bS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ep(e,t,n,r,s){var o=vn(n)?Do:Gt.current;return o=ci(t,o),Ba(t,s),n=Sg(e,t,n,r,o,s),r=Ng(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ts(e,t,s)):(lt&&r&&ug(t),t.flags|=1,en(e,t,n,s),t.child)}function yx(e,t,n,r,s){if(vn(n)){var o=!0;Zu(t)}else o=!1;if(Ba(t,s),t.stateNode===null)Ru(e,t),gS(t,n,r),_p(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wn(u):(u=vn(n)?Do:Gt.current,u=ci(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&hx(t,i,r,u),ws=!1;var g=t.memoizedState;i.state=g,sd(t,r,i,s),c=t.memoizedState,l!==r||g!==c||gn.current||ws?(typeof h=="function"&&(jp(t,n,h,r),c=t.memoizedState),(l=ws||dx(t,n,l,r,g,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Yb(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tr(t.type,l),i.props=u,f=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Wn(c):(c=vn(n)?Do:Gt.current,c=ci(t,c));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||g!==c)&&hx(t,i,r,c),ws=!1,g=t.memoizedState,i.state=g,sd(t,r,i,s);var b=t.memoizedState;l!==f||g!==b||gn.current||ws?(typeof m=="function"&&(jp(t,n,m,r),b=t.memoizedState),(u=ws||dx(t,n,u,r,g,b,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return kp(e,t,n,r,o,s)}function kp(e,t,n,r,s,o){bS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&rx(t,n,!1),ts(e,t,o);r=t.stateNode,YA.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=di(t,e.child,null,o),t.child=di(t,null,l,o)):en(e,t,l,o),t.memoizedState=r.state,s&&rx(t,n,!0),t.child}function SS(e){var t=e.stateNode;t.pendingContext?nx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&nx(e,t.context,!1),yg(e,t.containerInfo)}function xx(e,t,n,r,s){return ui(),hg(s),t.flags|=256,en(e,t,n,r),t.child}var Tp={dehydrated:null,treeContext:null,retryLane:0};function Ap(e){return{baseLanes:e,cachePool:null,transitions:null}}function NS(e,t,n){var r=t.pendingProps,s=ft.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tt(ft,s&1),e===null)return Sp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=th(i,r,0,null),e=Io(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ap(n),t.memoizedState=Tp,e):Cg(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return QA(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Hs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Hs(l,o):(o=Io(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Ap(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Tp,r}return o=e.child,e=o.sibling,r=Hs(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Cg(e,t){return t=th({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ou(e,t,n,r){return r!==null&&hg(r),di(t,e.child,null,n),e=Cg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QA(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=hf(Error(J(422))),ou(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=th({mode:"visible",children:r.children},s,0,null),o=Io(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&di(t,e.child,null,i),t.child.memoizedState=Ap(i),t.memoizedState=Tp,o);if(!(t.mode&1))return ou(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(J(419)),r=hf(o,r,void 0),ou(e,t,i,r)}if(l=(i&e.childLanes)!==0,mn||l){if(r=Dt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,es(e,s),dr(r,e,s,-1))}return Rg(),r=hf(Error(J(421))),ou(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=cP.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Cn=zs(s.nextSibling),En=t,lt=!0,ir=null,e!==null&&(Ln[$n++]=Wr,Ln[$n++]=Hr,Ln[$n++]=Mo,Wr=e.id,Hr=e.overflow,Mo=t),t=Cg(t,r.children),t.flags|=4096,t)}function wx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Np(e.return,t,n)}function ff(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function jS(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(en(e,t,r.children,n),r=ft.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wx(e,n,t);else if(e.tag===19)wx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(ft,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&od(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ff(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&od(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ff(t,!0,n,null,o);break;case"together":ff(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ru(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ts(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),$o|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,n=Hs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Hs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function XA(e,t,n){switch(t.tag){case 3:SS(t),ui();break;case 5:Qb(t);break;case 1:vn(t.type)&&Zu(t);break;case 4:yg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;tt(nd,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(ft,ft.current&1),t.flags|=128,null):n&t.child.childLanes?NS(e,t,n):(tt(ft,ft.current&1),e=ts(e,t,n),e!==null?e.sibling:null);tt(ft,ft.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(ft,ft.current),r)break;return null;case 22:case 23:return t.lanes=0,wS(e,t,n)}return ts(e,t,n)}var _S,Pp,CS,ES;_S=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pp=function(){};CS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,So(kr.current);var o=null;switch(n){case"input":s=Zf(e,s),r=Zf(e,r),o=[];break;case"select":s=gt({},s,{value:void 0}),r=gt({},r,{value:void 0}),o=[];break;case"textarea":s=np(e,s),r=np(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xu)}sp(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Al.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Al.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ot("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ES=function(e,t,n,r){n!==r&&(t.flags|=4)};function el(e,t){if(!lt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function JA(e,t,n){var r=t.pendingProps;switch(dg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return vn(t.type)&&Ju(),Ht(t),null;case 3:return r=t.stateNode,hi(),at(gn),at(Gt),wg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ru(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ir!==null&&(Fp(ir),ir=null))),Pp(e,t),Ht(t),null;case 5:xg(t);var s=So(Bl.current);if(n=t.type,e!==null&&t.stateNode!=null)CS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(J(166));return Ht(t),null}if(e=So(kr.current),ru(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[jr]=t,r[Ul]=o,e=(t.mode&1)!==0,n){case"dialog":ot("cancel",r),ot("close",r);break;case"iframe":case"object":case"embed":ot("load",r);break;case"video":case"audio":for(s=0;s<ul.length;s++)ot(ul[s],r);break;case"source":ot("error",r);break;case"img":case"image":case"link":ot("error",r),ot("load",r);break;case"details":ot("toggle",r);break;case"input":Ty(r,o),ot("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ot("invalid",r);break;case"textarea":Py(r,o),ot("invalid",r)}sp(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&nu(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&nu(r.textContent,l,e),s=["children",""+l]):Al.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&ot("scroll",r)}switch(n){case"input":Gc(r),Ay(r,o,!0);break;case"textarea":Gc(r),Ry(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Xu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[jr]=t,e[Ul]=r,_S(e,t,!1,!1),t.stateNode=e;e:{switch(i=op(n,r),n){case"dialog":ot("cancel",e),ot("close",e),s=r;break;case"iframe":case"object":case"embed":ot("load",e),s=r;break;case"video":case"audio":for(s=0;s<ul.length;s++)ot(ul[s],e);s=r;break;case"source":ot("error",e),s=r;break;case"img":case"image":case"link":ot("error",e),ot("load",e),s=r;break;case"details":ot("toggle",e),s=r;break;case"input":Ty(e,r),s=Zf(e,r),ot("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=gt({},r,{value:void 0}),ot("invalid",e);break;case"textarea":Py(e,r),s=np(e,r),ot("invalid",e);break;default:s=r}sp(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?sb(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nb(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pl(e,c):typeof c=="number"&&Pl(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Al.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ot("scroll",e):c!=null&&Qm(e,o,c,i))}switch(n){case"input":Gc(e),Ay(e,r,!1);break;case"textarea":Gc(e),Ry(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?$a(e,!!r.multiple,o,!1):r.defaultValue!=null&&$a(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)ES(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(J(166));if(n=So(Bl.current),So(kr.current),ru(t)){if(r=t.stateNode,n=t.memoizedProps,r[jr]=t,(o=r.nodeValue!==n)&&(e=En,e!==null))switch(e.tag){case 3:nu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=t,t.stateNode=r}return Ht(t),null;case 13:if(at(ft),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(lt&&Cn!==null&&t.mode&1&&!(t.flags&128))Hb(),ui(),t.flags|=98560,o=!1;else if(o=ru(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(J(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[jr]=t}else ui(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),o=!1}else ir!==null&&(Fp(ir),ir=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ft.current&1?Ot===0&&(Ot=3):Rg())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return hi(),Pp(e,t),e===null&&$l(t.stateNode.containerInfo),Ht(t),null;case 10:return mg(t.type._context),Ht(t),null;case 17:return vn(t.type)&&Ju(),Ht(t),null;case 19:if(at(ft),o=t.memoizedState,o===null)return Ht(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)el(o,!1);else{if(Ot!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=od(e),i!==null){for(t.flags|=128,el(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(ft,ft.current&1|2),t.child}e=e.sibling}o.tail!==null&&Nt()>pi&&(t.flags|=128,r=!0,el(o,!1),t.lanes=4194304)}else{if(!r)if(e=od(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!lt)return Ht(t),null}else 2*Nt()-o.renderingStartTime>pi&&n!==1073741824&&(t.flags|=128,r=!0,el(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Nt(),t.sibling=null,n=ft.current,tt(ft,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return Pg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bn&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function ZA(e,t){switch(dg(t),t.tag){case 1:return vn(t.type)&&Ju(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hi(),at(gn),at(Gt),wg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xg(t),null;case 13:if(at(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));ui()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return at(ft),null;case 4:return hi(),null;case 10:return mg(t.type._context),null;case 22:case 23:return Pg(),null;case 24:return null;default:return null}}var au=!1,qt=!1,eP=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Da(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bt(e,t,r)}else n.current=null}function Rp(e,t,n){try{n()}catch(r){bt(e,t,r)}}var bx=!1;function tP(e,t){if(mp=Gu,e=Rb(),cg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,h=0,f=e,g=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===e)break t;if(g===n&&++u===s&&(l=i),g===o&&++h===r&&(c=i),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gp={focusedElem:e,selectionRange:n},Gu=!1,pe=t;pe!==null;)if(t=pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pe=e;else for(;pe!==null;){t=pe;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,x=b.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:tr(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(S){bt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,pe=e;break}pe=t.return}return b=bx,bx=!1,b}function Nl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Rp(t,n,o)}s=s.next}while(s!==r)}}function Zd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Op(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function kS(e){var t=e.alternate;t!==null&&(e.alternate=null,kS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jr],delete t[Ul],delete t[xp],delete t[LA],delete t[$A])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TS(e){return e.tag===5||e.tag===3||e.tag===4}function Sx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ip(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xu));else if(r!==4&&(e=e.child,e!==null))for(Ip(e,t,n),e=e.sibling;e!==null;)Ip(e,t,n),e=e.sibling}function Dp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Dp(e,t,n),e=e.sibling;e!==null;)Dp(e,t,n),e=e.sibling}var Ut=null,or=!1;function fs(e,t,n){for(n=n.child;n!==null;)AS(e,t,n),n=n.sibling}function AS(e,t,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Hd,n)}catch{}switch(n.tag){case 5:qt||Da(n,t);case 6:var r=Ut,s=or;Ut=null,fs(e,t,n),Ut=r,or=s,Ut!==null&&(or?(e=Ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(or?(e=Ut,n=n.stateNode,e.nodeType===8?of(e.parentNode,n):e.nodeType===1&&of(e,n),Dl(e)):of(Ut,n.stateNode));break;case 4:r=Ut,s=or,Ut=n.stateNode.containerInfo,or=!0,fs(e,t,n),Ut=r,or=s;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Rp(n,t,i),s=s.next}while(s!==r)}fs(e,t,n);break;case 1:if(!qt&&(Da(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){bt(n,t,l)}fs(e,t,n);break;case 21:fs(e,t,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,fs(e,t,n),qt=r):fs(e,t,n);break;default:fs(e,t,n)}}function Nx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eP),t.forEach(function(r){var s=uP.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,or=!1;break e;case 3:Ut=l.stateNode.containerInfo,or=!0;break e;case 4:Ut=l.stateNode.containerInfo,or=!0;break e}l=l.return}if(Ut===null)throw Error(J(160));AS(o,i,s),Ut=null,or=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){bt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)PS(t,e),t=t.sibling}function PS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qn(t,e),xr(e),r&4){try{Nl(3,e,e.return),Zd(3,e)}catch(p){bt(e,e.return,p)}try{Nl(5,e,e.return)}catch(p){bt(e,e.return,p)}}break;case 1:Qn(t,e),xr(e),r&512&&n!==null&&Da(n,n.return);break;case 5:if(Qn(t,e),xr(e),r&512&&n!==null&&Da(n,n.return),e.flags&32){var s=e.stateNode;try{Pl(s,"")}catch(p){bt(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Z0(s,o),op(l,i);var u=op(l,o);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?sb(s,f):h==="dangerouslySetInnerHTML"?nb(s,f):h==="children"?Pl(s,f):Qm(s,h,f,u)}switch(l){case"input":ep(s,o);break;case"textarea":eb(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?$a(s,!!o.multiple,m,!1):g!==!!o.multiple&&(o.defaultValue!=null?$a(s,!!o.multiple,o.defaultValue,!0):$a(s,!!o.multiple,o.multiple?[]:"",!1))}s[Ul]=o}catch(p){bt(e,e.return,p)}}break;case 6:if(Qn(t,e),xr(e),r&4){if(e.stateNode===null)throw Error(J(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(p){bt(e,e.return,p)}}break;case 3:if(Qn(t,e),xr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dl(t.containerInfo)}catch(p){bt(e,e.return,p)}break;case 4:Qn(t,e),xr(e);break;case 13:Qn(t,e),xr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Tg=Nt())),r&4&&Nx(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(qt=(u=qt)||h,Qn(t,e),qt=u):Qn(t,e),xr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(pe=e,h=e.child;h!==null;){for(f=pe=h;pe!==null;){switch(g=pe,m=g.child,g.tag){case 0:case 11:case 14:case 15:Nl(4,g,g.return);break;case 1:Da(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){bt(r,n,p)}}break;case 5:Da(g,g.return);break;case 22:if(g.memoizedState!==null){_x(f);continue}}m!==null?(m.return=g,pe=m):_x(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=rb("display",i))}catch(p){bt(e,e.return,p)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){bt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qn(t,e),xr(e),r&4&&Nx(e);break;case 21:break;default:Qn(t,e),xr(e)}}function xr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(TS(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pl(s,""),r.flags&=-33);var o=Sx(e);Dp(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=Sx(e);Ip(e,l,i);break;default:throw Error(J(161))}}catch(c){bt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nP(e,t,n){pe=e,RS(e)}function RS(e,t,n){for(var r=(e.mode&1)!==0;pe!==null;){var s=pe,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||au;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||qt;l=au;var u=qt;if(au=i,(qt=c)&&!u)for(pe=s;pe!==null;)i=pe,c=i.child,i.tag===22&&i.memoizedState!==null?Cx(s):c!==null?(c.return=i,pe=c):Cx(s);for(;o!==null;)pe=o,RS(o),o=o.sibling;pe=s,au=l,qt=u}jx(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,pe=o):jx(e)}}function jx(e){for(;pe!==null;){var t=pe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||Zd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tr(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&lx(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}lx(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Dl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}qt||t.flags&512&&Op(t)}catch(g){bt(t,t.return,g)}}if(t===e){pe=null;break}if(n=t.sibling,n!==null){n.return=t.return,pe=n;break}pe=t.return}}function _x(e){for(;pe!==null;){var t=pe;if(t===e){pe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,pe=n;break}pe=t.return}}function Cx(e){for(;pe!==null;){var t=pe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zd(4,t)}catch(c){bt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){bt(t,s,c)}}var o=t.return;try{Op(t)}catch(c){bt(t,o,c)}break;case 5:var i=t.return;try{Op(t)}catch(c){bt(t,i,c)}}}catch(c){bt(t,t.return,c)}if(t===e){pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pe=l;break}pe=t.return}}var rP=Math.ceil,ld=ss.ReactCurrentDispatcher,Eg=ss.ReactCurrentOwner,Bn=ss.ReactCurrentBatchConfig,Be=0,Dt=null,kt=null,zt=0,bn=0,Ma=to(0),Ot=0,Kl=null,$o=0,eh=0,kg=0,jl=null,pn=null,Tg=0,pi=1/0,$r=null,cd=!1,Mp=null,Vs=null,iu=!1,Ms=null,ud=0,_l=0,Lp=null,Ou=-1,Iu=0;function nn(){return Be&6?Nt():Ou!==-1?Ou:Ou=Nt()}function Ws(e){return e.mode&1?Be&2&&zt!==0?zt&-zt:UA.transition!==null?(Iu===0&&(Iu=gb()),Iu):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:Nb(e.type)),e):1}function dr(e,t,n,r){if(50<_l)throw _l=0,Lp=null,Error(J(185));gc(e,n,r),(!(Be&2)||e!==Dt)&&(e===Dt&&(!(Be&2)&&(eh|=n),Ot===4&&Ns(e,zt)),yn(e,r),n===1&&Be===0&&!(t.mode&1)&&(pi=Nt()+500,Qd&&no()))}function yn(e,t){var n=e.callbackNode;UT(e,t);var r=qu(e,e===Dt?zt:0);if(r===0)n!==null&&Dy(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Dy(n),t===1)e.tag===0?FA(Ex.bind(null,e)):Bb(Ex.bind(null,e)),DA(function(){!(Be&6)&&no()}),n=null;else{switch(vb(r)){case 1:n=tg;break;case 4:n=pb;break;case 16:n=Ku;break;case 536870912:n=mb;break;default:n=Ku}n=US(n,OS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function OS(e,t){if(Ou=-1,Iu=0,Be&6)throw Error(J(327));var n=e.callbackNode;if(Va()&&e.callbackNode!==n)return null;var r=qu(e,e===Dt?zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=dd(e,r);else{t=r;var s=Be;Be|=2;var o=DS();(Dt!==e||zt!==t)&&($r=null,pi=Nt()+500,Oo(e,t));do try{aP();break}catch(l){IS(e,l)}while(!0);pg(),ld.current=o,Be=s,kt!==null?t=0:(Dt=null,zt=0,t=Ot)}if(t!==0){if(t===2&&(s=up(e),s!==0&&(r=s,t=$p(e,s))),t===1)throw n=Kl,Oo(e,0),Ns(e,r),yn(e,Nt()),n;if(t===6)Ns(e,r);else{if(s=e.current.alternate,!(r&30)&&!sP(s)&&(t=dd(e,r),t===2&&(o=up(e),o!==0&&(r=o,t=$p(e,o))),t===1))throw n=Kl,Oo(e,0),Ns(e,r),yn(e,Nt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(J(345));case 2:mo(e,pn,$r);break;case 3:if(Ns(e,r),(r&130023424)===r&&(t=Tg+500-Nt(),10<t)){if(qu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=yp(mo.bind(null,e,pn,$r),t);break}mo(e,pn,$r);break;case 4:if(Ns(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-ur(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rP(r/1960))-r,10<r){e.timeoutHandle=yp(mo.bind(null,e,pn,$r),r);break}mo(e,pn,$r);break;case 5:mo(e,pn,$r);break;default:throw Error(J(329))}}}return yn(e,Nt()),e.callbackNode===n?OS.bind(null,e):null}function $p(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),e=dd(e,t),e!==2&&(t=pn,pn=n,t!==null&&Fp(t)),e}function Fp(e){pn===null?pn=e:pn.push.apply(pn,e)}function sP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!hr(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ns(e,t){for(t&=~kg,t&=~eh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ur(t),r=1<<n;e[n]=-1,t&=~r}}function Ex(e){if(Be&6)throw Error(J(327));Va();var t=qu(e,0);if(!(t&1))return yn(e,Nt()),null;var n=dd(e,t);if(e.tag!==0&&n===2){var r=up(e);r!==0&&(t=r,n=$p(e,r))}if(n===1)throw n=Kl,Oo(e,0),Ns(e,t),yn(e,Nt()),n;if(n===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mo(e,pn,$r),yn(e,Nt()),null}function Ag(e,t){var n=Be;Be|=1;try{return e(t)}finally{Be=n,Be===0&&(pi=Nt()+500,Qd&&no())}}function Fo(e){Ms!==null&&Ms.tag===0&&!(Be&6)&&Va();var t=Be;Be|=1;var n=Bn.transition,r=Qe;try{if(Bn.transition=null,Qe=1,e)return e()}finally{Qe=r,Bn.transition=n,Be=t,!(Be&6)&&no()}}function Pg(){bn=Ma.current,at(Ma)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,IA(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(dg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ju();break;case 3:hi(),at(gn),at(Gt),wg();break;case 5:xg(r);break;case 4:hi();break;case 13:at(ft);break;case 19:at(ft);break;case 10:mg(r.type._context);break;case 22:case 23:Pg()}n=n.return}if(Dt=e,kt=e=Hs(e.current,null),zt=bn=t,Ot=0,Kl=null,kg=eh=$o=0,pn=jl=null,bo!==null){for(t=0;t<bo.length;t++)if(n=bo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}bo=null}return e}function IS(e,t){do{var n=kt;try{if(pg(),Au.current=id,ad){for(var r=pt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ad=!1}if(Lo=0,It=Pt=pt=null,Sl=!1,Vl=0,Eg.current=null,n===null||n.return===null){Ot=1,Kl=t,kt=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=px(i);if(m!==null){m.flags&=-257,mx(m,i,l,o,t),m.mode&1&&fx(o,u,t),t=m,c=u;var b=t.updateQueue;if(b===null){var p=new Set;p.add(c),t.updateQueue=p}else b.add(c);break e}else{if(!(t&1)){fx(o,u,t),Rg();break e}c=Error(J(426))}}else if(lt&&l.mode&1){var x=px(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),mx(x,i,l,o,t),hg(fi(c,l));break e}}o=c=fi(c,l),Ot!==4&&(Ot=2),jl===null?jl=[o]:jl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=vS(o,c,t);ix(o,y);break e;case 1:l=c;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vs===null||!Vs.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=yS(o,l,t);ix(o,S);break e}}o=o.return}while(o!==null)}LS(n)}catch(N){t=N,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function DS(){var e=ld.current;return ld.current=id,e===null?id:e}function Rg(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Dt===null||!($o&268435455)&&!(eh&268435455)||Ns(Dt,zt)}function dd(e,t){var n=Be;Be|=2;var r=DS();(Dt!==e||zt!==t)&&($r=null,Oo(e,t));do try{oP();break}catch(s){IS(e,s)}while(!0);if(pg(),Be=n,ld.current=r,kt!==null)throw Error(J(261));return Dt=null,zt=0,Ot}function oP(){for(;kt!==null;)MS(kt)}function aP(){for(;kt!==null&&!PT();)MS(kt)}function MS(e){var t=FS(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?LS(e):kt=t,Eg.current=null}function LS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ZA(n,t),n!==null){n.flags&=32767,kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ot=6,kt=null;return}}else if(n=JA(n,t,bn),n!==null){kt=n;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);Ot===0&&(Ot=5)}function mo(e,t,n){var r=Qe,s=Bn.transition;try{Bn.transition=null,Qe=1,iP(e,t,n,r)}finally{Bn.transition=s,Qe=r}return null}function iP(e,t,n,r){do Va();while(Ms!==null);if(Be&6)throw Error(J(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(zT(e,o),e===Dt&&(kt=Dt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||iu||(iu=!0,US(Ku,function(){return Va(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bn.transition,Bn.transition=null;var i=Qe;Qe=1;var l=Be;Be|=4,Eg.current=null,tP(e,n),PS(n,e),EA(gp),Gu=!!mp,gp=mp=null,e.current=n,nP(n),RT(),Be=l,Qe=i,Bn.transition=o}else e.current=n;if(iu&&(iu=!1,Ms=e,ud=s),o=e.pendingLanes,o===0&&(Vs=null),DT(n.stateNode),yn(e,Nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(cd)throw cd=!1,e=Mp,Mp=null,e;return ud&1&&e.tag!==0&&Va(),o=e.pendingLanes,o&1?e===Lp?_l++:(_l=0,Lp=e):_l=0,no(),null}function Va(){if(Ms!==null){var e=vb(ud),t=Bn.transition,n=Qe;try{if(Bn.transition=null,Qe=16>e?16:e,Ms===null)var r=!1;else{if(e=Ms,Ms=null,ud=0,Be&6)throw Error(J(331));var s=Be;for(Be|=4,pe=e.current;pe!==null;){var o=pe,i=o.child;if(pe.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(pe=u;pe!==null;){var h=pe;switch(h.tag){case 0:case 11:case 15:Nl(8,h,o)}var f=h.child;if(f!==null)f.return=h,pe=f;else for(;pe!==null;){h=pe;var g=h.sibling,m=h.return;if(kS(h),h===u){pe=null;break}if(g!==null){g.return=m,pe=g;break}pe=m}}}var b=o.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}pe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,pe=i;else e:for(;pe!==null;){if(o=pe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Nl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,pe=y;break e}pe=o.return}}var v=e.current;for(pe=v;pe!==null;){i=pe;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,pe=w;else e:for(i=v;pe!==null;){if(l=pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Zd(9,l)}}catch(N){bt(l,l.return,N)}if(l===i){pe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,pe=S;break e}pe=l.return}}if(Be=s,no(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Hd,e)}catch{}r=!0}return r}finally{Qe=n,Bn.transition=t}}return!1}function kx(e,t,n){t=fi(n,t),t=vS(e,t,1),e=Bs(e,t,1),t=nn(),e!==null&&(gc(e,1,t),yn(e,t))}function bt(e,t,n){if(e.tag===3)kx(e,e,n);else for(;t!==null;){if(t.tag===3){kx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vs===null||!Vs.has(r))){e=fi(n,e),e=yS(t,e,1),t=Bs(t,e,1),e=nn(),t!==null&&(gc(t,1,e),yn(t,e));break}}t=t.return}}function lP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nn(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(zt&n)===n&&(Ot===4||Ot===3&&(zt&130023424)===zt&&500>Nt()-Tg?Oo(e,0):kg|=n),yn(e,t)}function $S(e,t){t===0&&(e.mode&1?(t=Xc,Xc<<=1,!(Xc&130023424)&&(Xc=4194304)):t=1);var n=nn();e=es(e,t),e!==null&&(gc(e,t,n),yn(e,n))}function cP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$S(e,n)}function uP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(t),$S(e,n)}var FS;FS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gn.current)mn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mn=!1,XA(e,t,n);mn=!!(e.flags&131072)}else mn=!1,lt&&t.flags&1048576&&Vb(t,td,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ru(e,t),e=t.pendingProps;var s=ci(t,Gt.current);Ba(t,n),s=Sg(null,t,r,e,s,n);var o=Ng();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vn(r)?(o=!0,Zu(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vg(t),s.updater=Jd,t.stateNode=s,s._reactInternals=t,_p(t,r,e,n),t=kp(null,t,r,!0,o,n)):(t.tag=0,lt&&o&&ug(t),en(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ru(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=hP(r),e=tr(r,e),s){case 0:t=Ep(null,t,r,e,n);break e;case 1:t=yx(null,t,r,e,n);break e;case 11:t=gx(null,t,r,e,n);break e;case 14:t=vx(null,t,r,tr(r.type,e),n);break e}throw Error(J(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),Ep(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),yx(e,t,r,s,n);case 3:e:{if(SS(t),e===null)throw Error(J(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Yb(e,t),sd(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=fi(Error(J(423)),t),t=xx(e,t,r,n,s);break e}else if(r!==s){s=fi(Error(J(424)),t),t=xx(e,t,r,n,s);break e}else for(Cn=zs(t.stateNode.containerInfo.firstChild),En=t,lt=!0,ir=null,n=qb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ui(),r===s){t=ts(e,t,n);break e}en(e,t,r,n)}t=t.child}return t;case 5:return Qb(t),e===null&&Sp(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,vp(r,s)?i=null:o!==null&&vp(r,o)&&(t.flags|=32),bS(e,t),en(e,t,i,n),t.child;case 6:return e===null&&Sp(t),null;case 13:return NS(e,t,n);case 4:return yg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=di(t,null,r,n):en(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),gx(e,t,r,s,n);case 7:return en(e,t,t.pendingProps,n),t.child;case 8:return en(e,t,t.pendingProps.children,n),t.child;case 12:return en(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,tt(nd,r._currentValue),r._currentValue=i,o!==null)if(hr(o.value,i)){if(o.children===s.children&&!gn.current){t=ts(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=qr(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Np(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(J(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Np(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}en(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ba(t,n),s=Wn(s),r=r(s),t.flags|=1,en(e,t,r,n),t.child;case 14:return r=t.type,s=tr(r,t.pendingProps),s=tr(r.type,s),vx(e,t,r,s,n);case 15:return xS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:tr(r,s),Ru(e,t),t.tag=1,vn(r)?(e=!0,Zu(t)):e=!1,Ba(t,n),gS(t,r,s),_p(t,r,s,n),kp(null,t,r,!0,e,n);case 19:return jS(e,t,n);case 22:return wS(e,t,n)}throw Error(J(156,t.tag))};function US(e,t){return fb(e,t)}function dP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(e,t,n,r){return new dP(e,t,n,r)}function Og(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hP(e){if(typeof e=="function")return Og(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jm)return 11;if(e===Zm)return 14}return 2}function Hs(e,t){var n=e.alternate;return n===null?(n=Fn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Og(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ca:return Io(n.children,s,o,t);case Xm:i=8,s|=8;break;case Yf:return e=Fn(12,n,t,s|2),e.elementType=Yf,e.lanes=o,e;case Qf:return e=Fn(13,n,t,s),e.elementType=Qf,e.lanes=o,e;case Xf:return e=Fn(19,n,t,s),e.elementType=Xf,e.lanes=o,e;case Q0:return th(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G0:i=10;break e;case Y0:i=9;break e;case Jm:i=11;break e;case Zm:i=14;break e;case xs:i=16,r=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Fn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Io(e,t,n,r){return e=Fn(7,e,r,t),e.lanes=n,e}function th(e,t,n,r){return e=Fn(22,e,r,t),e.elementType=Q0,e.lanes=n,e.stateNode={isHidden:!1},e}function pf(e,t,n){return e=Fn(6,e,null,t),e.lanes=n,e}function mf(e,t,n){return t=Fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fP(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gh(0),this.expirationTimes=Gh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ig(e,t,n,r,s,o,i,l,c){return e=new fP(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Fn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vg(o),e}function pP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_a,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zS(e){if(!e)return Xs;e=e._reactInternals;e:{if(Qo(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var n=e.type;if(vn(n))return zb(e,n,t)}return t}function BS(e,t,n,r,s,o,i,l,c){return e=Ig(n,r,!0,e,s,o,i,l,c),e.context=zS(null),n=e.current,r=nn(),s=Ws(n),o=qr(r,s),o.callback=t??null,Bs(n,o,s),e.current.lanes=s,gc(e,s,r),yn(e,r),e}function nh(e,t,n,r){var s=t.current,o=nn(),i=Ws(s);return n=zS(n),t.context===null?t.context=n:t.pendingContext=n,t=qr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Bs(s,t,i),e!==null&&(dr(e,s,i,o),Tu(e,s,i)),i}function hd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Tx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Dg(e,t){Tx(e,t),(e=e.alternate)&&Tx(e,t)}function mP(){return null}var VS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Mg(e){this._internalRoot=e}rh.prototype.render=Mg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));nh(e,t,null,null)};rh.prototype.unmount=Mg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fo(function(){nh(null,e,null,null)}),t[Zr]=null}};function rh(e){this._internalRoot=e}rh.prototype.unstable_scheduleHydration=function(e){if(e){var t=wb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ss.length&&t!==0&&t<Ss[n].priority;n++);Ss.splice(n,0,e),n===0&&Sb(e)}};function Lg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function sh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ax(){}function gP(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=hd(i);o.call(u)}}var i=BS(t,r,e,0,null,!1,!1,"",Ax);return e._reactRootContainer=i,e[Zr]=i.current,$l(e.nodeType===8?e.parentNode:e),Fo(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=hd(c);l.call(u)}}var c=Ig(e,0,!1,null,null,!1,!1,"",Ax);return e._reactRootContainer=c,e[Zr]=c.current,$l(e.nodeType===8?e.parentNode:e),Fo(function(){nh(t,c,n,r)}),c}function oh(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=hd(i);l.call(c)}}nh(t,i,e,s)}else i=gP(n,t,e,s,r);return hd(i)}yb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cl(t.pendingLanes);n!==0&&(ng(t,n|1),yn(t,Nt()),!(Be&6)&&(pi=Nt()+500,no()))}break;case 13:Fo(function(){var r=es(e,1);if(r!==null){var s=nn();dr(r,e,1,s)}}),Dg(e,1)}};rg=function(e){if(e.tag===13){var t=es(e,134217728);if(t!==null){var n=nn();dr(t,e,134217728,n)}Dg(e,134217728)}};xb=function(e){if(e.tag===13){var t=Ws(e),n=es(e,t);if(n!==null){var r=nn();dr(n,e,t,r)}Dg(e,t)}};wb=function(){return Qe};bb=function(e,t){var n=Qe;try{return Qe=e,t()}finally{Qe=n}};ip=function(e,t,n){switch(t){case"input":if(ep(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Yd(r);if(!s)throw Error(J(90));J0(r),ep(r,s)}}}break;case"textarea":eb(e,n);break;case"select":t=n.value,t!=null&&$a(e,!!n.multiple,t,!1)}};ib=Ag;lb=Fo;var vP={usingClientEntryPoint:!1,Events:[yc,Aa,Yd,ob,ab,Ag]},tl={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yP={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=db(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||mP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{Hd=lu.inject(yP),Er=lu}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vP;An.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lg(t))throw Error(J(200));return pP(e,t,null,n)};An.createRoot=function(e,t){if(!Lg(e))throw Error(J(299));var n=!1,r="",s=VS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Ig(e,1,!1,null,null,n,!1,r,s),e[Zr]=t.current,$l(e.nodeType===8?e.parentNode:e),new Mg(t)};An.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=db(t),e=e===null?null:e.stateNode,e};An.flushSync=function(e){return Fo(e)};An.hydrate=function(e,t,n){if(!sh(t))throw Error(J(200));return oh(null,e,t,!0,n)};An.hydrateRoot=function(e,t,n){if(!Lg(e))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=VS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=BS(t,null,e,1,n??null,s,!1,o,i),e[Zr]=t.current,$l(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new rh(t)};An.render=function(e,t,n){if(!sh(t))throw Error(J(200));return oh(null,e,t,!1,n)};An.unmountComponentAtNode=function(e){if(!sh(e))throw Error(J(40));return e._reactRootContainer?(Fo(function(){oh(null,null,e,!1,function(){e._reactRootContainer=null,e[Zr]=null})}),!0):!1};An.unstable_batchedUpdates=Ag;An.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!sh(n))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return oh(e,t,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function WS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WS)}catch(e){console.error(e)}}WS(),W0.exports=An;var Xo=W0.exports;const HS=R0(Xo);var KS,Px=Xo;KS=Px.createRoot,Px.hydrateRoot;const xP=1,wP=1e6;let gf=0;function bP(){return gf=(gf+1)%Number.MAX_SAFE_INTEGER,gf.toString()}const vf=new Map,Rx=e=>{if(vf.has(e))return;const t=setTimeout(()=>{vf.delete(e),Cl({type:"REMOVE_TOAST",toastId:e})},wP);vf.set(e,t)},SP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Rx(n):e.toasts.forEach(r=>{Rx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Mu=[];let Lu={toasts:[]};function Cl(e){Lu=SP(Lu,e),Mu.forEach(t=>{t(Lu)})}function NP({...e}){const t=bP(),n=s=>Cl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Cl({type:"DISMISS_TOAST",toastId:t});return Cl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Rn(){const[e,t]=d.useState(Lu);return d.useEffect(()=>(Mu.push(t),()=>{const n=Mu.indexOf(t);n>-1&&Mu.splice(n,1)}),[e]),{...e,toast:NP,dismiss:n=>Cl({type:"DISMISS_TOAST",toastId:n})}}function re(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Ox(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ah(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Ox(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Ox(e[s],null)}}}}function Oe(...e){return d.useCallback(ah(...e),e)}function jP(e,t){const n=d.createContext(t),r=o=>{const{children:i,...l}=o,c=d.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Vt(e,t=[]){let n=[];function r(o,i){const l=d.createContext(i),c=n.length;n=[...n,i];const u=f=>{var y;const{scope:g,children:m,...b}=f,p=((y=g==null?void 0:g[e])==null?void 0:y[c])||l,x=d.useMemo(()=>b,Object.values(b));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=o+"Provider";function h(f,g){var p;const m=((p=g==null?void 0:g[e])==null?void 0:p[c])||l,b=d.useContext(m);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,h]}const s=()=>{const o=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,_P(s,...t)]}function _P(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Uo(e){const t=CP(e),n=d.forwardRef((r,s)=>{const{children:o,...i}=r,l=d.Children.toArray(o),c=l.find(EP);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var Pi=Uo("Slot");function CP(e){const t=d.forwardRef((n,r)=>{const{children:s,...o}=n;if(d.isValidElement(s)){const i=TP(s),l=kP(o,s.props);return s.type!==d.Fragment&&(l.ref=r?ah(r,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qS=Symbol("radix.slottable");function GS(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=qS,t}function EP(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qS}function kP(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function TP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function wc(e){const t=e+"CollectionProvider",[n,r]=Vt(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:x,children:y}=p,v=ne.useRef(null),w=ne.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:v,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=Uo(l),u=ne.forwardRef((p,x)=>{const{scope:y,children:v}=p,w=o(l,y),S=Oe(x,w.collectionRef);return a.jsx(c,{ref:S,children:v})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",g=Uo(h),m=ne.forwardRef((p,x)=>{const{scope:y,children:v,...w}=p,S=ne.useRef(null),N=Oe(x,S),j=o(h,y);return ne.useEffect(()=>(j.itemMap.set(S,{ref:S,...w}),()=>void j.itemMap.delete(S))),a.jsx(g,{[f]:"",ref:N,children:v})});m.displayName=h;function b(p){const x=o(e+"CollectionConsumer",p);return ne.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,_)=>w.indexOf(j.ref.current)-w.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},b,r]}var AP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=AP.reduce((e,t)=>{const n=Uo(`Primitive.${t}`),r=d.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function $g(e,t){e&&Xo.flushSync(()=>e.dispatchEvent(t))}function ct(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function PP(e,t=globalThis==null?void 0:globalThis.document){const n=ct(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var RP="DismissableLayer",Up="dismissableLayer.update",OP="dismissableLayer.pointerDownOutside",IP="dismissableLayer.focusOutside",Ix,YS=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ri=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(YS),[h,f]=d.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=d.useState({}),b=Oe(t,_=>f(_)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),v=h?p.indexOf(h):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=y,N=MP(_=>{const C=_.target,T=[...u.branches].some(P=>P.contains(C));!S||T||(s==null||s(_),i==null||i(_),_.defaultPrevented||l==null||l())},g),j=LP(_=>{const C=_.target;[...u.branches].some(P=>P.contains(C))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},g);return PP(_=>{v===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},g),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Ix=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Dx(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Ix)}},[h,g,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Dx())},[h,u]),d.useEffect(()=>{const _=()=>m({});return document.addEventListener(Up,_),()=>document.removeEventListener(Up,_)},[]),a.jsx(me.div,{...c,ref:b,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:re(e.onFocusCapture,j.onFocusCapture),onBlurCapture:re(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:re(e.onPointerDownCapture,N.onPointerDownCapture)})});Ri.displayName=RP;var DP="DismissableLayerBranch",QS=d.forwardRef((e,t)=>{const n=d.useContext(YS),r=d.useRef(null),s=Oe(t,r);return d.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(me.div,{...e,ref:s})});QS.displayName=DP;function MP(e,t=globalThis==null?void 0:globalThis.document){const n=ct(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){XS(OP,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function LP(e,t=globalThis==null?void 0:globalThis.document){const n=ct(e),r=d.useRef(!1);return d.useEffect(()=>{const s=o=>{o.target&&!r.current&&XS(IP,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Dx(){const e=new CustomEvent(Up);document.dispatchEvent(e)}function XS(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?$g(s,o):s.dispatchEvent(o)}var $P=Ri,FP=QS,ut=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},UP="Portal",bc=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=d.useState(!1);ut(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?HS.createPortal(a.jsx(me.div,{...r,ref:t}),i):null});bc.displayName=UP;function zP(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Yt=e=>{const{present:t,children:n}=e,r=BP(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),o=Oe(r.ref,VP(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:o}):null};Yt.displayName="Presence";function BP(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),o=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=zP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=cu(r.current);o.current=l==="mounted"?u:"none"},[l]),ut(()=>{const u=r.current,h=s.current;if(h!==e){const g=o.current,m=cu(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&g!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ut(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=m=>{const p=cu(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},g=m=>{m.target===t&&(o.current=cu(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function cu(e){return(e==null?void 0:e.animationName)||"none"}function VP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var WP=qm[" useInsertionEffect ".trim().toString()]||ut;function Kn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=HP({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var f;if(l){const g=KP(h)?h(e):h;g!==e&&((f=i.current)==null||f.call(i,g))}else o(h)},[l,e,o,i]);return[c,u]}function HP({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),o=d.useRef(t);return WP(()=>{o.current=t},[t]),d.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function KP(e){return typeof e=="function"}var JS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qP="VisuallyHidden",ih=d.forwardRef((e,t)=>a.jsx(me.span,{...e,ref:t,style:{...JS,...e.style}}));ih.displayName=qP;var GP=ih,Fg="ToastProvider",[Ug,YP,QP]=wc("Toast"),[ZS,C8]=Vt("Toast",[QP]),[XP,lh]=ZS(Fg),eN=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=d.useState(null),[u,h]=d.useState(0),f=d.useRef(!1),g=d.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Fg}\`. Expected non-empty \`string\`.`),a.jsx(Ug.Provider,{scope:t,children:a.jsx(XP,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:d.useCallback(()=>h(m=>m+1),[]),onToastRemove:d.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:i})})};eN.displayName=Fg;var tN="ToastViewport",JP=["F8"],zp="toast.viewportPause",Bp="toast.viewportResume",nN=d.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=JP,label:s="Notifications ({hotkey})",...o}=e,i=lh(tN,n),l=YP(n),c=d.useRef(null),u=d.useRef(null),h=d.useRef(null),f=d.useRef(null),g=Oe(t,f,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;d.useEffect(()=>{const x=y=>{var w;r.length!==0&&r.every(S=>y[S]||y.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),d.useEffect(()=>{const x=c.current,y=f.current;if(b&&x&&y){const v=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(zp);y.dispatchEvent(j),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(Bp);y.dispatchEvent(j),i.isClosePausedRef.current=!1}},S=j=>{!x.contains(j.relatedTarget)&&w()},N=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",v),x.addEventListener("focusout",S),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[b,i.isClosePausedRef]);const p=d.useCallback(({tabbingDirection:x})=>{const v=l().map(w=>{const S=w.ref.current,N=[S,...d2(S)];return x==="forwards"?N:N.reverse()});return(x==="forwards"?v.reverse():v).flat()},[l]);return d.useEffect(()=>{const x=f.current;if(x){const y=v=>{var N,j,_;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const C=document.activeElement,T=v.shiftKey;if(v.target===x&&T){(N=u.current)==null||N.focus();return}const M=p({tabbingDirection:T?"backwards":"forwards"}),F=M.findIndex(I=>I===C);yf(M.slice(F+1))?v.preventDefault():T?(j=u.current)==null||j.focus():(_=h.current)==null||_.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,p]),a.jsxs(FP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Vp,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});yf(x)}}),a.jsx(Ug.Slot,{scope:n,children:a.jsx(me.ol,{tabIndex:-1,...o,ref:g})}),b&&a.jsx(Vp,{ref:h,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});yf(x)}})]})});nN.displayName=tN;var rN="ToastFocusProxy",Vp=d.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=lh(rN,n);return a.jsx(ih,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});Vp.displayName=rN;var Sc="Toast",ZP="toast.swipeStart",e2="toast.swipeMove",t2="toast.swipeCancel",n2="toast.swipeEnd",sN=d.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=Kn({prop:r,defaultProp:s??!0,onChange:o,caller:Sc});return a.jsx(Yt,{present:n||l,children:a.jsx(o2,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:ct(e.onPause),onResume:ct(e.onResume),onSwipeStart:re(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:re(e.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:re(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:re(e.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});sN.displayName=Sc;var[r2,s2]=ZS(Sc,{onClose(){}}),o2=d.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:m,...b}=e,p=lh(Sc,n),[x,y]=d.useState(null),v=Oe(t,I=>y(I)),w=d.useRef(null),S=d.useRef(null),N=s||p.duration,j=d.useRef(0),_=d.useRef(N),C=d.useRef(0),{onToastAdd:T,onToastRemove:P}=p,R=ct(()=>{var te;(x==null?void 0:x.contains(document.activeElement))&&((te=p.viewport)==null||te.focus()),i()}),M=d.useCallback(I=>{!I||I===1/0||(window.clearTimeout(C.current),j.current=new Date().getTime(),C.current=window.setTimeout(R,I))},[R]);d.useEffect(()=>{const I=p.viewport;if(I){const te=()=>{M(_.current),u==null||u()},V=()=>{const oe=new Date().getTime()-j.current;_.current=_.current-oe,window.clearTimeout(C.current),c==null||c()};return I.addEventListener(zp,V),I.addEventListener(Bp,te),()=>{I.removeEventListener(zp,V),I.removeEventListener(Bp,te)}}},[p.viewport,N,c,u,M]),d.useEffect(()=>{o&&!p.isClosePausedRef.current&&M(N)},[o,N,p.isClosePausedRef,M]),d.useEffect(()=>(T(),()=>P()),[T,P]);const F=d.useMemo(()=>x?dN(x):null,[x]);return p.viewport?a.jsxs(a.Fragment,{children:[F&&a.jsx(a2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),a.jsx(r2,{scope:n,onClose:R,children:Xo.createPortal(a.jsx(Ug.ItemSlot,{scope:n,children:a.jsx($P,{asChild:!0,onEscapeKeyDown:re(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||R(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:re(e.onKeyDown,I=>{I.key==="Escape"&&(l==null||l(I.nativeEvent),I.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:re(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:re(e.onPointerMove,I=>{if(!w.current)return;const te=I.clientX-w.current.x,V=I.clientY-w.current.y,oe=!!S.current,O=["left","right"].includes(p.swipeDirection),A=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,W=O?A(0,te):0,ee=O?0:A(0,V),se=I.pointerType==="touch"?10:2,ae={x:W,y:ee},ge={originalEvent:I,delta:ae};oe?(S.current=ae,uu(e2,f,ge,{discrete:!1})):Mx(ae,p.swipeDirection,se)?(S.current=ae,uu(ZP,h,ge,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(te)>se||Math.abs(V)>se)&&(w.current=null)}),onPointerUp:re(e.onPointerUp,I=>{const te=S.current,V=I.target;if(V.hasPointerCapture(I.pointerId)&&V.releasePointerCapture(I.pointerId),S.current=null,w.current=null,te){const oe=I.currentTarget,O={originalEvent:I,delta:te};Mx(te,p.swipeDirection,p.swipeThreshold)?uu(n2,m,O,{discrete:!0}):uu(t2,g,O,{discrete:!0}),oe.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),a2=e=>{const{__scopeToast:t,children:n,...r}=e,s=lh(Sc,t),[o,i]=d.useState(!1),[l,c]=d.useState(!1);return c2(()=>i(!0)),d.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(bc,{asChild:!0,children:a.jsx(ih,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},i2="ToastTitle",oN=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(me.div,{...r,ref:t})});oN.displayName=i2;var l2="ToastDescription",aN=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(me.div,{...r,ref:t})});aN.displayName=l2;var iN="ToastAction",lN=d.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(uN,{altText:n,asChild:!0,children:a.jsx(zg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${iN}\`. Expected non-empty \`string\`.`),null)});lN.displayName=iN;var cN="ToastClose",zg=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=s2(cN,n);return a.jsx(uN,{asChild:!0,children:a.jsx(me.button,{type:"button",...r,ref:t,onClick:re(e.onClick,s.onClose)})})});zg.displayName=cN;var uN=d.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function dN(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),u2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...dN(r))}}),t}function uu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?$g(s,o):s.dispatchEvent(o)}var Mx=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function c2(e=()=>{}){const t=ct(e);ut(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function u2(e){return e.nodeType===e.ELEMENT_NODE}function d2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function yf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var h2=eN,hN=nN,fN=sN,pN=oN,mN=aN,gN=lN,vN=zg;function yN(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=yN(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function xN(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=yN(e))&&(r&&(r+=" "),r+=t);return r}const Lx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$x=xN,Oi=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return $x(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=o==null?void 0:o[u];if(h===null)return null;const g=Lx(h)||Lx(f);return s[u][g]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,g]=h;return g===void 0||(u[f]=g),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:g,...m}=h;return Object.entries(m).every(b=>{let[p,x]=b;return Array.isArray(x)?x.includes({...o,...l}[p]):{...o,...l}[p]===x})?[...u,f,g]:u},[]);return $x(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wN=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...l},c)=>d.createElement("svg",{ref:c,...p2,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:wN("lucide",s),...l},[...i.map(([u,h])=>d.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const n=d.forwardRef(({className:r,...s},o)=>d.createElement(m2,{ref:o,iconNode:t,className:wN(`lucide-${f2(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=he("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=he("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=he("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=he("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=he("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=he("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=he("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=he("Dna",[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=he("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=he("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=he("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=he("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=he("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=he("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=he("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=he("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=he("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=he("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=he("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=he("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=he("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=he("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=he("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=he("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=he("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=he("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=he("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=he("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=he("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=he("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=he("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=he("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=he("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=he("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=he("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=he("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=he("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=he("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Kg="-",z2=e=>{const t=V2(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Kg);return l[0]===""&&l.length!==1&&l.shift(),kN(l,t)||B2(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},kN=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?kN(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Kg);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Bx=/^\[(.+)\]$/,B2=e=>{if(Bx.test(e)){const t=Bx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},V2=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return H2(Object.entries(e.classGroups),n).forEach(([o,i])=>{Gp(i,r,o,t)}),r},Gp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Vx(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(W2(s)){Gp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Gp(i,Vx(t,o),n,r)})})},Vx=(e,t)=>{let n=e;return t.split(Kg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},W2=e=>e.isThemeGetter,H2=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,s]}):e,K2=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},TN="!",q2=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,h=0,f;for(let x=0;x<l.length;x++){let y=l[x];if(u===0){if(y===s&&(r||l.slice(x,x+o)===t)){c.push(l.slice(h,x)),h=x+o;continue}if(y==="/"){f=x;continue}}y==="["?u++:y==="]"&&u--}const g=c.length===0?l:l.substring(h),m=g.startsWith(TN),b=m?g.substring(1):g,p=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:i}):i},G2=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Y2=e=>({cache:K2(e.cacheSize),parseClassName:q2(e),...z2(e)}),Q2=/\s+/,X2=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(Q2);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}=n(u);let b=!!m,p=r(b?g.substring(0,m):g);if(!p){if(!b){l=u+(l.length>0?" "+l:l);continue}if(p=r(g),!p){l=u+(l.length>0?" "+l:l);continue}b=!1}const x=G2(h).join(":"),y=f?x+TN:x,v=y+p;if(o.includes(v))continue;o.push(v);const w=s(p,b);for(let S=0;S<w.length;++S){const N=w[S];o.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function J2(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=AN(t))&&(r&&(r+=" "),r+=n);return r}const AN=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=AN(e[r]))&&(n&&(n+=" "),n+=t);return n};function Z2(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((h,f)=>f(h),e());return n=Y2(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=X2(c,n);return s(c,h),h}return function(){return o(J2.apply(null,arguments))}}const st=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},PN=/^\[(?:([a-z-]+):)?(.+)\]$/i,eR=/^\d+\/\d+$/,tR=new Set(["px","full","screen"]),nR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mr=e=>Wa(e)||tR.has(e)||eR.test(e),ps=e=>Ii(e,"length",pR),Wa=e=>!!e&&!Number.isNaN(Number(e)),wf=e=>Ii(e,"number",Wa),nl=e=>!!e&&Number.isInteger(Number(e)),iR=e=>e.endsWith("%")&&Wa(e.slice(0,-1)),Ie=e=>PN.test(e),ms=e=>nR.test(e),lR=new Set(["length","size","percentage"]),cR=e=>Ii(e,lR,RN),uR=e=>Ii(e,"position",RN),dR=new Set(["image","url"]),hR=e=>Ii(e,dR,gR),fR=e=>Ii(e,"",mR),rl=()=>!0,Ii=(e,t,n)=>{const r=PN.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},pR=e=>rR.test(e)&&!sR.test(e),RN=()=>!1,mR=e=>oR.test(e),gR=e=>aR.test(e),vR=()=>{const e=st("colors"),t=st("spacing"),n=st("blur"),r=st("brightness"),s=st("borderColor"),o=st("borderRadius"),i=st("borderSpacing"),l=st("borderWidth"),c=st("contrast"),u=st("grayscale"),h=st("hueRotate"),f=st("invert"),g=st("gap"),m=st("gradientColorStops"),b=st("gradientColorStopPositions"),p=st("inset"),x=st("margin"),y=st("opacity"),v=st("padding"),w=st("saturate"),S=st("scale"),N=st("sepia"),j=st("skew"),_=st("space"),C=st("translate"),T=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Ie,t],M=()=>[Ie,t],F=()=>["",Mr,ps],I=()=>["auto",Wa,Ie],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",Ie],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Wa,Ie];return{cacheSize:500,separator:":",theme:{colors:[rl],spacing:[Mr,ps],blur:["none","",ms,Ie],brightness:ee(),borderColor:[e],borderRadius:["none","","full",ms,Ie],borderSpacing:M(),borderWidth:F(),contrast:ee(),grayscale:A(),hueRotate:ee(),invert:A(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[iR,ps],inset:R(),margin:R(),opacity:ee(),padding:M(),saturate:ee(),scale:ee(),sepia:A(),skew:ee(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[ms]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Ie]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nl,Ie]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",nl,Ie]}],"grid-cols":[{"grid-cols":[rl]}],"col-start-end":[{col:["auto",{span:["full",nl,Ie]},Ie]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[rl]}],"row-start-end":[{row:["auto",{span:[nl,Ie]},Ie]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ie,t]}],"min-w":[{"min-w":[Ie,t,"min","max","fit"]}],"max-w":[{"max-w":[Ie,t,"none","full","min","max","fit","prose",{screen:[ms]},ms]}],h:[{h:[Ie,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ie,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ie,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ie,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ms,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wf]}],"font-family":[{font:[rl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",Wa,wf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mr,Ie]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mr,ps]}],"underline-offset":[{"underline-offset":["auto",Mr,Ie]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),uR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hR]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Mr,Ie]}],"outline-w":[{outline:[Mr,ps]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Mr,ps]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ms,fR]}],"shadow-color":[{shadow:[rl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...oe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":oe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ms,Ie]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[nl,Ie]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mr,ps,wf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yR=Z2(vR);function Y(...e){return yR(xN(e))}const xR=h2,ON=d.forwardRef(({className:e,...t},n)=>a.jsx(hN,{ref:n,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));ON.displayName=hN.displayName;const wR=Oi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),IN=d.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(fN,{ref:r,className:Y(wR({variant:t}),e),...n}));IN.displayName=fN.displayName;const bR=d.forwardRef(({className:e,...t},n)=>a.jsx(gN,{ref:n,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));bR.displayName=gN.displayName;const DN=d.forwardRef(({className:e,...t},n)=>a.jsx(vN,{ref:n,className:Y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(os,{className:"h-4 w-4"})}));DN.displayName=vN.displayName;const MN=d.forwardRef(({className:e,...t},n)=>a.jsx(pN,{ref:n,className:Y("text-sm font-semibold",e),...t}));MN.displayName=pN.displayName;const LN=d.forwardRef(({className:e,...t},n)=>a.jsx(mN,{ref:n,className:Y("text-sm opacity-90",e),...t}));LN.displayName=mN.displayName;function SR(){const{toasts:e}=Rn();return a.jsxs(xR,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return a.jsxs(IN,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(MN,{children:n}),r&&a.jsx(LN,{children:r})]}),s,a.jsx(DN,{})]},t)}),a.jsx(ON,{})]})}var Wx=["light","dark"],NR="(prefers-color-scheme: dark)",jR=d.createContext(void 0),_R={setTheme:e=>{},themes:[]},CR=()=>{var e;return(e=d.useContext(jR))!=null?e:_R};d.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Wx.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,p=!1,x=!0)=>{let y=i?i[b]:b,v=p?b+"|| ''":`'${y}'`,w="";return s&&x&&!p&&Wx.includes(b)&&(w+=`d.style.colorScheme = '${b}';`),n==="class"?p||y?w+=`c.add(${v})`:w+="null":y&&(w+=`d[s](n,${v})`),w},m=e?`!function(){${h}${g(e)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${NR}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}${u?"":"else{"+g(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}else{${g(o,!1,!1)};}${f}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var ER=e=>{switch(e){case"success":return AR;case"info":return RR;case"warning":return PR;case"error":return OR;default:return null}},kR=Array(12).fill(0),TR=({visible:e,className:t})=>ne.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ne.createElement("div",{className:"sonner-spinner"},kR.map((n,r)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),AR=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PR=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),RR=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),OR=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),IR=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),DR=()=>{let[e,t]=ne.useState(document.hidden);return ne.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Yp=1,MR=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Yp++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,i=r.then(async c=>{if(o=["resolve",c],ne.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if($R(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:h})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Yp++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},hn=new MR,LR=(e,t)=>{let n=(t==null?void 0:t.id)||Yp++;return hn.addToast({title:e,...t,id:n}),n},$R=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",FR=LR,UR=()=>hn.toasts,zR=()=>hn.getActiveToasts();Object.assign(FR,{success:hn.success,info:hn.info,warning:hn.warning,error:hn.error,custom:hn.custom,message:hn.message,promise:hn.promise,dismiss:hn.dismiss,loading:hn.loading},{getHistory:UR,getToasts:zR});function BR(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}BR(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function du(e){return e.label!==void 0}var VR=3,WR="32px",HR="16px",Hx=4e3,KR=356,qR=14,GR=20,YR=200;function Xn(...e){return e.filter(Boolean).join(" ")}function QR(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var XR=e=>{var t,n,r,s,o,i,l,c,u,h,f;let{invert:g,toast:m,unstyled:b,interacting:p,setHeights:x,visibleToasts:y,heights:v,index:w,toasts:S,expanded:N,removeToast:j,defaultRichColors:_,closeButton:C,style:T,cancelButtonStyle:P,actionButtonStyle:R,className:M="",descriptionClassName:F="",duration:I,position:te,gap:V,loadingIcon:oe,expandByDefault:O,classNames:A,icons:W,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:se}=e,[ae,ge]=ne.useState(null),[K,ye]=ne.useState(null),[q,Re]=ne.useState(!1),[Te,Se]=ne.useState(!1),[Ee,De]=ne.useState(!1),[Ve,nt]=ne.useState(!1),[dt,Tt]=ne.useState(!1),[Mt,an]=ne.useState(0),[$,Ae]=ne.useState(0),Z=ne.useRef(m.duration||I||Hx),D=ne.useRef(null),U=ne.useRef(null),Q=w===0,X=w+1<=y,le=m.type,qe=m.dismissible!==!1,na=m.className||"",H=m.descriptionClassName||"",ue=ne.useMemo(()=>v.findIndex(Pe=>Pe.toastId===m.id)||0,[v,m.id]),ke=ne.useMemo(()=>{var Pe;return(Pe=m.closeButton)!=null?Pe:C},[m.closeButton,C]),fe=ne.useMemo(()=>m.duration||I||Hx,[m.duration,I]),Me=ne.useRef(0),We=ne.useRef(0),_t=ne.useRef(0),Xt=ne.useRef(null),[Wi,Mc]=te.split("-"),Lc=ne.useMemo(()=>v.reduce((Pe,$e,Je)=>Je>=ue?Pe:Pe+$e.height,0),[v,ue]),ra=DR(),vr=m.invert||g,Dr=le==="loading";We.current=ne.useMemo(()=>ue*V+Lc,[ue,Lc]),ne.useEffect(()=>{Z.current=fe},[fe]),ne.useEffect(()=>{Re(!0)},[]),ne.useEffect(()=>{let Pe=U.current;if(Pe){let $e=Pe.getBoundingClientRect().height;return Ae($e),x(Je=>[{toastId:m.id,height:$e,position:m.position},...Je]),()=>x(Je=>Je.filter(ln=>ln.toastId!==m.id))}},[x,m.id]),ne.useLayoutEffect(()=>{if(!q)return;let Pe=U.current,$e=Pe.style.height;Pe.style.height="auto";let Je=Pe.getBoundingClientRect().height;Pe.style.height=$e,Ae(Je),x(ln=>ln.find(Lt=>Lt.toastId===m.id)?ln.map(Lt=>Lt.toastId===m.id?{...Lt,height:Je}:Lt):[{toastId:m.id,height:Je,position:m.position},...ln])},[q,m.title,m.description,x,m.id]);let Ct=ne.useCallback(()=>{Se(!0),an(We.current),x(Pe=>Pe.filter($e=>$e.toastId!==m.id)),setTimeout(()=>{j(m)},YR)},[m,j,x,We]);ne.useEffect(()=>{if(m.promise&&le==="loading"||m.duration===1/0||m.type==="loading")return;let Pe;return N||p||se&&ra?(()=>{if(_t.current<Me.current){let $e=new Date().getTime()-Me.current;Z.current=Z.current-$e}_t.current=new Date().getTime()})():Z.current!==1/0&&(Me.current=new Date().getTime(),Pe=setTimeout(()=>{var $e;($e=m.onAutoClose)==null||$e.call(m,m),Ct()},Z.current)),()=>clearTimeout(Pe)},[N,p,m,le,se,ra,Ct]),ne.useEffect(()=>{m.delete&&Ct()},[Ct,m.delete]);function us(){var Pe,$e,Je;return W!=null&&W.loading?ne.createElement("div",{className:Xn(A==null?void 0:A.loader,(Pe=m==null?void 0:m.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":le==="loading"},W.loading):oe?ne.createElement("div",{className:Xn(A==null?void 0:A.loader,($e=m==null?void 0:m.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":le==="loading"},oe):ne.createElement(TR,{className:Xn(A==null?void 0:A.loader,(Je=m==null?void 0:m.classNames)==null?void 0:Je.loader),visible:le==="loading"})}return ne.createElement("li",{tabIndex:0,ref:U,className:Xn(M,na,A==null?void 0:A.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[le],(n=m==null?void 0:m.classNames)==null?void 0:n[le]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:_,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":q,"data-promise":!!m.promise,"data-swiped":dt,"data-removed":Te,"data-visible":X,"data-y-position":Wi,"data-x-position":Mc,"data-index":w,"data-front":Q,"data-swiping":Ee,"data-dismissible":qe,"data-type":le,"data-invert":vr,"data-swipe-out":Ve,"data-swipe-direction":K,"data-expanded":!!(N||O&&q),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${Te?Mt:We.current}px`,"--initial-height":O?"auto":`${$}px`,...T,...m.style},onDragEnd:()=>{De(!1),ge(null),Xt.current=null},onPointerDown:Pe=>{Dr||!qe||(D.current=new Date,an(We.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(De(!0),Xt.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,$e,Je,ln;if(Ve||!qe)return;Xt.current=null;let Lt=Number(((Pe=U.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Yn=Number((($e=U.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),In=new Date().getTime()-((Je=D.current)==null?void 0:Je.getTime()),cn=ae==="x"?Lt:Yn,yr=Math.abs(cn)/In;if(Math.abs(cn)>=GR||yr>.11){an(We.current),(ln=m.onDismiss)==null||ln.call(m,m),ye(ae==="x"?Lt>0?"right":"left":Yn>0?"down":"up"),Ct(),nt(!0),Tt(!1);return}De(!1),ge(null)},onPointerMove:Pe=>{var $e,Je,ln,Lt;if(!Xt.current||!qe||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;let Yn=Pe.clientY-Xt.current.y,In=Pe.clientX-Xt.current.x,cn=(Je=e.swipeDirections)!=null?Je:QR(te);!ae&&(Math.abs(In)>1||Math.abs(Yn)>1)&&ge(Math.abs(In)>Math.abs(Yn)?"x":"y");let yr={x:0,y:0};ae==="y"?(cn.includes("top")||cn.includes("bottom"))&&(cn.includes("top")&&Yn<0||cn.includes("bottom")&&Yn>0)&&(yr.y=Yn):ae==="x"&&(cn.includes("left")||cn.includes("right"))&&(cn.includes("left")&&In<0||cn.includes("right")&&In>0)&&(yr.x=In),(Math.abs(yr.x)>0||Math.abs(yr.y)>0)&&Tt(!0),(ln=U.current)==null||ln.style.setProperty("--swipe-amount-x",`${yr.x}px`),(Lt=U.current)==null||Lt.style.setProperty("--swipe-amount-y",`${yr.y}px`)}},ke&&!m.jsx?ne.createElement("button",{"aria-label":ee,"data-disabled":Dr,"data-close-button":!0,onClick:Dr||!qe?()=>{}:()=>{var Pe;Ct(),(Pe=m.onDismiss)==null||Pe.call(m,m)},className:Xn(A==null?void 0:A.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(o=W==null?void 0:W.close)!=null?o:IR):null,m.jsx||d.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:ne.createElement(ne.Fragment,null,le||m.icon||m.promise?ne.createElement("div",{"data-icon":"",className:Xn(A==null?void 0:A.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||us():null,m.type!=="loading"?m.icon||(W==null?void 0:W[le])||ER(le):null):null,ne.createElement("div",{"data-content":"",className:Xn(A==null?void 0:A.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},ne.createElement("div",{"data-title":"",className:Xn(A==null?void 0:A.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?ne.createElement("div",{"data-description":"",className:Xn(F,H,A==null?void 0:A.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),d.isValidElement(m.cancel)?m.cancel:m.cancel&&du(m.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:Pe=>{var $e,Je;du(m.cancel)&&qe&&((Je=($e=m.cancel).onClick)==null||Je.call($e,Pe),Ct())},className:Xn(A==null?void 0:A.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,d.isValidElement(m.action)?m.action:m.action&&du(m.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:Pe=>{var $e,Je;du(m.action)&&((Je=($e=m.action).onClick)==null||Je.call($e,Pe),!Pe.defaultPrevented&&Ct())},className:Xn(A==null?void 0:A.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function Kx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function JR(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",l=o?HR:WR;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=l:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var ZR=d.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:g,style:m,visibleToasts:b=VR,toastOptions:p,dir:x=Kx(),gap:y=qR,loadingIcon:v,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:N}=e,[j,_]=ne.useState([]),C=ne.useMemo(()=>Array.from(new Set([r].concat(j.filter(se=>se.position).map(se=>se.position)))),[j,r]),[T,P]=ne.useState([]),[R,M]=ne.useState(!1),[F,I]=ne.useState(!1),[te,V]=ne.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),oe=ne.useRef(null),O=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=ne.useRef(null),W=ne.useRef(!1),ee=ne.useCallback(se=>{_(ae=>{var ge;return(ge=ae.find(K=>K.id===se.id))!=null&&ge.delete||hn.dismiss(se.id),ae.filter(({id:K})=>K!==se.id)})},[]);return ne.useEffect(()=>hn.subscribe(se=>{if(se.dismiss){_(ae=>ae.map(ge=>ge.id===se.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{HS.flushSync(()=>{_(ae=>{let ge=ae.findIndex(K=>K.id===se.id);return ge!==-1?[...ae.slice(0,ge),{...ae[ge],...se},...ae.slice(ge+1)]:[se,...ae]})})})}),[]),ne.useEffect(()=>{if(h!=="system"){V(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let se=window.matchMedia("(prefers-color-scheme: dark)");try{se.addEventListener("change",({matches:ae})=>{V(ae?"dark":"light")})}catch{se.addListener(({matches:ge})=>{try{V(ge?"dark":"light")}catch(K){console.error(K)}})}},[h]),ne.useEffect(()=>{j.length<=1&&M(!1)},[j]),ne.useEffect(()=>{let se=ae=>{var ge,K;s.every(ye=>ae[ye]||ae.code===ye)&&(M(!0),(ge=oe.current)==null||ge.focus()),ae.code==="Escape"&&(document.activeElement===oe.current||(K=oe.current)!=null&&K.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",se),()=>document.removeEventListener("keydown",se)},[s]),ne.useEffect(()=>{if(oe.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,W.current=!1)}},[oe.current]),ne.createElement("section",{ref:t,"aria-label":`${S} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((se,ae)=>{var ge;let[K,ye]=se.split("-");return j.length?ne.createElement("ol",{key:se,dir:x==="auto"?Kx():x,tabIndex:-1,ref:oe,className:l,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":K,"data-lifted":R&&j.length>1&&!o,"data-x-position":ye,style:{"--front-toast-height":`${((ge=T[0])==null?void 0:ge.height)||0}px`,"--width":`${KR}px`,"--gap":`${y}px`,...m,...JR(c,u)},onBlur:q=>{W.current&&!q.currentTarget.contains(q.relatedTarget)&&(W.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||W.current||(W.current=!0,A.current=q.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{F||M(!1)},onDragEnd:()=>M(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||I(!0)},onPointerUp:()=>I(!1)},j.filter(q=>!q.position&&ae===0||q.position===se).map((q,Re)=>{var Te,Se;return ne.createElement(XR,{key:q.id,icons:w,index:Re,toast:q,defaultRichColors:f,duration:(Te=p==null?void 0:p.duration)!=null?Te:g,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:b,closeButton:(Se=p==null?void 0:p.closeButton)!=null?Se:i,interacting:F,position:se,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ee,toasts:j.filter(Ee=>Ee.position==q.position),heights:T.filter(Ee=>Ee.position==q.position),setHeights:P,expandByDefault:o,gap:y,loadingIcon:v,expanded:R,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const eO=({...e})=>{const{theme:t="system"}=CR();return a.jsx(ZR,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var tO=qm[" useId ".trim().toString()]||(()=>{}),nO=0;function rn(e){const[t,n]=d.useState(tO());return ut(()=>{e||n(r=>r??String(nO++))},[e]),e||(t?`radix-${t}`:"")}const rO=["top","right","bottom","left"],Js=Math.min,Nn=Math.max,gd=Math.round,hu=Math.floor,Tr=e=>({x:e,y:e}),sO={left:"right",right:"left",bottom:"top",top:"bottom"},oO={start:"end",end:"start"};function Qp(e,t,n){return Nn(e,Js(t,n))}function ns(e,t){return typeof e=="function"?e(t):e}function rs(e){return e.split("-")[0]}function Di(e){return e.split("-")[1]}function qg(e){return e==="x"?"y":"x"}function Gg(e){return e==="y"?"height":"width"}const aO=new Set(["top","bottom"]);function Cr(e){return aO.has(rs(e))?"y":"x"}function Yg(e){return qg(Cr(e))}function iO(e,t,n){n===void 0&&(n=!1);const r=Di(e),s=Yg(e),o=Gg(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=vd(i)),[i,vd(i)]}function lO(e){const t=vd(e);return[Xp(e),t,Xp(t)]}function Xp(e){return e.replace(/start|end/g,t=>oO[t])}const qx=["left","right"],Gx=["right","left"],cO=["top","bottom"],uO=["bottom","top"];function dO(e,t,n){switch(e){case"top":case"bottom":return n?t?Gx:qx:t?qx:Gx;case"left":case"right":return t?cO:uO;default:return[]}}function hO(e,t,n,r){const s=Di(e);let o=dO(rs(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Xp)))),o}function vd(e){return e.replace(/left|right|bottom|top/g,t=>sO[t])}function fO(e){return{top:0,right:0,bottom:0,left:0,...e}}function $N(e){return typeof e!="number"?fO(e):{top:e,right:e,bottom:e,left:e}}function yd(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Yx(e,t,n){let{reference:r,floating:s}=e;const o=Cr(t),i=Yg(t),l=Gg(i),c=rs(t),u=o==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,g=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Di(t)){case"start":m[i]-=g*(n&&u?-1:1);break;case"end":m[i]+=g*(n&&u?-1:1);break}return m}const pO=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=Yx(u,r,c),g=r,m={},b=0;for(let p=0;p<l.length;p++){const{name:x,fn:y}=l[p],{x:v,y:w,data:S,reset:N}=await y({x:h,y:f,initialPlacement:r,placement:g,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});h=v??h,f=w??f,m={...m,[x]:{...m[x],...S}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(g=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:h,y:f}=Yx(u,g,c)),p=-1)}return{x:h,y:f,placement:g,strategy:s,middlewareData:m}};async function ql(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:m=0}=ns(t,e),b=$N(m),x=l[g?f==="floating"?"reference":"floating":f],y=yd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=yd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(y.top-N.top+b.top)/S.y,bottom:(N.bottom-y.bottom+b.bottom)/S.y,left:(y.left-N.left+b.left)/S.x,right:(N.right-y.right+b.right)/S.x}}const mO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=ns(e,t)||{};if(u==null)return{};const f=$N(h),g={x:n,y:r},m=Yg(s),b=Gg(m),p=await i.getDimensions(u),x=m==="y",y=x?"top":"left",v=x?"bottom":"right",w=x?"clientHeight":"clientWidth",S=o.reference[b]+o.reference[m]-g[m]-o.floating[b],N=g[m]-o.reference[m],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=j?j[w]:0;(!_||!await(i.isElement==null?void 0:i.isElement(j)))&&(_=l.floating[w]||o.floating[b]);const C=S/2-N/2,T=_/2-p[b]/2-1,P=Js(f[y],T),R=Js(f[v],T),M=P,F=_-p[b]-R,I=_/2-p[b]/2+C,te=Qp(M,I,F),V=!c.arrow&&Di(s)!=null&&I!==te&&o.reference[b]/2-(I<M?P:R)-p[b]/2<0,oe=V?I<M?I-M:I-F:0;return{[m]:g[m]+oe,data:{[m]:te,centerOffset:I-te-oe,...V&&{alignmentOffset:oe}},reset:V}}}),gO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...x}=ns(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=rs(s),v=Cr(l),w=rs(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=g||(w||!p?[vd(l)]:lO(l)),j=b!=="none";!g&&j&&N.push(...hO(l,p,b,S));const _=[l,...N],C=await ql(t,x),T=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&T.push(C[y]),f){const I=iO(s,i,S);T.push(C[I[0]],C[I[1]])}if(P=[...P,{placement:s,overflows:T}],!T.every(I=>I<=0)){var R,M;const I=(((R=o.flip)==null?void 0:R.index)||0)+1,te=_[I];if(te&&(!(f==="alignment"?v!==Cr(te):!1)||P.every(O=>O.overflows[0]>0&&Cr(O.placement)===v)))return{data:{index:I,overflows:P},reset:{placement:te}};let V=(M=P.filter(oe=>oe.overflows[0]<=0).sort((oe,O)=>oe.overflows[1]-O.overflows[1])[0])==null?void 0:M.placement;if(!V)switch(m){case"bestFit":{var F;const oe=(F=P.filter(O=>{if(j){const A=Cr(O.placement);return A===v||A==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(A=>A>0).reduce((A,W)=>A+W,0)]).sort((O,A)=>O[1]-A[1])[0])==null?void 0:F[0];oe&&(V=oe);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function Qx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xx(e){return rO.some(t=>e[t]>=0)}const vO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=ns(e,t);switch(r){case"referenceHidden":{const o=await ql(t,{...s,elementContext:"reference"}),i=Qx(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Xx(i)}}}case"escaped":{const o=await ql(t,{...s,altBoundary:!0}),i=Qx(o,n.floating);return{data:{escapedOffsets:i,escaped:Xx(i)}}}default:return{}}}}},FN=new Set(["left","top"]);async function yO(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=rs(n),l=Di(n),c=Cr(n)==="y",u=FN.has(i)?-1:1,h=o&&c?-1:1,f=ns(t,e);let{mainAxis:g,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(m=l==="end"?b*-1:b),c?{x:m*h,y:g*u}:{x:g*u,y:m*h}}const xO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await yO(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},wO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...c}=ns(e,t),u={x:n,y:r},h=await ql(t,c),f=Cr(rs(s)),g=qg(f);let m=u[g],b=u[f];if(o){const x=g==="y"?"top":"left",y=g==="y"?"bottom":"right",v=m+h[x],w=m-h[y];m=Qp(v,m,w)}if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=b+h[x],w=b-h[y];b=Qp(v,b,w)}const p=l.fn({...t,[g]:m,[f]:b});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[g]:o,[f]:i}}}}}},bO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ns(e,t),h={x:n,y:r},f=Cr(s),g=qg(f);let m=h[g],b=h[f];const p=ns(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=g==="y"?"height":"width",S=o.reference[g]-o.floating[w]+x.mainAxis,N=o.reference[g]+o.reference[w]-x.mainAxis;m<S?m=S:m>N&&(m=N)}if(u){var y,v;const w=g==="y"?"width":"height",S=FN.has(rs(s)),N=o.reference[f]-o.floating[w]+(S&&((y=i.offset)==null?void 0:y[f])||0)+(S?0:x.crossAxis),j=o.reference[f]+o.reference[w]+(S?0:((v=i.offset)==null?void 0:v[f])||0)-(S?x.crossAxis:0);b<N?b=N:b>j&&(b=j)}return{[g]:m,[f]:b}}}},SO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=ns(e,t),h=await ql(t,u),f=rs(s),g=Di(s),m=Cr(s)==="y",{width:b,height:p}=o.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=g===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,x=g==="end"?"top":"bottom");const v=p-h.top-h.bottom,w=b-h.left-h.right,S=Js(p-h[x],v),N=Js(b-h[y],w),j=!t.middlewareData.shift;let _=S,C=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=v),j&&!g){const P=Nn(h.left,0),R=Nn(h.right,0),M=Nn(h.top,0),F=Nn(h.bottom,0);m?C=b-2*(P!==0||R!==0?P+R:Nn(h.left,h.right)):_=p-2*(M!==0||F!==0?M+F:Nn(h.top,h.bottom))}await c({...t,availableWidth:C,availableHeight:_});const T=await i.getDimensions(l.floating);return b!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function dh(){return typeof window<"u"}function Mi(e){return UN(e)?(e.nodeName||"").toLowerCase():"#document"}function kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Or(e){var t;return(t=(UN(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function UN(e){return dh()?e instanceof Node||e instanceof kn(e).Node:!1}function fr(e){return dh()?e instanceof Element||e instanceof kn(e).Element:!1}function Rr(e){return dh()?e instanceof HTMLElement||e instanceof kn(e).HTMLElement:!1}function Jx(e){return!dh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kn(e).ShadowRoot}const NO=new Set(["inline","contents"]);function Nc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!NO.has(s)}const jO=new Set(["table","td","th"]);function _O(e){return jO.has(Mi(e))}const CO=[":popover-open",":modal"];function hh(e){return CO.some(t=>{try{return e.matches(t)}catch{return!1}})}const EO=["transform","translate","scale","rotate","perspective"],kO=["transform","translate","scale","rotate","perspective","filter"],TO=["paint","layout","strict","content"];function Qg(e){const t=Xg(),n=fr(e)?pr(e):e;return EO.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||kO.some(r=>(n.willChange||"").includes(r))||TO.some(r=>(n.contain||"").includes(r))}function AO(e){let t=Zs(e);for(;Rr(t)&&!xi(t);){if(Qg(t))return t;if(hh(t))return null;t=Zs(t)}return null}function Xg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const PO=new Set(["html","body","#document"]);function xi(e){return PO.has(Mi(e))}function pr(e){return kn(e).getComputedStyle(e)}function fh(e){return fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zs(e){if(Mi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Jx(e)&&e.host||Or(e);return Jx(t)?t.host:t}function zN(e){const t=Zs(e);return xi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Rr(t)&&Nc(t)?t:zN(t)}function Gl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=zN(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=kn(s);if(o){const l=Jp(i);return t.concat(i,i.visualViewport||[],Nc(s)?s:[],l&&n?Gl(l):[])}return t.concat(s,Gl(s,[],n))}function Jp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BN(e){const t=pr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Rr(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=gd(n)!==o||gd(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Jg(e){return fr(e)?e:e.contextElement}function Ha(e){const t=Jg(e);if(!Rr(t))return Tr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=BN(t);let i=(o?gd(n.width):n.width)/r,l=(o?gd(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const RO=Tr(0);function VN(e){const t=kn(e);return!Xg()||!t.visualViewport?RO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function OO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==kn(e)?!1:t}function Bo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Jg(e);let i=Tr(1);t&&(r?fr(r)&&(i=Ha(r)):i=Ha(e));const l=OO(o,n,r)?VN(o):Tr(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(o){const g=kn(o),m=r&&fr(r)?kn(r):r;let b=g,p=Jp(b);for(;p&&r&&m!==b;){const x=Ha(p),y=p.getBoundingClientRect(),v=pr(p),w=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*x.x,S=y.top+(p.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,h*=x.x,f*=x.y,c+=w,u+=S,b=kn(p),p=Jp(b)}}return yd({width:h,height:f,x:c,y:u})}function Zg(e,t){const n=fh(e).scrollLeft;return t?t.left+n:Bo(Or(e)).left+n}function WN(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Zg(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function IO(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Or(r),l=t?hh(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Tr(1);const h=Tr(0),f=Rr(r);if((f||!f&&!o)&&((Mi(r)!=="body"||Nc(i))&&(c=fh(r)),Rr(r))){const m=Bo(r);u=Ha(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const g=i&&!f&&!o?WN(i,c,!0):Tr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+g.x,y:n.y*u.y-c.scrollTop*u.y+h.y+g.y}}function DO(e){return Array.from(e.getClientRects())}function MO(e){const t=Or(e),n=fh(e),r=e.ownerDocument.body,s=Nn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Nn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Zg(e);const l=-n.scrollTop;return pr(r).direction==="rtl"&&(i+=Nn(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function LO(e,t){const n=kn(e),r=Or(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=Xg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const $O=new Set(["absolute","fixed"]);function FO(e,t){const n=Bo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Rr(e)?Ha(e):Tr(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function Zx(e,t,n){let r;if(t==="viewport")r=LO(e,n);else if(t==="document")r=MO(Or(e));else if(fr(t))r=FO(t,n);else{const s=VN(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return yd(r)}function HN(e,t){const n=Zs(e);return n===t||!fr(n)||xi(n)?!1:pr(n).position==="fixed"||HN(n,t)}function UO(e,t){const n=t.get(e);if(n)return n;let r=Gl(e,[],!1).filter(l=>fr(l)&&Mi(l)!=="body"),s=null;const o=pr(e).position==="fixed";let i=o?Zs(e):e;for(;fr(i)&&!xi(i);){const l=pr(i),c=Qg(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&$O.has(s.position)||Nc(i)&&!c&&HN(e,i))?r=r.filter(h=>h!==i):s=l,i=Zs(i)}return t.set(e,r),r}function zO(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?hh(t)?[]:UO(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,h)=>{const f=Zx(t,h,s);return u.top=Nn(f.top,u.top),u.right=Js(f.right,u.right),u.bottom=Js(f.bottom,u.bottom),u.left=Nn(f.left,u.left),u},Zx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BO(e){const{width:t,height:n}=BN(e);return{width:t,height:n}}function VO(e,t,n){const r=Rr(t),s=Or(t),o=n==="fixed",i=Bo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Tr(0);function u(){c.x=Zg(s)}if(r||!r&&!o)if((Mi(t)!=="body"||Nc(s))&&(l=fh(t)),r){const m=Bo(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const h=s&&!r&&!o?WN(s,l):Tr(0),f=i.left+l.scrollLeft-c.x-h.x,g=i.top+l.scrollTop-c.y-h.y;return{x:f,y:g,width:i.width,height:i.height}}function bf(e){return pr(e).position==="static"}function ew(e,t){if(!Rr(e)||pr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Or(e)===n&&(n=n.ownerDocument.body),n}function KN(e,t){const n=kn(e);if(hh(e))return n;if(!Rr(e)){let s=Zs(e);for(;s&&!xi(s);){if(fr(s)&&!bf(s))return s;s=Zs(s)}return n}let r=ew(e,t);for(;r&&_O(r)&&bf(r);)r=ew(r,t);return r&&xi(r)&&bf(r)&&!Qg(r)?n:r||AO(e)||n}const WO=async function(e){const t=this.getOffsetParent||KN,n=this.getDimensions,r=await n(e.floating);return{reference:VO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function HO(e){return pr(e).direction==="rtl"}const KO={convertOffsetParentRelativeRectToViewportRelativeRect:IO,getDocumentElement:Or,getClippingRect:zO,getOffsetParent:KN,getElementRects:WO,getClientRects:DO,getDimensions:BO,getScale:Ha,isElement:fr,isRTL:HO};function qN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function qO(e,t){let n=null,r;const s=Or(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:h,top:f,width:g,height:m}=u;if(l||t(),!g||!m)return;const b=hu(f),p=hu(s.clientWidth-(h+g)),x=hu(s.clientHeight-(f+m)),y=hu(h),w={rootMargin:-b+"px "+-p+"px "+-x+"px "+-y+"px",threshold:Nn(0,Js(1,c))||1};let S=!0;function N(j){const _=j[0].intersectionRatio;if(_!==c){if(!S)return i();_?i(!1,_):r=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!qN(u,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(N,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return i(!0),o}function GO(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Jg(e),h=s||o?[...u?Gl(u):[],...Gl(t)]:[];h.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=u&&l?qO(u,n):null;let g=-1,m=null;i&&(m=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let b,p=c?Bo(e):null;c&&x();function x(){const y=Bo(e);p&&!qN(p,y)&&n(),p=y,b=requestAnimationFrame(x)}return n(),()=>{var y;h.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(y=m)==null||y.disconnect(),m=null,c&&cancelAnimationFrame(b)}}const YO=xO,QO=wO,XO=gO,JO=SO,ZO=vO,tw=mO,eI=bO,tI=(e,t,n)=>{const r=new Map,s={platform:KO,...n},o={...s.platform,_c:r};return pO(e,t,{...s,platform:o})};var nI=typeof document<"u",rI=function(){},$u=nI?d.useLayoutEffect:rI;function xd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!xd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!xd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function GN(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nw(e,t){const n=GN(e);return Math.round(t*n)/n}function Sf(e){const t=d.useRef(e);return $u(()=>{t.current=e}),t}function sI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,m]=d.useState(r);xd(g,r)||m(r);const[b,p]=d.useState(null),[x,y]=d.useState(null),v=d.useCallback(O=>{O!==j.current&&(j.current=O,p(O))},[]),w=d.useCallback(O=>{O!==_.current&&(_.current=O,y(O))},[]),S=o||b,N=i||x,j=d.useRef(null),_=d.useRef(null),C=d.useRef(h),T=c!=null,P=Sf(c),R=Sf(s),M=Sf(u),F=d.useCallback(()=>{if(!j.current||!_.current)return;const O={placement:t,strategy:n,middleware:g};R.current&&(O.platform=R.current),tI(j.current,_.current,O).then(A=>{const W={...A,isPositioned:M.current!==!1};I.current&&!xd(C.current,W)&&(C.current=W,Xo.flushSync(()=>{f(W)}))})},[g,t,n,R,M]);$u(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[u]);const I=d.useRef(!1);$u(()=>(I.current=!0,()=>{I.current=!1}),[]),$u(()=>{if(S&&(j.current=S),N&&(_.current=N),S&&N){if(P.current)return P.current(S,N,F);F()}},[S,N,F,P,T]);const te=d.useMemo(()=>({reference:j,floating:_,setReference:v,setFloating:w}),[v,w]),V=d.useMemo(()=>({reference:S,floating:N}),[S,N]),oe=d.useMemo(()=>{const O={position:n,left:0,top:0};if(!V.floating)return O;const A=nw(V.floating,h.x),W=nw(V.floating,h.y);return l?{...O,transform:"translate("+A+"px, "+W+"px)",...GN(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:W}},[n,l,V.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:F,refs:te,elements:V,floatingStyles:oe}),[h,F,te,V,oe])}const oI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?tw({element:r.current,padding:s}).fn(n):{}:r?tw({element:r,padding:s}).fn(n):{}}}},aI=(e,t)=>({...YO(e),options:[e,t]}),iI=(e,t)=>({...QO(e),options:[e,t]}),lI=(e,t)=>({...eI(e),options:[e,t]}),cI=(e,t)=>({...XO(e),options:[e,t]}),uI=(e,t)=>({...JO(e),options:[e,t]}),dI=(e,t)=>({...ZO(e),options:[e,t]}),hI=(e,t)=>({...oI(e),options:[e,t]});var fI="Arrow",YN=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(me.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});YN.displayName=fI;var pI=YN;function QN(e){const[t,n]=d.useState(void 0);return ut(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ev="Popper",[XN,Li]=Vt(ev),[mI,JN]=XN(ev),ZN=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return a.jsx(mI,{scope:t,anchor:r,onAnchorChange:s,children:n})};ZN.displayName=ev;var e1="PopperAnchor",t1=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=JN(e1,n),i=d.useRef(null),l=Oe(t,i);return d.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(me.div,{...s,ref:l})});t1.displayName=e1;var tv="PopperContent",[gI,vI]=XN(tv),n1=d.forwardRef((e,t)=>{var q,Re,Te,Se,Ee,De;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:b,...p}=e,x=JN(tv,n),[y,v]=d.useState(null),w=Oe(t,Ve=>v(Ve)),[S,N]=d.useState(null),j=QN(S),_=(j==null?void 0:j.width)??0,C=(j==null?void 0:j.height)??0,T=r+(o!=="center"?"-"+o:""),P=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},R=Array.isArray(u)?u:[u],M=R.length>0,F={padding:P,boundary:R.filter(xI),altBoundary:M},{refs:I,floatingStyles:te,placement:V,isPositioned:oe,middlewareData:O}=sI({strategy:"fixed",placement:T,whileElementsMounted:(...Ve)=>GO(...Ve,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[aI({mainAxis:s+C,alignmentAxis:i}),c&&iI({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lI():void 0,...F}),c&&cI({...F}),uI({...F,apply:({elements:Ve,rects:nt,availableWidth:dt,availableHeight:Tt})=>{const{width:Mt,height:an}=nt.reference,$=Ve.floating.style;$.setProperty("--radix-popper-available-width",`${dt}px`),$.setProperty("--radix-popper-available-height",`${Tt}px`),$.setProperty("--radix-popper-anchor-width",`${Mt}px`),$.setProperty("--radix-popper-anchor-height",`${an}px`)}}),S&&hI({element:S,padding:l}),wI({arrowWidth:_,arrowHeight:C}),g&&dI({strategy:"referenceHidden",...F})]}),[A,W]=o1(V),ee=ct(b);ut(()=>{oe&&(ee==null||ee())},[oe,ee]);const se=(q=O.arrow)==null?void 0:q.x,ae=(Re=O.arrow)==null?void 0:Re.y,ge=((Te=O.arrow)==null?void 0:Te.centerOffset)!==0,[K,ye]=d.useState();return ut(()=>{y&&ye(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:I.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:oe?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(Se=O.transformOrigin)==null?void 0:Se.x,(Ee=O.transformOrigin)==null?void 0:Ee.y].join(" "),...((De=O.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(gI,{scope:n,placedSide:A,onArrowChange:N,arrowX:se,arrowY:ae,shouldHideArrow:ge,children:a.jsx(me.div,{"data-side":A,"data-align":W,...p,ref:w,style:{...p.style,animation:oe?void 0:"none"}})})})});n1.displayName=tv;var r1="PopperArrow",yI={top:"bottom",right:"left",bottom:"top",left:"right"},s1=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=vI(r1,r),i=yI[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(pI,{...s,ref:n,style:{...s.style,display:"block"}})})});s1.displayName=r1;function xI(e){return e!==null}var wI=e=>({name:"transformOrigin",options:e,fn(t){var x,y,v;const{placement:n,rects:r,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=o1(n),f={start:"0%",center:"50%",end:"100%"}[h],g=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",p="";return u==="bottom"?(b=i?f:`${g}px`,p=`${-c}px`):u==="top"?(b=i?f:`${g}px`,p=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,p=i?f:`${m}px`):u==="left"&&(b=`${r.floating.width+c}px`,p=i?f:`${m}px`),{data:{x:b,y:p}}}});function o1(e){const[t,n="center"]=e.split("-");return[t,n]}var ph=ZN,nv=t1,rv=n1,sv=s1,[mh,E8]=Vt("Tooltip",[Li]),gh=Li(),a1="TooltipProvider",bI=700,Zp="tooltip.open",[SI,ov]=mh(a1),i1=e=>{const{__scopeTooltip:t,delayDuration:n=bI,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=d.useRef(!0),l=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(SI,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};i1.displayName=a1;var Yl="Tooltip",[NI,vh]=mh(Yl),l1=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=ov(Yl,e.__scopeTooltip),u=gh(t),[h,f]=d.useState(null),g=rn(),m=d.useRef(0),b=i??c.disableHoverableContent,p=l??c.delayDuration,x=d.useRef(!1),[y,v]=Kn({prop:r,defaultProp:s??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(Zp))):c.onClose(),o==null||o(_)},caller:Yl}),w=d.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),S=d.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,v(!0)},[v]),N=d.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),j=d.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,v(!0),m.current=0},p)},[p,v]);return d.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),a.jsx(ph,{...u,children:a.jsx(NI,{scope:t,contentId:g,open:y,stateAttribute:w,trigger:h,onTriggerChange:f,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayedRef.current?j():S()},[c.isOpenDelayedRef,j,S]),onTriggerLeave:d.useCallback(()=>{b?N():(window.clearTimeout(m.current),m.current=0)},[N,b]),onOpen:S,onClose:N,disableHoverableContent:b,children:n})})};l1.displayName=Yl;var em="TooltipTrigger",c1=d.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=vh(em,n),o=ov(em,n),i=gh(n),l=d.useRef(null),c=Oe(t,l,s.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),f=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(nv,{asChild:!0,...i,children:a.jsx(me.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:re(e.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:re(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:re(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:re(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:re(e.onBlur,s.onClose),onClick:re(e.onClick,s.onClose)})})});c1.displayName=em;var jI="TooltipPortal",[k8,_I]=mh(jI,{forceMount:void 0}),wi="TooltipContent",u1=d.forwardRef((e,t)=>{const n=_I(wi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=vh(wi,e.__scopeTooltip);return a.jsx(Yt,{present:r||i.open,children:i.disableHoverableContent?a.jsx(d1,{side:s,...o,ref:t}):a.jsx(CI,{side:s,...o,ref:t})})}),CI=d.forwardRef((e,t)=>{const n=vh(wi,e.__scopeTooltip),r=ov(wi,e.__scopeTooltip),s=d.useRef(null),o=Oe(t,s),[i,l]=d.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,g=d.useCallback(()=>{l(null),f(!1)},[f]),m=d.useCallback((b,p)=>{const x=b.currentTarget,y={x:b.clientX,y:b.clientY},v=PI(y,x.getBoundingClientRect()),w=RI(y,v),S=OI(p.getBoundingClientRect()),N=DI([...w,...S]);l(N),f(!0)},[f]);return d.useEffect(()=>()=>g(),[g]),d.useEffect(()=>{if(c&&h){const b=x=>m(x,h),p=x=>m(x,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",p)}}},[c,h,m,g]),d.useEffect(()=>{if(i){const b=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},v=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),w=!II(y,i);v?g():w&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,i,u,g]),a.jsx(d1,{...e,ref:o})}),[EI,kI]=mh(Yl,{isInside:!1}),TI=GS("TooltipContent"),d1=d.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=vh(wi,n),u=gh(n),{onClose:h}=c;return d.useEffect(()=>(document.addEventListener(Zp,h),()=>document.removeEventListener(Zp,h)),[h]),d.useEffect(()=>{if(c.trigger){const f=g=>{const m=g.target;m!=null&&m.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),a.jsx(Ri,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:a.jsxs(rv,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(TI,{children:r}),a.jsx(EI,{scope:n,isInside:!0,children:a.jsx(GP,{id:c.contentId,role:"tooltip",children:s||r})})]})})});u1.displayName=wi;var h1="TooltipArrow",AI=d.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=gh(n);return kI(h1,n).isInside?null:a.jsx(sv,{...s,...r,ref:t})});AI.displayName=h1;function PI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function RI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function OI(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function II(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,h=l.y,f=c.x,g=c.y;h>r!=g>r&&n<(f-u)*(r-h)/(g-h)+u&&(s=!s)}return s}function DI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),MI(t)}function MI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var LI=i1,$I=l1,FI=c1,f1=u1;const p1=LI,UI=$I,zI=FI,m1=d.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(f1,{ref:r,sideOffset:t,className:Y("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));m1.displayName=f1.displayName;var $i=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vo=typeof window>"u"||"Deno"in globalThis;function tn(){}function BI(e,t){return typeof e=="function"?e(t):e}function tm(e){return typeof e=="number"&&e>=0&&e!==1/0}function g1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ks(e,t){return typeof e=="function"?e(t):e}function Mn(e,t){return typeof e=="function"?e(t):e}function rw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==av(i,t.options))return!1}else if(!Ql(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function sw(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Wo(t.options.mutationKey)!==Wo(o))return!1}else if(!Ql(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function av(e,t){return((t==null?void 0:t.queryKeyHashFn)||Wo)(e)}function Wo(e){return JSON.stringify(e,(t,n)=>nm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Ql(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Ql(e[n],t[n])):!1}function v1(e,t){if(e===t)return e;const n=ow(e)&&ow(t);if(n||nm(e)&&nm(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<i;h++){const f=n?h:o[h];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=v1(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function wd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ow(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function nm(e){if(!aw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!aw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function aw(e){return Object.prototype.toString.call(e)==="[object Object]"}function VI(e){return new Promise(t=>{setTimeout(t,e)})}function rm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?v1(e,t):t}function WI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function HI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var iv=Symbol();function y1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===iv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function x1(e,t){return typeof e=="function"?e(...t):!!e}var jo,_s,Qa,S0,KI=(S0=class extends $i{constructor(){super();je(this,jo);je(this,_s);je(this,Qa);ce(this,Qa,t=>{if(!Vo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,_s)||this.setEventListener(E(this,Qa))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,_s))==null||t.call(this),ce(this,_s,void 0))}setEventListener(t){var n;ce(this,Qa,t),(n=E(this,_s))==null||n.call(this),ce(this,_s,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){E(this,jo)!==t&&(ce(this,jo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof E(this,jo)=="boolean"?E(this,jo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},jo=new WeakMap,_s=new WeakMap,Qa=new WeakMap,S0),lv=new KI,Xa,Cs,Ja,N0,qI=(N0=class extends $i{constructor(){super();je(this,Xa,!0);je(this,Cs);je(this,Ja);ce(this,Ja,t=>{if(!Vo&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,Cs)||this.setEventListener(E(this,Ja))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Cs))==null||t.call(this),ce(this,Cs,void 0))}setEventListener(t){var n;ce(this,Ja,t),(n=E(this,Cs))==null||n.call(this),ce(this,Cs,t(this.setOnline.bind(this)))}setOnline(t){E(this,Xa)!==t&&(ce(this,Xa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return E(this,Xa)}},Xa=new WeakMap,Cs=new WeakMap,Ja=new WeakMap,N0),bd=new qI;function sm(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function GI(e){return Math.min(1e3*2**e,3e4)}function w1(e){return(e??"online")==="online"?bd.isOnline():!0}var b1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Nf(e){return e instanceof b1}function S1(e){let t=!1,n=0,r=!1,s;const o=sm(),i=p=>{var x;r||(g(new b1(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>lv.isFocused()&&(e.networkMode==="always"||bd.isOnline())&&e.canRun(),h=()=>w1(e.networkMode)&&e.canRun(),f=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),o.resolve(p))},g=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),o.reject(p))},m=()=>new Promise(p=>{var x;s=y=>{(r||u())&&p(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var j;if(r)return;const v=e.retry??(Vo?0:3),w=e.retryDelay??GI,S=typeof w=="function"?w(n,y):w,N=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!N){g(y);return}n++,(j=e.onFail)==null||j.call(e,n,y),VI(S).then(()=>u()?void 0:m()).then(()=>{t?g(y):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():m().then(b),o)}}var YI=e=>setTimeout(e,0);function QI(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=YI;const o=l=>{t?e.push(l):s(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Rt=QI(),_o,j0,N1=(j0=class{constructor(){je(this,_o)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tm(this.gcTime)&&ce(this,_o,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Vo?1/0:5*60*1e3))}clearGcTimeout(){E(this,_o)&&(clearTimeout(E(this,_o)),ce(this,_o,void 0))}},_o=new WeakMap,j0),Za,Co,Dn,Eo,Kt,dc,ko,rr,Lr,_0,XI=(_0=class extends N1{constructor(t){super();je(this,rr);je(this,Za);je(this,Co);je(this,Dn);je(this,Eo);je(this,Kt);je(this,dc);je(this,ko);ce(this,ko,!1),ce(this,dc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ce(this,Eo,t.client),ce(this,Dn,E(this,Eo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ce(this,Za,JI(this.options)),this.state=t.state??E(this,Za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,Kt))==null?void 0:t.promise}setOptions(t){this.options={...E(this,dc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Dn).remove(this)}setData(t,n){const r=rm(this.state.data,t,this.options);return Le(this,rr,Lr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Le(this,rr,Lr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=E(this,Kt))==null?void 0:r.promise;return(s=E(this,Kt))==null||s.cancel(t),n?n.then(tn).catch(tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Za))}isActive(){return this.observers.some(t=>Mn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ks(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!g1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=E(this,Kt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=E(this,Kt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,Dn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(E(this,Kt)&&(E(this,ko)?E(this,Kt).cancel({revert:!0}):E(this,Kt).cancelRetry()),this.scheduleGc()),E(this,Dn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Le(this,rr,Lr).call(this,{type:"invalidate"})}fetch(t,n){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,Kt))return E(this,Kt).continueRetry(),E(this,Kt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(m=>m.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(ce(this,ko,!0),r.signal)})},o=()=>{const g=y1(this.options,n),b=(()=>{const p={client:E(this,Eo),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return ce(this,ko,!1),this.options.persister?this.options.persister(g,b,this):g(b)},l=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:E(this,Eo),state:this.state,fetchFn:o};return s(g),g})();(u=this.options.behavior)==null||u.onFetch(l,this),ce(this,Co,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Le(this,rr,Lr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=g=>{var m,b,p,x;Nf(g)&&g.silent||Le(this,rr,Lr).call(this,{type:"error",error:g}),Nf(g)||((b=(m=E(this,Dn).config).onError)==null||b.call(m,g,this),(x=(p=E(this,Dn).config).onSettled)==null||x.call(p,this.state.data,g,this)),this.scheduleGc()};return ce(this,Kt,S1({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var m,b,p,x;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(y){c(y);return}(b=(m=E(this,Dn).config).onSuccess)==null||b.call(m,g,this),(x=(p=E(this,Dn).config).onSettled)==null||x.call(p,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,m)=>{Le(this,rr,Lr).call(this,{type:"failed",failureCount:g,error:m})},onPause:()=>{Le(this,rr,Lr).call(this,{type:"pause"})},onContinue:()=>{Le(this,rr,Lr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),E(this,Kt).start()}},Za=new WeakMap,Co=new WeakMap,Dn=new WeakMap,Eo=new WeakMap,Kt=new WeakMap,dc=new WeakMap,ko=new WeakMap,rr=new WeakSet,Lr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...j1(r.data,this.options),fetchMeta:t.meta??null};case"success":return ce(this,Co,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Nf(s)&&s.revert&&E(this,Co)?{...E(this,Co),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Rt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,Dn).notify({query:this,type:"updated",action:t})})},_0);function j1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:w1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function JI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var br,C0,ZI=(C0=class extends $i{constructor(t={}){super();je(this,br);this.config=t,ce(this,br,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??av(s,n);let i=this.get(o);return i||(i=new XI({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){E(this,br).has(t.queryHash)||(E(this,br).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=E(this,br).get(t.queryHash);n&&(t.destroy(),n===t&&E(this,br).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,br).get(t)}getAll(){return[...E(this,br).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>rw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>rw(t,r)):n}notify(t){Rt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Rt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},br=new WeakMap,C0),Sr,Jt,To,Nr,vs,E0,eD=(E0=class extends N1{constructor(t){super();je(this,Nr);je(this,Sr);je(this,Jt);je(this,To);this.mutationId=t.mutationId,ce(this,Jt,t.mutationCache),ce(this,Sr,[]),this.state=t.state||_1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,Sr).includes(t)||(E(this,Sr).push(t),this.clearGcTimeout(),E(this,Jt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ce(this,Sr,E(this,Sr).filter(n=>n!==t)),this.scheduleGc(),E(this,Jt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,Sr).length||(this.state.status==="pending"?this.scheduleGc():E(this,Jt).remove(this))}continue(){var t;return((t=E(this,To))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,u,h,f,g,m,b,p,x,y,v,w,S,N,j,_,C;const n=()=>{Le(this,Nr,vs).call(this,{type:"continue"})};ce(this,To,S1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{Le(this,Nr,vs).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{Le(this,Nr,vs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,Jt).canRun(this)}));const r=this.state.status==="pending",s=!E(this,To).canStart();try{if(r)n();else{Le(this,Nr,vs).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=E(this,Jt).config).onMutate)==null?void 0:i.call(o,t,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));P!==this.state.context&&Le(this,Nr,vs).call(this,{type:"pending",context:P,variables:t,isPaused:s})}const T=await E(this,To).start();return await((h=(u=E(this,Jt).config).onSuccess)==null?void 0:h.call(u,T,t,this.state.context,this)),await((g=(f=this.options).onSuccess)==null?void 0:g.call(f,T,t,this.state.context)),await((b=(m=E(this,Jt).config).onSettled)==null?void 0:b.call(m,T,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,T,null,t,this.state.context)),Le(this,Nr,vs).call(this,{type:"success",data:T}),T}catch(T){try{throw await((v=(y=E(this,Jt).config).onError)==null?void 0:v.call(y,T,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,T,t,this.state.context)),await((j=(N=E(this,Jt).config).onSettled)==null?void 0:j.call(N,void 0,T,this.state.variables,this.state.context,this)),await((C=(_=this.options).onSettled)==null?void 0:C.call(_,void 0,T,t,this.state.context)),T}finally{Le(this,Nr,vs).call(this,{type:"error",error:T})}}finally{E(this,Jt).runNext(this)}}},Sr=new WeakMap,Jt=new WeakMap,To=new WeakMap,Nr=new WeakSet,vs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Rt.batch(()=>{E(this,Sr).forEach(r=>{r.onMutationUpdate(t)}),E(this,Jt).notify({mutation:this,type:"updated",action:t})})},E0);function _1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zr,sr,hc,k0,tD=(k0=class extends $i{constructor(t={}){super();je(this,zr);je(this,sr);je(this,hc);this.config=t,ce(this,zr,new Set),ce(this,sr,new Map),ce(this,hc,0)}build(t,n,r){const s=new eD({mutationCache:this,mutationId:++Hc(this,hc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){E(this,zr).add(t);const n=fu(t);if(typeof n=="string"){const r=E(this,sr).get(n);r?r.push(t):E(this,sr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,zr).delete(t)){const n=fu(t);if(typeof n=="string"){const r=E(this,sr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&E(this,sr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=fu(t);if(typeof n=="string"){const r=E(this,sr).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=fu(t);if(typeof n=="string"){const s=(r=E(this,sr).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rt.batch(()=>{E(this,zr).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,zr).clear(),E(this,sr).clear()})}getAll(){return Array.from(E(this,zr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>sw(n,r))}findAll(t={}){return this.getAll().filter(n=>sw(t,n))}notify(t){Rt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Rt.batch(()=>Promise.all(t.map(n=>n.continue().catch(tn))))}},zr=new WeakMap,sr=new WeakMap,hc=new WeakMap,k0);function fu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function iw(e){return{onFetch:(t,n)=>{var h,f,g,m,b;const r=t.options,s=(g=(f=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=y1(t.options,t.fetchOptions),v=async(w,S,N)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:S,direction:N?"backward":"forward",meta:t.options.meta};return x(R),R})(),C=await y(_),{maxPages:T}=t.options,P=N?HI:WI;return{pages:P(w.pages,C,T),pageParams:P(w.pageParams,S,T)}};if(s&&o.length){const w=s==="backward",S=w?nD:lw,N={pages:o,pageParams:i},j=S(r,N);l=await v(N,j,w)}else{const w=e??o.length;do{const S=c===0?i[0]??r.initialPageParam:lw(r,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function lw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function nD(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var yt,Es,ks,ei,ti,Ts,ni,ri,T0,rD=(T0=class{constructor(e={}){je(this,yt);je(this,Es);je(this,ks);je(this,ei);je(this,ti);je(this,Ts);je(this,ni);je(this,ri);ce(this,yt,e.queryCache||new ZI),ce(this,Es,e.mutationCache||new tD),ce(this,ks,e.defaultOptions||{}),ce(this,ei,new Map),ce(this,ti,new Map),ce(this,Ts,0)}mount(){Hc(this,Ts)._++,E(this,Ts)===1&&(ce(this,ni,lv.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,yt).onFocus())})),ce(this,ri,bd.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,yt).onOnline())})))}unmount(){var e,t;Hc(this,Ts)._--,E(this,Ts)===0&&((e=E(this,ni))==null||e.call(this),ce(this,ni,void 0),(t=E(this,ri))==null||t.call(this),ce(this,ri,void 0))}isFetching(e){return E(this,yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,Es).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=E(this,yt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=E(this,yt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ks(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return E(this,yt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=E(this,yt).get(r.queryHash),o=s==null?void 0:s.state.data,i=BI(t,o);if(i!==void 0)return E(this,yt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Rt.batch(()=>E(this,yt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=E(this,yt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=E(this,yt);Rt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=E(this,yt);return Rt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Rt.batch(()=>E(this,yt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(tn).catch(tn)}invalidateQueries(e,t={}){return Rt.batch(()=>(E(this,yt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Rt.batch(()=>E(this,yt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(tn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=E(this,yt).build(this,t);return n.isStaleByTime(Ks(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tn).catch(tn)}fetchInfiniteQuery(e){return e.behavior=iw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tn).catch(tn)}ensureInfiniteQueryData(e){return e.behavior=iw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bd.isOnline()?E(this,Es).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,yt)}getMutationCache(){return E(this,Es)}getDefaultOptions(){return E(this,ks)}setDefaultOptions(e){ce(this,ks,e)}setQueryDefaults(e,t){E(this,ei).set(Wo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,ei).values()],n={};return t.forEach(r=>{Ql(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){E(this,ti).set(Wo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,ti).values()],n={};return t.forEach(r=>{Ql(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,ks).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=av(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===iv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,ks).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,yt).clear(),E(this,Es).clear()}},yt=new WeakMap,Es=new WeakMap,ks=new WeakMap,ei=new WeakMap,ti=new WeakMap,Ts=new WeakMap,ni=new WeakMap,ri=new WeakMap,T0),un,Ue,fc,Zt,Ao,si,As,Ps,pc,oi,ai,Po,Ro,Rs,ii,Ke,dl,om,am,im,lm,cm,um,dm,C1,A0,sD=(A0=class extends $i{constructor(t,n){super();je(this,Ke);je(this,un);je(this,Ue);je(this,fc);je(this,Zt);je(this,Ao);je(this,si);je(this,As);je(this,Ps);je(this,pc);je(this,oi);je(this,ai);je(this,Po);je(this,Ro);je(this,Rs);je(this,ii,new Set);this.options=n,ce(this,un,t),ce(this,Ps,null),ce(this,As,sm()),this.options.experimental_prefetchInRender||E(this,As).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,Ue).addObserver(this),cw(E(this,Ue),this.options)?Le(this,Ke,dl).call(this):this.updateResult(),Le(this,Ke,lm).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hm(E(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hm(E(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Le(this,Ke,cm).call(this),Le(this,Ke,um).call(this),E(this,Ue).removeObserver(this)}setOptions(t){const n=this.options,r=E(this,Ue);if(this.options=E(this,un).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mn(this.options.enabled,E(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Le(this,Ke,dm).call(this),E(this,Ue).setOptions(this.options),n._defaulted&&!wd(this.options,n)&&E(this,un).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,Ue),observer:this});const s=this.hasListeners();s&&uw(E(this,Ue),r,this.options,n)&&Le(this,Ke,dl).call(this),this.updateResult(),s&&(E(this,Ue)!==r||Mn(this.options.enabled,E(this,Ue))!==Mn(n.enabled,E(this,Ue))||Ks(this.options.staleTime,E(this,Ue))!==Ks(n.staleTime,E(this,Ue)))&&Le(this,Ke,om).call(this);const o=Le(this,Ke,am).call(this);s&&(E(this,Ue)!==r||Mn(this.options.enabled,E(this,Ue))!==Mn(n.enabled,E(this,Ue))||o!==E(this,Rs))&&Le(this,Ke,im).call(this,o)}getOptimisticResult(t){const n=E(this,un).getQueryCache().build(E(this,un),t),r=this.createResult(n,t);return aD(this,r)&&(ce(this,Zt,r),ce(this,si,this.options),ce(this,Ao,E(this,Ue).state)),r}getCurrentResult(){return E(this,Zt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){E(this,ii).add(t)}getCurrentQuery(){return E(this,Ue)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=E(this,un).defaultQueryOptions(t),r=E(this,un).getQueryCache().build(E(this,un),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Le(this,Ke,dl).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,Zt)))}createResult(t,n){var T;const r=E(this,Ue),s=this.options,o=E(this,Zt),i=E(this,Ao),l=E(this,si),u=t!==r?t.state:E(this,fc),{state:h}=t;let f={...h},g=!1,m;if(n._optimisticResults){const P=this.hasListeners(),R=!P&&cw(t,n),M=P&&uw(t,r,n,s);(R||M)&&(f={...f,...j1(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:p,status:x}=f;m=f.data;let y=!1;if(n.placeholderData!==void 0&&m===void 0&&x==="pending"){let P;o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(P=o.data,y=!0):P=typeof n.placeholderData=="function"?n.placeholderData((T=E(this,ai))==null?void 0:T.state.data,E(this,ai)):n.placeholderData,P!==void 0&&(x="success",m=rm(o==null?void 0:o.data,P,n),g=!0)}if(n.select&&m!==void 0&&!y)if(o&&m===(i==null?void 0:i.data)&&n.select===E(this,pc))m=E(this,oi);else try{ce(this,pc,n.select),m=n.select(m),m=rm(o==null?void 0:o.data,m,n),ce(this,oi,m),ce(this,Ps,null)}catch(P){ce(this,Ps,P)}E(this,Ps)&&(b=E(this,Ps),m=E(this,oi),p=Date.now(),x="error");const v=f.fetchStatus==="fetching",w=x==="pending",S=x==="error",N=w&&v,j=m!==void 0,C={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:S,isInitialLoading:N,isLoading:N,data:m,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:S&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:S&&j,isStale:cv(t,n),refetch:this.refetch,promise:E(this,As),isEnabled:Mn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=F=>{C.status==="error"?F.reject(C.error):C.data!==void 0&&F.resolve(C.data)},R=()=>{const F=ce(this,As,C.promise=sm());P(F)},M=E(this,As);switch(M.status){case"pending":t.queryHash===r.queryHash&&P(M);break;case"fulfilled":(C.status==="error"||C.data!==M.value)&&R();break;case"rejected":(C.status!=="error"||C.error!==M.reason)&&R();break}}return C}updateResult(){const t=E(this,Zt),n=this.createResult(E(this,Ue),this.options);if(ce(this,Ao,E(this,Ue).state),ce(this,si,this.options),E(this,Ao).data!==void 0&&ce(this,ai,E(this,Ue)),wd(n,t))return;ce(this,Zt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!E(this,ii).size)return!0;const i=new Set(o??E(this,ii));return this.options.throwOnError&&i.add("error"),Object.keys(E(this,Zt)).some(l=>{const c=l;return E(this,Zt)[c]!==t[c]&&i.has(c)})};Le(this,Ke,C1).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Le(this,Ke,lm).call(this)}},un=new WeakMap,Ue=new WeakMap,fc=new WeakMap,Zt=new WeakMap,Ao=new WeakMap,si=new WeakMap,As=new WeakMap,Ps=new WeakMap,pc=new WeakMap,oi=new WeakMap,ai=new WeakMap,Po=new WeakMap,Ro=new WeakMap,Rs=new WeakMap,ii=new WeakMap,Ke=new WeakSet,dl=function(t){Le(this,Ke,dm).call(this);let n=E(this,Ue).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(tn)),n},om=function(){Le(this,Ke,cm).call(this);const t=Ks(this.options.staleTime,E(this,Ue));if(Vo||E(this,Zt).isStale||!tm(t))return;const r=g1(E(this,Zt).dataUpdatedAt,t)+1;ce(this,Po,setTimeout(()=>{E(this,Zt).isStale||this.updateResult()},r))},am=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,Ue)):this.options.refetchInterval)??!1},im=function(t){Le(this,Ke,um).call(this),ce(this,Rs,t),!(Vo||Mn(this.options.enabled,E(this,Ue))===!1||!tm(E(this,Rs))||E(this,Rs)===0)&&ce(this,Ro,setInterval(()=>{(this.options.refetchIntervalInBackground||lv.isFocused())&&Le(this,Ke,dl).call(this)},E(this,Rs)))},lm=function(){Le(this,Ke,om).call(this),Le(this,Ke,im).call(this,Le(this,Ke,am).call(this))},cm=function(){E(this,Po)&&(clearTimeout(E(this,Po)),ce(this,Po,void 0))},um=function(){E(this,Ro)&&(clearInterval(E(this,Ro)),ce(this,Ro,void 0))},dm=function(){const t=E(this,un).getQueryCache().build(E(this,un),this.options);if(t===E(this,Ue))return;const n=E(this,Ue);ce(this,Ue,t),ce(this,fc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},C1=function(t){Rt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(E(this,Zt))}),E(this,un).getQueryCache().notify({query:E(this,Ue),type:"observerResultsUpdated"})})},A0);function oD(e,t){return Mn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function cw(e,t){return oD(e,t)||e.state.data!==void 0&&hm(e,t,t.refetchOnMount)}function hm(e,t,n){if(Mn(t.enabled,e)!==!1&&Ks(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&cv(e,t)}return!1}function uw(e,t,n,r){return(e!==t||Mn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&cv(e,n)}function cv(e,t){return Mn(t.enabled,e)!==!1&&e.isStaleByTime(Ks(t.staleTime,e))}function aD(e,t){return!wd(e.getCurrentResult(),t)}var Os,Is,dn,Br,Xr,Fu,fm,P0,iD=(P0=class extends $i{constructor(n,r){super();je(this,Xr);je(this,Os);je(this,Is);je(this,dn);je(this,Br);ce(this,Os,n),this.setOptions(r),this.bindMethods(),Le(this,Xr,Fu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=E(this,Os).defaultMutationOptions(n),wd(this.options,r)||E(this,Os).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,dn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Wo(r.mutationKey)!==Wo(this.options.mutationKey)?this.reset():((s=E(this,dn))==null?void 0:s.state.status)==="pending"&&E(this,dn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,dn))==null||n.removeObserver(this)}onMutationUpdate(n){Le(this,Xr,Fu).call(this),Le(this,Xr,fm).call(this,n)}getCurrentResult(){return E(this,Is)}reset(){var n;(n=E(this,dn))==null||n.removeObserver(this),ce(this,dn,void 0),Le(this,Xr,Fu).call(this),Le(this,Xr,fm).call(this)}mutate(n,r){var s;return ce(this,Br,r),(s=E(this,dn))==null||s.removeObserver(this),ce(this,dn,E(this,Os).getMutationCache().build(E(this,Os),this.options)),E(this,dn).addObserver(this),E(this,dn).execute(n)}},Os=new WeakMap,Is=new WeakMap,dn=new WeakMap,Br=new WeakMap,Xr=new WeakSet,Fu=function(){var r;const n=((r=E(this,dn))==null?void 0:r.state)??_1();ce(this,Is,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},fm=function(n){Rt.batch(()=>{var r,s,o,i,l,c,u,h;if(E(this,Br)&&this.hasListeners()){const f=E(this,Is).variables,g=E(this,Is).context;(n==null?void 0:n.type)==="success"?((s=(r=E(this,Br)).onSuccess)==null||s.call(r,n.data,f,g),(i=(o=E(this,Br)).onSettled)==null||i.call(o,n.data,null,f,g)):(n==null?void 0:n.type)==="error"&&((c=(l=E(this,Br)).onError)==null||c.call(l,n.error,f,g),(h=(u=E(this,Br)).onSettled)==null||h.call(u,void 0,n.error,f,g))}this.listeners.forEach(f=>{f(E(this,Is))})})},P0),E1=d.createContext(void 0),uv=e=>{const t=d.useContext(E1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},lD=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(E1.Provider,{value:e,children:t})),k1=d.createContext(!1),cD=()=>d.useContext(k1);k1.Provider;function uD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var dD=d.createContext(uD()),hD=()=>d.useContext(dD),fD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},pD=e=>{d.useEffect(()=>{e.clearReset()},[e])},mD=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||x1(n,[e.error,r])),gD=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},vD=(e,t)=>e.isLoading&&e.isFetching&&!t,yD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,dw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function xD(e,t,n){var f,g,m,b,p;const r=cD(),s=hD(),o=uv(),i=o.defaultQueryOptions(e);(g=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,i),i._optimisticResults=r?"isRestoring":"optimistic",gD(i),fD(i,s),pD(s);const l=!o.getQueryCache().get(i.queryHash),[c]=d.useState(()=>new t(o,i)),u=c.getOptimisticResult(i),h=!r&&e.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(x=>{const y=h?c.subscribe(Rt.batchCalls(x)):tn;return c.updateResult(),y},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),d.useEffect(()=>{c.setOptions(i)},[i,c]),yD(i,u))throw dw(i,c,s);if(mD({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((b=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||b.call(m,i,u),i.experimental_prefetchInRender&&!Vo&&vD(u,r)){const x=l?dw(i,c,s):(p=o.getQueryCache().get(i.queryHash))==null?void 0:p.promise;x==null||x.catch(tn).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function wD(e,t){return xD(e,sD)}function jf(e,t){const n=uv(),[r]=d.useState(()=>new iD(n,e));d.useEffect(()=>{r.setOptions(e)},[r,e]);const s=d.useSyncExternalStore(d.useCallback(i=>r.subscribe(Rt.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=d.useCallback((i,l)=>{r.mutate(i,l).catch(tn)},[r]);if(s.error&&x1(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xl.apply(this,arguments)}var Ls;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ls||(Ls={}));const hw="popstate";function bD(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return pm("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Sd(s)}return ND(t,n,null,e)}function mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function T1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SD(){return Math.random().toString(36).substr(2,8)}function fw(e,t){return{usr:e.state,key:e.key,idx:t}}function pm(e,t,n,r){return n===void 0&&(n=null),Xl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fi(t):t,{state:n,key:t&&t.key||r||SD()})}function Sd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Fi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ND(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=Ls.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(Xl({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function f(){l=Ls.Pop;let x=h(),y=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:y})}function g(x,y){l=Ls.Push;let v=pm(p.location,x,y);u=h()+1;let w=fw(v,u),S=p.createHref(v);try{i.pushState(w,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(S)}o&&c&&c({action:l,location:p.location,delta:1})}function m(x,y){l=Ls.Replace;let v=pm(p.location,x,y);u=h();let w=fw(v,u),S=p.createHref(v);i.replaceState(w,"",S),o&&c&&c({action:l,location:p.location,delta:0})}function b(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:Sd(x);return v=v.replace(/ $/,"%20"),mt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let p={get action(){return l},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(hw,f),c=x,()=>{s.removeEventListener(hw,f),c=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let y=b(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:m,go(x){return i.go(x)}};return p}var pw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pw||(pw={}));function jD(e,t,n){return n===void 0&&(n="/"),_D(e,t,n,!1)}function _D(e,t,n,r){let s=typeof t=="string"?Fi(t):t,o=bi(s.pathname||"/",n);if(o==null)return null;let i=A1(e);CD(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=LD(o);l=DD(i[c],u,r)}return l}function A1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(mt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=qs([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(mt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),A1(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:OD(u,o.index),routesMeta:h})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of P1(o.path))s(o,i,c)}),t}function P1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=P1(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function CD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ID(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ED=/^:[\w-]+$/,kD=3,TD=2,AD=1,PD=10,RD=-2,mw=e=>e==="*";function OD(e,t){let n=e.split("/"),r=n.length;return n.some(mw)&&(r+=RD),t&&(r+=TD),n.filter(s=>!mw(s)).reduce((s,o)=>s+(ED.test(o)?kD:o===""?AD:PD),r)}function ID(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function DD(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",f=Nd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Nd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:qs([o,f.pathname]),pathnameBase:zD(qs([o,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(o=qs([o,f.pathnameBase]))}return i}function Nd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=MD(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:g,isOptional:m}=h;if(g==="*"){let p=l[f]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const b=l[f];return m&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function MD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),T1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function LD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return T1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function $D(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Fi(e):e;return{pathname:n?n.startsWith("/")?n:FD(n,t):t,search:BD(r),hash:VD(s)}}function FD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function _f(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function dv(e,t){let n=UD(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function hv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Fi(e):(s=Xl({},e),mt(!s.pathname||!s.pathname.includes("?"),_f("?","pathname","search",s)),mt(!s.pathname||!s.pathname.includes("#"),_f("#","pathname","hash",s)),mt(!s.search||!s.search.includes("#"),_f("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}l=f>=0?t[f]:"/"}let c=$D(s,l),u=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const qs=e=>e.join("/").replace(/\/\/+/g,"/"),zD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,VD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const R1=["post","put","patch","delete"];new Set(R1);const HD=["get",...R1];new Set(HD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jl.apply(this,arguments)}const yh=d.createContext(null),O1=d.createContext(null),as=d.createContext(null),xh=d.createContext(null),is=d.createContext({outlet:null,matches:[],isDataRoute:!1}),I1=d.createContext(null);function KD(e,t){let{relative:n}=t===void 0?{}:t;Ui()||mt(!1);let{basename:r,navigator:s}=d.useContext(as),{hash:o,pathname:i,search:l}=wh(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:qs([r,i])),s.createHref({pathname:c,search:l,hash:o})}function Ui(){return d.useContext(xh)!=null}function Zo(){return Ui()||mt(!1),d.useContext(xh).location}function D1(e){d.useContext(as).static||d.useLayoutEffect(e)}function ea(){let{isDataRoute:e}=d.useContext(is);return e?aM():qD()}function qD(){Ui()||mt(!1);let e=d.useContext(yh),{basename:t,future:n,navigator:r}=d.useContext(as),{matches:s}=d.useContext(is),{pathname:o}=Zo(),i=JSON.stringify(dv(s,n.v7_relativeSplatPath)),l=d.useRef(!1);return D1(()=>{l.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=hv(u,JSON.parse(i),o,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qs([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,i,o,e])}function GD(){let{matches:e}=d.useContext(is),t=e[e.length-1];return t?t.params:{}}function wh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=d.useContext(as),{matches:s}=d.useContext(is),{pathname:o}=Zo(),i=JSON.stringify(dv(s,r.v7_relativeSplatPath));return d.useMemo(()=>hv(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function YD(e,t){return QD(e,t)}function QD(e,t,n,r){Ui()||mt(!1);let{navigator:s}=d.useContext(as),{matches:o}=d.useContext(is),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Zo(),h;if(t){var f;let x=typeof t=="string"?Fi(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||mt(!1),h=x}else h=u;let g=h.pathname||"/",m=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=jD(e,{pathname:m}),p=tM(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:qs([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:qs([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&p?d.createElement(xh.Provider,{value:{location:Jl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ls.Pop}},p):p}function XD(){let e=oM(),t=WD(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,null)}const JD=d.createElement(XD,null);class ZD extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(is.Provider,{value:this.props.routeContext},d.createElement(I1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function eM(e){let{routeContext:t,match:n,children:r}=e,s=d.useContext(yh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(is.Provider,{value:t},r)}function tM(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||mt(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:g,errors:m}=n,b=f.route.loader&&g[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,g)=>{let m,b=!1,p=null,x=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||JD,c&&(u<0&&g===0?(b=!0,x=null):u===g&&(b=!0,x=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,g+1)),v=()=>{let w;return m?w=p:b?w=x:f.route.Component?w=d.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,d.createElement(eM,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?d.createElement(ZD,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var M1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(M1||{}),jd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(jd||{});function nM(e){let t=d.useContext(yh);return t||mt(!1),t}function rM(e){let t=d.useContext(O1);return t||mt(!1),t}function sM(e){let t=d.useContext(is);return t||mt(!1),t}function L1(e){let t=sM(),n=t.matches[t.matches.length-1];return n.route.id||mt(!1),n.route.id}function oM(){var e;let t=d.useContext(I1),n=rM(jd.UseRouteError),r=L1(jd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function aM(){let{router:e}=nM(M1.UseNavigateStable),t=L1(jd.UseNavigateStable),n=d.useRef(!1);return D1(()=>{n.current=!0}),d.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Jl({fromRouteId:t},o)))},[e,t])}function iM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function $1(e){let{to:t,replace:n,state:r,relative:s}=e;Ui()||mt(!1);let{future:o,static:i}=d.useContext(as),{matches:l}=d.useContext(is),{pathname:c}=Zo(),u=ea(),h=hv(t,dv(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return d.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Jn(e){mt(!1)}function lM(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ls.Pop,navigator:o,static:i=!1,future:l}=e;Ui()&&mt(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:o,static:i,future:Jl({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=Fi(r));let{pathname:h="/",search:f="",hash:g="",state:m=null,key:b="default"}=r,p=d.useMemo(()=>{let x=bi(h,c);return x==null?null:{location:{pathname:x,search:f,hash:g,state:m,key:b},navigationType:s}},[c,h,f,g,m,b,s]);return p==null?null:d.createElement(as.Provider,{value:u},d.createElement(xh.Provider,{children:n,value:p}))}function cM(e){let{children:t,location:n}=e;return YD(mm(t),n)}new Promise(()=>{});function mm(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,s)=>{if(!d.isValidElement(r))return;let o=[...t,s];if(r.type===d.Fragment){n.push.apply(n,mm(r.props.children,o));return}r.type!==Jn&&mt(!1),!r.props.index||!r.props.children||mt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=mm(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_d.apply(this,arguments)}function F1(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function uM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dM(e,t){return e.button===0&&(!t||t==="_self")&&!uM(e)}const hM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fM=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],pM="6";try{window.__reactRouterVersion=pM}catch{}const mM=d.createContext({isTransitioning:!1}),gM="startTransition",gw=qm[gM];function vM(e){let{basename:t,children:n,future:r,window:s}=e,o=d.useRef();o.current==null&&(o.current=bD({window:s,v5Compat:!0}));let i=o.current,[l,c]=d.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},h=d.useCallback(f=>{u&&gw?gw(()=>c(f)):c(f)},[c,u]);return d.useLayoutEffect(()=>i.listen(h),[i,h]),d.useEffect(()=>iM(r),[r]),d.createElement(lM,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const yM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zl=d.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=t,g=F1(t,hM),{basename:m}=d.useContext(as),b,p=!1;if(typeof u=="string"&&xM.test(u)&&(b=u,yM))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=bi(S.pathname,m);S.origin===w.origin&&N!=null?u=N+S.search+S.hash:p=!0}catch{}let x=KD(u,{relative:s}),y=SM(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function v(w){r&&r(w),w.defaultPrevented||y(w)}return d.createElement("a",_d({},g,{href:b||x,onClick:p||o?r:v,ref:n,target:c}))}),wM=d.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:o="",end:i=!1,style:l,to:c,viewTransition:u,children:h}=t,f=F1(t,fM),g=wh(c,{relative:f.relative}),m=Zo(),b=d.useContext(O1),{navigator:p,basename:x}=d.useContext(as),y=b!=null&&NM(g)&&u===!0,v=p.encodeLocation?p.encodeLocation(g).pathname:g.pathname,w=m.pathname,S=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(w=w.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&x&&(S=bi(S,x)||S);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let j=w===v||!i&&w.startsWith(v)&&w.charAt(N)==="/",_=S!=null&&(S===v||!i&&S.startsWith(v)&&S.charAt(v.length)==="/"),C={isActive:j,isPending:_,isTransitioning:y},T=j?r:void 0,P;typeof o=="function"?P=o(C):P=[o,j?"active":null,_?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(C):l;return d.createElement(Zl,_d({},f,{"aria-current":T,className:P,ref:n,style:R,to:c,viewTransition:u}),typeof h=="function"?h(C):h)});var gm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gm||(gm={}));var vw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(vw||(vw={}));function bM(e){let t=d.useContext(yh);return t||mt(!1),t}function SM(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=ea(),u=Zo(),h=wh(e,{relative:i});return d.useCallback(f=>{if(dM(f,n)){f.preventDefault();let g=r!==void 0?r:Sd(u)===Sd(h);c(e,{replace:g,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,h,r,s,n,e,o,i,l])}function NM(e,t){t===void 0&&(t={});let n=d.useContext(mM);n==null&&mt(!1);let{basename:r}=bM(gm.useViewTransitionState),s=wh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=bi(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=bi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nd(s.pathname,i)!=null||Nd(s.pathname,o)!=null}var _r=function(){return _r=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_r.apply(this,arguments)};function zi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function jM(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(h){try{u(r.next(h))}catch(f){i(f)}}function c(h){try{u(r.throw(h))}catch(f){i(f)}}function u(h){h.done?o(h.value):s(h.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function _M(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const CM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class fv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class EM extends fv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class yw extends fv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xw extends fv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vm||(vm={}));class kM{constructor(t,{headers:n={},customFetch:r,region:s=vm.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=CM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return jM(this,arguments,void 0,function*(n,r={}){var s;let o,i;try{const{headers:l,method:c,body:u,signal:h,timeout:f}=r;let g={},{region:m}=r;m||(m=this.region);const b=new URL(`${this.url}/${n}`);m&&m!=="any"&&(g["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(g["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(g["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let x=h;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),h?(x=i.signal,h.addEventListener("abort",()=>i.abort())):x=i.signal);const y=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:p,signal:x}).catch(N=>{throw new EM(N)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new yw(y);if(!y.ok)throw new xw(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"||w==="application/pdf"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof xw||l instanceof yw?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var TM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},AM=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,l=null,c=null,u=o.status,h=o.statusText;if(o.ok){var f,g;if(n.method!=="HEAD"){var m;const y=await o.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const p=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(g=o.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(i={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const p=await o.text();try{i=JSON.parse(p),Array.isArray(i)&&o.status===404&&(l=[],i=null,u=200,h="OK")}catch{o.status===404&&p===""?(u=204,h="No Content"):i={message:p}}if(i&&n.isMaybeSingle&&(!(i==null||(b=i.details)===null||b===void 0)&&b.includes("0 rows"))&&(i=null,u=200,h="OK"),i&&n.shouldThrowOnError)throw new TM(i)}return{error:i,data:l,count:c,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let l="";const c=o==null?void 0:o.cause;if(c){var u,h,f,g;const b=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";l=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,l+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${b}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},PM=class extends AM{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var i;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const ww=new RegExp("[,()]");var ba=class extends PM{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&ww.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&ww.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},RM=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new ba({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((i,l)=>i.concat(Object.keys(l)),[]);if(o.length>0){const i=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",i.join(","))}}return new ba({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const i="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new ba({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new ba({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new ba({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},OM=class U1{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new RM(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new U1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{c.searchParams.append(f,g)})):(l="POST",u=n);const h=new Headers(this.headers);return o&&h.set("Prefer",`count=${o}`),new ba({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class IM{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const DM="2.89.0",MM=`realtime-js/${DM}`,z1="1.0.0",LM="2.0.0",bw=z1,ym=1e4,$M=1e3,FM=100;var bs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bs||(bs={}));var At;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(At||(At={}));var ar;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ar||(ar={}));var xm;(function(e){e.websocket="websocket"})(xm||(xm={}));var yo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yo||(yo={}));class UM{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,n,r){var s,o;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(m),p=0;b.setUint8(p++,this.KINDS.userBroadcastPush),b.setUint8(p++,c.length),b.setUint8(p++,l.length),b.setUint8(p++,i.length),b.setUint8(p++,u.length),b.setUint8(p++,f.length),b.setUint8(p++,n),Array.from(c,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(l,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(i,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(u,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(f,y=>b.setUint8(p++,y.charCodeAt(0)));var x=new Uint8Array(m.byteLength+r.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(r),m.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,o,i,l,c]=r;return n({join_ref:s,ref:o,topic:i,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const h=r.decode(t.slice(c,c+o));c=c+o;const f=r.decode(t.slice(c,c+i));c=c+i;const g=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,b={type:this.BROADCAST_EVENT,event:h,payload:m};return i>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class B1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const Sw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=zM(i,e,t,s),o),{}):{}},zM=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?V1(o,i):wm(i)},V1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return HM(t,n)}switch(e){case et.bool:return BM(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return VM(t);case et.json:case et.jsonb:return WM(t);case et.timestamp:return KM(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return wm(t);default:return wm(t)}},wm=e=>e,BM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},VM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},WM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},HM=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>V1(t,l))}return e},KM=e=>typeof e=="string"?e.replace(" ","T"):e,W1=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Cf{constructor(t,n,r={},s=ym){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Nw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Nw||(Nw={}));class kl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=kl.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=kl.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,h)=>{i[u]||(c[u]=h)}),this.map(i,(u,h)=>{const f=o[u];if(f){const g=h.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),b=h.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>g.indexOf(x.presence_ref)<0);b.length>0&&(l[u]=b),p.length>0&&(c[u]=p)}else l[u]=h}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const f=t[l].map(m=>m.presence_ref),g=h.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...g)}r(l,h,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jw||(jw={}));var Tl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Tl||(Tl={}));var Fr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fr||(Fr={}));class La{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Cf(this,ar.join,this.params,this.timeout),this.rejoinTimer=new B1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ar.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new kl(this),this.broadcastEndpointURL=W1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Tl.PRESENCE]&&this.bindings[Tl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},g={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Fr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Fr.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Fr.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(b=p==null?void 0:p.length)!==null&&b!==void 0?b:0,y=[];for(let v=0;v<x;v++){const w=p[v],{filter:{event:S,schema:N,table:j,filter:_}}=w,C=m&&m[v];if(C&&C.event===S&&La.isFilterValueEqual(C.schema,N)&&La.isFilterValueEqual(C.table,j)&&La.isFilterValueEqual(C.filter,_))y.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=At.errored,t==null||t(Fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Fr.SUBSCRIBED);return}}).receive("error",m=>{this.state=At.errored,t==null||t(Fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===At.joined&&t===Tl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=At.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ar.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Cf(this,ar.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Cf(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>FM){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=ar;if(r&&[l,c,u,h].indexOf(i)>=0&&r!==this._joinRef())return;let g=this._onMessage(i,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,p,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(m=>m.callback(g,r)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var b,p,x,y,v,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const S=m.id,N=(b=m.filter)===null||b===void 0?void 0:b.event;return S&&((p=n.ids)===null||p===void 0?void 0:p.includes(S))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(v=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:p,table:x,commit_timestamp:y,type:v,errors:w}=b;g=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(b))}m.callback(g,r)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&La.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ar.close,{},t)}_onError(t){this._on(ar.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Sw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Sw(t.columns,t.old_record)),n}}const Ef=()=>{},pu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},qM=[1e3,2e3,5e3,1e4],GM=1e4,YM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QM{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ym,this.transport=null,this.heartbeatIntervalMs=pu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ef,this.ref=0,this.reconnectTimer=null,this.vsn=bw,this.logger=Ef,this.conn=null,this.sendBuffer=[],this.serializer=new UM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${xm.websocket}`,this.httpEndpoint=W1(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=IM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case bs.connecting:return yo.Connecting;case bs.open:return yo.Open;case bs.closing:return yo.Closing;default:return yo.Closed}}isConnected(){return this.connectionState()===yo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new La(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($M,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},pu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:i}=n,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===bs.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bs.open||this.conn.readyState===bs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ar.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([YM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:MM};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(ar.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new B1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,i,l,c,u,h,f,g,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ym,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:pu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ef,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:bw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>qM[b-1]||GM,this.vsn){case z1:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(b,p)=>p(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,p)=>p(JSON.parse(b));break;case LM:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ec=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function XM(e,t,n){const r=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function JM(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function ZM(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:o,headers:i}){const l=XM(e.baseUrl,r,s),c=await JM(e.auth),u=await t(l,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),h=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),g=f&&h?JSON.parse(h):h;if(!u.ok){const m=f?g:void 0,b=m==null?void 0:m.error;throw new ec((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:u.status,headers:u.headers,data:g}}}}function mu(e){return e.join("")}var e4=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:mu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mu(e.namespace)}`}),!0}catch(t){if(t instanceof ec&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof ec&&n.status===409)return;throw n}}};function ca(e){return e.join("")}var t4=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ca(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof ec&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof ec&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},n4=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=ZM({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new e4(this.client,t),this.tableOps=new t4(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},bh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ht(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var r4=class extends bh{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bm=class extends bh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const pv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),s4=()=>Response,Sm=e=>{if(Array.isArray(e))return e.map(n=>Sm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Sm(r)}),t},o4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},a4=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function i4(e,t){if(tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l4(e){var t=i4(e,"string");return tc(t)=="symbol"?t:t+""}function c4(e,t,n){return(t=l4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_w(Object(n),!0).forEach(function(r){c4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const kf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},u4=async(e,t,n)=>{e instanceof await s4()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,o=(r==null?void 0:r.statusCode)||s+"";t(new r4(kf(r),s,o))}).catch(r=>{t(new bm(kf(r),r))}):t(new bm(kf(e),e))},d4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(o4(r)?(s.headers=Ce({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Ce(Ce({},s),n))};async function jc(e,t,n,r,s,o){return new Promise((i,l)=>{e(n,d4(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>u4(c,l,r))})}async function nc(e,t,n,r){return jc(e,"GET",t,n,r)}async function nr(e,t,n,r,s){return jc(e,"POST",t,r,s,n)}async function Nm(e,t,n,r,s){return jc(e,"PUT",t,r,s,n)}async function h4(e,t,n,r){return jc(e,"HEAD",t,Ce(Ce({},n),{},{noResolveJson:!0}),r)}async function mv(e,t,n,r,s){return jc(e,"DELETE",t,r,s,n)}var f4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}}};let H1;H1=Symbol.toStringTag;var p4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[H1]="BlobDownloadBuilder",this.promise=null}asStream(){return new f4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ht(t))return{data:null,error:t};throw t}}};const m4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var g4=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=pv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let o;const i=Ce(Ce({},Cw),r);let l=Ce(Ce({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),r!=null&&r.headers&&(l=Ce(Ce({},l),r.headers));const u=s._removeEmptyFolders(t),h=s._getFinalPath(u),f=await(e=="PUT"?Nm:nr)(s.fetch,`${s.url}/object/${h}`,o,Ce({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ht(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),l=new URL(s.url+`/object/upload/sign/${i}`);l.searchParams.set("token",t);try{let c;const u=Ce({upsert:Cw.upsert},r),h=Ce(Ce({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{data:{path:o,fullPath:(await Nm(s.fetch,l.toString(),c,{headers:h})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(ht(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=Ce({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await nr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(n.url+o.url),l=i.searchParams.get("token");if(!l)throw new bh("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await nr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await nr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),o=await nr(r.fetch,`${r.url}/object/sign/${s}`,Ce({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await nr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Ce(Ce({},i),{},{signedUrl:i.signedURL?encodeURI(`${r.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",o=this._getFinalPath(e),i=()=>nc(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new p4(i,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Sm(await nc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await h4(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ht(r)&&r instanceof bm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&r.push(i);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await mv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=Ce(Ce(Ce({},m4),t),{},{prefix:e||""});return{data:await nr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ht(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=Ce({},e);return{data:await nr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const K1="2.89.0",q1={"X-Client-Info":`storage-js/${K1}`};var v4=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Ce(Ce({},q1),t),this.fetch=pv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await nc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await nc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await nr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Nm(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ht(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await mv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},y4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ce(Ce({},q1),t),this.fetch=pv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await nr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await nc(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await mv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ht(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!a4(e))throw new bh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new n4({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...l)=>{try{return{data:await i.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const gv={"X-Client-Info":`storage-js/${K1}`,"Content-Type":"application/json"};var G1=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function jn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Tf=class extends G1{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},x4=class extends G1{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const vv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),w4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ew=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),b4=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new Tf(Ew(o),r,i))}).catch(()=>{const o=r+"";t(new Tf(s.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new Tf(s.statusText||`HTTP ${r} error`,r,o))}}else t(new x4(Ew(e),e))},S4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(w4(r)?(s.headers=Ce({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Ce(Ce({},s),n)):s};async function N4(e,t,n,r,s,o){return new Promise((i,l)=>{e(n,S4(t,r,s,o)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>b4(c,l,r))})}async function _n(e,t,n,r,s){return N4(e,"POST",t,r,s,n)}var j4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ce(Ce({},gv),t),this.fetch=vv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await _n(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await _n(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await _n(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await _n(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}}},_4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ce(Ce({},gv),t),this.fetch=vv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await _n(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await _n(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await _n(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await _n(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await _n(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}},C4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ce(Ce({},gv),t),this.fetch=vv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await _n(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await _n(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await _n(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await _n(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}},E4=class extends C4{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new k4(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},k4=class extends j4{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new T4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},T4=class extends _4{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},A4=class extends v4{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new g4(this.url,this.headers,e,this.fetch)}get vectors(){return new E4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new y4(this.url+"/iceberg",this.headers,this.fetch)}};const Y1="2.89.0",Sa=30*1e3,jm=3,Af=jm*Sa,P4="http://localhost:9999",R4="supabase.auth.token",O4={"X-Client-Info":`gotrue-js/${Y1}`},_m="X-Supabase-Api-Version",Q1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},I4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,D4=10*60*1e3;class rc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function we(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class M4 extends rc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function L4(e){return we(e)&&e.name==="AuthApiError"}class xo extends rc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ls extends rc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class wn extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $4(e){return we(e)&&e.name==="AuthSessionMissingError"}class ua extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gu extends ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vu extends ls{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function F4(e){return we(e)&&e.name==="AuthImplicitGrantRedirectError"}class kw extends ls{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class U4 extends ls{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Cm extends ls{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Pf(e){return we(e)&&e.name==="AuthRetryableFetchError"}class Tw extends ls{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Em extends ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Aw=` 	
\r=`.split(""),z4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Aw.length;t+=1)e[Aw[t].charCodeAt(0)]=-2;for(let t=0;t<Cd.length;t+=1)e[Cd[t].charCodeAt(0)]=t;return e})();function Pw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Cd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Cd[r]),t.queuedBits-=6}}function X1(e,t,n){const r=z4[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Rw(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{W4(i,r,n)};for(let i=0;i<e.length;i+=1)X1(e.charCodeAt(i),s,o);return t.join("")}function B4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function V4(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}B4(r,t)}}function W4(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ka(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)X1(e.charCodeAt(s),n,r);return new Uint8Array(t)}function H4(e){const t=[];return V4(e,n=>t.push(n)),new Uint8Array(t)}function No(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>Pw(s,n,r)),Pw(null,n,r),t.join("")}function K4(e){return Math.round(Date.now()/1e3)+e}function q4(){return Symbol("auth-callback")}const Ft=()=>typeof window<"u"&&typeof document<"u",co={tested:!1,writable:!1},J1=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(co.tested)return co.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),co.tested=!0,co.writable=!0}catch{co.tested=!0,co.writable=!1}return co.writable};function G4(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Z1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Y4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Na=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},uo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$t=async(e,t)=>{await e.removeItem(t)};class Sh{constructor(){this.promise=new Sh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Sh.promiseConstructor=Promise;function Rf(e){const t=e.split(".");if(t.length!==3)throw new Em("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!I4.test(t[r]))throw new Em("JWT not in base64url format");return{header:JSON.parse(Rw(t[0])),payload:JSON.parse(Rw(t[1])),signature:Ka(t[2]),raw:{header:t[0],payload:t[1]}}}async function Q4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function X4(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function J4(e){return("0"+e.toString(16)).substr(-2)}function Z4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,J4).join("")}async function e5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function t5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await e5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function da(e,t,n=!1){const r=Z4();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Na(e,`${t}-code-verifier`,s);const o=await t5(r);return[o,r===o?"plain":"s256"]}const n5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r5(e){const t=e.headers.get(_m);if(!t||!t.match(n5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function s5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function o5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ha(e){if(!a5.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Of(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function i5(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Ow(e){return JSON.parse(JSON.stringify(e))}const go=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),l5=[502,503,504];async function Iw(e){var t;if(!Y4(e))throw new Cm(go(e),0);if(l5.includes(e.status))throw new Cm(go(e),e.status);let n;try{n=await e.json()}catch(o){throw new xo(go(o),o)}let r;const s=r5(e);if(s&&s.getTime()>=Q1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Tw(go(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new wn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Tw(go(n),e.status,n.weak_password.reasons);throw new M4(go(n),e.status||500,r)}const c5=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function _e(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[_m]||(o[_m]=Q1["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await u5(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function u5(e,t,n,r,s,o){const i=c5(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Cm(go(c),0)}if(l.ok||await Iw(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Iw(c)}}function Zn(e){var t;let n=null;f5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=K4(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Dw(e){const t=Zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function js(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function d5(e){return{data:e,error:null}}function h5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=zi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Mw(e){return e}function f5(e){return e.access_token&&e.refresh_token&&e.expires_in}const If=["global","local","others"];class p5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Z1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=If[0]){if(If.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${If.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:js})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=zi(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:h5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(we(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:js})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Mw});if(h.error)throw h.error;const f=await h.json(),g=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(we(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ha(t);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:js})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ha(t);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:js})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ha(t);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:js})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ha(t.userId);try{const{data:n,error:r}=await _e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ha(t.userId),ha(t.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Mw});if(h.error)throw h.error;const f=await h.json(),g=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(we(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}}function Lw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const fa={debug:!!(globalThis&&J1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ej extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class m5 extends ej{}async function g5(e,t,n){fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),fa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw fa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new m5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fa.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function v5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tj(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function y5(e){return parseInt(e,16)}function x5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function w5(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:h,uri:f,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=tj(e.address),b=h?`${h}://${r}`:r,p=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${p}`;let y=`URI: ${f}
Version: ${g}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}y+=v}return`${x}
${y}`}class Et extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ed extends Et{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function b5({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(nj(i)){if(o.rp.id!==i)return new Et({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function S5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(nj(r)){if(n.rpId!==r)return new Et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class N5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const j5=new N5;function _5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=zi(e,["challenge","user","excludeCredentials"]),o=Ka(t).buffer,i=Object.assign(Object.assign({},n),{id:Ka(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:i});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ka(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function C5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=zi(e,["challenge","allowCredentials"]),s=Ka(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const l=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Ka(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function E5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:No(new Uint8Array(e.response.attestationObject)),clientDataJSON:No(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function k5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:No(new Uint8Array(s.authenticatorData)),clientDataJSON:No(new Uint8Array(s.clientDataJSON)),signature:No(new Uint8Array(s.signature)),userHandle:s.userHandle?No(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function nj(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function $w(){var e,t;return!!(Ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function T5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ed("Browser returned unexpected credential type",t)}:{data:null,error:new Ed("Empty credential response",t)}}catch(t){return{data:null,error:b5({error:t,options:e})}}}async function A5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ed("Browser returned unexpected credential type",t)}:{data:null,error:new Ed("Empty credential response",t)}}catch(t){return{data:null,error:S5({error:t,options:e})}}}const P5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},R5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function kd(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))r[o]=i;else if(n(i))r[o]=i;else if(t(i)){const l=r[o];t(l)?r[o]=kd(l,i):r[o]=kd(i)}else r[o]=i}return r}function O5(e,t){return kd(P5,e,t||{})}function I5(e,t){return kd(R5,e,t||{})}class D5{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!i)return{data:null,error:l};const c=s??j5.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=O5(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:f}=await T5({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=I5(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:f}=await A5(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(i){return we(i)?{data:null,error:i}:{data:null,error:new xo("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new rc("rpId is required for WebAuthn authentication")};try{if(!$w())return{data:null,error:new xo("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(i){return we(i)?{data:null,error:i}:{data:null,error:new xo("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new rc("rpId is required for WebAuthn registration")};try{if(!$w())return{data:null,error:new xo("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return we(i)?{data:null,error:i}:{data:null,error:new xo("Unexpected error in register",i)}}}}v5();const M5={url:P4,storageKey:R4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:O4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Fw(e,t,n){return await n()}const pa={};class sc{get jwks(){var t,n;return(n=(t=pa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){pa[this.storageKey]=Object.assign(Object.assign({},pa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=pa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pa[this.storageKey]=Object.assign(Object.assign({},pa[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},M5),t);if(this.storageKey=o.storageKey,this.instanceID=(n=sc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,sc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ft()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new p5({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Z1(o.fetch),this.lock=o.lock||Fw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=g5:this.lock=Fw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new D5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:J1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Lw(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Y1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Ft()&&(n=G4(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ft()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),F4(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return we(n)?this._returnResult({error:n}):this._returnResult({error:new xo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Zn}),{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(we(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:h,password:f,options:g}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await da(this.storage,this.storageKey)),o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:h,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:b},xform:Zn})}else if("phone"in t){const{phone:h,password:f,options:g}=t;o=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Zn})}else throw new gu("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return await $t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await $t(this.storage,`${this.storageKey}-code-verifier`),we(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dw})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Dw})}else throw new gu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new ua;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,i,l,c,u,h,f,g;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:p,wallet:x,statement:y,options:v}=t;let w;if(Ft())if(typeof x=="object")w=x;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")w=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=tj(N[0]);let _=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!_){const T=await w.request({method:"eth_chainId"});_=y5(T)}const C={domain:S.host,address:j,statement:y,uri:S.href,version:"1",chainId:_,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=v==null?void 0:v.signInWithEthereum)===null||h===void 0?void 0:h.resources};m=w5(C),b=await w.request({method:"personal_sign",params:[x5(m),j]})}try{const{data:p,error:x}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Zn});if(x)throw x;if(!p||!p.session||!p.user){const y=new ua;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(we(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,o,i,l,c,u,h,f,g,m;let b,p;if("message"in t)b=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:v,options:w}=t;let S;if(Ft())if(typeof y=="object")S=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const N=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let _;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")_=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)_=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)b=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),p=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(h=w==null?void 0:w.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:x,error:y}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:No(p)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Zn});if(y)throw y;if(!x||!x.session||!x.user){const v=new ua;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(we(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await uo(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new U4;const{data:o,error:i}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Zn});if(await $t(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const l=new ua;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await $t(this.storage,`${this.storageKey}-code-verifier`),we(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Zn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new ua;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await da(this.storage,this.storageKey));const{error:f}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new gu("You must provide either an email or phone number.")}catch(l){if(await $t(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Zn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,o,i;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await da(this.storage,this.storageKey));const u=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:d5});return!((o=u.data)===null||o===void 0)&&o.url&&Ft()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await $t(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new wn;const{error:s}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(we(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new gu("You must provide either an email or phone number and a type")}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Af:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await uo(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Of()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=i5(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:js}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:js})})}catch(n){if(we(n))return $4(n)&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new wn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await da(this.storage,this.storageKey));const{data:u,error:h}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:js});if(h)throw h;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(r){if(await $t(this.storage,`${this.storageKey}-code-verifier`),we(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Rf(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(we(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new wn;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ft())throw new vu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kw("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new vu("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let g=h+f;c&&(g=parseInt(c));const m=g-h;m*1e3<=Sa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=g-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,h);const{data:p,error:x}=await this._getUser(o);if(x)throw x;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:g,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(we(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await uo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(L4(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=q4(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await da(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await $t(this.storage,`${this.storageKey}-code-verifier`),we(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,h;const{data:f,error:g}=o;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",m,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ft()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(we(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:h}=t,f=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Zn}),{data:g,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new ua}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:m}))}catch(s){if(await $t(this.storage,`${this.storageKey}-code-verifier`),we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await X4(async s=>(s>0&&await Q4(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Zn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Pf(o)&&Date.now()+i-r<Sa})}catch(r){if(this._debug(n,"error",r),we(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ft()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await uo(this.storage,this.storageKey);if(s&&this.userStorage){let i=await uo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Na(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Of()}else if(s&&!s.user&&!s.user){const i=await uo(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await $t(this.storage,this.storageKey+"-user"),await Na(this.storage,this.storageKey,s)):s.user=Of()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Af;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Af}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Pf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Sh;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new wn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),we(o)){const i={data:null,error:o};return Pf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await $t(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Na(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Ow(s);await Na(this.storage,this.storageKey,o)}else{const s=Ow(n);await Na(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $t(this.storage,this.storageKey),await $t(this.storage,this.storageKey+"-code-verifier"),await $t(this.storage,this.storageKey+"-user"),this.userStorage&&await $t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Sa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Sa}ms, refresh threshold is ${jm} ticks`),s<=jm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ej)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await da(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await _e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?E5(t.webauthn.credential_response):k5(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=await _e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_5(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:C5(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Rf(r.access_token);let i=null;o.aal&&(i=o.aal);let l=i;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new wn})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new wn});const i=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Ft()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new wn});const i=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Ft()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await _e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wn})})}catch(t){if(we(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await _e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wn})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+D4>s)return r;const{data:o,error:i}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});r=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Rf(r);n!=null&&n.allowExpired||s5(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const h=o5(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,i,H4(`${l}.${c}`)))throw new Em("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}}sc.nextInstanceID={};const L5=sc,$5="2.89.0";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const F5={"X-Client-Info":`supabase-js-${hl}/${$5}`},U5={headers:F5},z5={schema:"public"},B5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},V5={};function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function W5(e,t){if(oc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(oc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H5(e){var t=W5(e,"string");return oc(t)=="symbol"?t:t+""}function K5(e,t,n){return(t=H5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(n),!0).forEach(function(r){K5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const q5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),G5=()=>Headers,Y5=(e,t,n)=>{const r=q5(n),s=G5();return async(o,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,wt(wt({},i),{},{headers:u}))}};function Q5(e){return e.endsWith("/")?e:e+"/"}function X5(e,t){var n,r;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:h,global:f}=t,g={db:wt(wt({},c),s),auth:wt(wt({},u),o),realtime:wt(wt({},h),i),storage:{},global:wt(wt(wt({},f),l),{},{headers:wt(wt({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function J5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Q5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Z5=class extends L5{constructor(e){super(e)}},eL=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const o=J5(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:z5,realtime:V5,auth:wt(wt({},B5),{},{storageKey:i}),global:U5},c=X5(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Y5(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(wt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new OM(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new A4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new kM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:i,lock:l,debug:c,throwOnError:u},h,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Z5({url:this.authUrl.href,headers:wt(wt({},g),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:i,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new QM(this.realtimeUrl.href,wt(wt({},e),{},{params:wt(wt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tL=(e,t,n)=>new eL(e,t,n);function nL(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}nL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rL="https://txoltggjkukflwuigqst.supabase.co",sL="sb_publishable_JEx5V53j31YBi2Lt7Vpiaw_LPAp50aR",ze=tL(rL,sL,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),rj=d.createContext(void 0);function oL({children:e}){const[t,n]=d.useState(null),[r,s]=d.useState(null),[o,i]=d.useState(!0);d.useEffect(()=>{const{data:{subscription:h}}=ze.auth.onAuthStateChange((f,g)=>{s(g),n((g==null?void 0:g.user)??null),i(!1)});return ze.auth.getSession().then(({data:{session:f}})=>{s(f),n((f==null?void 0:f.user)??null),i(!1)}),()=>h.unsubscribe()},[]);const l=async(h,f)=>{const{error:g}=await ze.auth.signInWithPassword({email:h,password:f});return{error:g}},c=async(h,f)=>{const g=`${window.location.origin}/`,{error:m}=await ze.auth.signUp({email:h,password:f,options:{emailRedirectTo:g}});return{error:m}},u=async()=>{await ze.auth.signOut(),s(null),n(null)};return a.jsx(rj.Provider,{value:{user:t,session:r,loading:o,signIn:l,signUp:c,signOut:u},children:e})}function On(){const e=d.useContext(rj);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Df=768;function aL(){const[e,t]=d.useState(void 0);return d.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Df-1}px)`),r=()=>{t(window.innerWidth<Df)};return n.addEventListener("change",r),t(window.innerWidth<Df),()=>n.removeEventListener("change",r)},[]),!!e}const yv=Oi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),L=d.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Pi:"button";return a.jsx(i,{className:Y(yv({variant:t,size:n,className:e})),ref:o,...s})});L.displayName="Button";const ie=d.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:Y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ie.displayName="Input";var iL="Separator",zw="horizontal",lL=["horizontal","vertical"],sj=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=zw,...s}=e,o=cL(r)?r:zw,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(me.div,{"data-orientation":o,...l,...s,ref:t})});sj.displayName=iL;function cL(e){return lL.includes(e)}var oj=sj;const aj=d.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>a.jsx(oj,{ref:s,decorative:n,orientation:t,className:Y("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));aj.displayName=oj.displayName;var Mf="focusScope.autoFocusOnMount",Lf="focusScope.autoFocusOnUnmount",Bw={bubbles:!1,cancelable:!0},uL="FocusScope",Nh=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=d.useState(null),u=ct(s),h=ct(o),f=d.useRef(null),g=Oe(t,p=>c(p)),m=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let p=function(w){if(m.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:ys(f.current,{select:!0})},x=function(w){if(m.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||ys(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&ys(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),v.disconnect()}}},[r,l,m.paused]),d.useEffect(()=>{if(l){Ww.add(m);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(Mf,Bw);l.addEventListener(Mf,u),l.dispatchEvent(y),y.defaultPrevented||(dL(gL(ij(l)),{select:!0}),document.activeElement===p&&ys(l))}return()=>{l.removeEventListener(Mf,u),setTimeout(()=>{const y=new CustomEvent(Lf,Bw);l.addEventListener(Lf,h),l.dispatchEvent(y),y.defaultPrevented||ys(p??document.body,{select:!0}),l.removeEventListener(Lf,h),Ww.remove(m)},0)}}},[l,u,h,m]);const b=d.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const v=p.currentTarget,[w,S]=hL(v);w&&S?!p.shiftKey&&y===S?(p.preventDefault(),n&&ys(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),n&&ys(S,{select:!0})):y===v&&p.preventDefault()}},[n,r,m.paused]);return a.jsx(me.div,{tabIndex:-1,...i,ref:g,onKeyDown:b})});Nh.displayName=uL;function dL(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(ys(r,{select:t}),document.activeElement!==n)return}function hL(e){const t=ij(e),n=Vw(t,e),r=Vw(t.reverse(),e);return[n,r]}function ij(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vw(e,t){for(const n of e)if(!fL(n,{upTo:t}))return n}function fL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function pL(e){return e instanceof HTMLInputElement&&"select"in e}function ys(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&pL(e)&&t&&e.select()}}var Ww=mL();function mL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Hw(e,t),e.unshift(t)},remove(t){var n;e=Hw(e,t),(n=e[0])==null||n.resume()}}}function Hw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function gL(e){return e.filter(t=>t.tagName!=="A")}var $f=0;function xv(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Kw()),document.body.insertAdjacentElement("beforeend",e[1]??Kw()),$f++,()=>{$f===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),$f--}},[])}function Kw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Uu="right-scroll-bar-position",zu="width-before-scroll-bar",vL="with-scroll-bars-hidden",yL="--removed-body-scroll-bar-size";function Ff(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xL(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var wL=typeof window<"u"?d.useLayoutEffect:d.useEffect,qw=new WeakMap;function bL(e,t){var n=xL(null,function(r){return e.forEach(function(s){return Ff(s,r)})});return wL(function(){var r=qw.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||Ff(l,null)}),o.forEach(function(l){s.has(l)||Ff(l,i)})}qw.set(n,e)},[e]),n}function SL(e){return e}function NL(e,t){t===void 0&&(t=SL);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var h=i;i=[],h.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return s}function jL(e){e===void 0&&(e={});var t=NL(null);return t.options=_r({async:!0,ssr:!1},e),t}var lj=function(e){var t=e.sideCar,n=zi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,_r({},n))};lj.isSideCarExport=!0;function _L(e,t){return e.useMedium(t),lj}var cj=jL(),Uf=function(){},jh=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:Uf,onWheelCapture:Uf,onTouchMoveCapture:Uf}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,g=e.sideCar,m=e.noRelative,b=e.noIsolation,p=e.inert,x=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,w=e.gapMode,S=zi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=g,j=bL([n,t]),_=_r(_r({},S),s);return d.createElement(d.Fragment,null,h&&d.createElement(N,{sideCar:cj,removeScrollBar:u,shards:f,noRelative:m,noIsolation:b,inert:p,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:w}),i?d.cloneElement(d.Children.only(l),_r(_r({},_),{ref:j})):d.createElement(v,_r({},_,{className:c,ref:j}),l))});jh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jh.classNames={fullWidth:zu,zeroRight:Uu};var CL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=CL();return t&&e.setAttribute("nonce",t),e}function kL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function TL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var AL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=EL())&&(kL(t,n),TL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},PL=function(){var e=AL();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},uj=function(){var e=PL(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},RL={left:0,top:0,right:0,gap:0},zf=function(e){return parseInt(e||"",10)||0},OL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[zf(n),zf(r),zf(s)]},IL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return RL;var t=OL(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},DL=uj(),qa="data-scroll-locked",ML=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(vL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(qa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Uu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(zu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Uu," .").concat(Uu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(zu," .").concat(zu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qa,`] {
    `).concat(yL,": ").concat(l,`px;
  }
`)},Gw=function(){var e=parseInt(document.body.getAttribute(qa)||"0",10);return isFinite(e)?e:0},LL=function(){d.useEffect(function(){return document.body.setAttribute(qa,(Gw()+1).toString()),function(){var e=Gw()-1;e<=0?document.body.removeAttribute(qa):document.body.setAttribute(qa,e.toString())}},[])},$L=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;LL();var o=d.useMemo(function(){return IL(s)},[s]);return d.createElement(DL,{styles:ML(o,!t,s,n?"":"!important")})},km=!1;if(typeof window<"u")try{var yu=Object.defineProperty({},"passive",{get:function(){return km=!0,!0}});window.addEventListener("test",yu,yu),window.removeEventListener("test",yu,yu)}catch{km=!1}var ma=km?{passive:!1}:!1,FL=function(e){return e.tagName==="TEXTAREA"},dj=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!FL(e)&&n[t]==="visible")},UL=function(e){return dj(e,"overflowY")},zL=function(e){return dj(e,"overflowX")},Yw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=hj(e,r);if(s){var o=fj(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},BL=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},VL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},hj=function(e,t){return e==="v"?UL(t):zL(t)},fj=function(e,t){return e==="v"?BL(t):VL(t)},WL=function(e,t){return e==="h"&&t==="rtl"?-1:1},HL=function(e,t,n,r,s){var o=WL(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,h=i>0,f=0,g=0;do{if(!l)break;var m=fj(e,l),b=m[0],p=m[1],x=m[2],y=p-x-o*b;(b||y)&&hj(e,l)&&(f+=y,g+=b);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(g)<1||!s))&&(u=!0),u},xu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Qw=function(e){return[e.deltaX,e.deltaY]},Xw=function(e){return e&&"current"in e?e.current:e},KL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GL=0,ga=[];function YL(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(GL++)[0],o=d.useState(uj)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=_M([e.lockRef.current],(e.shards||[]).map(Xw),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var y=xu(p),v=n.current,w="deltaX"in p?p.deltaX:v[0]-y[0],S="deltaY"in p?p.deltaY:v[1]-y[1],N,j=p.target,_=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&_==="h"&&j.type==="range")return!1;var C=Yw(_,j);if(!C)return!0;if(C?N=_:(N=_==="v"?"h":"v",C=Yw(_,j)),!C)return!1;if(!r.current&&"changedTouches"in p&&(w||S)&&(r.current=N),!N)return!0;var T=r.current||N;return HL(T,x,p,T==="h"?w:S,!0)},[]),c=d.useCallback(function(p){var x=p;if(!(!ga.length||ga[ga.length-1]!==o)){var y="deltaY"in x?Qw(x):xu(x),v=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&KL(N.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var w=(i.current.shards||[]).map(Xw).filter(Boolean).filter(function(N){return N.contains(x.target)}),S=w.length>0?l(x,w[0]):!i.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=d.useCallback(function(p,x,y,v){var w={name:p,delta:x,target:y,should:v,shadowParent:QL(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),h=d.useCallback(function(p){n.current=xu(p),r.current=void 0},[]),f=d.useCallback(function(p){u(p.type,Qw(p),p.target,l(p,e.lockRef.current))},[]),g=d.useCallback(function(p){u(p.type,xu(p),p.target,l(p,e.lockRef.current))},[]);d.useEffect(function(){return ga.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,ma),document.addEventListener("touchmove",c,ma),document.addEventListener("touchstart",h,ma),function(){ga=ga.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,ma),document.removeEventListener("touchmove",c,ma),document.removeEventListener("touchstart",h,ma)}},[]);var m=e.removeScrollBar,b=e.inert;return d.createElement(d.Fragment,null,b?d.createElement(o,{styles:qL(s)}):null,m?d.createElement($L,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function QL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const XL=_L(cj,YL);var _h=d.forwardRef(function(e,t){return d.createElement(jh,_r({},e,{ref:t,sideCar:XL}))});_h.classNames=jh.classNames;var JL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},va=new WeakMap,wu=new WeakMap,bu={},Bf=0,pj=function(e){return e&&(e.host||pj(e.parentNode))},ZL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=pj(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},e3=function(e,t,n,r){var s=ZL(t,Array.isArray(e)?e:[e]);bu[n]||(bu[n]=new WeakMap);var o=bu[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))h(g);else try{var m=g.getAttribute(r),b=m!==null&&m!=="false",p=(va.get(g)||0)+1,x=(o.get(g)||0)+1;va.set(g,p),o.set(g,x),i.push(g),p===1&&b&&wu.set(g,!0),x===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",g,y)}})};return h(t),l.clear(),Bf++,function(){i.forEach(function(f){var g=va.get(f)-1,m=o.get(f)-1;va.set(f,g),o.set(f,m),g||(wu.has(f)||f.removeAttribute(r),wu.delete(f)),m||f.removeAttribute(n)}),Bf--,Bf||(va=new WeakMap,va=new WeakMap,wu=new WeakMap,bu={})}},wv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=JL(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),e3(r,s,n,"aria-hidden")):function(){return null}},Ch="Dialog",[mj,gj]=Vt(Ch),[t3,mr]=mj(Ch),vj=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=Kn({prop:r,defaultProp:s??!1,onChange:o,caller:Ch});return a.jsx(t3,{scope:t,triggerRef:l,contentRef:c,contentId:rn(),titleId:rn(),descriptionId:rn(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:i,children:n})};vj.displayName=Ch;var yj="DialogTrigger",xj=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(yj,n),o=Oe(t,s.triggerRef);return a.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Nv(s.open),...r,ref:o,onClick:re(e.onClick,s.onOpenToggle)})});xj.displayName=yj;var bv="DialogPortal",[n3,wj]=mj(bv,{forceMount:void 0}),bj=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=mr(bv,t);return a.jsx(n3,{scope:t,forceMount:n,children:d.Children.map(r,i=>a.jsx(Yt,{present:n||o.open,children:a.jsx(bc,{asChild:!0,container:s,children:i})}))})};bj.displayName=bv;var Td="DialogOverlay",Sj=d.forwardRef((e,t)=>{const n=wj(Td,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=mr(Td,e.__scopeDialog);return o.modal?a.jsx(Yt,{present:r||o.open,children:a.jsx(s3,{...s,ref:t})}):null});Sj.displayName=Td;var r3=Uo("DialogOverlay.RemoveScroll"),s3=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(Td,n);return a.jsx(_h,{as:r3,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(me.div,{"data-state":Nv(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ho="DialogContent",Nj=d.forwardRef((e,t)=>{const n=wj(Ho,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=mr(Ho,e.__scopeDialog);return a.jsx(Yt,{present:r||o.open,children:o.modal?a.jsx(o3,{...s,ref:t}):a.jsx(a3,{...s,ref:t})})});Nj.displayName=Ho;var o3=d.forwardRef((e,t)=>{const n=mr(Ho,e.__scopeDialog),r=d.useRef(null),s=Oe(t,n.contentRef,r);return d.useEffect(()=>{const o=r.current;if(o)return wv(o)},[]),a.jsx(jj,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:re(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:re(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:re(e.onFocusOutside,o=>o.preventDefault())})}),a3=d.forwardRef((e,t)=>{const n=mr(Ho,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return a.jsx(jj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),jj=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=mr(Ho,n),c=d.useRef(null),u=Oe(t,c);return xv(),a.jsxs(a.Fragment,{children:[a.jsx(Nh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Ri,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Nv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(l3,{titleId:l.titleId}),a.jsx(u3,{contentRef:c,descriptionId:l.descriptionId})]})]})}),Sv="DialogTitle",_j=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(Sv,n);return a.jsx(me.h2,{id:s.titleId,...r,ref:t})});_j.displayName=Sv;var Cj="DialogDescription",Ej=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(Cj,n);return a.jsx(me.p,{id:s.descriptionId,...r,ref:t})});Ej.displayName=Cj;var kj="DialogClose",Tj=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(kj,n);return a.jsx(me.button,{type:"button",...r,ref:t,onClick:re(e.onClick,()=>s.onOpenChange(!1))})});Tj.displayName=kj;function Nv(e){return e?"open":"closed"}var Aj="DialogTitleWarning",[i3,Pj]=jP(Aj,{contentName:Ho,titleName:Sv,docsSlug:"dialog"}),l3=({titleId:e})=>{const t=Pj(Aj),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},c3="DialogDescriptionWarning",u3=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pj(c3).contentName}}.`;return d.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},jv=vj,_v=xj,Cv=bj,_c=Sj,Cc=Nj,Ec=_j,kc=Ej,Eh=Tj;const Rj=jv,d3=_v,h3=Cv,Oj=d.forwardRef(({className:e,...t},n)=>a.jsx(_c,{className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Oj.displayName=_c.displayName;const f3=Oi("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Ev=d.forwardRef(({side:e="right",className:t,children:n,...r},s)=>a.jsxs(h3,{children:[a.jsx(Oj,{}),a.jsxs(Cc,{ref:s,className:Y(f3({side:e}),t),...r,children:[n,a.jsxs(Eh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(os,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ev.displayName=Cc.displayName;const Ij=({className:e,...t})=>a.jsx("div",{className:Y("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ij.displayName="SheetHeader";const Dj=d.forwardRef(({className:e,...t},n)=>a.jsx(Ec,{ref:n,className:Y("text-lg font-semibold text-foreground",e),...t}));Dj.displayName=Ec.displayName;const p3=d.forwardRef(({className:e,...t},n)=>a.jsx(kc,{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));p3.displayName=kc.displayName;function Jw({className:e,...t}){return a.jsx("div",{className:Y("animate-pulse rounded-md bg-muted",e),...t})}const m3="sidebar:state",g3=60*60*24*7,v3="16rem",y3="18rem",x3="3rem",w3="b",Mj=d.createContext(null);function Tc(){const e=d.useContext(Mj);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Lj=d.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:o,...i},l)=>{const c=aL(),[u,h]=d.useState(!1),[f,g]=d.useState(e),m=t??f,b=d.useCallback(v=>{const w=typeof v=="function"?v(m):v;n?n(w):g(w),document.cookie=`${m3}=${w}; path=/; max-age=${g3}`},[n,m]),p=d.useCallback(()=>c?h(v=>!v):b(v=>!v),[c,b,h]);d.useEffect(()=>{const v=w=>{w.key===w3&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[p]);const x=m?"expanded":"collapsed",y=d.useMemo(()=>({state:x,open:m,setOpen:b,isMobile:c,openMobile:u,setOpenMobile:h,toggleSidebar:p}),[x,m,b,c,u,h,p]);return a.jsx(Mj.Provider,{value:y,children:a.jsx(p1,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":v3,"--sidebar-width-icon":x3,...s},className:Y("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...i,children:o})})})});Lj.displayName="SidebarProvider";const $j=d.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...o},i)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:h}=Tc();return n==="none"?a.jsx("div",{className:Y("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:i,...o,children:s}):l?a.jsx(Rj,{open:u,onOpenChange:h,...o,children:a.jsx(Ev,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":y3},side:e,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):a.jsxs("div",{ref:i,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:Y("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:Y("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});$j.displayName="Sidebar";const Fj=d.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:s}=Tc();return a.jsx(L,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Y("h-7 w-7",e),onClick:o=>{t==null||t(o),s()},...n,children:a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})})});Fj.displayName="SidebarTrigger";const b3=d.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Tc();return a.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:Y("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});b3.displayName="SidebarRail";const Uj=d.forwardRef(({className:e,...t},n)=>a.jsx("main",{ref:n,className:Y("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Uj.displayName="SidebarInset";const S3=d.forwardRef(({className:e,...t},n)=>a.jsx(ie,{ref:n,"data-sidebar":"input",className:Y("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));S3.displayName="SidebarInput";const zj=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"header",className:Y("flex flex-col gap-2 p-2",e),...t}));zj.displayName="SidebarHeader";const Bj=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"footer",className:Y("flex flex-col gap-2 p-2",e),...t}));Bj.displayName="SidebarFooter";const N3=d.forwardRef(({className:e,...t},n)=>a.jsx(aj,{ref:n,"data-sidebar":"separator",className:Y("mx-2 w-auto bg-sidebar-border",e),...t}));N3.displayName="SidebarSeparator";const Vj=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"content",className:Y("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Vj.displayName="SidebarContent";const Wj=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"group",className:Y("relative flex w-full min-w-0 flex-col p-2",e),...t}));Wj.displayName="SidebarGroup";const Hj=d.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Pi:"div";return a.jsx(s,{ref:r,"data-sidebar":"group-label",className:Y("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});Hj.displayName="SidebarGroupLabel";const j3=d.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Pi:"button";return a.jsx(s,{ref:r,"data-sidebar":"group-action",className:Y("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});j3.displayName="SidebarGroupAction";const Kj=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"group-content",className:Y("w-full text-sm",e),...t}));Kj.displayName="SidebarGroupContent";const Tm=d.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu",className:Y("flex w-full min-w-0 flex-col gap-1",e),...t}));Tm.displayName="SidebarMenu";const fl=d.forwardRef(({className:e,...t},n)=>a.jsx("li",{ref:n,"data-sidebar":"menu-item",className:Y("group/menu-item relative",e),...t}));fl.displayName="SidebarMenuItem";const _3=Oi("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),pl=d.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:o,...i},l)=>{const c=e?Pi:"button",{isMobile:u,state:h}=Tc(),f=a.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:Y(_3({variant:n,size:r}),o),...i});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(UI,{children:[a.jsx(zI,{asChild:!0,children:f}),a.jsx(m1,{side:"right",align:"center",hidden:h!=="collapsed"||u,...s})]})):f});pl.displayName="SidebarMenuButton";const C3=d.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},s)=>{const o=t?Pi:"button";return a.jsx(o,{ref:s,"data-sidebar":"menu-action",className:Y("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});C3.displayName="SidebarMenuAction";const E3=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:Y("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));E3.displayName="SidebarMenuBadge";const k3=d.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const s=d.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:Y("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&a.jsx(Jw,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(Jw,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});k3.displayName="SidebarMenuSkeleton";const T3=d.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:Y("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));T3.displayName="SidebarMenuSub";const A3=d.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));A3.displayName="SidebarMenuSubItem";const P3=d.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...s},o)=>{const i=e?Pi:"a";return a.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:Y("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});P3.displayName="SidebarMenuSubButton";const Ad=d.forwardRef(({className:e,activeClassName:t,pendingClassName:n,to:r,...s},o)=>a.jsx(wM,{ref:o,to:r,className:({isActive:i,isPending:l})=>Y(e,i&&t,l&&n),...s}));Ad.displayName="NavLink";const R3=[{title:"Dashboard",url:"/",icon:SN},{title:"DNA Lab",url:"/dna-lab",icon:ro},{title:"Personas",url:"/personas",icon:yi},{title:"Writer",url:"/writer",icon:vi},{title:"Notes",url:"/notes",icon:qp}];function O3(){const{state:e,toggleSidebar:t}=Tc(),{signOut:n}=On(),r=e==="collapsed";return a.jsxs($j,{collapsible:"icon",className:"border-r border-border/50",children:[a.jsx(zj,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary",children:a.jsx(w2,{className:"h-5 w-5 text-primary-foreground"})}),!r&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-lg font-semibold tracking-tight",children:"LOG"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Content Platform"})]})]})}),a.jsx(Vj,{children:a.jsxs(Wj,{children:[a.jsx(Hj,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground/70",children:"Workspace"}),a.jsx(Kj,{children:a.jsx(Tm,{children:R3.map(s=>a.jsx(fl,{children:a.jsx(pl,{asChild:!0,tooltip:s.title,children:a.jsxs(Ad,{to:s.url,end:s.url==="/",className:"flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 hover:bg-accent",activeClassName:"bg-primary/10 text-primary",children:[a.jsx(s.icon,{className:"h-5 w-5 shrink-0"}),a.jsx("span",{children:s.title})]})})},s.title))})})]})}),a.jsx(Bj,{className:"p-2 space-y-2",children:a.jsxs(Tm,{children:[a.jsx(fl,{children:a.jsx(pl,{asChild:!0,tooltip:r?"Expand Sidebar":"Collapse Sidebar",children:a.jsxs(L,{variant:"ghost",onClick:t,className:"w-full justify-start gap-3 rounded-lg px-3 py-2.5 text-sm font-medium hover:bg-accent",children:[r?a.jsx(O2,{className:"h-5 w-5 shrink-0"}):a.jsx(R2,{className:"h-5 w-5 shrink-0"}),!r&&a.jsx("span",{children:"Collapse"})]})})}),a.jsx(fl,{children:a.jsx(pl,{asChild:!0,tooltip:"Settings",children:a.jsxs(Ad,{to:"/settings",className:"flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 hover:bg-accent",activeClassName:"bg-primary/10 text-primary",children:[a.jsx(D2,{className:"h-5 w-5 shrink-0"}),a.jsx("span",{children:"Settings"})]})})}),a.jsx(fl,{children:a.jsx(pl,{asChild:!0,tooltip:"Logout",children:a.jsxs(L,{variant:"ghost",onClick:n,className:"w-full justify-start gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-destructive hover:bg-destructive/10 hover:text-destructive",children:[a.jsx(T2,{className:"h-5 w-5 shrink-0"}),!r&&a.jsx("span",{children:"Logout"})]})})})]})})]})}const I3=[{title:"Home",url:"/",icon:SN},{title:"DNA",url:"/dna-lab",icon:ro},{title:"Personas",url:"/personas",icon:yi},{title:"Writer",url:"/writer",icon:vi}];function D3(){return a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border/50 bg-card/80 backdrop-blur-xl md:hidden",children:a.jsx("div",{className:"flex items-center justify-around px-2 py-2 safe-area-pb",children:I3.map(e=>a.jsxs(Ad,{to:e.url,end:e.url==="/",className:"flex flex-col items-center gap-1 rounded-lg px-3 py-2 text-muted-foreground transition-colors",activeClassName:"text-primary",children:[a.jsx(e.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"text-[10px] font-medium",children:e.title})]},e.title))})})}var qj={exports:{}},Gj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=d;function M3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var L3=typeof Object.is=="function"?Object.is:M3,$3=Si.useState,F3=Si.useEffect,U3=Si.useLayoutEffect,z3=Si.useDebugValue;function B3(e,t){var n=t(),r=$3({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return U3(function(){s.value=n,s.getSnapshot=t,Vf(s)&&o({inst:s})},[e,n,t]),F3(function(){return Vf(s)&&o({inst:s}),e(function(){Vf(s)&&o({inst:s})})},[e]),z3(n),n}function Vf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!L3(e,n)}catch{return!0}}function V3(e,t){return t()}var W3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?V3:B3;Gj.useSyncExternalStore=Si.useSyncExternalStore!==void 0?Si.useSyncExternalStore:W3;qj.exports=Gj;var H3=qj.exports;function K3(){return H3.useSyncExternalStore(q3,()=>!0,()=>!1)}function q3(){return()=>{}}var kv="Avatar",[G3,A8]=Vt(kv),[Y3,Yj]=G3(kv),Qj=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=d.useState("idle");return a.jsx(Y3,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(me.span,{...r,ref:t})})});Qj.displayName=kv;var Xj="AvatarImage",Jj=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=Yj(Xj,n),l=Q3(r,o),c=ct(u=>{s(u),i.onImageLoadingStatusChange(u)});return ut(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(me.img,{...o,ref:t,src:r}):null});Jj.displayName=Xj;var Zj="AvatarFallback",e_=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=Yj(Zj,n),[i,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(me.span,{...s,ref:t}):null});e_.displayName=Zj;function Zw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Q3(e,{referrerPolicy:t,crossOrigin:n}){const r=K3(),s=d.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=d.useState(()=>Zw(o,e));return ut(()=>{l(Zw(o,e))},[o,e]),ut(()=>{const c=f=>()=>{l(f)};if(!o)return;const u=c("loaded"),h=c("error");return o.addEventListener("load",u),o.addEventListener("error",h),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",h)}},[o,n,t]),i}var t_=Qj,n_=Jj,r_=e_;const Tv=d.forwardRef(({className:e,...t},n)=>a.jsx(t_,{ref:n,className:Y("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Tv.displayName=t_.displayName;const s_=d.forwardRef(({className:e,...t},n)=>a.jsx(n_,{ref:n,className:Y("aspect-square h-full w-full",e),...t}));s_.displayName=n_.displayName;const Av=d.forwardRef(({className:e,...t},n)=>a.jsx(r_,{ref:n,className:Y("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Av.displayName=r_.displayName;const e0={dna_evolution:["pro","ultra"],ai_suggest_angle:["pro","ultra"],batch_dna:["pro","ultra"],structure_innovation:["pro","ultra"],flop_analysis:["pro","ultra"]},Su={starter:0,pro:1,ultra:2};function o_(){const{user:e}=On(),[t,n]=d.useState({tier:"starter",startedAt:null,expiresAt:null,isExpired:!1,loading:!0}),r=d.useCallback(async()=>{if(!e){n(u=>({...u,tier:"starter",loading:!1}));return}try{const{data:u,error:h}=await ze.from("profiles").select("*").eq("id",e.id).single();if(h){console.error("Error fetching subscription:",h),n(y=>({...y,tier:"starter",loading:!1}));return}const f=u,g=f==null?void 0:f.subscription_tier,m=f==null?void 0:f.subscription_started_at,b=f==null?void 0:f.subscription_expires_at,p=b?new Date(b):null,x=p?p<new Date:!1;n({tier:x?"starter":g||"starter",startedAt:m?new Date(m):null,expiresAt:p,isExpired:x,loading:!1})}catch(u){console.error("Error in fetchSubscription:",u),n(h=>({...h,tier:"starter",loading:!1}))}},[e]);d.useEffect(()=>{r()},[r]);const s=d.useCallback(u=>e0[u].includes(t.tier),[t.tier]),o=d.useCallback(u=>Su[t.tier]>=Su[u],[t.tier]),i=d.useMemo(()=>o("pro"),[o]),l=d.useMemo(()=>t.tier==="ultra",[t.tier]),c=d.useCallback(u=>e0[u].reduce((f,g)=>Su[g]<Su[f]?g:f),[]);return{...t,canAccessFeature:s,hasMinimumTier:o,isPro:i,isUltra:l,getRequiredTier:c,refetch:r}}const X3=Oi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xt({className:e,variant:t,...n}){return a.jsx("div",{className:Y(X3({variant:t}),e),...n})}const J3={starter:{icon:jt,label:"Starter",className:"bg-gray-500/10 text-gray-400 border-gray-500/20"},pro:{icon:zn,label:"Pro",className:"bg-blue-500/10 text-blue-500 border-blue-500/20"},ultra:{icon:pd,label:"Ultra",className:"bg-amber-500/10 text-amber-500 border-amber-500/20"}};function Z3({children:e}){var f;const{user:t}=On(),{tier:n,loading:r}=o_(),s=ea(),[o,i]=d.useState(null);d.useEffect(()=>{t&&ze.from("profiles").select("full_name, avatar_url").eq("id",t.id).maybeSingle().then(({data:g})=>i(g))},[t]);const l=(o==null?void 0:o.full_name)||((f=t==null?void 0:t.email)==null?void 0:f.split("@")[0])||"User",c=l.slice(0,2).toUpperCase(),u=J3[n],h=u.icon;return a.jsx(Lj,{children:a.jsxs("div",{className:"flex min-h-screen w-full",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(O3,{})}),a.jsxs(Uj,{className:"flex flex-1 flex-col",children:[a.jsxs("header",{className:"sticky top-0 z-40 flex h-14 items-center gap-4 border-b border-border/50 bg-background/80 px-4 backdrop-blur-xl md:h-16 md:px-6",children:[a.jsx(Fj,{className:"hidden md:flex"}),a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"flex items-center gap-3",children:[!r&&a.jsxs(xt,{variant:"outline",className:`cursor-pointer gap-1 ${u.className}`,onClick:()=>s("/pricing"),children:[a.jsx(h,{className:"h-3 w-3"}),a.jsx("span",{className:"hidden sm:inline",children:u.label})]}),a.jsx("span",{className:"text-sm font-medium text-foreground hidden sm:block",children:l}),a.jsxs(Tv,{className:"h-8 w-8",children:[a.jsx(s_,{src:(o==null?void 0:o.avatar_url)||void 0,alt:l}),a.jsx(Av,{className:"bg-primary/10 text-primary text-xs",children:c})]})]})]}),a.jsx("main",{className:"flex-1 overflow-auto pb-20 md:pb-0",children:e})]}),a.jsx(D3,{})]})})}const Pd=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Y("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Pd.displayName="Card";const Am=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Y("flex flex-col space-y-1.5 p-6",e),...t}));Am.displayName="CardHeader";const Pm=d.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:Y("text-2xl font-semibold leading-none tracking-tight",e),...t}));Pm.displayName="CardTitle";const a_=d.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));a_.displayName="CardDescription";const Rd=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Y("p-6 pt-0",e),...t}));Rd.displayName="CardContent";const i_=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Y("flex items-center p-6 pt-0",e),...t}));i_.displayName="CardFooter";var Pv="Progress",Rv=100,[e$,P8]=Vt(Pv),[t$,n$]=e$(Pv),l_=d.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=r$,...i}=e;(s||s===0)&&!t0(s)&&console.error(s$(`${s}`,"Progress"));const l=t0(s)?s:Rv;r!==null&&!n0(r,l)&&console.error(o$(`${r}`,"Progress"));const c=n0(r,l)?r:null,u=Od(c)?o(c,l):void 0;return a.jsx(t$,{scope:n,value:c,max:l,children:a.jsx(me.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Od(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":d_(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});l_.displayName=Pv;var c_="ProgressIndicator",u_=d.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=n$(c_,n);return a.jsx(me.div,{"data-state":d_(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});u_.displayName=c_;function r$(e,t){return`${Math.round(e/t*100)}%`}function d_(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Od(e){return typeof e=="number"}function t0(e){return Od(e)&&!isNaN(e)&&e>0}function n0(e,t){return Od(e)&&!isNaN(e)&&e<=t&&e>=0}function s$(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Rv}\`.`}function o$(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Rv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var h_=l_,a$=u_;const Ov=d.forwardRef(({className:e,value:t,...n},r)=>a.jsx(h_,{ref:r,className:Y("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:a.jsx(a$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Ov.displayName=h_.displayName;const sl=[{id:1,title:"Welcome to ScriptLab!",description:"Your AI-powered content creation studio. Let's take a quick tour of the key features that will help you create viral content.",icon:jt,color:"text-primary",tips:["Create scripts based on proven viral formulas","Extract DNA from successful videos","Build personas for your target audience"]},{id:2,title:"DNA Extraction",description:"Extract the viral DNA from any YouTube video. Our AI analyzes successful content to identify patterns, hooks, pacing, and retention tactics.",icon:ro,color:"text-purple-500",tips:["Paste any YouTube URL to start extraction","AI analyzes transcript, structure, and engagement","Save DNA templates for future script generation"],action:{label:"Try DNA Extraction",path:"/dna-lab"}},{id:3,title:"Script Generation",description:"Generate viral-ready scripts using your extracted DNA templates. Choose between original ideas or rewriting existing content.",icon:vi,color:"text-blue-500",tips:["Select a DNA template for consistent style","Add viral and flop references for context","Use version history to track changes"],action:{label:"Create Your First Script",path:"/writer"}},{id:4,title:"Audience Personas",description:"Define your target audience with detailed personas. The AI uses these to tailor content for maximum engagement.",icon:yi,color:"text-green-500",tips:["Create personas with demographics and preferences","Define pain points and knowledge level","Apply personas to scripts for targeted content"],action:{label:"Create a Persona",path:"/personas"}},{id:5,title:"Pro Tips",description:"Here are some tips to get the most out of ScriptLab and create content that resonates with your audience.",icon:Hg,color:"text-yellow-500",tips:["Add both viral AND flop references for balanced AI learning","Use the score feature to evaluate script quality","Organize scripts into folders for better management","Check version history to restore previous drafts"]}];function i$({onComplete:e,onSkip:t}){const[n,r]=d.useState(0),s=sl[n],o=(n+1)/sl.length*100,i=n===sl.length-1,l=()=>{i?e():r(u=>u+1)},c=()=>{r(u=>Math.max(0,u-1))};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm p-4",children:a.jsx(Pd,{className:"w-full max-w-lg border-border/50 shadow-2xl",children:a.jsxs(Rd,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 ${s.color}`,children:a.jsx(s.icon,{className:"h-5 w-5"})}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",n+1," of ",sl.length]})]}),a.jsx(L,{variant:"ghost",size:"icon",onClick:t,children:a.jsx(os,{className:"h-4 w-4"})})]}),a.jsx(Ov,{value:o,className:"mb-6 h-1"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:s.title}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s.description}),a.jsx("ul",{className:"space-y-2",children:s.tips.map((u,h)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(zo,{className:"h-4 w-4 text-primary mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm",children:u})]},h))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(L,{variant:"ghost",onClick:c,disabled:n===0,children:[a.jsx(y2,{className:"h-4 w-4 mr-1"}),"Previous"]}),a.jsx("div",{className:"flex gap-1",children:sl.map((u,h)=>a.jsx("button",{className:`h-2 w-2 rounded-full transition-colors ${h===n?"bg-primary":h<n?"bg-primary/50":"bg-muted"}`,onClick:()=>r(h)},h))}),a.jsxs(L,{onClick:l,children:[i?"Get Started":"Next",!i&&a.jsx(Kr,{className:"h-4 w-4 ml-1"})]})]})]})})})}function l$(){const{user:e}=On(),[t,n]=d.useState(!1),[r,s]=d.useState(!0);d.useEffect(()=>{if(!e){s(!1);return}(async()=>{const{data:u}=await ze.from("profiles").select("created_at").eq("id",e.id).maybeSingle();if(u){const h=`onboarding_completed_${e.id}`;if(!localStorage.getItem(h)){const g=new Date(u.created_at);(new Date().getTime()-g.getTime())/(1e3*60)<5&&n(!0)}}s(!1)})()},[e]);const o=()=>{e&&localStorage.setItem(`onboarding_completed_${e.id}`,"true"),n(!1)};return{showOnboarding:t,loading:r,completeOnboarding:o,skipOnboarding:()=>{o()},resetOnboarding:()=>{e&&(localStorage.removeItem(`onboarding_completed_${e.id}`),n(!0))}}}const ve=d.forwardRef(({className:e,variant:t="default",...n},r)=>a.jsx("div",{ref:r,className:Y("rounded-2xl border border-border/50 bg-card/80 backdrop-blur-sm transition-all duration-300 overflow-hidden",t==="default"&&"shadow-sm hover:shadow-md",t==="elevated"&&"shadow-md hover:shadow-lg hover:-translate-y-0.5",t==="subtle"&&"bg-card/50",e),...n}));ve.displayName="GlassCard";const fn=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Y("flex flex-col space-y-1.5 p-6",e),...t}));fn.displayName="GlassCardHeader";const Sn=d.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:Y("text-lg font-semibold leading-none tracking-tight",e),...t}));Sn.displayName="GlassCardTitle";const Gs=d.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));Gs.displayName="GlassCardDescription";const xe=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Y("p-6 pt-0",e),...t}));xe.displayName="GlassCardContent";function r0({title:e,value:t,icon:n,iconColor:r="text-primary"}){return a.jsx(ve,{className:"h-full",children:a.jsxs(xe,{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-lg bg-muted/50 p-2",children:a.jsx(n,{className:`h-4 w-4 ${r}`})}),a.jsx("span",{className:"text-sm text-muted-foreground",children:e})]}),a.jsx("span",{className:"text-2xl font-bold",children:t})]})})}function gr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ko(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const f_=6048e5,c$=864e5;let u$={};function kh(){return u$}function ac(e,t){var l,c,u,h;const n=kh(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=gr(e),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Id(e){return ac(e,{weekStartsOn:1})}function p_(e){const t=gr(e),n=t.getFullYear(),r=Ko(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Id(r),o=Ko(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=Id(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function s0(e){const t=gr(e);return t.setHours(0,0,0,0),t}function o0(e){const t=gr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function d$(e,t){const n=s0(e),r=s0(t),s=+n-o0(n),o=+r-o0(r);return Math.round((s-o)/c$)}function h$(e){const t=p_(e),n=Ko(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Id(n)}function f$(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function p$(e){if(!f$(e)&&typeof e!="number")return!1;const t=gr(e);return!isNaN(Number(t))}function m$(e){const t=gr(e),n=Ko(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const g$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},v$=(e,t,n)=>{let r;const s=g$[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Wf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const y$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},x$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},b$={date:Wf({formats:y$,defaultWidth:"full"}),time:Wf({formats:x$,defaultWidth:"full"}),dateTime:Wf({formats:w$,defaultWidth:"full"})},S$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},N$=(e,t,n,r)=>S$[e];function ol(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const j$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},C$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},E$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},k$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},A$=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},P$={ordinalNumber:A$,era:ol({values:j$,defaultWidth:"wide"}),quarter:ol({values:_$,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ol({values:C$,defaultWidth:"wide"}),day:ol({values:E$,defaultWidth:"wide"}),dayPeriod:ol({values:k$,defaultWidth:"wide",formattingValues:T$,defaultFormattingWidth:"wide"})};function al(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?O$(l,f=>f.test(i)):R$(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(i.length);return{value:u,rest:h}}}function R$(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function O$(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function I$(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const D$=/^(\d+)(th|st|nd|rd)?/i,M$=/\d+/i,L$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$$={any:[/^b/i,/^(a|c)/i]},F$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},U$={any:[/1/i,/2/i,/3/i,/4/i]},z$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},B$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},V$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},H$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},K$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},q$={ordinalNumber:I$({matchPattern:D$,parsePattern:M$,valueCallback:e=>parseInt(e,10)}),era:al({matchPatterns:L$,defaultMatchWidth:"wide",parsePatterns:$$,defaultParseWidth:"any"}),quarter:al({matchPatterns:F$,defaultMatchWidth:"wide",parsePatterns:U$,defaultParseWidth:"any",valueCallback:e=>e+1}),month:al({matchPatterns:z$,defaultMatchWidth:"wide",parsePatterns:B$,defaultParseWidth:"any"}),day:al({matchPatterns:V$,defaultMatchWidth:"wide",parsePatterns:W$,defaultParseWidth:"any"}),dayPeriod:al({matchPatterns:H$,defaultMatchWidth:"any",parsePatterns:K$,defaultParseWidth:"any"})},G$={code:"en-US",formatDistance:v$,formatLong:b$,formatRelative:N$,localize:P$,match:q$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y$(e){const t=gr(e);return d$(t,m$(t))+1}function Q$(e){const t=gr(e),n=+Id(t)-+h$(t);return Math.round(n/f_)+1}function m_(e,t){var h,f,g,m;const n=gr(e),r=n.getFullYear(),s=kh(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(g=s.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)??1,i=Ko(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=ac(i,t),c=Ko(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=ac(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function X$(e,t){var l,c,u,h;const n=kh(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=m_(e,t),o=Ko(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),ac(o,t)}function J$(e,t){const n=gr(e),r=+ac(n,t)-+X$(n,t);return Math.round(r/f_)+1}function Ge(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const gs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ge(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ge(n+1,2)},d(e,t){return Ge(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ge(e.getHours()%12||12,t.length)},H(e,t){return Ge(e.getHours(),t.length)},m(e,t){return Ge(e.getMinutes(),t.length)},s(e,t){return Ge(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ge(s,t.length)}},ya={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},a0={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return gs.y(e,t)},Y:function(e,t,n,r){const s=m_(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Ge(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ge(o,t.length)},R:function(e,t){const n=p_(e);return Ge(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ge(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return gs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=J$(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ge(s,t.length)},I:function(e,t,n){const r=Q$(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ge(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):gs.d(e,t)},D:function(e,t,n){const r=Y$(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ge(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ge(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ge(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ge(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=ya.noon:r===0?s=ya.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=ya.evening:r>=12?s=ya.afternoon:r>=4?s=ya.morning:s=ya.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return gs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):gs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):gs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):gs.s(e,t)},S:function(e,t){return gs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return l0(r);case"XXXX":case"XX":return vo(r);case"XXXXX":case"XXX":default:return vo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return l0(r);case"xxxx":case"xx":return vo(r);case"xxxxx":case"xxx":default:return vo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+i0(r,":");case"OOOO":default:return"GMT"+vo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+i0(r,":");case"zzzz":default:return"GMT"+vo(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ge(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ge(r,t.length)}};function i0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+Ge(o,2)}function l0(e,t){return e%60===0?(e>0?"-":"+")+Ge(Math.abs(e)/60,2):vo(e,t)}function vo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ge(Math.trunc(r/60),2),o=Ge(r%60,2);return n+s+t+o}const c0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},g_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Z$=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return c0(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",c0(r,t)).replace("{{time}}",g_(s,t))},eF={p:g_,P:Z$},tF=/^D+$/,nF=/^Y+$/,rF=["D","DD","YY","YYYY"];function sF(e){return tF.test(e)}function oF(e){return nF.test(e)}function aF(e,t,n){const r=iF(e,t,n);if(console.warn(r),rF.includes(e))throw new RangeError(r)}function iF(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uF=/^'([^]*?)'?$/,dF=/''/g,hF=/[a-zA-Z]/;function v_(e,t,n){var h,f,g,m;const r=kh(),s=r.locale??G$,o=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=r.weekStartsOn??((m=(g=r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??0,l=gr(e);if(!p$(l))throw new RangeError("Invalid time value");let c=t.match(cF).map(b=>{const p=b[0];if(p==="p"||p==="P"){const x=eF[p];return x(b,s.formatLong)}return b}).join("").match(lF).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const p=b[0];if(p==="'")return{isToken:!1,value:fF(b)};if(a0[p])return{isToken:!0,value:b};if(p.match(hF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const p=b.value;(oF(p)||sF(p))&&aF(p,t,String(e));const x=a0[p[0]];return x(l,p,s.localize,u)}).join("")}function fF(e){const t=e.match(uF);return t?t[1].replace(dF,"'"):e}function pF({title:e,subtitle:t,status:n="draft",mode:r,date:s,language:o="English",onClick:i}){const l=n==="done";return a.jsx(ve,{variant:"elevated",className:"cursor-pointer transition-all hover:border-primary/50 h-[140px]",onClick:i,children:a.jsxs(xe,{className:"p-4 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(xt,{variant:"outline",className:`text-xs uppercase ${l?"bg-green-500/10 text-green-600 border-green-500/30":"bg-muted text-muted-foreground"}`,children:n}),r&&a.jsx(xt,{variant:"secondary",className:"text-xs gap-1",children:r==="new-idea"?a.jsxs(a.Fragment,{children:[a.jsx(Hg,{className:"h-3 w-3"}),"Idea"]}):r==="rewrite"?a.jsxs(a.Fragment,{children:[a.jsx(Vr,{className:"h-3 w-3"}),"Rewrite"]}):null})]}),a.jsxs("div",{className:"flex-1 mt-2 space-y-1 min-h-0",children:[a.jsx("h3",{className:"font-semibold line-clamp-1",children:e}),t&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:v_(new Date(s),"dd/MM/yyyy")}),a.jsx("span",{className:"uppercase",children:o})]})]})})}function mF({title:e,description:t,icon:n,to:r,gradient:s}){return a.jsx(Zl,{to:r,className:"group block",children:a.jsx(ve,{variant:"elevated",className:"overflow-hidden",children:a.jsx(xe,{className:"p-0",children:a.jsxs("div",{className:`p-6 ${s||"bg-gradient-to-br from-primary/5 to-primary/10"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"rounded-xl bg-card/80 p-3 shadow-sm backdrop-blur-sm",children:a.jsx(n,{className:"h-6 w-6 text-primary"})}),a.jsx(Bg,{className:"h-5 w-5 text-muted-foreground opacity-0 transition-all duration-300 group-hover:translate-x-1 group-hover:opacity-100"})]}),a.jsxs("div",{className:"mt-4 space-y-1",children:[a.jsx("h3",{className:"font-semibold",children:e}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})]})})})})}function Ac(){const[e,t]=d.useState(null),[n,r]=d.useState(!0),{user:s}=On(),{toast:o}=Rn(),i=d.useCallback(async()=>{if(!s){t(null),r(!1);return}try{const{data:c,error:u}=await ze.from("user_settings").select("*").eq("user_id",s.id).maybeSingle();if(u)throw u;t(c)}catch(c){console.error("Error fetching settings:",c)}finally{r(!1)}},[s]);return d.useEffect(()=>{i()},[i]),{settings:e,loading:n,saveSettings:async c=>{if(!s)return null;try{if(e){const{data:u,error:h}=await ze.from("user_settings").update(c).eq("id",e.id).select().single();if(h)throw h;return t(u),o({title:"Success",description:"Settings saved successfully"}),u}else{const{data:u,error:h}=await ze.from("user_settings").insert({...c,user_id:s.id}).select().single();if(h)throw h;return t(u),o({title:"Success",description:"Settings saved successfully"}),u}}catch(u){return console.error("Error saving settings:",u),o({title:"Error",description:"Failed to save settings",variant:"destructive"}),null}},refetch:i}}const qn=async(e,t,n="google/gemini-3-flash-preview")=>{var r,s,o,i;if(!t)throw new Error("OpenRouter API Key not configured. Please enter your key in Settings.");try{const l=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:n,messages:e})});if(!l.ok){const f=((r=(await l.json().catch(()=>({}))).error)==null?void 0:r.message)||`HTTP ${l.status}`;throw l.status===429?new Error("Rate limit exceeded. Please try again later."):l.status===401||l.status===402?new Error("Invalid OpenRouter API Key or out of credits."):new Error(`OpenRouter error: ${f}`)}const u=(i=(o=(s=(await l.json()).choices)==null?void 0:s[0])==null?void 0:o.message)==null?void 0:i.content;if(!u)throw new Error("No response received from AI");return u}catch(l){throw console.error("OpenRouter Error:",l),new Error(l.message||"Could not connect to OpenRouter")}},so=e=>{let t=e.replace(/^```json\s*/,"").replace(/^```\s*/,"").replace(/\s*```$/,"");try{return JSON.parse(t)}catch{const r=t.match(/(\{[\s\S]*\}|\[[\s\S]*\])/);if(!r)throw console.error("Failed to extract JSON from:",e),new Error("Could not parse JSON from response");try{return JSON.parse(r[0])}catch(s){throw console.error("JSON Parse Error:",s,"Extracted:",r[0]),new Error("Extracted text was not valid JSON")}}},gF=`
<conflict_resolution_framework>
When DNA and Persona provide conflicting guidance, use this priority matrix to make consistent, quality-driven decisions.

<priority_matrix>

 Content Element       DNA %    Persona % Resolution Rule                                  

 Structure/Flow        100%     0%        DNA defines architecture - follow exactly        
 Pacing/Rhythm         100%     0%        DNA controls tempo and sentence structure        
 Vocabulary            30%      70%       Persona's words, DNA's complexity level          
 Tone/Voice            40%      60%       Persona's tone, DNA's energy level               
 Hook Strategy         80%      20%       DNA's psychological trigger in Persona's voice   
 Objection Handling    20%      80%       Persona's objections, DNA's rhetorical method    
 Examples/Stories      50%      50%       DNA's format, Persona-relevant content           
 Complexity/Depth      40%      60%       Adapt to Persona level, keep DNA progression     

</priority_matrix>

<resolution_examples>

EXAMPLE 1: Tone Conflict
<scenario>
DNA: "Authoritative, expert-driven"
Persona: "Casual, friendly"
Conflict Type: Direct contradiction in voice
</scenario>

<resolution>
Priority: 60% Persona, 40% DNA

 WRONG (100% DNA): "The utilization of this methodology facilitates optimal outcomes..."
 WRONG (100% Persona): "So like, here's a thing you might want to try maybe..."
 RIGHT (Balanced): "Here's how this works  and trust me, the results speak for themselves."

Explanation: Uses casual words ("here's how") and friendly framing ("trust me"), but maintains authoritative confidence ("results speak for themselves"). Persona's tone dominates, DNA's authority energy preserved.
</resolution>

EXAMPLE 2: Vocabulary vs Knowledge Level
<scenario>
DNA: Uses advanced technical terms (ROI, CAC, LTV, conversion rate)
Persona: Beginner knowledge level, needs plain language
Conflict Type: Vocabulary complexity mismatch
</scenario>

<resolution>
Priority: 70% Persona (simplify vocabulary)

 WRONG (100% DNA): "Your CAC should be 3x lower than LTV for optimal ROI."
 RIGHT (Simplified): "You want to spend way less to get a customer than what they're worth to you over time  ideally about 3 times less. That's how you make money."

Explanation: Same DNA concept (3x ratio formula), translated to beginner-accessible language. Structure preserved, vocabulary adapted.
</resolution>

EXAMPLE 3: Hook Strategy Adaptation
<scenario>
DNA: Contrarian hook (challenge common belief aggressively)
Persona: Empathetic, non-confrontational audience
Conflict Type: Hook aggressiveness vs audience sensitivity
</scenario>

<resolution>
Priority: 80% DNA strategy, 20% Persona voice

 WRONG (100% DNA): "Everything you know about X is DEAD WRONG."
 WRONG (100% Persona): "Hey, let me gently share some thoughts about X..."
 RIGHT (Blended): "I used to believe the same thing about X... until I discovered this one detail that changed everything."

Explanation: Keeps contrarian psychology (DNA)  challenges belief, creates curiosity gap. Delivers in empathetic voice (Persona)  "I used to believe" creates connection, not confrontation.
</resolution>

</resolution_examples>

<decision_tree>
Follow this systematic process when conflicts arise:

STEP 1: IDENTIFY Conflict Type
 Structural (sections, flow, architecture)  DNA wins 100%
 Linguistic (word choice, grammar, vocabulary)  Persona wins 70%
 Strategic (hooks, retention tactics, viral psychology)  DNA wins 80%
 Audience Fit (objections, examples, knowledge level)  Persona wins 80%

STEP 2: CHECK for Deal-Breakers
 Is DNA strategy proven viral? If YES  Bias toward DNA
 Is Persona mismatch severe (expert terms for beginners)? If YES  Bias toward Persona
 Is platform critical (formal tone on TikTok)? If YES  Bias toward Persona/Platform
 If multiple deal-breakers  Flag for user decision, don't force-blend

STEP 3: APPLY Priority %
Use the percentage split from the matrix:
- 100/0: One side completely overrides
- 80/20: Strong preference, minor adaptation
- 60/40: Lean toward one, significant influence from other
- 50/50: True balance, blend both equally

STEP 4: VALIDATE Output Quality
Ask these questions before finalizing:
 Does it sound natural? (Not forced or "Franken-content")
 Does it respect Persona's intelligence level?
 Does it preserve DNA's viral psychology mechanisms?
 Would a real human speak/write this way?
</decision_tree>

<edge_cases>

CASE 1: DNA Without Persona Context
If DNA extracted from generic viral content (no specific audience):
 Persona takes 80% priority across all elements EXCEPT Structure
 Keep DNA skeleton, adapt everything else to Persona

CASE 2: Generic/Vague Persona
If Persona has minimal detail or is too generic ("wants value"):
 DNA takes 80% priority - use proven patterns as primary guide
 Make conservative assumptions for Persona elements

CASE 3: Both Highly Specific and Conflicting
When both DNA and Persona are detailed but contradictory:
 Follow matrix strictly
 Document adaptation: "Adapted DNA [element X] to fit Persona [constraint Y]"
 If irreconcilable  Flag to user

CASE 4: Platform-Specific Overrides
Platform conventions override both DNA and Persona:
 TikTok/Instagram Reels  Always casual, always fast-paced
 LinkedIn/Medium  DNA structure sacred, adapt tone only
 YouTube  Balance 50/50 unless strong Persona specification
 Email/Newsletter  Persona 70%, DNA structure 30%

CASE 5: Knowledge Level Safety Net
Automatic simplification rule:
IF (DNA complexity > Persona knowledgeLevel + 1):
    Simplify vocabulary automatically (override DNA %)
    Maintain DNA structure and logic
    Add "explain like I'm [knowledge level]" constraint

</edge_cases>

<anti_patterns>
Common mistakes to AVOID:

1.  Franken-Content: Randomly mixing DNA and Persona without strategy
    Instead: Apply matrix consistently across entire script

2.  Ignoring Platform: Using formal tone on TikTok because DNA says so
    Instead: Platform > DNA tone (use edge case rules)

3.  Over-Simplification: Beginner persona = treat audience like children
    Instead: Simplify vocabulary, not intelligence or insight quality

4.  Forcing Conflicts: Trying to blend when fundamental incompatibility exists
    Instead: Choose the stronger strategy or flag to user

5.  Inconsistent Application: Using different rules for different sections
    Instead: Apply same conflict resolution logic throughout entire script
</anti_patterns>

</conflict_resolution_framework>`,y_=(e,t)=>{var r;const n=[];if(e!=null&&e.tone&&(t!=null&&t.preferred_tone)){const s=e.tone.toLowerCase(),o=t.preferred_tone.toLowerCase(),i=[{dna:"authoritative",persona:"casual",conflict:"DNA is authoritative but Persona prefers casual tone"},{dna:"formal",persona:"casual",conflict:"DNA is formal but Persona prefers casual tone"},{dna:"aggressive",persona:"empathetic",conflict:"DNA is aggressive but Persona prefers empathetic tone"},{dna:"serious",persona:"humorous",conflict:"DNA is serious but Persona prefers humorous tone"}];for(const l of i)s.includes(l.dna)&&o.includes(l.persona)&&n.push(l.conflict)}if(e!=null&&e.vocabulary&&(t!=null&&t.knowledge_level)){const s=e.vocabulary.toLowerCase().includes("technical")||e.vocabulary.toLowerCase().includes("jargon")||e.vocabulary.toLowerCase().includes("advanced")||e.vocabulary.toLowerCase().includes("expert"),o=t.knowledge_level==="beginner";s&&o&&n.push("DNA uses advanced vocabulary but Persona is beginner level - will auto-simplify")}if((r=e==null?void 0:e.analysis_data)!=null&&r.audiencePsychology&&(t!=null&&t.knowledge_profile)){const s=e.analysis_data.audiencePsychology.toLowerCase(),o=t.knowledge_profile.domainKnowledge;s.includes("expert")&&o<3&&n.push("DNA targets expert audience but Persona has intermediate/beginner knowledge")}if(e!=null&&e.tone&&(t!=null&&t.platform)){const s=e.tone.toLowerCase().includes("formal")||e.tone.toLowerCase().includes("professional"),o=["tiktok","instagram","shorts","reels"].includes(t.platform.toLowerCase());s&&o&&n.push(`DNA has formal tone but Persona platform is ${t.platform} (requires casual, fast-paced style)`)}return n},vF=(e,t)=>{const n=y_(e,t);if(n.length===0)return`<alignment_status>
 No major conflicts detected between DNA and Persona.
Strategy: Follow DNA structure with Persona voice.
</alignment_status>`;let r=`<conflict_resolution_strategy>

<detected_conflicts>
${n.map((s,o)=>`${o+1}. ${s}`).join(`
`)}
</detected_conflicts>

<resolution_actions>
`;return n.forEach((s,o)=>{s.includes("vocabulary")||s.includes("beginner")?r+=`${o+1}. SIMPLIFY VOCABULARY (70% Persona priority)
   - Use plain language for technical concepts
   - Maintain DNA's logical progression and structure
   - Explain jargon when first introduced

`:s.includes("tone")&&!s.includes("platform")?r+=`${o+1}. ADAPT TONE (60% Persona, 40% DNA)
   - Use Persona's preferred tone (${t.preferred_tone||"not specified"})
   - Keep DNA's energy and confidence level
   - Blend: Casual words with authoritative insights

`:s.includes("platform")?r+=`${o+1}. PLATFORM OVERRIDE
   - Platform requirements take precedence: ${t.platform} conventions
   - Adjust pacing and tone to platform norms
   - Keep DNA structure if compatible with platform

`:s.includes("expert")&&s.includes("knowledge")&&(r+=`${o+1}. KNOWLEDGE LEVEL ADJUSTMENT (60% Persona)
   - Simplify content to match Persona's knowledge level
   - Use examples and analogies for complex concepts
   - Maintain DNA's structural progression

`)}),r+=`</resolution_actions>

<application_instruction>
Apply these resolutions consistently throughout the entire script. Do not switch strategies mid-content.
</application_instruction>

</conflict_resolution_strategy>`,r},x_=`
 TTS-OPTIMIZED OUTPUT (CRITICAL):
- NO markdown symbols: no *, #, **, _, ~, \`, etc.
- NO section titles or headers in the output
- NO film/video directions: no [B-roll], [Cut to], [VISUAL], (pause), etc.
- NO parenthetical notes or brackets of any kind
- ONLY clean, speakable text that can be read aloud naturally
- Write as if you are speaking directly to the audience
`,yF=`You are an expert viral content strategist. Your task is to create a detailed script outline that follows the provided DNA structure.

<task>
Generate a JSON outline with sections that match the DNA skeleton exactly.
</task>

<critical_rules>
1. SECTION COUNT: The number of sections MUST exactly match the DNA skeleton
2. SECTION TITLES: Use the exact titles from the DNA skeleton
3. WORD COUNTS: Match the DNA skeleton's word count targets
4. NO ADDITIONS: Do NOT add separate "Hook" or "CTA" sections unless they're in the DNA
5. UNIQUE ANGLE: If provided, integrate it into relevant sections and document it in the notes field
</critical_rules>

<unique_angle_integration>
When a "Unique Angle" is provided:
- Identify which section(s) it applies to
- In the \`notes\` field, write: "Unique Angle Integration: [How this angle is applied in this section]"
- Ensure the angle is woven into the content description, not just mentioned
</unique_angle_integration>

<output_format>
Respond with ONLY valid JSON (no markdown, no explanations):
{
  "sections": [
    {
      "title": "Section name from DNA",
      "wordCount": 150,
      "content": "Detailed description of what this section should cover",
      "notes": "Optional: Unique Angle Integration or other strategic notes"
    }
  ],
  "totalWordCount": 600
}
</output_format>`,xF=`You are an expert viral content scriptwriter. Your task is to write a complete, engaging script based on the provided outline.

<task>
Transform the outline into a compelling script that combines:
- DNA strategy (structure, pacing, viral patterns)
- Persona voice (tone, vocabulary, knowledge level)
- Unique angle (if specified in outline notes)
</task>

<critical_rules>
1. STRUCTURE ADHERENCE: Follow the outline exactly - one section in outline = one section in output
2. DNA PATTERNS: Apply the Content DNA's proven viral patterns, pacing, and retention tactics
3. PERSONA VOICE: Write in the Target Audience's preferred tone and vocabulary level
4. UNIQUE ANGLE: If any section notes mention "Unique Angle Integration", ensure that perspective is present
5. QUALITY: Content must be DETAILED and valuable, not generic or superficial
6. TTS-OPTIMIZED: Write ONLY spoken voiceover text (no [VISUAL] cues, no scene descriptions)
7. NATURAL FLOW: Use conversational, engaging language appropriate for the audience
</critical_rules>

<output_format>
IMPORTANT: Separate each section with the exact delimiter: |||SECTION|||

Example structure:
[Section 1 complete voiceover text here - detailed, engaging, natural]
|||SECTION|||
[Section 2 complete voiceover text here]
|||SECTION|||
[Section 3 complete voiceover text here]
...

Notes:
- Write one section for each outline section
- Do NOT include the section titles in the output
- Do NOT include word count markers
- Just clean, spoken-word text with the delimiter between sections
</output_format>

<dna_persona_priority>
When DNA and Persona conflict:
- STRUCTURE/PACING: Follow DNA (section flow, sentence rhythm)
- VOCABULARY/TONE: Follow Persona (word choice, formality level)
- EXAMPLES: Use DNA format but Persona-relevant content
</dna_persona_priority>

${x_}`,wF=`You are an expert content analyst specializing in viral content evaluation.

<task>
Analyze the provided script and score its viral potential across 5 key dimensions.
</task>

<evaluation_criteria>
1. Hook Strength (0-100): Does the opening grab attention in the first 3 seconds?
2. Structure & Flow (0-100): Is the progression logical, engaging, and well-paced?
3. Engagement Tactics (0-100): Are there pattern interrupts, curiosity loops, and retention hooks?
4. Clarity & Messaging (0-100): Is the core message clear and valuable?
5. Call-to-Action (0-100): Is the CTA compelling and aligned with audience psychology?
</evaluation_criteria>

<output_format>
Respond with ONLY valid JSON (no markdown, no explanations):
{
  "score": 85,
  "breakdown": {
    "hook": 90,
    "structure": 85,
    "engagement": 80,
    "clarity": 88,
    "callToAction": 82
  },
  "strengths": [
    "Specific strength observed in the script",
    "Another concrete strength with evidence"
  ],
  "improvements": [
    "Specific weakness to address",
    "Another area that needs work"
  ],
  "suggestions": [
    "Actionable suggestion to improve hook",
    "Concrete suggestion to boost engagement"
  ]
}
</output_format>

<scoring_guidelines>
- 90-100: Exceptional, viral-ready
- 75-89: Strong, minor tweaks needed
- 60-74: Good foundation, needs improvement
- 40-59: Weak, major revisions required
- 0-39: Poor, needs complete rewrite
</scoring_guidelines>`,bF=(e,t,n,r)=>{var o,i,l,c,u;let s=`You are an expert content writer. Your task is to rewrite a specific section of a script while maintaining quality and coherence.

<section_context>
Section Title: "${e}"
${r.targetWordCount?`Target Word Count: ~${r.targetWordCount} words`:""}
</section_context>

<current_content>
${t}
</current_content>

<rewrite_instructions>
${n?`User Request: ${n}`:"Make it more engaging and impactful."}
</rewrite_instructions>

<critical_rules>
1. PRESERVE FACTS: Keep all key information, numbers, and logical steps from CURRENT CONTENT
   - Do NOT invent new facts or data
   - Do NOT remove essential information
2. IMPROVE STYLE: Enhance voice, tone, and pacing to match DNA constraints
3. TTS-OPTIMIZED: Write ONLY spoken voiceover (no visual cues, no scene directions)
4. COHERENCE: Ensure smooth flow with previous sections
</critical_rules>`;return r.previousSections&&r.previousSections.length>0&&(s+=`

<previous_sections>
Context (do NOT repeat this content):
${r.previousSections.slice(-2).join(`
---
`)}
</previous_sections>`),r.dna&&(s+=`

<dna_strategy>
Apply these Content DNA patterns:
- Pacing: ${r.dna.pacing||"medium"}
- Core Patterns: ${((i=(o=r.dna.analysis_data)==null?void 0:o.corePatterns)==null?void 0:i.join(" | "))||"None specified"}
- Avoid (Flop Patterns): ${((c=(l=r.dna.analysis_data)==null?void 0:l.flopAvoidance)==null?void 0:c.join(" | "))||"None"}
- Audience Psychology: ${((u=r.dna.analysis_data)==null?void 0:u.audiencePsychology)||"Not specified"}
</dna_strategy>`),r.persona&&(s+=`

<persona_voice>
Target Audience characteristics:
- Name: ${r.persona.name}
- Preferred Tone: ${r.persona.preferred_tone||"casual"}
- Vocabulary Level: ${r.persona.vocabulary||"conversational"}
- Knowledge Level: ${r.persona.knowledge_level||"intermediate"}
</persona_voice>`),r.dna&&r.persona&&(s+=`

<conflict_resolution>
When DNA and Persona conflict:
- Use DNA for: Structure, pacing, sentence rhythm
- Use Persona for: Word choice, vocabulary, formality level
</conflict_resolution>`),s+=`

<output_format>
Write ONLY the rewritten section content.
- No explanations
- No meta-commentary
- No formatting markers
- Just clean, spoken-word text
</output_format>

${x_}`,s},w_=(e,t)=>!t||!e?"":y_(e,t).length>0?`

${gF}

${vF(e,t)}`:`

 DNA-PERSONA ALIGNMENT: No major conflicts detected. Follow DNA structure with Persona voice.`,SF=async(e,t,n="google/gemini-3-flash-preview")=>{var l,c,u,h,f,g,m,b,p,x,y,v;if(!t)throw new Error("OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.");if(!e.topic)throw new Error("Topic l bt buc");let r=yF;if(e.targetWordCount&&(r+=`

TARGET TOTAL WORD COUNT: ${e.targetWordCount}`,r+=`
INSTRUCTION: Scale the section word counts so they sum up to approximately ${e.targetWordCount}.`),e.language&&e.language!=="en"){const S={vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[e.language]||"English";r+=`

IMPORTANT: Write the output in ${S}. Keep the JSON keys in English, but the content values must be in the specified language.`}if(r+=w_(e.dna,e.persona),e.persona?r+=`

TARGET AUDIENCE (PRIMARY - Your defined persona):
- Name: ${e.persona.name}
- Age Range: ${e.persona.age_range||"Not specified"}
- Knowledge Level: ${e.persona.knowledge_level||"intermediate"}
- Pain Points: ${((l=e.persona.pain_points)==null?void 0:l.join(", "))||"Not specified"}
- Preferred Tone: ${e.persona.preferred_tone||"casual"}
- Vocabulary: ${e.persona.vocabulary||"conversational"}
- Objections to Address: ${((c=e.persona.objections)==null?void 0:c.join(", "))||"Not specified"}`:(h=(u=e.dna)==null?void 0:u.analysis_data)!=null&&h.audiencePsychology&&(r+=`

TARGET AUDIENCE (Inferred from source DNA):
${e.dna.analysis_data.audiencePsychology}`),e.dna){const w=(f=e.dna.analysis_data)==null?void 0:f.structuralSkeleton,S=e.dna.structure;r+=`

CONTENT DNA STRATEGY (The "Winning Formula"):`;const N=(g=e.dna.analysis_data)==null?void 0:g.hookAngle;N?r+=`
- Hook Angle: ${N.angleCategory||e.dna.hook_type||"Custom"} (${N.deconstruction||"No details"})`:r+=`
- Hook Type: ${e.dna.hook_type||"Not specified"}`,(m=e.dna.analysis_data)!=null&&m.audiencePsychology&&(r+=`
- Audience Psychology: ${e.dna.analysis_data.audiencePsychology}`),(p=(b=e.dna.analysis_data)==null?void 0:b.corePatterns)!=null&&p.length&&(r+=`
- Success Patterns: ${e.dna.analysis_data.corePatterns.join(" | ")}`),(y=(x=e.dna.analysis_data)==null?void 0:x.flopAvoidance)!=null&&y.length&&(r+=`
-  FLOP AVOIDANCE (Do NOT do this): ${e.dna.analysis_data.flopAvoidance.join(" | ")}`),r+=`
- Pacing: ${e.dna.pacing||"medium"}`,r+=`
- Tone: ${e.dna.tone||"engaging"}`,r+=`
- Retention Tactics: ${((v=e.dna.retention_tactics)==null?void 0:v.join(", "))||"Not specified"}`,w&&w.length>0?r+=`

REQUIRED STRUCTURE (Follow this EXACTLY unless innovation is allowed):
${w.map((j,_)=>`${_+1}. ${j.title} (Target: ~${j.wordCount} words) ${j.contentFocus?`[Focus: ${j.contentFocus}]`:""} ${j.pacing?`[Pacing: ${j.pacing}]`:""}`).join(`
`)}`:S&&S.length>0&&(r+=`

REQUIRED STRUCTURE:
${S.join("  ")}`),e.allowStructureInnovation?r+=`

INNOVATION ALLOWED: You may deviate from the DNA structure by 15-25% to add novelty or better fit the topic. You can merge sections or add new relevant ones, but keep the core "DNA" feeling.`:r+=`

STRICT ADHERENCE REQUIRED: You MUST follow the provided DNA structure/sections EXACTLY. Do not add or remove sections. Match the outline to the DNA steps 1-to-1.`,e.dna.hook_examples&&e.dna.hook_examples.length>0&&(r+=`

 HOOK EXAMPLES (CRITICAL - Study the PATTERN, do NOT copy exact wording):
${e.dna.hook_examples.map((j,_)=>`${_+1}. "${j}"`).join(`
`)}

INSTRUCTION: Analyze the psychological triggers and structural patterns in these hooks. Then create an ENTIRELY ORIGINAL hook using the same psychological strategy but DIFFERENT words and examples. Copying any phrase verbatim is STRICTLY PROHIBITED.`)}e.uniqueAngle&&(r+=`

=== UNIQUE ANGLE / NEW IDEA ===
"${e.uniqueAngle}"

INSTRUCTION: You MUST weave this unique angle into the content strategy of the outline. Don't just copy the DNA patterns; adapt them to serve this specific new angle.`);let s=`Create an outline for a script about: ${e.topic}`;e.keyPoints&&(s+=`

Key points to cover:
${e.keyPoints}`),e.uniqueAngle&&(s+=`

Unique angle/hook:
${e.uniqueAngle}`);const i=await qn([{role:"system",content:r},{role:"user",content:s}],t,n);return so(i)},NF=async(e,t,n,r="google/gemini-3-flash-preview")=>{var l,c,u,h,f,g,m,b,p,x,y,v,w,S,N,j,_,C;if(!n)throw new Error("API Key ERROR. PLEASE CONTACT ADMIN.");let s=xF;if(t.language&&t.language!=="en"){const P={vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[t.language]||"English";s+=`

IMPORTANT: Write the script in ${P}.`}if(s+=w_(t.dna,t.persona),t.persona?s+=`

TARGET AUDIENCE (PRIMARY - Your defined persona):
- Name: ${t.persona.name}
- Age Range: ${t.persona.age_range||"Not specified"}
- Knowledge Level: ${t.persona.knowledge_level||"intermediate"}
- Pain Points: ${((l=t.persona.pain_points)==null?void 0:l.join(", "))||"Not specified"}
- Preferred Tone: ${t.persona.preferred_tone||"casual"}
- Vocabulary: ${t.persona.vocabulary||"conversational"}
- Objections to Address: ${((c=t.persona.objections)==null?void 0:c.join(", "))||"Not specified"}`:(h=(u=t.dna)==null?void 0:u.analysis_data)!=null&&h.audiencePsychology&&(s+=`

TARGET AUDIENCE (Inferred from source DNA):
${t.dna.analysis_data.audiencePsychology}`),t.dna){s+=`

=== CONTENT DNA STRATEGY ===`,s+=`
USE THIS FOR STRUCTURE, PACING, AND STRATEGY.`;const T=(f=t.dna.analysis_data)==null?void 0:f.hookAngle;T&&(s+=`
- Hook Angle: ${T.angleCategory} - ${T.deconstruction}`),(g=t.dna.analysis_data)!=null&&g.audiencePsychology&&(s+=`
- Audience Psychology: ${t.dna.analysis_data.audiencePsychology}`),(b=(m=t.dna.analysis_data)==null?void 0:m.corePatterns)!=null&&b.length&&(s+=`
-  CORE STRATEGIES (Apply these): ${t.dna.analysis_data.corePatterns.join(`
  * `)}`),(x=(p=t.dna.analysis_data)==null?void 0:p.viralXFactors)!=null&&x.length&&(s+=`
-  X-FACTORS (The 'Secret Sauce'): ${t.dna.analysis_data.viralXFactors.join(`
  * `)}`),(v=(y=t.dna.analysis_data)==null?void 0:y.flopAvoidance)!=null&&v.length&&(s+=`
-  FLOP AVOIDANCE (Strictly Avoid): ${t.dna.analysis_data.flopAvoidance.join(`
  * `)}`),(S=(w=t.dna.analysis_data)==null?void 0:w.objections)!=null&&S.length&&(s+=`
-  OBJECTIONS TO PRE-EMPT: ${t.dna.analysis_data.objections.join(", ")}`),s+=`

- Structure: ${((N=t.dna.structure)==null?void 0:N.join("  "))||"Follow Outline"}`,s+=`
- Pacing: ${t.dna.pacing||((_=(j=t.dna.analysis_data)==null?void 0:j.pacingAndTone)==null?void 0:_.pacing)||"medium"}`,s+=`
- Retention Tactics: ${((C=t.dna.retention_tactics)==null?void 0:C.join(", "))||"Not specified"}`,t.dna.hook_examples&&t.dna.hook_examples.length>0&&(s+=`

 HOOK EXAMPLES (CRITICAL - Study the PATTERN, do NOT copy exact wording):
${t.dna.hook_examples.map((P,R)=>`${R+1}. "${P}"`).join(`
`)}

INSTRUCTION: Analyze the psychological triggers. Create an ENTIRELY ORIGINAL hook using the same strategy but DIFFERENT words. Copying any phrase verbatim is STRICTLY PROHIBITED.`)}const o=`
OUTLINE TO FOLLOW (${e.sections.length} sections):

${e.sections.map((T,P)=>`${P+1}. ${T.title} (Target: ${T.wordCount} words)
   Content: ${T.content}
   ${T.notes?`Notes: ${T.notes}`:""}`).join(`

`)}

Total Target Words: ${e.totalWordCount}
`,i=[{role:"system",content:s},{role:"user",content:`Write a complete script following this outline:
${o}`}];return await qn(i,n,r)},jF=async(e,t,n="google/gemini-3-flash-preview")=>{var i,l,c,u;if(!t)throw new Error("OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.");if(!e.topic)throw new Error("Topic l bt buc");let r=`You are an expert viral content scriptwriter. Your job is to create compelling, engaging scripts that capture attention and drive engagement.

Based on the provided inputs, write a complete script that:
1. Opens with a powerful hook that grabs attention in the first 3 seconds
2. Uses proven viral patterns and retention tactics
3. Maintains engagement throughout with pattern interrupts
4. Ends with a clear call-to-action

Write the script in a natural, conversational tone. Include [VISUAL] cues where relevant.`;if(e.language&&e.language!=="en"){const f={vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[e.language]||"English";r+=`

IMPORTANT: Write the script in ${f}.`}e.persona&&(r+=`

TARGET AUDIENCE:
- Name: ${e.persona.name}
- Age Range: ${e.persona.age_range||"Not specified"}
- Knowledge Level: ${e.persona.knowledge_level||"intermediate"}
- Pain Points: ${((i=e.persona.pain_points)==null?void 0:i.join(", "))||"Not specified"}
- Preferred Tone: ${e.persona.preferred_tone||"casual"}
- Vocabulary: ${e.persona.vocabulary||"conversational"}`),e.dna&&(r+=`

CONTENT DNA PATTERNS:
- Hook Type: ${e.dna.hook_type||"Not specified"}
- Structure: ${((l=e.dna.structure)==null?void 0:l.join("  "))||"Not specified"}
- Pacing: ${e.dna.pacing||"medium"}
- Retention Tactics: ${((c=e.dna.retention_tactics)==null?void 0:c.join(", "))||"Not specified"}
- Tone: ${e.dna.tone||"engaging"}
- Patterns: ${((u=e.dna.patterns)==null?void 0:u.join(", "))||"Not specified"}`),e.customPrompt&&(r+=`

ADDITIONAL INSTRUCTIONS:
${e.customPrompt}`);let s=`Write a script about: ${e.topic}`;return e.keyPoints&&(s+=`

Key points to cover:
${e.keyPoints}`),e.uniqueAngle&&(s+=`

Unique angle/hook:
${e.uniqueAngle}`),await qn([{role:"system",content:r},{role:"user",content:s}],t,n)},_F=async(e,t,n="google/gemini-3-flash-preview",r,s)=>{var c;if(!t)throw new Error("OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.");if(!e)throw new Error("Script l bt buc");let o=wF;r&&(o+=`

Evaluate against these DNA patterns:
- Hook Type: ${r.hook_type||"Not specified"}
- Structure: ${((c=r.structure)==null?void 0:c.join("  "))||"Not specified"}
- Tone: ${r.tone||"engaging"}`),s&&(o+=`

Target audience:
- Name: ${s.name}
- Knowledge Level: ${s.knowledge_level||"intermediate"}`);const i=[{role:"system",content:o},{role:"user",content:`Score this script:

${e}`}],l=await qn(i,t,n);return so(l)},CF=(e,t)=>{const n=e.reduce((h,f)=>h+f.wordCount,0);if(n===0||t<=0)return e;const r=80,o=Math.floor(t*.35),i=t/n;let l=e.map(h=>{const f=Math.round(h.wordCount*i),g=Math.max(r,Math.min(o,f));return{...h,wordCount:g}});const c=l.reduce((h,f)=>h+f.wordCount,0),u=t-c;if(u!==0){const h=l.map((f,g)=>({idx:g,room:u>0?o-f.wordCount:f.wordCount-r})).filter(f=>f.room>0);if(h.length>0){const f=h.reduce((b,p)=>b+p.room,0);h.forEach(({idx:b,room:p})=>{const x=p/f,y=Math.round(u*x);l[b].wordCount+=y});const g=l.reduce((b,p)=>b+p.wordCount,0),m=t-g;if(m!==0){const b=l.reduce((p,x,y)=>x.wordCount>l[p].wordCount?y:p,0);l[b].wordCount+=m}}}return l},EF=(e,t=500)=>{const n=e.trim().split(/\s+/).filter(Boolean);return n.length<=t?e:n.slice(-t).join(" ")},kF=async(e,t,n,r="google/gemini-3-flash-preview",s)=>{var g,m;if(!n)throw new Error("OpenRouter API Key cha c cu hnh.");let o=e.sections;t.targetWordCount&&t.targetWordCount>0&&(o=CF(o,t.targetWordCount));const i=2,l=[];let c="";const u=[];for(let b=0;b<o.length;b+=i)u.push(o.slice(b,b+i));const h=o.length;let f=0;for(let b=0;b<u.length;b++){const p=u[b],x=p.reduce((j,_)=>j+_.wordCount,0);f+=p.length;const y=p.map(j=>j.title).join(" & ");s==null||s(f,h,`Writing "${y}"...`);let v=`You are an expert viral content scriptwriter. Write the following ${p.length} section(s) in one continuous, seamless flow.

RULES:
1. Write ONLY spoken voiceover content (no visual cues, no markdown).
2. Create natural transitions between sections without forced phrases.
3. Be DETAILED, insightful, and valuable - not generic.

 STRICT WORD COUNT (CRITICAL):
- TOTAL for this chunk: EXACTLY ${x} words
- Tolerance: 5% ONLY (${Math.floor(x*.95)}-${Math.ceil(x*1.05)} words)
- Count your words before finalizing
- Going significantly over or under is NOT acceptable

 TTS-OPTIMIZED OUTPUT (CRITICAL):
- NO markdown symbols: no *, #, **, _, ~, \`, etc.
- NO section titles or headers in the output
- NO film/video directions: no [B-roll], [Cut to], [VISUAL], (pause), etc.
- NO parenthetical notes or brackets of any kind
- ONLY clean, speakable text that can be read aloud naturally`;t.language&&t.language!=="en"&&(v+=`

IMPORTANT: Write in ${{vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[t.language]||"English"}.`),t.dna&&(v+=`

CONTENT DNA:
- Tone: ${((m=(g=t.dna.analysis_data)==null?void 0:g.linguisticFingerprint)==null?void 0:m.toneAnalysis)||t.dna.tone||"engaging"}
- Pacing: ${t.dna.pacing||"medium"}`),t.persona&&(v+=`

TARGET AUDIENCE:
- Knowledge Level: ${t.persona.knowledge_level||"intermediate"}
- Preferred Tone: ${t.persona.preferred_tone||"casual"}`);let w="";if(c.length>0){const j=EF(c,500);w+=`=== PREVIOUS CONTEXT (last 500 words - maintain flow) ===
${j}

`}w+=`=== SECTIONS TO WRITE ===
`,p.forEach((j,_)=>{w+=`${_+1}. "${j.title}" (~${j.wordCount} words)
`,w+=`   Content: ${j.content}
`,j.notes&&(w+=`   Notes: ${j.notes}
`),w+=`
`}),w+=`TOTAL TARGET: ${x} words

`,p.length>1&&(w+=`OUTPUT FORMAT: Use |||SECTION||| delimiter between sections.

`),w+="Write the content now:";const N=await qn([{role:"system",content:v},{role:"user",content:w}],n,r);l.push(N),c+=`
`+N}return l.join(`
|||SECTION|||
`)},TF=async(e,t,n,r,s="google/gemini-3-flash-preview")=>{var u;const i=[{role:"user",content:`You are a viral content strategist. Suggest 3 unique angles for creating content about this topic.

TOPIC: ${e}

${t?`DNA STYLE:
- Hook Type: ${t.hook_type||"engaging"}
- Tone: ${t.tone||"conversational"}
- Niche: ${t.niche||"general"}`:""}

${n?`TARGET AUDIENCE:
- Name: ${n.name}
- Knowledge Level: ${n.knowledge_level||"intermediate"}
- Pain Points: ${((u=n.pain_points)==null?void 0:u.join(", "))||"Not specified"}`:""}

Respond in JSON format:
{
  "angles": [
    { "angle": "The unique angle/hook", "reasoning": "Why this angle works" },
    { "angle": "Another angle", "reasoning": "Why this works" },
    { "angle": "Third angle", "reasoning": "Why this works" }
  ]
}`}],l=await qn(i,r,s);return so(l).angles||[]},AF=async(e,t,n,r,s,o="google/gemini-3-flash-preview")=>{const l=[{role:"user",content:bF(e,t,n,r)}];return await qn(l,s,o)},PF=async(e,t,n,r,s="google/gemini-3-flash-preview")=>{const i=[{role:"user",content:`You are an SEO expert for video content. Generate optimized metadata for this script.

SCRIPT CONTENT:
"""
${e.substring(0,2e3)}${e.length>2e3?"...":""}
"""

${t?`CONTENT STYLE: ${t.niche||"general"} - ${t.tone||"engaging"}`:""}
${n?`TARGET AUDIENCE: ${n.name||"General audience"}`:""}

Generate SEO-optimized metadata. Respond in JSON:
{
  "title": "Catchy, SEO-friendly title (50-60 chars)",
  "description": "Compelling description with keywords (150-160 chars)",
  "tags": ["tag1", "tag2", "tag3", "tag4", "tag5"]
}`}],l=await qn(i,r,s),c=so(l);return{title:c.title||"",description:c.description||"",tags:c.tags||[]}};function b_(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),{user:s}=On(),{toast:o}=Rn(),{settings:i}=Ac(),l=d.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:w,error:S}=await ze.from("scripts").select("*").order("created_at",{ascending:!1});if(S)throw S;const N=(w||[]).map(j=>({...j,outline_history:j.outline_history||[],script_history:j.script_history||[]}));t(N)}catch(w){console.error("Error fetching scripts:",w),o({title:"Error",description:"Failed to fetch scripts",variant:"destructive"})}finally{r(!1)}},[s,o]);return d.useEffect(()=>{l()},[l]),{scripts:e,loading:n,generateOutline:async w=>{const S=i==null?void 0:i.openrouter_api_key;if(!S)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{const N=w.model||"google/gemini-3-flash-preview";return await SF(w,S,N)}catch(N){console.error("Error generating outline:",N);const j=N instanceof Error?N.message:"Failed to generate outline";return o({title:"Error",description:j,variant:"destructive"}),null}},generateScriptFromOutline:async(w,S)=>{const N=i==null?void 0:i.openrouter_api_key;if(!N)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{const j=S.model||"google/gemini-3-flash-preview";return await NF(w,S,N,j)}catch(j){console.error("Error generating script from outline:",j);const _=j instanceof Error?j.message:"Failed to generate script";return o({title:"Error",description:_,variant:"destructive"}),null}},generateScriptSectionBySection:async(w,S,N)=>{const j=i==null?void 0:i.openrouter_api_key;if(!j)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{const _=S.model||"google/gemini-3-flash-preview";return await kF(w,S,j,_,N)}catch(_){console.error("Error generating script section by section:",_);const C=_ instanceof Error?_.message:"Failed to generate script";return o({title:"Error",description:C,variant:"destructive"}),null}},generateScript:async w=>{const S=i==null?void 0:i.openrouter_api_key;if(!S)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await jF(w,S,"google/gemini-3-flash-preview")}catch(N){console.error("Error generating script:",N);const j=N instanceof Error?N.message:"Failed to generate script";return o({title:"Error",description:j,variant:"destructive"}),null}},scoreScript:async(w,S,N)=>{const j=i==null?void 0:i.openrouter_api_key;if(!j)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await _F(w,j,"google/gemini-3-flash-preview",S,N)}catch(_){console.error("Error scoring script:",_);const C=_ instanceof Error?_.message:"Failed to score script";return o({title:"Error",description:C,variant:"destructive"}),null}},createScript:async w=>{if(!s)return null;try{const S={title:w.title||"New Script",user_id:s.id,topic:w.topic,key_points:w.key_points,unique_angle:w.unique_angle,generation_mode:w.generation_mode,persona_id:w.persona_id,dna_id:w.dna_id,blueprint_id:w.blueprint_id,blueprint_content:w.blueprint_content,full_script:w.full_script,score:w.score,score_breakdown:w.score_breakdown,status:w.status},{data:N,error:j}=await ze.from("scripts").insert(S).select().single();if(j)throw j;const _={...N,outline_history:N.outline_history||[],script_history:N.script_history||[]};return t(C=>[_,...C]),o({title:"Success",description:"Script saved successfully"}),_}catch(S){return console.error("Error creating script:",S),o({title:"Error",description:"Failed to save script",variant:"destructive"}),null}},updateScript:async(w,S)=>{try{const N={...S,outline_history:S.outline_history?S.outline_history:void 0,script_history:S.script_history?S.script_history:void 0},{data:j,error:_}=await ze.from("scripts").update(N).eq("id",w).select().single();if(_)throw _;const C={...j,outline_history:j.outline_history||[],script_history:j.script_history||[]};return t(T=>T.map(P=>P.id===w?C:P)),o({title:"Success",description:"Script updated successfully"}),C}catch(N){return console.error("Error updating script:",N),o({title:"Error",description:"Failed to update script",variant:"destructive"}),null}},deleteScript:async w=>{try{const{error:S}=await ze.from("scripts").delete().eq("id",w);if(S)throw S;return t(N=>N.filter(j=>j.id!==w)),o({title:"Success",description:"Script deleted successfully"}),!0}catch(S){return console.error("Error deleting script:",S),o({title:"Error",description:"Failed to delete script",variant:"destructive"}),!1}},refetch:l,suggestUniqueAngle:async(w,S,N,j)=>{const _=i==null?void 0:i.openrouter_api_key;if(!_)return o({title:"Error",description:"API Key not configured.",variant:"destructive"}),[];try{return await TF(w,S,N,_,j)}catch(C){return console.error("Error suggesting angles:",C),o({title:"Error",description:"Failed to suggest angles",variant:"destructive"}),[]}},rewriteSection:async(w,S,N,j,_)=>{const C=i==null?void 0:i.openrouter_api_key;if(!C)return o({title:"Error",description:"API Key not configured.",variant:"destructive"}),null;try{return await AF(w,S,N,j,C,_)}catch(T){return console.error("Error rewriting section:",T),o({title:"Error",description:"Failed to rewrite section",variant:"destructive"}),null}},generateSEO:async(w,S,N,j)=>{const _=i==null?void 0:i.openrouter_api_key;if(!_)return o({title:"Error",description:"API Key not configured.",variant:"destructive"}),null;try{return await PF(w,S,N,_,j)}catch(C){return console.error("Error generating SEO:",C),o({title:"Error",description:"Failed to generate SEO",variant:"destructive"}),null}}}}const RF="modulepreload",OF=function(e){return"/"+e},u0={},IF=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=OF(c),c in u0)return;u0[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":RF,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((g,m)=>{f.addEventListener("load",g),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},DF=`You are an expert Viral Content Analyst. Your task is to reverse-engineer the "DNA" (structural patterns, psychological triggers, and linguistic fingerprints) of high-performing video scripts.

<task>
Analyze the provided video transcripts and comments to extract reusable content patterns that can be applied to new scripts.
</task>

<golden_rules>
These rules override all other instructions:

RULE 1: ABSTRACTION OVER COPYING
You MUST generalize specific details into reusable formulas. Never copy literal values from the source material.

Examples of proper abstraction:
| Input Type      | Specific Example     |  Abstracted Formula                              |
|-----------------|----------------------|----------------------------------------------------|
| Numbers/Money   | "$1,234"             | "Use precise, non-round numbers for credibility"   |
| Names           | "John Smith"         | "Reference a specific authority figure"            |
| Dates/Time      | "Last Tuesday"       | "Anchor to recent, relatable timeframe"            |
| Locations       | "Caf in NYC"        | "Ground story in vivid, relatable setting"         |
| Events          | "My car crash"       | "Open with high-stakes personal anecdote"          |

 WRONG: contentFocus = "Talk about how I lost $500 on Bitcoin"
 RIGHT: contentFocus = "Describe personal financial setback to build empathy and hook"

RULE 2: MANDATORY AUDIENCE INTERACTION
Every section MUST have an 'audienceInteraction' field:
- Explicit CTA: "Subscribe now!"  Record exactly
- Implicit trigger: No direct CTA  Identify psychological engagement mechanism
  Examples: "Let me know thoughts" (comment bait), Cliffhanger ending (retention), Rhetorical question (internal engagement)

RULE 3: MULTI-VIDEO SYNTHESIS (When analyzing multiple videos)
- IDENTIFY: Patterns appearing in 2+ videos (consensus patterns)
- RANK: By frequency (all videos > most videos > some videos)
- ABSTRACT: Common formula, not specific examples from one video
- OUTPUT: Skeleton reflects CONSENSUS structure, not individual video's unique approach
- UNIFY: Find underlying patterns when structures differ
</golden_rules>

<analysis_methodology>
Follow this systematic process:

1. CONTRAST ANALYSIS
   Compare Viral vs Flop content. Identify the "Content Gap" - what makes one succeed and the other fail?

2. MULTI-VIDEO PATTERN DETECTION
   - Scan all videos for recurring elements
   - Weight patterns by frequency across videos
   - Abstract common formulas that transcend specific examples

3. STRUCTURAL EXTRACTION
   Break down scripts into distinct functional sections (not just "intro/body/conclusion")

4. SECTION ANALYSIS
   For each section, identify:
   - Tone and emotional texture
   - Linguistic pacing (sentence rhythm, NOT video editing speed)
   - Abstract content focus (the formula, not the specifics)
   - Audience value delivered

5. CURIOSITY LOOP MAPPING
   Track where curiosity gaps open and close throughout the script

6. EMOTIONAL ARC MAPPING
   Chart the viewer's emotional journey from hook to CTA
</analysis_methodology>

<output_schema>
Return a single valid JSON object with this exact structure:

{
  "name": "Pattern name (e.g., 'The Reluctant Expert', 'The Contrarian Educator')",
  "niche": "Content category (e.g., Personal Finance, Health Optimization, SaaS Marketing)",
  "targetWordCount": 0,  // Average word count calculated from viral inputs

  "audiencePsychology": "2-3 sentences describing audience's emotional state, fears, and desires. What psychological need does this content address?",

  "linguisticFingerprint": {
    "personaRole": "Speaker's adopted role (e.g., Mentor, Insider, Skeptic, Guide, Authority)",
    "toneAnalysis": "Detailed tone description (e.g., 'Authoritative yet empathetic', 'Playfully provocative')",
    "syntaxPatterns": "Sentence structure analysis (e.g., 'Frequent rhetorical questions', 'Short punchy statements with occasional long explanatory sentence')",
    "signatureKeywords": ["recurring_keyword1", "recurring_keyword2", "distinctive_phrase"]
  },

  "hookAngle": {
    "angleCategory": "Hook type (e.g., Contrarian, Curiosity Gap, Social Proof, Pattern Interrupt, Fear/Urgency)",
    "deconstruction": "Psychological mechanism: Why does this hook capture attention? What emotional trigger does it activate?"
  },

  "pacingAndTone": {
    "pacing": "Global linguistic rhythm description (e.g., 'Sharp, punchy sentences. Rapid-fire delivery with strategic pauses.', 'Slow build with increasing intensity')"
  },

  "emotionalArc": [
    { "section": "Hook", "emotion": "Shock/Curiosity/Intrigue" },
    { "section": "Build", "emotion": "Anticipation/Tension/Investment" },
    { "section": "Payoff", "emotion": "Satisfaction/Surprise/Relief" },
    { "section": "CTA", "emotion": "Empowerment/Urgency" }
  ],

  "structuralSkeleton": [
    {
      "title": "Abstract functional name (e.g., 'The Pattern Interrupt', 'The Credibility Anchor', 'The Value Proposition') - NOT specific content",
      "wordCount": 150,  // Calculated from source transcript, not invented
      "tone": "Section-specific tone (e.g., Urgent, Sincere, Playful, Authoritative)",
      "pacing": "Linguistic rhythm for this section (e.g., 'Staccato. Short bursts.', 'One long flowing sentence for impact.')",
      "contentFocus": "ABSTRACT formula of what happens here. NO specific details from source material.",
      "audienceValue": "What tangible value does viewer extract from this section? (MANDATORY)",
      "audienceInteraction": "Explicit CTA or implicit engagement trigger (MANDATORY - see Rule 2)",
      "antiPattern": "Specific mistake to AVOID (e.g., 'Don't use vague language', 'No slow meandering intro')",
      "openLoop": "If curiosity gap opens here, describe the unanswered question. Else null.",
      "closesLoop": "If this answers a previous open loop, reference which one. Else null.",
      "transitionOut": "How does this section bridge to the next? What's the connective tissue?"
    }
  ],

  "highDopamine": [
    "Specific engagement elements that triggered high viewer response (identified from comments/metrics)"
  ],

  "confusionPoints": [
    "Moments where viewers got lost or needed clarification (identified from comments)"
  ],

  "objections": [
    "Common pushbacks, disagreements, or skepticism expressed in comments"
  ],

  "corePatterns": [
    "Pattern Name: Why it works (psychological/structural mechanism)"
  ],

  "viralXFactors": [
    "Unique Element: Why it stood out from typical content in this niche"
  ],

  "flopAvoidance": [
    "Specific anti-patterns extracted from Flop content that MUST be avoided"
  ]
}
</output_schema>

<critical_notes>
1. Pacing = LINGUISTIC rhythm (sentence length, breath patterns), NOT video editing speed
2. wordCount = Calculated from actual transcript, NOT estimated or invented
3. If no Flop content provided: Focus only on viral pattern extraction
4. Structural skeleton sections: Use functional names that describe PURPOSE, not content
5. Every recommendation must be actionable and generalizable
</critical_notes>`,MF=`You are a DNA Evolution AI. Your task is to REFINE an existing Content DNA by integrating insights from new video content.

<task>
Intelligently merge new patterns with existing DNA. This is NOT simple list concatenation - you must learn, generalize, and consolidate.
</task>

<evolution_rules>
1. LEARN: Extract new patterns, hooks, and tactics from viral videos
2. LEARN: Identify new anti-patterns from flop videos
3. COMPARE: Evaluate new insights against existing DNA patterns
4. MERGE: Consolidate similar patterns (avoid duplicates)
5. REPLACE: Swap weak/specific patterns with stronger/general ones
6. REMOVE: Eliminate redundant or conflicting patterns
7. QUALITY: No hard limits on list length - keep what's valuable
8. GENERALIZE: Extract principles, not just specific examples
9. RESOLVE: When new content contradicts existing DNA, keep the stronger pattern
</evolution_rules>

<consolidation_logic>
Decision tree for handling new patterns:

IF new pattern is similar to existing pattern:
   MERGE into one stronger, more general pattern

IF new pattern is clearly superior:
   REPLACE the existing weak pattern

IF new pattern is unique AND valuable:
   ADD it to the DNA

IF existing patterns are now redundant:
   REMOVE them

Hook examples special case:
   Keep max 4-5 highest quality examples
   Prioritize recent additions if quality is equal
   Ensure diversity in hook types
</consolidation_logic>

<output_format>
Return valid JSON with complete evolved DNA:

{
  "evolvedDna": {
    // Complete DNA object with ALL fields
    // (same schema as DNA_EXTRACTION_PROMPT output)
  },
  "changesSummary": [
    "Merged 'Pattern X' and 'Pattern Y' into unified 'Pattern Z'",
    "Replaced weak hook example #2 with stronger version from new viral video",
    "Added 'new insight' to flopAvoidance based on recent flop analysis",
    "Removed 3 redundant items from corePatterns (consolidated into 2 stronger patterns)",
    "Updated audiencePsychology to reflect deeper understanding"
  ]
}
</output_format>

<quality_standards>
Evolved DNA should be:
- More general and reusable than before
- Free of duplicates and redundancies
- Consolidated where possible
- Stronger and more actionable
- Validated against both old and new evidence
</quality_standards>`,LF=`You are a Content Auditor. Perform a quick pre-analysis scan of the provided video transcripts and comments.

<task>
For EACH video, assess its fundamental characteristics to identify outliers and quality issues before full DNA extraction.
</task>

<assessment_criteria>
For each video, determine:
1. Topic/Niche: 1-2 word category
2. Primary Tone: Single adjective (e.g., Authoritative, Casual, Urgent)
3. Quality Score: 0-100 based on clarity, value, and coherence
4. Outlier Status: True if it deviates significantly in Topic or Tone from the group majority
</assessment_criteria>

<output_format>
Return a JSON array with one object per video:

[
  {
    "index": 0,
    "type": "viral",
    "topic": "Productivity",
    "tone": "Motivational",
    "qualityScore": 85,
    "isOutlier": false,
    "reason": "Aligns with group. Clear messaging and strong structure."
  },
  {
    "index": 1,
    "type": "viral",
    "topic": "Health",
    "tone": "Skeptical",
    "qualityScore": 92,
    "isOutlier": true,
    "reason": "Different niche from majority. Consider excluding from pattern extraction."
  }
]
</output_format>

<outlier_detection>
A video is an outlier if:
- Topic differs significantly from 70%+ of other videos
- Tone contradicts the dominant tone pattern
- Quality score is 30+ points below group average
- Structure is fundamentally different (e.g., tutorial vs. storytelling)

Recommendation: Flag outliers for potential exclusion from DNA synthesis.
</outlier_detection>`,$F=async(e,t,n="google/gemini-3-flash-preview")=>{if(!t)throw new Error("API Key required");const r=e.viralVideos.map((u,h)=>{var f;return`VIDEO #${h} (VIRAL): Title: ${u.title}. Transcript: ${(f=u.transcript)==null?void 0:f.substring(0,500)}...`}).join(`

`),s=e.flopVideos.map((u,h)=>{var f;return`VIDEO #${h} (FLOP): Title: ${u.title}. Transcript: ${(f=u.transcript)==null?void 0:f.substring(0,500)}...`}).join(`

`),o=[r,s].filter(Boolean).join(`

---

`),l=await qn([{role:"system",content:LF},{role:"user",content:o}],t,n);return so(l).map(u=>{var g,m;const h=((g=u.type)==null?void 0:g.toLowerCase())==="viral"||!u.type&&u.index<e.viralVideos.length,f=h?e.viralVideos[u.index]:e.flopVideos[u.index];return{...u,type:h?"viral":"flop",title:f==null?void 0:f.title,wordCount:((m=f==null?void 0:f.transcript)==null?void 0:m.split(/\s+/).length)||0}})},Iv=async(e,t,n="google/gemini-3-flash-preview")=>{var h,f,g,m,b,p;if(!t)throw new Error("OpenRouter API Key cha c cu hnh.");const r=e.viralVideos.filter(x=>x.transcript),s=r.reduce((x,y)=>{var v;return x+(((v=y.transcript)==null?void 0:v.split(/\s+/).length)||0)},0),o=r.length>0?Math.round(s/r.length):0,i=3,l=[];for(let x=0;x<e.viralVideos.length;x+=i)l.push(e.viralVideos.slice(x,x+i));const c=[];for(const x of l){let y=[];x.forEach((j,_)=>{y.push(`=== VIRAL VIDEO ${_+1}: ${j.title||"Untitled"} ===`),j.transcript&&y.push(`TRANSCRIPT:
${j.transcript}`),j.comments&&y.push(`COMMENTS:
${j.comments}`)}),c.length===0&&e.flopVideos.length>0&&e.flopVideos.forEach((j,_)=>{y.push(`=== FLOP (AVOID) ${_+1}: ${j.title} ===`),y.push(`TRANSCRIPT:
${j.transcript}`)});const v=y.join(`

`);let w=DF.replace("Extract the complete",`AVERAGE WORD COUNT: ${o} words.
Extract the complete`);e.overrideLogic&&(w+=`

ADDITIONAL: ${e.overrideLogic}`);const S=[{role:"system",content:w},{role:"user",content:`Analyze batch and extract DNA:

${v}`}],N=await qn(S,t,n);c.push(so(N))}const u=UF(c,o);return{name:u.name||"Extracted DNA",niche:u.niche||"",targetWordCount:u.targetWordCount,audiencePsychology:u.audiencePsychology||"",linguisticFingerprint:u.linguisticFingerprint||{personaRole:"",toneAnalysis:"",signatureKeywords:[]},hookAngle:u.hookAngle||{angleCategory:"",deconstruction:""},pacingAndTone:u.pacingAndTone||{pacing:"",tone:""},emotionalArc:u.emotionalArc||[],structuralSkeleton:u.structuralSkeleton||[],highDopamine:u.highDopamine||[],confusionPoints:u.confusionPoints||[],objections:u.objections||[],corePatterns:u.corePatterns||[],viralXFactors:u.viralXFactors||[],flopAvoidance:u.flopAvoidance||[],tone:((h=u.pacingAndTone)==null?void 0:h.tone)||"",patterns:u.corePatterns||[],vocabulary:((g=(f=u.linguisticFingerprint)==null?void 0:f.signatureKeywords)==null?void 0:g.join(", "))||"",hook_type:((m=u.hookAngle)==null?void 0:m.angleCategory)||"",hook_examples:[],structure:((b=u.structuralSkeleton)==null?void 0:b.map(x=>x.title))||[],pacing:((p=u.pacingAndTone)==null?void 0:p.pacing)||"",retention_tactics:u.highDopamine||[],x_factors:u.viralXFactors||[]}},FF=async(e,t,n="google/gemini-3-flash-preview",r)=>Iv({viralVideos:[{title:"",transcript:e,comments:"",notes:r?`Source: ${r}`:""}],flopVideos:[]},t,n),UF=(e,t)=>{if(e.length===0)throw new Error("No batch results to merge");if(e.length===1)return{...e[0],targetWordCount:t};const n=(m,b=.5)=>{const p=new Map,x=m.length;return m.forEach(y=>{if(!y)return;[...new Set(y)].forEach(w=>{p.set(w,(p.get(w)||0)+1)})}),Array.from(p.entries()).filter(([y,v])=>v/x>=b).sort((y,v)=>v[1]-y[1]).map(([y])=>y)},r=m=>{if(!m||m.length===0)return[];const b=m.filter(x=>x&&x.length>0);return b.length===0?[]:(b.sort((x,y)=>x.length-y.length),b[Math.floor(b.length/2)].map((x,y)=>{const w=b.map(N=>N[y]).filter(Boolean).map(N=>N.wordCount||0).filter(N=>N>0),S=w.length>0?Math.round(w.reduce((N,j)=>N+j,0)/w.length):x.wordCount;return{...x,wordCount:S}}))},s=m=>{const b=m.filter(p=>p&&p.trim().length>0);return b.length===0?"":b.reduce((p,x)=>x.length>p.length?x:p)},o=e.map(m=>m.corePatterns).filter(Boolean),i=e.map(m=>m.viralXFactors).filter(Boolean),l=e.map(m=>m.flopAvoidance).filter(Boolean),c=e.map(m=>m.highDopamine).filter(Boolean),u=e.map(m=>m.confusionPoints).filter(Boolean),h=e.map(m=>m.objections).filter(Boolean),f=e.map(m=>m.structuralSkeleton).filter(Boolean);return{name:s(e.map(m=>m.name)),niche:s(e.map(m=>m.niche)),targetWordCount:t,audiencePsychology:s(e.map(m=>m.audiencePsychology)),linguisticFingerprint:{personaRole:s(e.map(m=>{var b;return(b=m.linguisticFingerprint)==null?void 0:b.personaRole})),toneAnalysis:s(e.map(m=>{var b;return(b=m.linguisticFingerprint)==null?void 0:b.toneAnalysis})),syntaxPatterns:s(e.map(m=>{var b;return(b=m.linguisticFingerprint)==null?void 0:b.syntaxPatterns})),signatureKeywords:n(e.map(m=>{var b;return(b=m.linguisticFingerprint)==null?void 0:b.signatureKeywords}).filter(Boolean),.4)},hookAngle:e.map(m=>m.hookAngle).filter(m=>m&&m.deconstruction).sort((m,b)=>{var p,x;return(((p=b.deconstruction)==null?void 0:p.length)||0)-(((x=m.deconstruction)==null?void 0:x.length)||0)})[0]||{angleCategory:"",deconstruction:""},pacingAndTone:{pacing:s(e.map(m=>{var b;return(b=m.pacingAndTone)==null?void 0:b.pacing}))},emotionalArc:e.map(m=>m.emotionalArc).filter(m=>m&&m.length>0).sort((m,b)=>b.length-m.length)[0]||[],structuralSkeleton:r(f),corePatterns:n(o,.5),viralXFactors:n(i,.4),flopAvoidance:n(l,.5),highDopamine:n(c,.5),confusionPoints:n(u,.3),objections:n(h,.4)}},S_=async(e,t,n,r="google/gemini-3-flash-preview")=>{var u,h,f,g,m,b,p,x,y,v,w,S,N,j,_,C,T,P,R,M,F,I,te;if(!n)throw new Error("OpenRouter API Key cha c cu hnh.");let s=`EXISTING DNA TO EVOLVE:
\`\`\`json
${JSON.stringify(e,null,2)}
\`\`\`

`;t.viralVideos&&t.viralVideos.length>0&&(s+=`NEW VIRAL VIDEOS TO LEARN FROM:
`,t.viralVideos.forEach((V,oe)=>{s+=`
--- VIRAL VIDEO ${oe+1} ${V.url?`(${V.url})`:""} ---
`,s+=V.transcript.substring(0,4e3),s+=`
`}),s+=`
`),t.flopVideos&&t.flopVideos.length>0&&(s+=`NEW FLOP VIDEOS TO LEARN MISTAKES FROM:
`,t.flopVideos.forEach((V,oe)=>{s+=`
--- FLOP VIDEO ${oe+1} ${V.url?`(${V.url})`:""} ---
`,s+=V.transcript.substring(0,4e3),s+=`
`}),s+=`
`),s+=`
Analyze the new content, learn from it, and EVOLVE the DNA. Return the complete evolved DNA and a summary of changes.`;const i=await qn([{role:"system",content:MF},{role:"user",content:s}],n,r),l=so(i);return{evolvedDna:{name:((u=l.evolvedDna)==null?void 0:u.name)||e.name,niche:((h=l.evolvedDna)==null?void 0:h.niche)||e.niche,targetWordCount:((f=l.evolvedDna)==null?void 0:f.targetWordCount)||e.targetWordCount,audiencePsychology:((g=l.evolvedDna)==null?void 0:g.audiencePsychology)||e.audiencePsychology,linguisticFingerprint:((m=l.evolvedDna)==null?void 0:m.linguisticFingerprint)||e.linguisticFingerprint,hookAngle:((b=l.evolvedDna)==null?void 0:b.hookAngle)||e.hookAngle,pacingAndTone:((p=l.evolvedDna)==null?void 0:p.pacingAndTone)||e.pacingAndTone,structuralSkeleton:((x=l.evolvedDna)==null?void 0:x.structuralSkeleton)||e.structuralSkeleton,highDopamine:((y=l.evolvedDna)==null?void 0:y.highDopamine)||e.highDopamine,confusionPoints:((v=l.evolvedDna)==null?void 0:v.confusionPoints)||e.confusionPoints,objections:((w=l.evolvedDna)==null?void 0:w.objections)||e.objections,corePatterns:((S=l.evolvedDna)==null?void 0:S.corePatterns)||e.corePatterns,viralXFactors:((N=l.evolvedDna)==null?void 0:N.viralXFactors)||e.viralXFactors,flopAvoidance:((j=l.evolvedDna)==null?void 0:j.flopAvoidance)||e.flopAvoidance,hook_examples:((_=l.evolvedDna)==null?void 0:_.hook_examples)||e.hook_examples||[],tone:((C=l.evolvedDna)==null?void 0:C.tone)||e.tone,patterns:((T=l.evolvedDna)==null?void 0:T.patterns)||e.patterns,vocabulary:((P=l.evolvedDna)==null?void 0:P.vocabulary)||e.vocabulary,hook_type:((R=l.evolvedDna)==null?void 0:R.hook_type)||e.hook_type,structure:((M=l.evolvedDna)==null?void 0:M.structure)||e.structure,pacing:((F=l.evolvedDna)==null?void 0:F.pacing)||e.pacing,retention_tactics:((I=l.evolvedDna)==null?void 0:I.retention_tactics)||e.retention_tactics,x_factors:((te=l.evolvedDna)==null?void 0:te.x_factors)||e.x_factors},changesSummary:l.changesSummary||["Evolution completed without detailed changes"]}},zF=Object.freeze(Object.defineProperty({__proto__:null,evolveDna:S_,extractDnaFromContent:Iv,extractDnaFromTranscript:FF,scanContent:$F},Symbol.toStringTag,{value:"Module"}));function Dv(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),{user:s}=On(),{toast:o}=Rn(),{settings:i}=Ac(),l=d.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:p,error:x}=await ze.from("dnas").select("*").order("created_at",{ascending:!1});if(x)throw x;const y=(p||[]).map(v=>({...v,vocabulary:Array.isArray(v.vocabulary)?v.vocabulary.join(", "):v.vocabulary,analysis_data:v.analysis_data}));t(y)}catch(p){console.error("Error fetching DNAs:",p),o({title:"Error",description:"Failed to fetch DNA patterns",variant:"destructive"})}finally{r(!1)}},[s,o]);return d.useEffect(()=>{l()},[l]),{dnas:e,loading:n,scanDnaContent:async p=>{const x=i==null?void 0:i.openrouter_api_key;if(!x)return o({title:"Error",description:"OpenRouter API Key required. Please configure in Settings.",variant:"destructive"}),null;try{return await IF(()=>Promise.resolve().then(()=>zF),void 0).then(v=>v.scanContent(p,x))}catch(y){return console.error("Error scanning content:",y),o({title:"Error",description:"Failed to scan content: "+(y instanceof Error?y.message:"Unknown error"),variant:"destructive"}),null}},extractDna:async(p,x)=>{const y=i==null?void 0:i.openrouter_api_key;if(!y)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await Iv(p,y,x||"google/gemini-3-flash-preview")}catch(v){console.error("Error extracting DNA:",v);const w=v instanceof Error?v.message:"Failed to extract DNA patterns";return o({title:"Error",description:w,variant:"destructive"}),null}},createDna:async p=>{if(!s)return null;try{const x={name:p.name||"New DNA",user_id:s.id,niche:p.niche,source_url:p.source_url,source_transcript:p.source_transcript,hook_type:p.hook_type,hook_examples:p.hook_examples,structure:p.structure,pacing:p.pacing,retention_tactics:p.retention_tactics,x_factors:p.x_factors,tone:p.tone,vocabulary:p.vocabulary?p.vocabulary.split(",").map(S=>S.trim()).filter(Boolean):[],patterns:p.patterns},{data:y,error:v}=await ze.from("dnas").insert(x).select().single();if(v)throw v;const w={...y,vocabulary:Array.isArray(y.vocabulary)?y.vocabulary.join(", "):y.vocabulary,analysis_data:y.analysis_data};return t(S=>[w,...S]),o({title:"Success",description:"DNA pattern saved successfully"}),w}catch(x){return console.error("Error creating DNA:",x),o({title:"Error",description:"Failed to save DNA pattern",variant:"destructive"}),null}},createDnaFromExtracted:async(p,x,y)=>{var v,w,S,N,j;if(!s)return null;try{const _={audiencePsychology:p.audiencePsychology,linguisticFingerprint:p.linguisticFingerprint,hookAngle:p.hookAngle,pacingAndTone:p.pacingAndTone,structuralSkeleton:p.structuralSkeleton,targetWordCount:p.targetWordCount,highDopamine:p.highDopamine,confusionPoints:p.confusionPoints,objections:p.objections,corePatterns:p.corePatterns,viralXFactors:p.viralXFactors,flopAvoidance:p.flopAvoidance},C={name:p.name,user_id:s.id,niche:p.niche,source_url:y||null,source_transcript:x||null,hook_type:p.hook_type||((v=p.hookAngle)==null?void 0:v.angleCategory),hook_examples:p.hook_examples||[],structure:p.structure||((w=p.structuralSkeleton)==null?void 0:w.map(M=>M.title)),pacing:p.pacing||((S=p.pacingAndTone)==null?void 0:S.pacing),retention_tactics:p.retention_tactics||p.highDopamine,x_factors:p.x_factors||p.viralXFactors,tone:p.tone||((N=p.linguisticFingerprint)==null?void 0:N.toneAnalysis),vocabulary:p.vocabulary?p.vocabulary.split(",").map(M=>M.trim()).filter(Boolean):((j=p.linguisticFingerprint)==null?void 0:j.signatureKeywords)||[],patterns:p.patterns||p.corePatterns,analysis_data:_},{data:T,error:P}=await ze.from("dnas").insert(C).select().single();if(P)throw P;const R={...T,vocabulary:Array.isArray(T.vocabulary)?T.vocabulary.join(", "):T.vocabulary,analysis_data:T.analysis_data};return t(M=>[R,...M]),o({title:"Success",description:"DNA pattern saved successfully"}),R}catch(_){return console.error("Error creating DNA:",_),o({title:"Error",description:"Failed to save DNA pattern: "+_.message,variant:"destructive"}),null}},updateDna:async(p,x)=>{try{const y={...x,vocabulary:x.vocabulary?x.vocabulary.split(",").map(N=>N.trim()).filter(Boolean):void 0,analysis_data:x.analysis_data},{data:v,error:w}=await ze.from("dnas").update(y).eq("id",p).select().single();if(w)throw w;const S={...v,vocabulary:Array.isArray(v.vocabulary)?v.vocabulary.join(", "):v.vocabulary,analysis_data:v.analysis_data};return t(N=>N.map(j=>j.id===p?S:j)),o({title:"Success",description:"DNA pattern updated successfully"}),S}catch(y){return console.error("Error updating DNA:",y),o({title:"Error",description:"Failed to update DNA pattern",variant:"destructive"}),null}},deleteDna:async p=>{try{const{error:x}=await ze.from("dnas").delete().eq("id",p);if(x)throw x;return t(y=>y.filter(v=>v.id!==p)),o({title:"Success",description:"DNA pattern deleted successfully"}),!0}catch(x){return console.error("Error deleting DNA:",x),o({title:"Error",description:"Failed to delete DNA pattern: "+(x instanceof Error?x.message:"Unknown error"),variant:"destructive"}),!1}},evolveDna:async(p,x)=>{var w,S,N,j,_,C,T,P,R,M,F,I,te,V,oe,O,A,W;const y=i==null?void 0:i.openrouter_api_key;if(!y)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh.",variant:"destructive"}),{success:!1};const v=e.find(ee=>ee.id===p);if(!v||!v.analysis_data)return o({title:"Error",description:"DNA not found or has no analysis data.",variant:"destructive"}),{success:!1};try{const ee="google/gemini-3-flash-preview",se={name:v.name,niche:v.niche||"",targetWordCount:(w=v.analysis_data)==null?void 0:w.targetWordCount,audiencePsychology:((S=v.analysis_data)==null?void 0:S.audiencePsychology)||"",linguisticFingerprint:((N=v.analysis_data)==null?void 0:N.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]},hookAngle:((j=v.analysis_data)==null?void 0:j.hookAngle)||{angleCategory:"",deconstruction:""},pacingAndTone:((_=v.analysis_data)==null?void 0:_.pacingAndTone)||{pacing:""},structuralSkeleton:((C=v.analysis_data)==null?void 0:C.structuralSkeleton)||[],highDopamine:((T=v.analysis_data)==null?void 0:T.highDopamine)||[],confusionPoints:((P=v.analysis_data)==null?void 0:P.confusionPoints)||[],objections:((R=v.analysis_data)==null?void 0:R.objections)||[],corePatterns:((M=v.analysis_data)==null?void 0:M.corePatterns)||[],viralXFactors:((F=v.analysis_data)==null?void 0:F.viralXFactors)||[],flopAvoidance:((I=v.analysis_data)==null?void 0:I.flopAvoidance)||[],hook_examples:v.hook_examples||[]},ae=await S_(se,x,y,ee),ge={id:crypto.randomUUID(),timestamp:new Date().toISOString(),input_type:x.viralVideos&&x.flopVideos?"mixed":x.viralVideos?"viral":"flop",source_urls:[...((te=x.viralVideos)==null?void 0:te.map(Te=>Te.url).filter(Boolean))||[],...((V=x.flopVideos)==null?void 0:V.map(Te=>Te.url).filter(Boolean))||[]],transcript_preview:(((O=(oe=x.viralVideos)==null?void 0:oe[0])==null?void 0:O.transcript)||((W=(A=x.flopVideos)==null?void 0:A[0])==null?void 0:W.transcript)||"").substring(0,200)+"...",changes_made:ae.changesSummary},ye=[...v.learning_history||[],ge],q={analysis_data:{...v.analysis_data,targetWordCount:ae.evolvedDna.targetWordCount,audiencePsychology:ae.evolvedDna.audiencePsychology,linguisticFingerprint:ae.evolvedDna.linguisticFingerprint,hookAngle:ae.evolvedDna.hookAngle,pacingAndTone:ae.evolvedDna.pacingAndTone,structuralSkeleton:ae.evolvedDna.structuralSkeleton,highDopamine:ae.evolvedDna.highDopamine,confusionPoints:ae.evolvedDna.confusionPoints,objections:ae.evolvedDna.objections,corePatterns:ae.evolvedDna.corePatterns,viralXFactors:ae.evolvedDna.viralXFactors,flopAvoidance:ae.evolvedDna.flopAvoidance},hook_examples:ae.evolvedDna.hook_examples,learning_history:ye},{error:Re}=await ze.from("dnas").update(q).eq("id",p);if(Re)throw Re;return t(Te=>Te.map(Se=>Se.id===p?{...Se,...q}:Se)),o({title:"DNA Evolved!",description:`${ae.changesSummary.length} changes made to your DNA.`}),{success:!0,changesSummary:ae.changesSummary}}catch(ee){return console.error("Error evolving DNA:",ee),o({title:"Error",description:"Failed to evolve DNA: "+(ee instanceof Error?ee.message:"Unknown error"),variant:"destructive"}),{success:!1}}},refetch:l}}function BF(){const{user:e}=On(),{toast:t}=Rn(),n=uv(),{data:r=[],isLoading:s}=wD({queryKey:["folders",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:c,error:u}=await ze.from("folders").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(u)throw u;return c},enabled:!!e}),o=jf({mutationFn:async c=>{if(!e)throw new Error("Not authenticated");const{data:u,error:h}=await ze.from("folders").insert({name:c,user_id:e.id}).select().single();if(h)throw h;return u},onSuccess:()=>{n.invalidateQueries({queryKey:["folders"]}),t({title:"Folder created"})},onError:c=>{t({title:"Error",description:c.message,variant:"destructive"})}}),i=jf({mutationFn:async({id:c,name:u})=>{const{error:h}=await ze.from("folders").update({name:u}).eq("id",c);if(h)throw h},onSuccess:()=>{n.invalidateQueries({queryKey:["folders"]})}}),l=jf({mutationFn:async c=>{const{error:u}=await ze.from("folders").delete().eq("id",c);if(u)throw u},onSuccess:()=>{n.invalidateQueries({queryKey:["folders"]}),t({title:"Folder deleted"})}});return{folders:r,loading:s,createFolder:c=>o.mutateAsync(c),updateFolder:(c,u)=>i.mutateAsync({id:c,name:u}),deleteFolder:c=>l.mutateAsync(c)}}const d0=5;function VF(){const[e,t]=d.useState(null),[n,r]=d.useState(!0),[s,o]=d.useState(null),{user:i}=On(),l=d.useCallback(async()=>{var u,h;if(!i){t(null),r(!1);return}r(!0),o(null);try{const{data:f,error:g}=await ze.from("user_settings").select("openrouter_api_key").eq("user_id",i.id).single();if(g||!(f!=null&&f.openrouter_api_key)){o("No API key configured"),t(null),r(!1);return}const m=await fetch("https://openrouter.ai/api/v1/auth/key",{method:"GET",headers:{Authorization:`Bearer ${f.openrouter_api_key}`}});if(!m.ok)throw new Error("Failed to fetch key info from OpenRouter");const b=await m.json();t({total_credits:(((u=b.data)==null?void 0:u.limit)||0)*d0,total_usage:(((h=b.data)==null?void 0:h.usage)||0)*d0})}catch(f){console.error("Error fetching OpenRouter credits:",f),o(f instanceof Error?f.message:"Failed to fetch credits")}finally{r(!1)}},[i]);d.useEffect(()=>{l()},[l]);const c=e?e.total_credits-e.total_usage:null;return{credits:e,remaining:c,loading:n,error:s,refetch:l}}var WF=d.createContext(void 0);function Bi(e){const t=d.useContext(WF);return e||t||"ltr"}var Hf="rovingFocusGroup.onEntryFocus",HF={bubbles:!1,cancelable:!0},Pc="RovingFocusGroup",[Rm,N_,KF]=wc(Pc),[qF,j_]=Vt(Pc,[KF]),[GF,YF]=qF(Pc),__=d.forwardRef((e,t)=>a.jsx(Rm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Rm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(QF,{...e,ref:t})})}));__.displayName=Pc;var QF=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,g=d.useRef(null),m=Oe(t,g),b=Bi(o),[p,x]=Kn({prop:i,defaultProp:l??null,onChange:c,caller:Pc}),[y,v]=d.useState(!1),w=ct(u),S=N_(n),N=d.useRef(!1),[j,_]=d.useState(0);return d.useEffect(()=>{const C=g.current;if(C)return C.addEventListener(Hf,w),()=>C.removeEventListener(Hf,w)},[w]),a.jsx(GF,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:d.useCallback(C=>x(C),[x]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:d.useCallback(()=>_(C=>C-1),[]),children:a.jsx(me.div,{tabIndex:y||j===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:re(e.onMouseDown,()=>{N.current=!0}),onFocus:re(e.onFocus,C=>{const T=!N.current;if(C.target===C.currentTarget&&T&&!y){const P=new CustomEvent(Hf,HF);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const R=S().filter(V=>V.focusable),M=R.find(V=>V.active),F=R.find(V=>V.id===p),te=[M,F,...R].filter(Boolean).map(V=>V.ref.current);k_(te,h)}}N.current=!1}),onBlur:re(e.onBlur,()=>v(!1))})})}),C_="RovingFocusGroupItem",E_=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=rn(),u=o||c,h=YF(C_,n),f=h.currentTabStopId===u,g=N_(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:p}=h;return d.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),a.jsx(Rm.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:re(e.onMouseDown,x=>{r?h.onItemFocus(u):x.preventDefault()}),onFocus:re(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:re(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=ZF(x,h.orientation,h.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=g().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const S=w.indexOf(x.currentTarget);w=h.loop?eU(w,S+1):w.slice(S+1)}setTimeout(()=>k_(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});E_.displayName=C_;var XF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function JF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ZF(e,t,n){const r=JF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return XF[r]}function k_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function eU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var tU=__,nU=E_,Om=["Enter"," "],rU=["ArrowDown","PageUp","Home"],T_=["ArrowUp","PageDown","End"],sU=[...rU,...T_],oU={ltr:[...Om,"ArrowRight"],rtl:[...Om,"ArrowLeft"]},aU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rc="Menu",[ic,iU,lU]=wc(Rc),[ta,A_]=Vt(Rc,[lU,Li,j_]),Oc=Li(),P_=j_(),[R_,oo]=ta(Rc),[cU,Ic]=ta(Rc),O_=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,l=Oc(t),[c,u]=d.useState(null),h=d.useRef(!1),f=ct(o),g=Bi(s);return d.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(ph,{...l,children:a.jsx(R_,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(cU,{scope:t,onClose:d.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:g,modal:i,children:r})})})};O_.displayName=Rc;var uU="MenuAnchor",Mv=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Oc(n);return a.jsx(nv,{...s,...r,ref:t})});Mv.displayName=uU;var Lv="MenuPortal",[dU,I_]=ta(Lv,{forceMount:void 0}),D_=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=oo(Lv,t);return a.jsx(dU,{scope:t,forceMount:n,children:a.jsx(Yt,{present:n||o.open,children:a.jsx(bc,{asChild:!0,container:s,children:r})})})};D_.displayName=Lv;var Vn="MenuContent",[hU,$v]=ta(Vn),M_=d.forwardRef((e,t)=>{const n=I_(Vn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=oo(Vn,e.__scopeMenu),i=Ic(Vn,e.__scopeMenu);return a.jsx(ic.Provider,{scope:e.__scopeMenu,children:a.jsx(Yt,{present:r||o.open,children:a.jsx(ic.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(fU,{...s,ref:t}):a.jsx(pU,{...s,ref:t})})})})}),fU=d.forwardRef((e,t)=>{const n=oo(Vn,e.__scopeMenu),r=d.useRef(null),s=Oe(t,r);return d.useEffect(()=>{const o=r.current;if(o)return wv(o)},[]),a.jsx(Fv,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:re(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),pU=d.forwardRef((e,t)=>{const n=oo(Vn,e.__scopeMenu);return a.jsx(Fv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),mU=Uo("MenuContent.ScrollLock"),Fv=d.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:m,disableOutsideScroll:b,...p}=e,x=oo(Vn,n),y=Ic(Vn,n),v=Oc(n),w=P_(n),S=iU(n),[N,j]=d.useState(null),_=d.useRef(null),C=Oe(t,_,x.onContentChange),T=d.useRef(0),P=d.useRef(""),R=d.useRef(0),M=d.useRef(null),F=d.useRef("right"),I=d.useRef(0),te=b?_h:d.Fragment,V=b?{as:mU,allowPinchZoom:!0}:void 0,oe=A=>{var q,Re;const W=P.current+A,ee=S().filter(Te=>!Te.disabled),se=document.activeElement,ae=(q=ee.find(Te=>Te.ref.current===se))==null?void 0:q.textValue,ge=ee.map(Te=>Te.textValue),K=EU(ge,W,ae),ye=(Re=ee.find(Te=>Te.textValue===K))==null?void 0:Re.ref.current;(function Te(Se){P.current=Se,window.clearTimeout(T.current),Se!==""&&(T.current=window.setTimeout(()=>Te(""),1e3))})(W),ye&&setTimeout(()=>ye.focus())};d.useEffect(()=>()=>window.clearTimeout(T.current),[]),xv();const O=d.useCallback(A=>{var ee,se;return F.current===((ee=M.current)==null?void 0:ee.side)&&TU(A,(se=M.current)==null?void 0:se.area)},[]);return a.jsx(hU,{scope:n,searchRef:P,onItemEnter:d.useCallback(A=>{O(A)&&A.preventDefault()},[O]),onItemLeave:d.useCallback(A=>{var W;O(A)||((W=_.current)==null||W.focus(),j(null))},[O]),onTriggerLeave:d.useCallback(A=>{O(A)&&A.preventDefault()},[O]),pointerGraceTimerRef:R,onPointerGraceIntentChange:d.useCallback(A=>{M.current=A},[]),children:a.jsx(te,{...V,children:a.jsx(Nh,{asChild:!0,trapped:s,onMountAutoFocus:re(o,A=>{var W;A.preventDefault(),(W=_.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Ri,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:g,onDismiss:m,children:a.jsx(tU,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:j,onEntryFocus:re(c,A=>{y.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(rv,{role:"menu","aria-orientation":"vertical","data-state":Z_(x.open),"data-radix-menu-content":"",dir:y.dir,...v,...p,ref:C,style:{outline:"none",...p.style},onKeyDown:re(p.onKeyDown,A=>{const ee=A.target.closest("[data-radix-menu-content]")===A.currentTarget,se=A.ctrlKey||A.altKey||A.metaKey,ae=A.key.length===1;ee&&(A.key==="Tab"&&A.preventDefault(),!se&&ae&&oe(A.key));const ge=_.current;if(A.target!==ge||!sU.includes(A.key))return;A.preventDefault();const ye=S().filter(q=>!q.disabled).map(q=>q.ref.current);T_.includes(A.key)&&ye.reverse(),_U(ye)}),onBlur:re(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(T.current),P.current="")}),onPointerMove:re(e.onPointerMove,lc(A=>{const W=A.target,ee=I.current!==A.clientX;if(A.currentTarget.contains(W)&&ee){const se=A.clientX>I.current?"right":"left";F.current=se,I.current=A.clientX}}))})})})})})})});M_.displayName=Vn;var gU="MenuGroup",Uv=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(me.div,{role:"group",...r,ref:t})});Uv.displayName=gU;var vU="MenuLabel",L_=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(me.div,{...r,ref:t})});L_.displayName=vU;var Dd="MenuItem",h0="menu.itemSelect",Th=d.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=d.useRef(null),i=Ic(Dd,e.__scopeMenu),l=$v(Dd,e.__scopeMenu),c=Oe(t,o),u=d.useRef(!1),h=()=>{const f=o.current;if(!n&&f){const g=new CustomEvent(h0,{bubbles:!0,cancelable:!0});f.addEventListener(h0,m=>r==null?void 0:r(m),{once:!0}),$g(f,g),g.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx($_,{...s,ref:c,disabled:n,onClick:re(e.onClick,h),onPointerDown:f=>{var g;(g=e.onPointerDown)==null||g.call(e,f),u.current=!0},onPointerUp:re(e.onPointerUp,f=>{var g;u.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:re(e.onKeyDown,f=>{const g=l.searchRef.current!=="";n||g&&f.key===" "||Om.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Th.displayName=Dd;var $_=d.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=$v(Dd,n),l=P_(n),c=d.useRef(null),u=Oe(t,c),[h,f]=d.useState(!1),[g,m]=d.useState("");return d.useEffect(()=>{const b=c.current;b&&m((b.textContent??"").trim())},[o.children]),a.jsx(ic.ItemSlot,{scope:n,disabled:r,textValue:s??g,children:a.jsx(nU,{asChild:!0,...l,focusable:!r,children:a.jsx(me.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:re(e.onPointerMove,lc(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:re(e.onPointerLeave,lc(b=>i.onItemLeave(b))),onFocus:re(e.onFocus,()=>f(!0)),onBlur:re(e.onBlur,()=>f(!1))})})})}),yU="MenuCheckboxItem",F_=d.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(W_,{scope:e.__scopeMenu,checked:n,children:a.jsx(Th,{role:"menuitemcheckbox","aria-checked":Md(n)?"mixed":n,...s,ref:t,"data-state":Vv(n),onSelect:re(s.onSelect,()=>r==null?void 0:r(Md(n)?!0:!n),{checkForDefaultPrevented:!1})})})});F_.displayName=yU;var U_="MenuRadioGroup",[xU,wU]=ta(U_,{value:void 0,onValueChange:()=>{}}),z_=d.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=ct(r);return a.jsx(xU,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx(Uv,{...s,ref:t})})});z_.displayName=U_;var B_="MenuRadioItem",V_=d.forwardRef((e,t)=>{const{value:n,...r}=e,s=wU(B_,e.__scopeMenu),o=n===s.value;return a.jsx(W_,{scope:e.__scopeMenu,checked:o,children:a.jsx(Th,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Vv(o),onSelect:re(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});V_.displayName=B_;var zv="MenuItemIndicator",[W_,bU]=ta(zv,{checked:!1}),H_=d.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=bU(zv,n);return a.jsx(Yt,{present:r||Md(o.checked)||o.checked===!0,children:a.jsx(me.span,{...s,ref:t,"data-state":Vv(o.checked)})})});H_.displayName=zv;var SU="MenuSeparator",K_=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(me.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});K_.displayName=SU;var NU="MenuArrow",q_=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Oc(n);return a.jsx(sv,{...s,...r,ref:t})});q_.displayName=NU;var Bv="MenuSub",[jU,G_]=ta(Bv),Y_=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:s}=e,o=oo(Bv,t),i=Oc(t),[l,c]=d.useState(null),[u,h]=d.useState(null),f=ct(s);return d.useEffect(()=>(o.open===!1&&f(!1),()=>f(!1)),[o.open,f]),a.jsx(ph,{...i,children:a.jsx(R_,{scope:t,open:r,onOpenChange:f,content:u,onContentChange:h,children:a.jsx(jU,{scope:t,contentId:rn(),triggerId:rn(),trigger:l,onTriggerChange:c,children:n})})})};Y_.displayName=Bv;var ml="MenuSubTrigger",Q_=d.forwardRef((e,t)=>{const n=oo(ml,e.__scopeMenu),r=Ic(ml,e.__scopeMenu),s=G_(ml,e.__scopeMenu),o=$v(ml,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},h=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Mv,{asChild:!0,...u,children:a.jsx($_,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Z_(n.open),...e,ref:ah(t,s.onTriggerChange),onClick:f=>{var g;(g=e.onClick)==null||g.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:re(e.onPointerMove,lc(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:re(e.onPointerLeave,lc(f=>{var m,b;h();const g=(m=n.content)==null?void 0:m.getBoundingClientRect();if(g){const p=(b=n.content)==null?void 0:b.dataset.side,x=p==="right",y=x?-5:5,v=g[x?"left":"right"],w=g[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:g.top},{x:w,y:g.top},{x:w,y:g.bottom},{x:v,y:g.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:re(e.onKeyDown,f=>{var m;const g=o.searchRef.current!=="";e.disabled||g&&f.key===" "||oU[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});Q_.displayName=ml;var X_="MenuSubContent",J_=d.forwardRef((e,t)=>{const n=I_(Vn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=oo(Vn,e.__scopeMenu),i=Ic(Vn,e.__scopeMenu),l=G_(X_,e.__scopeMenu),c=d.useRef(null),u=Oe(t,c);return a.jsx(ic.Provider,{scope:e.__scopeMenu,children:a.jsx(Yt,{present:r||o.open,children:a.jsx(ic.Slot,{scope:e.__scopeMenu,children:a.jsx(Fv,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:re(e.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:re(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:re(e.onKeyDown,h=>{var m;const f=h.currentTarget.contains(h.target),g=aU[i.dir].includes(h.key);f&&g&&(o.onOpenChange(!1),(m=l.trigger)==null||m.focus(),h.preventDefault())})})})})})});J_.displayName=X_;function Z_(e){return e?"open":"closed"}function Md(e){return e==="indeterminate"}function Vv(e){return Md(e)?"indeterminate":e?"checked":"unchecked"}function _U(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function CU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function EU(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=CU(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function kU(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,h=l.y,f=c.x,g=c.y;h>r!=g>r&&n<(f-u)*(r-h)/(g-h)+u&&(s=!s)}return s}function TU(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return kU(n,t)}function lc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var AU=O_,PU=Mv,RU=D_,OU=M_,IU=Uv,DU=L_,MU=Th,LU=F_,$U=z_,FU=V_,UU=H_,zU=K_,BU=q_,VU=Y_,WU=Q_,HU=J_,Ah="DropdownMenu",[KU,R8]=Vt(Ah,[A_]),Qt=A_(),[qU,eC]=KU(Ah),tC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Qt(t),u=d.useRef(null),[h,f]=Kn({prop:s,defaultProp:o??!1,onChange:i,caller:Ah});return a.jsx(qU,{scope:t,triggerId:rn(),triggerRef:u,contentId:rn(),open:h,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(g=>!g),[f]),modal:l,children:a.jsx(AU,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};tC.displayName=Ah;var nC="DropdownMenuTrigger",rC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=eC(nC,n),i=Qt(n);return a.jsx(PU,{asChild:!0,...i,children:a.jsx(me.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:ah(t,o.triggerRef),onPointerDown:re(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:re(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});rC.displayName=nC;var GU="DropdownMenuPortal",sC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Qt(t);return a.jsx(RU,{...r,...n})};sC.displayName=GU;var oC="DropdownMenuContent",aC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=eC(oC,n),o=Qt(n),i=d.useRef(!1);return a.jsx(OU,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:re(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:re(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aC.displayName=oC;var YU="DropdownMenuGroup",QU=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(IU,{...s,...r,ref:t})});QU.displayName=YU;var XU="DropdownMenuLabel",iC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(DU,{...s,...r,ref:t})});iC.displayName=XU;var JU="DropdownMenuItem",lC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(MU,{...s,...r,ref:t})});lC.displayName=JU;var ZU="DropdownMenuCheckboxItem",cC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(LU,{...s,...r,ref:t})});cC.displayName=ZU;var e6="DropdownMenuRadioGroup",t6=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx($U,{...s,...r,ref:t})});t6.displayName=e6;var n6="DropdownMenuRadioItem",uC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(FU,{...s,...r,ref:t})});uC.displayName=n6;var r6="DropdownMenuItemIndicator",dC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(UU,{...s,...r,ref:t})});dC.displayName=r6;var s6="DropdownMenuSeparator",hC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(zU,{...s,...r,ref:t})});hC.displayName=s6;var o6="DropdownMenuArrow",a6=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(BU,{...s,...r,ref:t})});a6.displayName=o6;var i6=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:s,defaultOpen:o}=e,i=Qt(t),[l,c]=Kn({prop:r,defaultProp:o??!1,onChange:s,caller:"DropdownMenuSub"});return a.jsx(VU,{...i,open:l,onOpenChange:c,children:n})},l6="DropdownMenuSubTrigger",fC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(WU,{...s,...r,ref:t})});fC.displayName=l6;var c6="DropdownMenuSubContent",pC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(HU,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pC.displayName=c6;var u6=tC,d6=rC,h6=sC,mC=aC,gC=iC,vC=lC,yC=cC,xC=uC,wC=dC,bC=hC,f6=i6,SC=fC,NC=pC;const f0=u6,p0=d6,p6=f6,jC=d.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(SC,{ref:s,className:Y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(Kr,{className:"ml-auto h-4 w-4"})]}));jC.displayName=SC.displayName;const _C=d.forwardRef(({className:e,...t},n)=>a.jsx(NC,{ref:n,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));_C.displayName=NC.displayName;const Im=d.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(h6,{children:a.jsx(mC,{ref:r,sideOffset:t,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Im.displayName=mC.displayName;const ja=d.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(vC,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));ja.displayName=vC.displayName;const m6=d.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(yC,{ref:s,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(wC,{children:a.jsx(Jo,{className:"h-4 w-4"})})}),t]}));m6.displayName=yC.displayName;const g6=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(xC,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(wC,{children:a.jsx(x2,{className:"h-2 w-2 fill-current"})})}),t]}));g6.displayName=xC.displayName;const v6=d.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(gC,{ref:r,className:Y("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));v6.displayName=gC.displayName;const CC=d.forwardRef(({className:e,...t},n)=>a.jsx(bC,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));CC.displayName=bC.displayName;const cc=jv,y6=_v,x6=Cv,EC=d.forwardRef(({className:e,...t},n)=>a.jsx(_c,{ref:n,className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));EC.displayName=_c.displayName;const Ni=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(x6,{children:[a.jsx(EC,{}),a.jsxs(Cc,{ref:r,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(Eh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(os,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ni.displayName=Cc.displayName;const ji=({className:e,...t})=>a.jsx("div",{className:Y("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ji.displayName="DialogHeader";const Ld=({className:e,...t})=>a.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ld.displayName="DialogFooter";const _i=d.forwardRef(({className:e,...t},n)=>a.jsx(Ec,{ref:n,className:Y("text-lg font-semibold leading-none tracking-tight",e),...t}));_i.displayName=Ec.displayName;const kC=d.forwardRef(({className:e,...t},n)=>a.jsx(kc,{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));kC.displayName=kc.displayName;var w6="Label",TC=d.forwardRef((e,t)=>a.jsx(me.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));TC.displayName=w6;var AC=TC;const b6=Oi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=d.forwardRef(({className:e,...t},n)=>a.jsx(AC,{ref:n,className:Y(b6(),e),...t}));z.displayName=AC.displayName;const S6=[{title:"Extract DNA",description:"Analyze viral content patterns",icon:ro,to:"/dna-lab"},{title:"New Script",description:"Create content with AI",icon:vi,to:"/writer"}];function N6(){const e=ea(),{toast:t}=Rn(),{scripts:n,loading:r,updateScript:s,deleteScript:o}=b_(),{dnas:i,loading:l}=Dv(),{folders:c,loading:u,createFolder:h,deleteFolder:f}=BF(),{credits:g,loading:m,error:b,refetch:p}=VF(),[x,y]=d.useState(""),[v,w]=d.useState(!1),[S,N]=d.useState(""),[j,_]=d.useState(null),[C,T]=d.useState(!1),[P,R]=d.useState(null),[M,F]=d.useState(""),I=n.length,te=i.length,V=()=>m?"Loading...":b?b.includes("No API key")?"No API Key":"Error":(g==null?void 0:g.total_usage)!==void 0?`$${g.total_usage.toFixed(2)}`:"N/A",oe=n.filter(K=>{const ye=K.title.toLowerCase().includes(x.toLowerCase())||K.topic&&K.topic.toLowerCase().includes(x.toLowerCase());return j?ye&&K.folder_id===j:ye}),O=n.filter(K=>!K.folder_id),A=async()=>{S.trim()&&(await h(S),N(""),w(!1))},W=async()=>{!P||!M.trim()||(await s(P,{title:M}),T(!1),R(null),F(""))},ee=async K=>{await o(K)},se=async(K,ye)=>{await s(K,{folder_id:ye}),t({title:ye?"Moved to folder":"Removed from folder",description:ye?"Script has been moved to the folder":"Script has been moved to root"})},ae=(K,ye)=>{R(K),F(ye),T(!0)},ge=c.find(K=>K.id===j);return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"grid gap-3 grid-cols-2 lg:grid-cols-4",children:[a.jsx(r0,{title:"Total Projects",value:I,icon:v2,iconColor:"text-blue-500"}),a.jsx(r0,{title:"DNA Templates",value:te,icon:jt,iconColor:"text-purple-500"}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl border border-border/50 bg-card/80",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-xl bg-emerald-500/10 p-2.5",children:a.jsx(b2,{className:"h-5 w-5 text-emerald-500"})}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Credits Used"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold",children:V()}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>p(),disabled:m,children:a.jsx(Vr,{className:`h-4 w-4 ${m?"animate-spin":""}`})})]})]}),a.jsxs("a",{href:"https://www.facebook.com/logdd.pitre",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 rounded-2xl border border-border/50 bg-card/80 hover:border-primary/50 hover:bg-card transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-xl bg-blue-500/10 p-2.5",children:a.jsx(j2,{className:"h-5 w-5 text-blue-500"})}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Contact"})]}),a.jsx("span",{className:"text-lg font-semibold",children:"LONG"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsx("div",{children:ge?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(L,{variant:"ghost",size:"sm",onClick:()=>_(null),children:" Back"}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(_2,{className:"h-6 w-6 text-primary"}),ge.name]}),a.jsxs("p",{className:"text-muted-foreground",children:[oe.length," scripts in this folder"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your viral engineering projects."})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(L,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>w(!0),children:[a.jsx(C2,{className:"h-4 w-4"}),"New Folder"]}),a.jsx(L,{size:"sm",className:"gap-2",asChild:!0,children:a.jsxs(Zl,{to:"/writer",children:[a.jsx(He,{className:"h-4 w-4"}),"New Project"]})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(uh,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search projects and folders...",value:x,onChange:K=>y(K.target.value),className:"pl-10"})]}),!j&&a.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:S6.map(K=>a.jsx(mF,{...K},K.title))}),!j&&c.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Folders"}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:c.map(K=>{const ye=n.filter(q=>q.folder_id===K.id).length;return a.jsxs("div",{className:"relative group p-4 rounded-2xl border border-border/50 bg-card/80 hover:border-primary/50 transition-all cursor-pointer",onClick:()=>_(K.id),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(xf,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium truncate",children:K.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ye," items"]})]})]}),a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs(f0,{children:[a.jsx(p0,{asChild:!0,onClick:q=>q.stopPropagation(),children:a.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-background/80 backdrop-blur-sm",children:a.jsx(Fx,{className:"h-4 w-4"})})}),a.jsx(Im,{align:"end",children:a.jsxs(ja,{onClick:q=>{q.stopPropagation(),f(K.id)},className:"text-destructive focus:text-destructive",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})})]},K.id)})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:j?"Scripts":"Recent Projects"}),r?a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[1,2,3,4].map(K=>a.jsx("div",{className:"h-32 animate-pulse rounded-2xl bg-muted/50"},K))}):(j?oe:O.filter(K=>K.title.toLowerCase().includes(x.toLowerCase())||K.topic&&K.topic.toLowerCase().includes(x.toLowerCase()))).length>0?a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:(j?oe:O.filter(K=>K.title.toLowerCase().includes(x.toLowerCase())||K.topic&&K.topic.toLowerCase().includes(x.toLowerCase()))).map(K=>a.jsxs("div",{className:"relative group",children:[a.jsx(pF,{title:K.title,status:K.status||"draft",mode:K.generation_mode||void 0,date:K.created_at,onClick:()=>e(`/writer/${K.id}`)}),a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs(f0,{children:[a.jsx(p0,{asChild:!0,children:a.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-background/80 backdrop-blur-sm",children:a.jsx(Fx,{className:"h-4 w-4"})})}),a.jsxs(Im,{align:"end",children:[a.jsxs(ja,{onClick:()=>ae(K.id,K.title),children:[a.jsx(I2,{className:"h-4 w-4 mr-2"}),"Rename"]}),c.length>0&&a.jsxs(p6,{children:[a.jsxs(jC,{children:[a.jsx(Bg,{className:"h-4 w-4 mr-2"}),"Move to folder"]}),a.jsxs(_C,{children:[K.folder_id&&a.jsxs(ja,{onClick:()=>se(K.id,null),children:[a.jsx(xf,{className:"h-4 w-4 mr-2"}),"Remove from folder"]}),c.filter(ye=>ye.id!==K.folder_id).map(ye=>a.jsxs(ja,{onClick:()=>se(K.id,ye.id),children:[a.jsx(xf,{className:"h-4 w-4 mr-2"}),ye.name]},ye.id))]})]}),a.jsx(CC,{}),a.jsxs(ja,{onClick:()=>ee(K.id),className:"text-destructive focus:text-destructive",children:[a.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},K.id))}):a.jsxs("div",{className:"rounded-2xl border border-dashed border-border/50 p-12 text-center",children:[a.jsx("p",{className:"text-muted-foreground",children:x?"No projects found matching your search.":j?"No scripts in this folder yet.":"No projects yet. Create your first script!"}),a.jsx(L,{className:"mt-4",asChild:!0,children:a.jsxs(Zl,{to:"/writer",children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Create Script"]})})]})]}),a.jsx(cc,{open:v,onOpenChange:w,children:a.jsxs(Ni,{children:[a.jsx(ji,{children:a.jsx(_i,{children:"Create New Folder"})}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Folder Name"}),a.jsx(ie,{value:S,onChange:K=>N(K.target.value),placeholder:"My folder...",onKeyDown:K=>K.key==="Enter"&&A()})]})}),a.jsxs(Ld,{children:[a.jsx(L,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx(L,{onClick:A,children:"Create"})]})]})}),a.jsx(cc,{open:C,onOpenChange:T,children:a.jsxs(Ni,{children:[a.jsx(ji,{children:a.jsx(_i,{children:"Rename Project"})}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Project Name"}),a.jsx(ie,{value:M,onChange:K=>F(K.target.value),placeholder:"Project name...",onKeyDown:K=>K.key==="Enter"&&W()})]})}),a.jsxs(Ld,{children:[a.jsx(L,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),a.jsx(L,{onClick:W,children:"Save"})]})]})})]})}const j6=()=>a.jsx(N6,{});function _6(){const[e,t]=d.useState(!0),[n,r]=d.useState(""),[s,o]=d.useState(""),[i,l]=d.useState(""),[c,u]=d.useState(!1),[h,f]=d.useState(!1),[g,m]=d.useState(!1),{user:b,signIn:p,signUp:x}=On(),{toast:y}=Rn();if(b)return a.jsx($1,{to:"/",replace:!0});const v=async()=>{m(!0);try{const{error:N}=await ze.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});N&&y({title:"Error",description:N.message,variant:"destructive"})}finally{m(!1)}},w=async N=>{if(N.preventDefault(),s.length<6){y({title:"Password too short",description:"Password must be at least 6 characters",variant:"destructive"});return}f(!0);try{const{error:j}=e?await p(n,s):await x(n,s);if(j){let _=j.message;j.message.includes("Invalid login credentials")?_="Invalid email or password. Please try again.":j.message.includes("User already registered")&&(_="This email is already registered. Please sign in instead."),y({title:"Error",description:_,variant:"destructive"})}else e||(y({title:"Account created!",description:"You can now sign in with your credentials."}),t(!0),o(""))}finally{f(!1)}},S=[{icon:ro,text:"Extract viral DNA patterns",description:"Analyze top-performing videos"},{icon:jt,text:"AI-powered generation",description:"Create scripts in seconds"},{icon:zo,text:"Audience personas",description:"Understand your viewers"},{icon:zn,text:"Rapid iteration",description:"Test and refine faster"}];return a.jsxs("div",{className:"min-h-screen flex overflow-hidden",children:[a.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative p-12 flex-col justify-between",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-background to-accent/30"}),a.jsxs("div",{className:"absolute inset-0 opacity-30",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-primary/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),a.jsx("div",{className:"relative z-10",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-2xl bg-primary/20 backdrop-blur-sm p-3 border border-primary/20",children:a.jsx(jt,{className:"h-7 w-7 text-primary"})}),a.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Viral DNA"})]})}),a.jsxs("div",{className:"relative z-10 space-y-10",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-5xl font-bold tracking-tight leading-tight",children:["Unlock the secrets",a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"of viral content"})]}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground max-w-md leading-relaxed",children:"Extract patterns from successful videos, generate scripts that resonate, and build your audience faster than ever before."})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:S.map((N,j)=>a.jsxs("div",{className:"group p-4 rounded-2xl bg-card/50 backdrop-blur-sm border border-border/50 hover:border-primary/30 hover:bg-card/80 transition-all duration-300",children:[a.jsx("div",{className:"rounded-xl bg-primary/10 p-2.5 w-fit mb-3 group-hover:bg-primary/20 transition-colors",children:a.jsx(N.icon,{className:"h-5 w-5 text-primary"})}),a.jsx("p",{className:"font-medium text-sm",children:N.text}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:N.description})]},j))})]}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between text-sm text-muted-foreground",children:[a.jsx("span",{children:" 2026 logdd. All rights reserved."}),a.jsx(Zl,{to:"/pricing",className:"text-primary hover:underline",children:"View Pricing"})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-12 bg-background",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"lg:hidden flex items-center gap-3 mb-8 justify-center",children:[a.jsx("div",{className:"rounded-2xl bg-primary/20 p-3",children:a.jsx(jt,{className:"h-7 w-7 text-primary"})}),a.jsx("span",{className:"text-2xl font-bold",children:"Viral DNA"})]}),a.jsxs(ve,{className:"border-0 shadow-2xl",children:[a.jsxs(fn,{className:"text-center pb-2",children:[a.jsx(Sn,{className:"text-2xl",children:e?"Welcome back":"Create your account"}),a.jsx(Gs,{children:e?"Enter your credentials to continue":"Start creating viral content today"})]}),a.jsxs(xe,{className:"pt-4 space-y-6",children:[a.jsx(L,{type:"button",variant:"outline",className:"w-full rounded-xl h-12 gap-3 font-medium hover:bg-accent/50 transition-all",onClick:v,disabled:g,children:g?a.jsx(St,{className:"h-5 w-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-3 text-muted-foreground",children:"or continue with email"})})]}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!e&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{htmlFor:"name",children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(U2,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{id:"name",type:"text",placeholder:"Your name",value:i,onChange:N=>l(N.target.value),className:"pl-10 rounded-xl h-12"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(A2,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:N=>r(N.target.value),className:"pl-10 rounded-xl h-12",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(k2,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{id:"password",type:c?"text":"password",placeholder:"",value:s,onChange:N=>o(N.target.value),className:"pl-10 pr-10 rounded-xl h-12",required:!0,minLength:6}),a.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?a.jsx(S2,{className:"h-4 w-4"}):a.jsx(N2,{className:"h-4 w-4"})})]}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters"})]}),e&&a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",children:"Forgot password?"})}),a.jsx(L,{type:"submit",className:"w-full rounded-xl h-12 gap-2 font-medium",disabled:h,children:h?a.jsx(St,{className:"h-4 w-4 animate-spin"}):a.jsxs(a.Fragment,{children:[e?"Sign In":"Create Account",a.jsx(Bg,{className:"h-4 w-4"})]})})]}),a.jsxs("div",{className:"text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e?"Don't have an account? ":"Already have an account? "}),a.jsx("button",{type:"button",onClick:()=>{t(!e),o("")},className:"font-semibold text-primary hover:underline",children:e?"Sign up":"Sign in"})]}),!e&&a.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By creating an account, you agree to our"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]})]})})]})}const be=d.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:Y("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));be.displayName="Textarea";function Gr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Kf="rovingFocusGroup.onEntryFocus",C6={bubbles:!1,cancelable:!0},Dc="RovingFocusGroup",[Dm,PC,E6]=wc(Dc),[k6,RC]=Vt(Dc,[E6]),[T6,A6]=k6(Dc),OC=d.forwardRef((e,t)=>a.jsx(Dm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Dm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(P6,{...e,ref:t})})}));OC.displayName=Dc;var P6=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,g=d.useRef(null),m=Oe(t,g),b=Bi(o),[p,x]=Kn({prop:i,defaultProp:l??null,onChange:c,caller:Dc}),[y,v]=d.useState(!1),w=ct(u),S=PC(n),N=d.useRef(!1),[j,_]=d.useState(0);return d.useEffect(()=>{const C=g.current;if(C)return C.addEventListener(Kf,w),()=>C.removeEventListener(Kf,w)},[w]),a.jsx(T6,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:d.useCallback(C=>x(C),[x]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>_(C=>C+1),[]),onFocusableItemRemove:d.useCallback(()=>_(C=>C-1),[]),children:a.jsx(me.div,{tabIndex:y||j===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Gr(e.onMouseDown,()=>{N.current=!0}),onFocus:Gr(e.onFocus,C=>{const T=!N.current;if(C.target===C.currentTarget&&T&&!y){const P=new CustomEvent(Kf,C6);if(C.currentTarget.dispatchEvent(P),!P.defaultPrevented){const R=S().filter(V=>V.focusable),M=R.find(V=>V.active),F=R.find(V=>V.id===p),te=[M,F,...R].filter(Boolean).map(V=>V.ref.current);MC(te,h)}}N.current=!1}),onBlur:Gr(e.onBlur,()=>v(!1))})})}),IC="RovingFocusGroupItem",DC=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=rn(),u=o||c,h=A6(IC,n),f=h.currentTabStopId===u,g=PC(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:p}=h;return d.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),a.jsx(Dm.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(me.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:Gr(e.onMouseDown,x=>{r?h.onItemFocus(u):x.preventDefault()}),onFocus:Gr(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:Gr(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=I6(x,h.orientation,h.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=g().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const S=w.indexOf(x.currentTarget);w=h.loop?D6(w,S+1):w.slice(S+1)}setTimeout(()=>MC(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});DC.displayName=IC;var R6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function O6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function I6(e,t,n){const r=O6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return R6[r]}function MC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function D6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var M6=OC,L6=DC;function $6(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var LC=e=>{const{present:t,children:n}=e,r=F6(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),o=Oe(r.ref,U6(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:o}):null};LC.displayName="Presence";function F6(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),o=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=$6(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=Nu(r.current);o.current=l==="mounted"?u:"none"},[l]),ut(()=>{const u=r.current,h=s.current;if(h!==e){const g=o.current,m=Nu(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&g!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ut(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=m=>{const p=Nu(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},g=m=>{m.target===t&&(o.current=Nu(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Nu(e){return(e==null?void 0:e.animationName)||"none"}function U6(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Ph="Tabs",[z6,O8]=Vt(Ph,[RC]),$C=RC(),[B6,Wv]=z6(Ph),FC=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Bi(l),[f,g]=Kn({prop:r,onChange:s,defaultProp:o??"",caller:Ph});return a.jsx(B6,{scope:n,baseId:rn(),value:f,onValueChange:g,orientation:i,dir:h,activationMode:c,children:a.jsx(me.div,{dir:h,"data-orientation":i,...u,ref:t})})});FC.displayName=Ph;var UC="TabsList",zC=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=Wv(UC,n),i=$C(n);return a.jsx(M6,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(me.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});zC.displayName=UC;var BC="TabsTrigger",VC=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=Wv(BC,n),l=$C(n),c=KC(i.baseId,r),u=qC(i.baseId,r),h=r===i.value;return a.jsx(L6,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(me.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:Gr(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:Gr(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:Gr(e.onFocus,()=>{const f=i.activationMode!=="manual";!h&&!s&&f&&i.onValueChange(r)})})})});VC.displayName=BC;var WC="TabsContent",HC=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=Wv(WC,n),c=KC(l.baseId,r),u=qC(l.baseId,r),h=r===l.value,f=d.useRef(h);return d.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(LC,{present:s||h,children:({present:g})=>a.jsx(me.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&o})})});HC.displayName=WC;function KC(e,t){return`${e}-trigger-${t}`}function qC(e,t){return`${e}-content-${t}`}var V6=FC,GC=zC,YC=VC,QC=HC;const uc=V6,Ci=d.forwardRef(({className:e,...t},n)=>a.jsx(GC,{ref:n,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ci.displayName=GC.displayName;const lr=d.forwardRef(({className:e,...t},n)=>a.jsx(YC,{ref:n,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));lr.displayName=YC.displayName;const cr=d.forwardRef(({className:e,...t},n)=>a.jsx(QC,{ref:n,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));cr.displayName=QC.displayName;function Mm(e,[t,n]){return Math.min(n,Math.max(t,e))}function XC(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var W6=[" ","Enter","ArrowUp","ArrowDown"],H6=[" ","Enter"],qo="Select",[Rh,Oh,K6]=wc(qo),[Vi,I8]=Vt(qo,[K6,Li]),Ih=Li(),[q6,ao]=Vi(qo),[G6,Y6]=Vi(qo),JC=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:g,required:m,form:b}=e,p=Ih(t),[x,y]=d.useState(null),[v,w]=d.useState(null),[S,N]=d.useState(!1),j=Bi(u),[_,C]=Kn({prop:r,defaultProp:s??!1,onChange:o,caller:qo}),[T,P]=Kn({prop:i,defaultProp:l,onChange:c,caller:qo}),R=d.useRef(null),M=x?b||!!x.closest("form"):!0,[F,I]=d.useState(new Set),te=Array.from(F).map(V=>V.props.value).join(";");return a.jsx(ph,{...p,children:a.jsxs(q6,{required:m,scope:t,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:rn(),value:T,onValueChange:P,open:_,onOpenChange:C,dir:j,triggerPointerDownPosRef:R,disabled:g,children:[a.jsx(Rh.Provider,{scope:t,children:a.jsx(G6,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(V=>{I(oe=>new Set(oe).add(V))},[]),onNativeOptionRemove:d.useCallback(V=>{I(oe=>{const O=new Set(oe);return O.delete(V),O})},[]),children:n})}),M?a.jsxs(SE,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:T,onChange:V=>P(V.target.value),disabled:g,form:b,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(F)]},te):null]})})};JC.displayName=qo;var ZC="SelectTrigger",eE=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Ih(n),i=ao(ZC,n),l=i.disabled||r,c=Oe(t,i.onTriggerChange),u=Oh(n),h=d.useRef("touch"),[f,g,m]=jE(p=>{const x=u().filter(w=>!w.disabled),y=x.find(w=>w.value===i.value),v=_E(x,p,y);v!==void 0&&i.onValueChange(v.value)}),b=p=>{l||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(nv,{asChild:!0,...o,children:a.jsx(me.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":NE(i.value)?"":void 0,...s,ref:c,onClick:re(s.onClick,p=>{p.currentTarget.focus(),h.current!=="mouse"&&b(p)}),onPointerDown:re(s.onPointerDown,p=>{h.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:re(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&g(p.key),!(x&&p.key===" ")&&W6.includes(p.key)&&(b(),p.preventDefault())})})})});eE.displayName=ZC;var tE="SelectValue",nE=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=ao(tE,n),{onValueNodeHasChildrenChange:u}=c,h=o!==void 0,f=Oe(t,c.onValueNodeChange);return ut(()=>{u(h)},[u,h]),a.jsx(me.span,{...l,ref:f,style:{pointerEvents:"none"},children:NE(c.value)?a.jsx(a.Fragment,{children:i}):o})});nE.displayName=tE;var Q6="SelectIcon",rE=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(me.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});rE.displayName=Q6;var X6="SelectPortal",sE=e=>a.jsx(bc,{asChild:!0,...e});sE.displayName=X6;var Go="SelectContent",oE=d.forwardRef((e,t)=>{const n=ao(Go,e.__scopeSelect),[r,s]=d.useState();if(ut(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Xo.createPortal(a.jsx(aE,{scope:e.__scopeSelect,children:a.jsx(Rh.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(iE,{...e,ref:t})});oE.displayName=Go;var er=10,[aE,io]=Vi(Go),J6="SelectContentImpl",Z6=Uo("SelectContent.RemoveScroll"),iE=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x,...y}=e,v=ao(Go,n),[w,S]=d.useState(null),[N,j]=d.useState(null),_=Oe(t,q=>S(q)),[C,T]=d.useState(null),[P,R]=d.useState(null),M=Oh(n),[F,I]=d.useState(!1),te=d.useRef(!1);d.useEffect(()=>{if(w)return wv(w)},[w]),xv();const V=d.useCallback(q=>{const[Re,...Te]=M().map(De=>De.ref.current),[Se]=Te.slice(-1),Ee=document.activeElement;for(const De of q)if(De===Ee||(De==null||De.scrollIntoView({block:"nearest"}),De===Re&&N&&(N.scrollTop=0),De===Se&&N&&(N.scrollTop=N.scrollHeight),De==null||De.focus(),document.activeElement!==Ee))return},[M,N]),oe=d.useCallback(()=>V([C,w]),[V,C,w]);d.useEffect(()=>{F&&oe()},[F,oe]);const{onOpenChange:O,triggerPointerDownPosRef:A}=v;d.useEffect(()=>{if(w){let q={x:0,y:0};const Re=Se=>{var Ee,De;q={x:Math.abs(Math.round(Se.pageX)-(((Ee=A.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((De=A.current)==null?void 0:De.y)??0))}},Te=Se=>{q.x<=10&&q.y<=10?Se.preventDefault():w.contains(Se.target)||O(!1),document.removeEventListener("pointermove",Re),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Re),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Re),document.removeEventListener("pointerup",Te,{capture:!0})}}},[w,O,A]),d.useEffect(()=>{const q=()=>O(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[O]);const[W,ee]=jE(q=>{const Re=M().filter(Ee=>!Ee.disabled),Te=Re.find(Ee=>Ee.ref.current===document.activeElement),Se=_E(Re,q,Te);Se&&setTimeout(()=>Se.ref.current.focus())}),se=d.useCallback((q,Re,Te)=>{const Se=!te.current&&!Te;(v.value!==void 0&&v.value===Re||Se)&&(T(q),Se&&(te.current=!0))},[v.value]),ae=d.useCallback(()=>w==null?void 0:w.focus(),[w]),ge=d.useCallback((q,Re,Te)=>{const Se=!te.current&&!Te;(v.value!==void 0&&v.value===Re||Se)&&R(q)},[v.value]),K=r==="popper"?Lm:lE,ye=K===Lm?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:g,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(aE,{scope:n,content:w,viewport:N,onViewportChange:j,itemRefCallback:se,selectedItem:C,onItemLeave:ae,itemTextRefCallback:ge,focusSelectedItem:oe,selectedItemText:P,position:r,isPositioned:F,searchRef:W,children:a.jsx(_h,{as:Z6,allowPinchZoom:!0,children:a.jsx(Nh,{asChild:!0,trapped:v.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:re(s,q=>{var Re;(Re=v.trigger)==null||Re.focus({preventScroll:!0}),q.preventDefault()}),children:a.jsx(Ri,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(K,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:q=>q.preventDefault(),...y,...ye,onPlaced:()=>I(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:re(y.onKeyDown,q=>{const Re=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!Re&&q.key.length===1&&ee(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let Se=M().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(q.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const Ee=q.target,De=Se.indexOf(Ee);Se=Se.slice(De+1)}setTimeout(()=>V(Se)),q.preventDefault()}})})})})})})});iE.displayName=J6;var ez="SelectItemAlignedPosition",lE=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=ao(Go,n),i=io(Go,n),[l,c]=d.useState(null),[u,h]=d.useState(null),f=Oe(t,_=>h(_)),g=Oh(n),m=d.useRef(!1),b=d.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=i,w=d.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&x&&y){const _=o.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),P=y.getBoundingClientRect();if(o.dir!=="rtl"){const Ee=P.left-C.left,De=T.left-Ee,Ve=_.left-De,nt=_.width+Ve,dt=Math.max(nt,C.width),Tt=window.innerWidth-er,Mt=Mm(De,[er,Math.max(er,Tt-dt)]);l.style.minWidth=nt+"px",l.style.left=Mt+"px"}else{const Ee=C.right-P.right,De=window.innerWidth-T.right-Ee,Ve=window.innerWidth-_.right-De,nt=_.width+Ve,dt=Math.max(nt,C.width),Tt=window.innerWidth-er,Mt=Mm(De,[er,Math.max(er,Tt-dt)]);l.style.minWidth=nt+"px",l.style.right=Mt+"px"}const R=g(),M=window.innerHeight-er*2,F=p.scrollHeight,I=window.getComputedStyle(u),te=parseInt(I.borderTopWidth,10),V=parseInt(I.paddingTop,10),oe=parseInt(I.borderBottomWidth,10),O=parseInt(I.paddingBottom,10),A=te+V+F+O+oe,W=Math.min(x.offsetHeight*5,A),ee=window.getComputedStyle(p),se=parseInt(ee.paddingTop,10),ae=parseInt(ee.paddingBottom,10),ge=_.top+_.height/2-er,K=M-ge,ye=x.offsetHeight/2,q=x.offsetTop+ye,Re=te+V+q,Te=A-Re;if(Re<=ge){const Ee=R.length>0&&x===R[R.length-1].ref.current;l.style.bottom="0px";const De=u.clientHeight-p.offsetTop-p.offsetHeight,Ve=Math.max(K,ye+(Ee?ae:0)+De+oe),nt=Re+Ve;l.style.height=nt+"px"}else{const Ee=R.length>0&&x===R[0].ref.current;l.style.top="0px";const Ve=Math.max(ge,te+p.offsetTop+(Ee?se:0)+ye)+Te;l.style.height=Ve+"px",p.scrollTop=Re-ge+p.offsetTop}l.style.margin=`${er}px 0`,l.style.minHeight=W+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[g,o.trigger,o.valueNode,l,u,p,x,y,o.dir,r]);ut(()=>w(),[w]);const[S,N]=d.useState();ut(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=d.useCallback(_=>{_&&b.current===!0&&(w(),v==null||v(),b.current=!1)},[w,v]);return a.jsx(nz,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(me.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});lE.displayName=ez;var tz="SelectPopperPosition",Lm=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=er,...o}=e,i=Ih(n);return a.jsx(rv,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Lm.displayName=tz;var[nz,Hv]=Vi(Go,{}),$m="SelectViewport",cE=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=io($m,n),i=Hv($m,n),l=Oe(t,o.onViewportChange),c=d.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Rh.Slot,{scope:n,children:a.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:re(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&f){const m=Math.abs(c.current-h.scrollTop);if(m>0){const b=window.innerHeight-er*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(p,x);if(y<b){const v=y+m,w=Math.min(b,v),S=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(h.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});cE.displayName=$m;var uE="SelectGroup",[rz,sz]=Vi(uE),oz=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=rn();return a.jsx(rz,{scope:n,id:s,children:a.jsx(me.div,{role:"group","aria-labelledby":s,...r,ref:t})})});oz.displayName=uE;var dE="SelectLabel",hE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=sz(dE,n);return a.jsx(me.div,{id:s.id,...r,ref:t})});hE.displayName=dE;var $d="SelectItem",[az,fE]=Vi($d),pE=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=ao($d,n),c=io($d,n),u=l.value===r,[h,f]=d.useState(o??""),[g,m]=d.useState(!1),b=Oe(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,r,s)}),p=rn(),x=d.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(az,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:d.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Rh.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:a.jsx(me.div,{role:"option","aria-labelledby":p,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:re(i.onFocus,()=>m(!0)),onBlur:re(i.onBlur,()=>m(!1)),onClick:re(i.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:re(i.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:re(i.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:re(i.onPointerMove,v=>{var w;x.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:re(i.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:re(i.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(H6.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});pE.displayName=$d;var gl="SelectItemText",mE=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=ao(gl,n),l=io(gl,n),c=fE(gl,n),u=Y6(gl,n),[h,f]=d.useState(null),g=Oe(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),m=h==null?void 0:h.textContent,b=d.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return ut(()=>(p(b),()=>x(b)),[p,x,b]),a.jsxs(a.Fragment,{children:[a.jsx(me.span,{id:c.textId,...o,ref:g}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Xo.createPortal(o.children,i.valueNode):null]})});mE.displayName=gl;var gE="SelectItemIndicator",vE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return fE(gE,n).isSelected?a.jsx(me.span,{"aria-hidden":!0,...r,ref:t}):null});vE.displayName=gE;var Fm="SelectScrollUpButton",yE=d.forwardRef((e,t)=>{const n=io(Fm,e.__scopeSelect),r=Hv(Fm,e.__scopeSelect),[s,o]=d.useState(!1),i=Oe(t,r.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(wE,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});yE.displayName=Fm;var Um="SelectScrollDownButton",xE=d.forwardRef((e,t)=>{const n=io(Um,e.__scopeSelect),r=Hv(Um,e.__scopeSelect),[s,o]=d.useState(!1),i=Oe(t,r.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;o(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(wE,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});xE.displayName=Um;var wE=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=io("SelectScrollButton",n),i=d.useRef(null),l=Oh(n),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),ut(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(me.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:re(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:re(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:re(s.onPointerLeave,()=>{c()})})}),iz="SelectSeparator",bE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(me.div,{"aria-hidden":!0,...r,ref:t})});bE.displayName=iz;var zm="SelectArrow",lz=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Ih(n),o=ao(zm,n),i=io(zm,n);return o.open&&i.position==="popper"?a.jsx(sv,{...s,...r,ref:t}):null});lz.displayName=zm;var cz="SelectBubbleInput",SE=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),o=Oe(r,s),i=XC(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(me.select,{...n,style:{...JS,...n.style},ref:o,defaultValue:t})});SE.displayName=cz;function NE(e){return e===""||e===void 0}function jE(e){const t=ct(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function _E(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=uz(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function uz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var dz=JC,CE=eE,hz=nE,fz=rE,pz=sE,EE=oE,mz=cE,kE=hE,TE=pE,gz=mE,vz=vE,AE=yE,PE=xE,RE=bE;const Yr=dz,Qr=hz,Ar=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(CE,{ref:r,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(fz,{asChild:!0,children:a.jsx(mi,{className:"h-4 w-4 opacity-50"})})]}));Ar.displayName=CE.displayName;const OE=d.forwardRef(({className:e,...t},n)=>a.jsx(AE,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Wp,{className:"h-4 w-4"})}));OE.displayName=AE.displayName;const IE=d.forwardRef(({className:e,...t},n)=>a.jsx(PE,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(mi,{className:"h-4 w-4"})}));IE.displayName=PE.displayName;const Pr=d.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(pz,{children:a.jsxs(EE,{ref:s,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(OE,{}),a.jsx(mz,{className:Y("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(IE,{})]})}));Pr.displayName=EE.displayName;const yz=d.forwardRef(({className:e,...t},n)=>a.jsx(kE,{ref:n,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));yz.displayName=kE.displayName;const Xe=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(TE,{ref:r,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(vz,{children:a.jsx(Jo,{className:"h-4 w-4"})})}),a.jsx(gz,{children:t})]}));Xe.displayName=TE.displayName;const xz=d.forwardRef(({className:e,...t},n)=>a.jsx(RE,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",e),...t}));xz.displayName=RE.displayName;const wz=e=>{try{const t=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,n=e.match(t);return n?n[1]:null}catch{return null}},bz=async(e,t,n=200)=>{var s;if(!t)throw new Error("YouTube API Key not configured. Please enter your key in Settings.");const r=wz(e);if(!r)throw new Error("Invalid YouTube URL.");try{let o=[],i;const l=Math.ceil(n/100);for(let c=0;c<l&&o.length<n;c++){const u=new URLSearchParams({part:"snippet",videoId:r,key:t,maxResults:"100",order:"relevance",textFormat:"plainText"});i&&u.append("pageToken",i);const h=await fetch(`https://www.googleapis.com/youtube/v3/commentThreads?${u.toString()}`),f=await h.json();if(!h.ok){const g=((s=f.error)==null?void 0:s.message)||"Unknown YouTube API error";throw g.includes("disabled")?new Error("Comments are disabled for this video."):g.includes("API key not valid")?new Error("Invalid API Key. Please check your Settings."):g.includes("commentsDisabled")?new Error("Comments are disabled for this video."):new Error(g)}if(f.items){const g=f.items.map(m=>{const b=m.snippet.topLevelComment.snippet;return{author:b.authorDisplayName,text:b.textDisplay,likeCount:b.likeCount,authorProfileImageUrl:b.authorProfileImageUrl,publishedAt:b.publishedAt}});o=o.concat(g)}if(i=f.nextPageToken,!i)break}return o.sort((c,u)=>u.likeCount-c.likeCount).slice(0,n)}catch(o){throw console.error("YouTube Fetch Error:",o),new Error(o.message||"Could not fetch comments.")}};function DE(){const[e,t]=d.useState(!1),{toast:n}=Rn(),{settings:r}=Ac();return{fetchComments:async(o,i=200)=>{if(!o)return n({title:"Error",description:"Please enter a video URL",variant:"destructive"}),[];const l=r==null?void 0:r.youtube_api_key;if(!l)return n({title:"Error",description:"YouTube API Key not configured. Please enter your key in Settings.",variant:"destructive"}),[];t(!0);try{const c=await bz(o,l,i);return n({title:"Success",description:`Fetched ${c.length} comments`}),c}catch(c){console.error("Error fetching YouTube comments:",c);const u=c instanceof Error?c.message:"Could not fetch comments";return n({title:"Error",description:u,variant:"destructive"}),[]}finally{t(!1)}},loading:e}}var Dh="Collapsible",[Sz,D8]=Vt(Dh),[Nz,Kv]=Sz(Dh),ME=d.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c,u]=Kn({prop:r,defaultProp:s??!1,onChange:i,caller:Dh});return a.jsx(Nz,{scope:n,disabled:o,contentId:rn(),open:c,onOpenToggle:d.useCallback(()=>u(h=>!h),[u]),children:a.jsx(me.div,{"data-state":Gv(c),"data-disabled":o?"":void 0,...l,ref:t})})});ME.displayName=Dh;var LE="CollapsibleTrigger",$E=d.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Kv(LE,n);return a.jsx(me.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Gv(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:re(e.onClick,s.onOpenToggle)})});$E.displayName=LE;var qv="CollapsibleContent",FE=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Kv(qv,e.__scopeCollapsible);return a.jsx(Yt,{present:n||s.open,children:({present:o})=>a.jsx(jz,{...r,ref:t,present:o})})});FE.displayName=qv;var jz=d.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,i=Kv(qv,n),[l,c]=d.useState(r),u=d.useRef(null),h=Oe(t,u),f=d.useRef(0),g=f.current,m=d.useRef(0),b=m.current,p=i.open||l,x=d.useRef(p),y=d.useRef(void 0);return d.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),ut(()=>{const v=u.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();f.current=w.height,m.current=w.width,x.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(r)}},[i.open,r]),a.jsx(me.div,{"data-state":Gv(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...o,ref:h,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:p&&s})});function Gv(e){return e?"open":"closed"}var _z=ME;const Fd=_z,Ud=$E,zd=FE;function Cz({dna:e,onSave:t,onCancel:n,saving:r}){const[s,o]=d.useState(e),[i,l]=d.useState({}),c=(p,x)=>{o(y=>({...y,[p]:x}))},u=(p,x,y)=>{o(v=>({...v,[p]:{...v[p],[x]:y}}))},h=(p,x="")=>{const y=s[p];c(p,[...y,x])},f=(p,x,y)=>{const v=[...s[p]];v[x]=y,c(p,v)},g=(p,x)=>{const y=s[p].filter((v,w)=>w!==x);c(p,y)},m=p=>{l(x=>({...x,[p]:!x[p]}))},b=s.structuralSkeleton.reduce((p,x)=>p+(x.wordCount||0),0);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b",children:a.jsxs("div",{className:"flex items-center justify-between p-4 max-w-[1600px] mx-auto",children:[a.jsxs(L,{variant:"ghost",onClick:n,className:"gap-2",children:[a.jsx(os,{className:"h-4 w-4"}),"Cancel"]}),a.jsx(ie,{value:s.name,onChange:p=>c("name",p.target.value),className:"max-w-md text-center text-lg font-semibold bg-transparent border-none focus-visible:ring-1",placeholder:"DNA Name"}),a.jsxs(L,{onClick:()=>t(s),disabled:r,className:"gap-2",children:[a.jsx(ch,{className:"h-4 w-4"}),"Save DNA"]})]})}),a.jsx("div",{className:"max-w-[1600px] mx-auto p-4 md:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Un,{className:"h-3 w-3 text-primary"})," My Notes / Constraints"]}),a.jsx(be,{placeholder:"Add your own mandatory elements or notes here (optional)...",className:"min-h-[80px] bg-muted/50 resize-none"})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(zo,{className:"h-3 w-3"})," Niche / Category"]}),a.jsx(ie,{value:s.niche,onChange:p=>c("niche",p.target.value),placeholder:"e.g., Health & Fitness, Crypto, Gaming...",className:"bg-muted/50"})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(Un,{className:"h-3 w-3"})," Target Word Count"]}),a.jsx(ie,{type:"number",value:s.targetWordCount||"",onChange:p=>c("targetWordCount",parseInt(p.target.value)||0),placeholder:"e.g., 3316",className:"bg-muted/50"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Calculated from viral scripts. Scripts generated will aim for this range."})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(NN,{className:"h-3 w-3"})," Linguistic Fingerprint (The Voice)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Persona / Role"}),a.jsx(ie,{value:s.linguisticFingerprint.personaRole,onChange:p=>u("linguisticFingerprint","personaRole",p.target.value),placeholder:"e.g., The Financial Realist Mentor",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Tone Analysis"}),a.jsx(be,{value:s.linguisticFingerprint.toneAnalysis,onChange:p=>u("linguisticFingerprint","toneAnalysis",p.target.value),placeholder:"Describe the tone...",className:"min-h-[80px] bg-muted/50 resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Signature Keywords"}),a.jsx(ie,{value:s.linguisticFingerprint.signatureKeywords.join(", "),onChange:p=>u("linguisticFingerprint","signatureKeywords",p.target.value.split(",").map(x=>x.trim())),placeholder:"e.g., Trap, Survival Mode, Freedom, System...",className:"bg-muted/50"})]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(zn,{className:"h-3 w-3 text-green-500"})," Hook Angle (Psychology)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Angle / Category"}),a.jsx(ie,{value:s.hookAngle.angleCategory,onChange:p=>u("hookAngle","angleCategory",p.target.value),placeholder:"e.g., Negative, Curiosity, Paradox...",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Deconstruction"}),a.jsx(be,{value:s.hookAngle.deconstruction,onChange:p=>u("hookAngle","deconstruction",p.target.value),placeholder:"How the hook works psychologically...",className:"min-h-[80px] bg-muted/50 resize-none"})]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(jN,{className:"h-3 w-3"})," Pacing (Linguistic Rhythm)"]}),a.jsx(be,{value:s.pacingAndTone.pacing,onChange:p=>u("pacingAndTone","pacing",p.target.value),placeholder:"Describe the pacing...",className:"min-h-[100px] bg-muted/50 resize-none"})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(z,{className:"text-xs uppercase text-blue-500 flex items-center gap-1.5",children:[a.jsx(Un,{className:"h-3 w-3"})," Structural Skeleton (Advanced)"]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Est. Total: ",a.jsxs("span",{className:"text-foreground font-medium",children:[b," words"]})]})]}),a.jsx("div",{className:"space-y-2",children:s.structuralSkeleton.map((p,x)=>a.jsxs(Fd,{open:!!i[x],onOpenChange:()=>m(x),children:[a.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-2",children:[a.jsx(Ud,{asChild:!0,children:a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",children:i[x]?a.jsx(mi,{className:"h-4 w-4"}):a.jsx(Kr,{className:"h-4 w-4"})})}),a.jsx(ie,{value:p.title,onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,title:y.target.value},c("structuralSkeleton",v)},className:"flex-1 h-8 bg-transparent border-none",placeholder:"Section title..."}),a.jsx(ie,{type:"number",value:p.wordCount||0,onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,wordCount:parseInt(y.target.value)||0},c("structuralSkeleton",v)},className:"w-24 h-8 text-xs text-center bg-muted",placeholder:"Words"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{const y=s.structuralSkeleton.filter((v,w)=>w!==x);c("structuralSkeleton",y)},children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]}),a.jsxs(zd,{className:"pt-4 pl-4 space-y-4 border-l-2 border-muted ml-3 mb-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Section Tone"}),a.jsx(ie,{value:p.tone||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,tone:y.target.value},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"e.g. Urgent, Inquisitive, Calm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Linguistic Pacing (Rhythm/Speed)"}),a.jsx(be,{value:p.pacing||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,pacing:y.target.value},c("structuralSkeleton",v)},className:"min-h-[60px] bg-muted/30 text-xs resize-none",placeholder:"Detailed pacing instructions (e.g. Fast cuts every 2s...)"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Content Focus"}),a.jsx(be,{value:p.contentFocus||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,contentFocus:y.target.value},c("structuralSkeleton",v)},className:"min-h-[80px] bg-muted/30 text-xs resize-none",placeholder:"What happens here? Main objective..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Micro Hook (First 5s)"}),a.jsx(ie,{value:p.microHook||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,microHook:y.target.value},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"Mini-hook strategy..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Open Loop (Optional)"}),a.jsx(ie,{value:p.openLoop||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,openLoop:y.target.value},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"Curiosity gap..."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Viral Trigger (Optional)"}),a.jsx(ie,{value:p.viralTriggers||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,viralTriggers:y.target.value},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"Specific element..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Must Include Elements (Comma Separated)"}),a.jsx(ie,{value:(p.mustInclude||[]).join(", "),onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,mustInclude:y.target.value.split(",").map(w=>w.trim())},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"e.g. Sound effect, Visual metaphor"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Audience Interaction / CTA (Optional)"}),a.jsx(ie,{value:p.audienceInteraction||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,audienceInteraction:y.target.value},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"Specific CTA or engagement prompt..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-orange-500",children:"Audience Value (Takeaway) *"}),a.jsx(be,{value:p.audienceValue||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,audienceValue:y.target.value},c("structuralSkeleton",v)},className:"min-h-[60px] bg-muted/30 text-xs resize-none border-orange-500/30 focus:border-orange-500/50",placeholder:"What value does the viewer get? (Mandatory)"})]})]})]})]},x))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{c("structuralSkeleton",[...s.structuralSkeleton,{title:"",wordCount:100}])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Detailed Section"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-yellow-500 flex items-center gap-1.5",children:[a.jsx(zn,{className:"h-3 w-3"})," High Dopamine (Keep)"]}),a.jsx("div",{className:"space-y-2",children:s.highDopamine.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:p,onChange:y=>f("highDopamine",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("highDopamine",x),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>h("highDopamine"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add High"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-orange-500 flex items-center gap-1.5",children:[a.jsx(EN,{className:"h-3 w-3"})," Confusion Points (Fix)"]}),a.jsx("div",{className:"space-y-2",children:s.confusionPoints.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:p,onChange:y=>f("confusionPoints",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("confusionPoints",x),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>h("confusionPoints"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Confusion"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(gi,{className:"h-3 w-3"})," Objections (Address)"]}),a.jsx("div",{className:"space-y-2",children:s.objections.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:p,onChange:y=>f("objections",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("objections",x),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>h("objections"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Objections"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(_N,{className:"h-3 w-3"})," Core Patterns (70% Safe)"]}),a.jsx("div",{className:"space-y-2",children:s.corePatterns.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:p,onChange:y=>f("corePatterns",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("corePatterns",x),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>h("corePatterns"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Core"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-purple-500 flex items-center gap-1.5",children:[a.jsx(jt,{className:"h-3 w-3"})," Viral X-Factors (30% Magic)"]}),a.jsx("div",{className:"space-y-2",children:s.viralXFactors.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:p,onChange:y=>f("viralXFactors",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("viralXFactors",x),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>h("viralXFactors"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Viral"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-400 flex items-center gap-1.5",children:[a.jsx(bN,{className:"h-3 w-3"})," Flop Avoidance"]}),a.jsx("div",{className:"space-y-2",children:s.flopAvoidance.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:p,onChange:y=>f("flopAvoidance",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("flopAvoidance",x),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>h("flopAvoidance"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Flop"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(zn,{className:"h-3 w-3"})," Hook Examples"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"AI learns from these patterns. DO NOT copy exact wording."}),a.jsx("div",{className:"space-y-2",children:(s.hook_examples||[]).map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:p,onChange:y=>f("hook_examples",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("hook_examples",x),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>h("hook_examples"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Example"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-purple-500 flex items-center gap-1.5",children:[a.jsx(Vg,{className:"h-3 w-3"})," Audience Psychology"]}),a.jsx(be,{value:s.audiencePsychology,onChange:p=>c("audiencePsychology",p.target.value),placeholder:"Describe the audience's emotional state, fears, desires...",className:"min-h-[120px] bg-muted/50 resize-none"})]})})]})]})]})})]})}const Ez={dna_evolution:{name:"DNA Evolution",description:"Learn from new videos to improve your DNA profile"},ai_suggest_angle:{name:"AI Suggest Angle",description:"AI automatically suggests unique angles for your content"},batch_dna:{name:"Batch DNA",description:"Analyze multiple videos at once to create a combined DNA"},structure_innovation:{name:"Structure Innovation",description:"Allow AI to creatively transform script structure"},flop_analysis:{name:"Flop Analysis",description:"Analyze failed videos to avoid similar mistakes"}},kz={starter:{name:"Starter",color:"bg-gray-500"},pro:{name:"Pro",color:"bg-gradient-to-r from-blue-500 to-purple-500"},ultra:{name:"Ultra",color:"bg-gradient-to-r from-amber-500 to-orange-500"}};function Tz({feature:e,requiredTier:t,isModal:n,onClose:r}){const s=ea(),o=Ez[e],i=kz[t],l=()=>{s("/pricing"),r==null||r()},c=a.jsxs("div",{className:"relative bg-gradient-to-br from-primary/5 via-transparent to-primary/10 border border-primary/20 rounded-xl p-4 space-y-3",children:[n&&r&&a.jsx("button",{onClick:r,className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground",children:a.jsx(os,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(pd,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm",children:o.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:o.description})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs(xt,{className:`${i.color} text-white border-0`,children:[a.jsx(jt,{className:"h-3 w-3 mr-1"}),"Requires ",i.name]}),a.jsxs(L,{size:"sm",onClick:l,className:"gap-1",children:[a.jsx(pd,{className:"h-3 w-3"}),"Upgrade"]})]})]});return n?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsx("div",{className:"w-full max-w-md mx-4",children:c})}):c}function Ga({feature:e,children:t,showUpgradePrompt:n=!0,fallback:r,hideCompletely:s=!1}){const{canAccessFeature:o,getRequiredTier:i,loading:l}=o_();if(l)return null;if(o(e))return a.jsx(a.Fragment,{children:t});if(s)return null;if(r)return a.jsx(a.Fragment,{children:r});if(n){const c=i(e);return a.jsx(Tz,{feature:e,requiredTier:c})}return null}function Az({dna:e,onBack:t,onUpdate:n,onExport:r,onEvolve:s}){var O,A,W,ee,se,ae,ge,K,ye,q,Re,Te,Se,Ee,De,Ve,nt,dt,Tt,Mt,an,$,Ae,Z;const[o,i]=d.useState(e),[l,c]=d.useState({}),[u,h]=d.useState(!1),[f,g]=d.useState(!1),[m,b]=d.useState(!1),[p,x]=d.useState(!1),[y,v]=d.useState([]),[w,S]=d.useState(""),[N,j]=d.useState(""),[_,C]=d.useState(""),[T,P]=d.useState(""),R=(D,U)=>{i(Q=>({...Q,[D]:U})),g(!0)},M=D=>{c(U=>({...U,[D]:!U[D]}))},F=async()=>{h(!0);try{await n({name:o.name,niche:o.niche,tone:o.tone,pacing:o.pacing,vocabulary:o.vocabulary,hook_type:o.hook_type,hook_examples:o.hook_examples,structure:o.structure,patterns:o.patterns,retention_tactics:o.retention_tactics,x_factors:o.x_factors,analysis_data:o.analysis_data}),g(!1)}finally{h(!1)}},I=(D,U)=>{i(Q=>({...Q,analysis_data:{...Q.analysis_data||{},[D]:U}})),g(!0)},te=D=>{const U=o[D]||[];R(D,[...U,""])},V=(D,U,Q)=>{const X=[...o[D]||[]];X[U]=Q,R(D,X)},oe=(D,U)=>{const Q=(o[D]||[]).filter((X,le)=>le!==U);R(D,Q)};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b",children:a.jsxs("div",{className:"flex items-center justify-between p-4 max-w-[1600px] mx-auto",children:[a.jsxs(L,{variant:"ghost",onClick:t,className:"gap-2",children:[a.jsx(g2,{className:"h-4 w-4"}),"Back"]}),a.jsx(ie,{value:o.name,onChange:D=>R("name",D.target.value),className:"max-w-md text-center text-lg font-semibold bg-transparent border-none focus-visible:ring-1",placeholder:"DNA Name"}),a.jsxs("div",{className:"flex gap-2",children:[s&&a.jsx(Ga,{feature:"dna_evolution",hideCompletely:!0,children:a.jsxs(L,{variant:"outline",onClick:()=>b(!m),className:"gap-2 border-green-500/50 text-green-500 hover:bg-green-500/10",children:[a.jsx(Vr,{className:"h-4 w-4"}),"Evolve DNA"]})}),a.jsxs(L,{variant:"outline",onClick:()=>r(o),className:"gap-2",children:[a.jsx(Wg,{className:"h-4 w-4"}),"Export"]}),f&&a.jsxs(L,{onClick:F,disabled:u,className:"gap-2",children:[a.jsx(ch,{className:"h-4 w-4"}),"Save"]})]})]})}),m&&s&&a.jsx("div",{className:"max-w-[1600px] mx-auto p-4 border-b bg-green-500/5",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(z,{className:"text-sm font-semibold flex items-center gap-2 text-green-500",children:[a.jsx(Vr,{className:"h-4 w-4"}),"DNA Evolution - Learn from New Content"]}),a.jsx(L,{variant:"ghost",size:"sm",onClick:()=>{b(!1),v([])},children:" Close"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsx(z,{className:"text-xs uppercase text-green-500",children:" Viral Video (to learn from)"}),a.jsx(ie,{value:N,onChange:D=>j(D.target.value),placeholder:"Video URL (optional)",className:"bg-muted/50"}),a.jsx(be,{value:w,onChange:D=>S(D.target.value),placeholder:"Paste viral video transcript here...",className:"min-h-[120px] bg-muted/50 resize-none"})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsx(z,{className:"text-xs uppercase text-red-400",children:" Flop Video (to learn mistakes)"}),a.jsx(ie,{value:T,onChange:D=>P(D.target.value),placeholder:"Video URL (optional)",className:"bg-muted/50"}),a.jsx(be,{value:_,onChange:D=>C(D.target.value),placeholder:"Paste flop video transcript here...",className:"min-h-[120px] bg-muted/50 resize-none"})]})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(L,{onClick:async()=>{if(!w&&!_)return;x(!0),v([]);const D=await s({viralVideos:w?[{transcript:w,url:N}]:void 0,flopVideos:_?[{transcript:_,url:T}]:void 0});x(!1),D.success&&D.changesSummary&&(v(D.changesSummary),S(""),j(""),C(""),P(""),i({...e}))},disabled:p||!w&&!_,className:"gap-2 bg-green-600 hover:bg-green-700",children:p?a.jsxs(a.Fragment,{children:[a.jsx(St,{className:"h-4 w-4 animate-spin"}),"Evolving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jt,{className:"h-4 w-4"}),"Evolve Now"]})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"AI will learn from new content and refine your DNA patterns."})]}),y.length>0&&a.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[a.jsxs(z,{className:"text-sm font-semibold text-green-500 mb-2 block",children:[" Evolution Complete - ",y.length," Changes Made:"]}),a.jsx("ul",{className:"space-y-1",children:y.map((D,U)=>a.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[a.jsx("span",{className:"text-green-500",children:""}),D]},U))})]})]})}),a.jsx("div",{className:"max-w-[1600px] mx-auto p-4 md:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Un,{className:"h-3 w-3 text-primary"})," My Notes / Constraints"]}),a.jsx(be,{placeholder:"Add your own mandatory elements or notes here (optional)...",className:"min-h-[80px] bg-muted/50 resize-none"})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(zo,{className:"h-3 w-3"})," Niche / Category"]}),a.jsx(ie,{value:o.niche||"",onChange:D=>R("niche",D.target.value),placeholder:"e.g., Health & Fitness, Crypto, Gaming...",className:"bg-muted/50"})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(Un,{className:"h-3 w-3"})," Target Word Count"]}),a.jsx(ie,{type:"number",value:((O=o.analysis_data)==null?void 0:O.targetWordCount)||"",onChange:D=>I("targetWordCount",parseInt(D.target.value)||0),placeholder:"e.g., 3316",className:"bg-muted/50"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Calculated from viral scripts. Scripts generated will aim for this range."})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(NN,{className:"h-3 w-3"})," Linguistic Fingerprint (The Voice)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Persona / Role"}),a.jsx(ie,{value:((W=(A=o.analysis_data)==null?void 0:A.linguisticFingerprint)==null?void 0:W.personaRole)||"",onChange:D=>{var Q;const U=((Q=o.analysis_data)==null?void 0:Q.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]};I("linguisticFingerprint",{...U,personaRole:D.target.value})},placeholder:"e.g., The Financial Realist Mentor",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Tone Analysis"}),a.jsx(be,{value:((se=(ee=o.analysis_data)==null?void 0:ee.linguisticFingerprint)==null?void 0:se.toneAnalysis)||"",onChange:D=>{var Q;const U=((Q=o.analysis_data)==null?void 0:Q.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]};I("linguisticFingerprint",{...U,toneAnalysis:D.target.value})},placeholder:"Describe the tone...",className:"min-h-[80px] bg-muted/50 resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Signature Keywords"}),a.jsx(ie,{value:((K=(ge=(ae=o.analysis_data)==null?void 0:ae.linguisticFingerprint)==null?void 0:ge.signatureKeywords)==null?void 0:K.join(", "))||"",onChange:D=>{var Q;const U=((Q=o.analysis_data)==null?void 0:Q.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]};I("linguisticFingerprint",{...U,signatureKeywords:D.target.value.split(",").map(X=>X.trim())})},placeholder:"e.g., Trap, Survival Mode, Freedom, System...",className:"bg-muted/50"})]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(zn,{className:"h-3 w-3 text-green-500"})," Hook Angle (Psychology)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Angle / Category"}),a.jsx(ie,{value:((q=(ye=o.analysis_data)==null?void 0:ye.hookAngle)==null?void 0:q.angleCategory)||o.hook_type||"",onChange:D=>{var Q;const U=((Q=o.analysis_data)==null?void 0:Q.hookAngle)||{angleCategory:"",deconstruction:""};I("hookAngle",{...U,angleCategory:D.target.value})},placeholder:"e.g., Negative, Curiosity, Paradox...",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Deconstruction"}),a.jsx(be,{value:((Te=(Re=o.analysis_data)==null?void 0:Re.hookAngle)==null?void 0:Te.deconstruction)||"",onChange:D=>{var Q;const U=((Q=o.analysis_data)==null?void 0:Q.hookAngle)||{angleCategory:"",deconstruction:""};I("hookAngle",{...U,deconstruction:D.target.value})},placeholder:"How the hook works psychologically...",className:"min-h-[80px] bg-muted/50 resize-none"})]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(jN,{className:"h-3 w-3"})," Pacing"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Pacing"}),a.jsx(be,{value:((Ee=(Se=o.analysis_data)==null?void 0:Se.pacingAndTone)==null?void 0:Ee.pacing)||o.pacing||"",onChange:D=>{var Q;const U=((Q=o.analysis_data)==null?void 0:Q.pacingAndTone)||{pacing:""};I("pacingAndTone",{...U,pacing:D.target.value})},placeholder:"Describe the pacing...",className:"min-h-[80px] bg-muted/50 resize-none"})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-pink-500 flex items-center gap-1.5",children:[a.jsx(jt,{className:"h-3 w-3"})," Emotional Arc"]}),a.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[(((De=o.analysis_data)==null?void 0:De.emotionalArc)||[]).map((D,U)=>{var Q,X;return a.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[a.jsxs("div",{className:"bg-pink-500/10 border border-pink-500/20 rounded-lg p-3 min-w-[120px] text-center space-y-1",children:[a.jsx("div",{className:"text-[10px] uppercase text-muted-foreground",children:D.section}),a.jsx("div",{className:"text-sm font-medium text-pink-500",children:D.emotion})]}),U<(((X=(Q=o.analysis_data)==null?void 0:Q.emotionalArc)==null?void 0:X.length)||0)-1&&a.jsx("div",{className:"w-8 h-[2px] bg-muted mx-2"})]},U)}),a.jsx(L,{variant:"ghost",size:"sm",className:"h-full ml-2 border border-dashed",onClick:()=>{var U;const D=[...((U=o.analysis_data)==null?void 0:U.emotionalArc)||[]];D.push({section:"New Phase",emotion:"Emotion"}),I("emotionalArc",D)},children:a.jsx(He,{className:"h-4 w-4"})})]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(z,{className:"text-xs uppercase text-blue-500 flex items-center gap-1.5",children:[a.jsx(Un,{className:"h-3 w-3"})," Structural Skeleton (Advanced)"]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Est. Total: ",a.jsxs("span",{className:"text-foreground font-medium",children:[(((Ve=o.analysis_data)==null?void 0:Ve.structuralSkeleton)||[]).reduce((D,U)=>D+(U.wordCount||0),0)," words"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[(((nt=o.analysis_data)==null?void 0:nt.structuralSkeleton)||[]).map((D,U)=>a.jsxs(Fd,{open:!!l[U],onOpenChange:()=>M(U),children:[a.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-2",children:[a.jsx(Ud,{asChild:!0,children:a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",children:l[U]?a.jsx(mi,{className:"h-4 w-4"}):a.jsx(Kr,{className:"h-4 w-4"})})}),a.jsx(ie,{value:D.title,onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];X[U]={...D,title:Q.target.value},I("structuralSkeleton",X)},className:"flex-1 h-8 bg-transparent border-none",placeholder:"Section title..."}),a.jsx(ie,{type:"number",value:D.wordCount||0,onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];X[U]={...D,wordCount:parseInt(Q.target.value)||0},I("structuralSkeleton",X)},className:"w-24 h-8 text-xs text-center bg-muted",placeholder:"Words"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var X;const Q=(((X=o.analysis_data)==null?void 0:X.structuralSkeleton)||[]).filter((le,qe)=>qe!==U);I("structuralSkeleton",Q)},children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]}),a.jsxs(zd,{className:"pt-4 pl-4 space-y-4 border-l-2 border-muted ml-3 mb-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Section Tone"}),a.jsx(ie,{value:D.tone||"",onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];X[U]={...D,tone:Q.target.value},I("structuralSkeleton",X)},className:"h-8 bg-muted/30 text-xs",placeholder:"e.g. Urgent, Inquisitive, Calm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Linguistic Pacing (Rhythm/Speed)"}),a.jsx(be,{value:D.pacing||"",onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];X[U]={...D,pacing:Q.target.value},I("structuralSkeleton",X)},className:"min-h-[60px] bg-muted/30 text-xs resize-none",placeholder:"Detailed pacing instructions (e.g. Fast cuts every 2s...)"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Content Focus"}),a.jsx(be,{value:D.contentFocus||"",onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];X[U]={...D,contentFocus:Q.target.value},I("structuralSkeleton",X)},className:"min-h-[80px] bg-muted/30 text-xs resize-none",placeholder:"What happens here? Main objective..."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Open Loop (Optional)"}),a.jsx(ie,{value:D.openLoop||"",onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];X[U]={...D,openLoop:Q.target.value},I("structuralSkeleton",X)},className:"h-8 bg-muted/30 text-xs",placeholder:"Curiosity gap..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Closes Loop (Optional)"}),a.jsx(ie,{value:D.closesLoop||"",onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];X[U]={...D,closesLoop:Q.target.value},I("structuralSkeleton",X)},className:"h-8 bg-muted/30 text-xs",placeholder:"Reference closed loop..."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Audience Interaction / CTA (Mandatory)"}),a.jsx(ie,{value:D.audienceInteraction||"",onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];X[U]={...D,audienceInteraction:Q.target.value},I("structuralSkeleton",X)},className:"h-8 bg-muted/30 text-xs border-green-500/30",placeholder:"Explicit CTA or implicit trigger..."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-orange-500",children:"Audience Value (Takeaway) *"}),a.jsx(be,{value:D.audienceValue||"",onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];X[U]={...D,audienceValue:Q.target.value},I("structuralSkeleton",X)},className:"min-h-[60px] bg-muted/30 text-xs resize-none border-orange-500/30 focus:border-orange-500/50",placeholder:"What value does the viewer get? (Mandatory)"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-red-400",children:"Anti-Pattern (Mistake to Avoid)"}),a.jsx(ie,{value:D.antiPattern||"",onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];X[U]={...D,antiPattern:Q.target.value},I("structuralSkeleton",X)},className:"h-8 bg-red-500/10 border-red-500/30 text-xs",placeholder:"Specific mistake to avoid here..."})]})]})]},U)),(!((dt=o.analysis_data)!=null&&dt.structuralSkeleton)||o.analysis_data.structuralSkeleton.length===0)&&(o.structure||[]).length>0&&a.jsxs("div",{className:"space-y-2 mt-4",children:[a.jsx(z,{className:"text-xs text-muted-foreground block mb-2",children:"Legacy Structure View"}),(Tt=o.structure)==null?void 0:Tt.map((D,U)=>a.jsxs("div",{className:"flex gap-2 items-center bg-muted/30 p-2 rounded",children:[a.jsx(xt,{variant:"secondary",className:"shrink-0",children:U+1}),a.jsx("span",{className:"text-sm flex-1",children:D})]},U)),a.jsx(L,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{const D=(o.structure||[]).map(U=>({title:U,wordCount:100,percentage:10,wordRange:"0-0"}));I("structuralSkeleton",D)},children:"Convert to Advanced Structure"})]})]}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{var U;const D=((U=o.analysis_data)==null?void 0:U.structuralSkeleton)||[];I("structuralSkeleton",[...D,{title:"",wordCount:100}])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Detailed Section"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-purple-500 flex items-center gap-1.5",children:[a.jsx(jt,{className:"h-3 w-3"})," Core Patterns"]}),a.jsx("div",{className:"space-y-2",children:(o.patterns||[]).map((D,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:D,onChange:Q=>V("patterns",U,Q.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter pattern..."}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>oe("patterns",U),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>te("patterns"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Pattern"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-yellow-500 flex items-center gap-1.5",children:[a.jsx(zn,{className:"h-3 w-3"})," Retention Tactics"]}),a.jsx("div",{className:"space-y-2",children:(o.retention_tactics||[]).map((D,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:D,onChange:Q=>V("retention_tactics",U,Q.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter tactic..."}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>oe("retention_tactics",U),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>te("retention_tactics"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Tactic"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-pink-500 flex items-center gap-1.5",children:[a.jsx(_N,{className:"h-3 w-3"})," Viral X-Factors"]}),a.jsx("div",{className:"space-y-2",children:(o.x_factors||[]).map((D,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:D,onChange:Q=>V("x_factors",U,Q.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter x-factor..."}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>oe("x_factors",U),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>te("x_factors"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add X-Factor"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-yellow-500 flex items-center gap-1.5",children:[a.jsx(zn,{className:"h-3 w-3"})," High Dopamine (Keep)"]}),a.jsx("div",{className:"space-y-2",children:(((Mt=o.analysis_data)==null?void 0:Mt.highDopamine)||[]).map((D,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:D,onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.highDopamine)||[]];X[U]=Q.target.value,I("highDopamine",X)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"High dopamine element..."}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var X;const Q=(((X=o.analysis_data)==null?void 0:X.highDopamine)||[]).filter((le,qe)=>qe!==U);I("highDopamine",Q)},children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{var D;return I("highDopamine",[...((D=o.analysis_data)==null?void 0:D.highDopamine)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add High"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-orange-500 flex items-center gap-1.5",children:[a.jsx(EN,{className:"h-3 w-3"})," Confusion Points (Fix)"]}),a.jsx("div",{className:"space-y-2",children:(((an=o.analysis_data)==null?void 0:an.confusionPoints)||[]).map((D,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:D,onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.confusionPoints)||[]];X[U]=Q.target.value,I("confusionPoints",X)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Confusion point..."}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var X;const Q=(((X=o.analysis_data)==null?void 0:X.confusionPoints)||[]).filter((le,qe)=>qe!==U);I("confusionPoints",Q)},children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{var D;return I("confusionPoints",[...((D=o.analysis_data)==null?void 0:D.confusionPoints)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Confusion"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(gi,{className:"h-3 w-3"})," Objections (Address)"]}),a.jsx("div",{className:"space-y-2",children:((($=o.analysis_data)==null?void 0:$.objections)||[]).map((D,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:D,onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.objections)||[]];X[U]=Q.target.value,I("objections",X)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Objection to address..."}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var X;const Q=(((X=o.analysis_data)==null?void 0:X.objections)||[]).filter((le,qe)=>qe!==U);I("objections",Q)},children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{var D;return I("objections",[...((D=o.analysis_data)==null?void 0:D.objections)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Objection"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(bN,{className:"h-3 w-3"})," Flop Avoidance"]}),a.jsx("div",{className:"space-y-2",children:(((Ae=o.analysis_data)==null?void 0:Ae.flopAvoidance)||[]).map((D,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:D,onChange:Q=>{var le;const X=[...((le=o.analysis_data)==null?void 0:le.flopAvoidance)||[]];X[U]=Q.target.value,I("flopAvoidance",X)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"What to avoid..."}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var X;const Q=(((X=o.analysis_data)==null?void 0:X.flopAvoidance)||[]).filter((le,qe)=>qe!==U);I("flopAvoidance",Q)},children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{var D;return I("flopAvoidance",[...((D=o.analysis_data)==null?void 0:D.flopAvoidance)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Flop"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(zn,{className:"h-3 w-3"})," Hook Examples"]}),a.jsx("div",{className:"space-y-2",children:(o.hook_examples||[]).map((D,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(be,{value:D,onChange:Q=>V("hook_examples",U,Q.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter hook example..."}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>oe("hook_examples",U),children:a.jsx(Ye,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>te("hook_examples"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Example"]})]})}),a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-blue-500 flex items-center gap-1.5",children:[a.jsx(Vg,{className:"h-3 w-3"})," Audience Psychology"]}),a.jsx(be,{value:((Z=o.analysis_data)==null?void 0:Z.audiencePsychology)||"",onChange:D=>I("audiencePsychology",D.target.value),className:"min-h-[100px] bg-muted/50 resize-none text-sm",placeholder:"Describe audience psychology..."})]})})]}),o.source_url&&a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-2",children:[a.jsx(z,{className:"text-xs uppercase text-muted-foreground",children:"Source URL"}),a.jsx("p",{className:"text-sm text-muted-foreground break-all",children:o.source_url})]})}),o.source_transcript&&a.jsx(ve,{children:a.jsxs(xe,{className:"p-4 space-y-2",children:[a.jsx(z,{className:"text-xs uppercase text-muted-foreground",children:"Source Transcript"}),a.jsx(be,{value:o.source_transcript,readOnly:!0,className:"min-h-[200px] bg-muted/50 resize-none text-sm"})]})})]})]})})]})}const m0=[{value:"google/gemini-3-flash-preview",label:"Gemini 3 Flash",description:"Next-Gen Fast"},{value:"google/gemini-3-pro-preview",label:"Gemini 3 Pro",description:"Next-Gen Quality"},{value:"anthropic/claude-sonnet-4.5",label:"Claude 4.5 Sonnet",description:"Adv. Reasoning"},{value:"openai/gpt-5.2",label:"GPT-5.2",description:"State of the Art"},{value:"openai/gpt-oss-120b:free",label:"GPT-OSS 120B",description:"Open Source"}];function Bu({value:e,onChange:t,label:n,compact:r=!1}){return r?a.jsxs("div",{className:"flex items-center gap-2",children:[n&&a.jsxs(z,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(jt,{className:"h-3 w-3"}),n,":"]}),a.jsxs(Yr,{value:e,onValueChange:t,children:[a.jsx(Ar,{className:"h-8 rounded-lg text-xs w-[160px]",children:a.jsx(Qr,{})}),a.jsx(Pr,{children:m0.map(s=>a.jsxs(Xe,{value:s.value,className:"text-xs",children:[s.label," (",s.description,")"]},s.value))})]})]}):a.jsxs("div",{className:"space-y-2",children:[n&&a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-4 w-4 text-primary"}),n]}),a.jsxs(Yr,{value:e,onValueChange:t,children:[a.jsx(Ar,{className:"rounded-xl",children:a.jsx(Qr,{})}),a.jsx(Pr,{children:m0.map(s=>a.jsxs(Xe,{value:s.value,children:[s.label," (",s.description,")"]},s.value))})]})]})}var Mh="Checkbox",[Pz,M8]=Vt(Mh),[Rz,Yv]=Pz(Mh);function Oz(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=e,[g,m]=Kn({prop:n,defaultProp:s??!1,onChange:c,caller:Mh}),[b,p]=d.useState(null),[x,y]=d.useState(null),v=d.useRef(!1),w=b?!!i||!!b.closest("form"):!0,S={checked:g,disabled:o,setChecked:m,control:b,setControl:p,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:Ys(s)?!1:s,isFormControl:w,bubbleInput:x,setBubbleInput:y};return a.jsx(Rz,{scope:t,...S,children:Iz(f)?f(S):r})}var UE="CheckboxTrigger",zE=d.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:m,bubbleInput:b}=Yv(UE,e),p=Oe(s,h),x=d.useRef(c);return d.useEffect(()=>{const y=o==null?void 0:o.form;if(y){const v=()=>f(x.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[o,f]),a.jsx(me.button,{type:"button",role:"checkbox","aria-checked":Ys(c)?"mixed":c,"aria-required":u,"data-state":KE(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:p,onKeyDown:re(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:re(n,y=>{f(v=>Ys(v)?!0:!v),b&&m&&(g.current=y.isPropagationStopped(),g.current||y.stopPropagation())})})});zE.displayName=UE;var Qv=d.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:h,...f}=e;return a.jsx(Oz,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(zE,{...f,ref:t,__scopeCheckbox:n}),g&&a.jsx(HE,{__scopeCheckbox:n})]})})});Qv.displayName=Mh;var BE="CheckboxIndicator",VE=d.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=Yv(BE,n);return a.jsx(Yt,{present:r||Ys(o.checked)||o.checked===!0,children:a.jsx(me.span,{"data-state":KE(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});VE.displayName=BE;var WE="CheckboxBubbleInput",HE=d.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:g,setBubbleInput:m}=Yv(WE,e),b=Oe(n,m),p=XC(o),x=QN(r);d.useEffect(()=>{const v=g;if(!v)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,j=!s.current;if(p!==o&&N){const _=new Event("click",{bubbles:j});v.indeterminate=Ys(o),N.call(v,Ys(o)?!1:o),v.dispatchEvent(_)}},[g,p,o,s]);const y=d.useRef(Ys(o)?!1:o);return a.jsx(me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:l,disabled:c,name:u,value:h,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});HE.displayName=WE;function Iz(e){return typeof e=="function"}function Ys(e){return e==="indeterminate"}function KE(e){return Ys(e)?"indeterminate":e?"checked":"unchecked"}const Xv=d.forwardRef(({className:e,...t},n)=>a.jsx(Qv,{ref:n,className:Y("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(VE,{className:Y("flex items-center justify-center text-current"),children:a.jsx(Jo,{className:"h-4 w-4"})})}));Xv.displayName=Qv.displayName;function Dz({dna:e,onView:t,onExport:n,onDelete:r}){return a.jsxs(ve,{variant:"elevated",className:"group cursor-pointer",onClick:()=>t(e),children:[a.jsxs(fn,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"rounded-xl bg-primary/10 p-2.5",children:a.jsx(ro,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s=>{s.stopPropagation(),n(e)},children:a.jsx(Wg,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s=>{s.stopPropagation(),r(e.id)},children:a.jsx(Ye,{className:"h-4 w-4 text-destructive"})}),a.jsx(Kr,{className:"h-5 w-5 text-muted-foreground opacity-0 transition-all group-hover:opacity-100 group-hover:translate-x-1"})]})]}),a.jsx(Sn,{className:"mt-3",children:e.name}),a.jsxs(Gs,{children:[e.niche||"No niche","  ",e.source_url?"1 source":"Manual"]})]}),a.jsx(xe,{className:"pt-0"})]})}function Mz({dnas:e,loading:t,searchQuery:n,onSearchChange:r,onView:s,onExport:o,onDelete:i}){const l=e.filter(c=>{var u;return c.name.toLowerCase().includes(n.toLowerCase())||((u=c.niche)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(uh,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search DNA patterns...",value:n,onChange:c=>r(c.target.value),className:"pl-10 rounded-xl bg-card/50"})]}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(ro,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No DNA patterns found. Extract your first one!"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4",children:l.map(c=>a.jsx(Dz,{dna:c,onView:s,onExport:o,onDelete:i},c.id))})]})}const xa=()=>({id:crypto.randomUUID(),title:"",url:"",transcript:"",comments:"",notes:"",activeTab:"transcript"});function Lz(){const[e,t]=d.useState(""),[n,r]=d.useState("library"),[s,o]=d.useState(null),i=d.useRef(null),[l,c]=d.useState([xa()]),[u,h]=d.useState([xa()]),[f,g]=d.useState(""),[m,b]=d.useState("en"),[p,x]=d.useState(!1),[y,v]=d.useState(!1),[w,S]=d.useState(null),[N,j]=d.useState(!1),[_,C]=d.useState("google/gemini-3-flash-preview"),[T,P]=d.useState(!1),[R,M]=d.useState(null),[F,I]=d.useState(!1),[te,V]=d.useState([]),[oe,O]=d.useState(!1),[A,W]=d.useState({name:"",niche:"",tone:"",patterns:"",hookType:"",structure:"",pacing:""}),{dnas:ee,loading:se,extractDna:ae,createDna:ge,createDnaFromExtracted:K,updateDna:ye,deleteDna:q,scanDnaContent:Re,evolveDna:Te}=Dv(),{toast:Se}=Rn(),{fetchComments:Ee,loading:De}=DE(),[Ve,nt]=d.useState(null);Ac(),ee.filter(H=>{var ue;return H.name.toLowerCase().includes(e.toLowerCase())||((ue=H.niche)==null?void 0:ue.toLowerCase().includes(e.toLowerCase()))});const dt=H=>{const ue={name:H.name,niche:H.niche,hook_type:H.hook_type,hook_examples:H.hook_examples,structure:H.structure,pacing:H.pacing,retention_tactics:H.retention_tactics,x_factors:H.x_factors,tone:H.tone,vocabulary:H.vocabulary,patterns:H.patterns,source_url:H.source_url},ke=new Blob([JSON.stringify(ue,null,2)],{type:"application/json"}),fe=URL.createObjectURL(ke),Me=document.createElement("a");Me.href=fe,Me.download=`${H.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_dna.json`,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),URL.revokeObjectURL(fe),Se({title:"Exported",description:"DNA exported successfully"})},Tt=()=>{var H;(H=i.current)==null||H.click()},Mt=async H=>{var ke;const ue=(ke=H.target.files)==null?void 0:ke[0];if(ue){try{const fe=await ue.text(),Me=JSON.parse(fe);if(!Me.name)throw new Error("Invalid DNA file: missing name");await ge({name:Me.name,niche:Me.niche||null,hook_type:Me.hook_type||null,hook_examples:Me.hook_examples||null,structure:Me.structure||null,pacing:Me.pacing||null,retention_tactics:Me.retention_tactics||null,x_factors:Me.x_factors||null,tone:Me.tone||null,vocabulary:Me.vocabulary||null,patterns:Me.patterns||null,source_url:Me.source_url||null}),Se({title:"Imported",description:`DNA "${Me.name}" imported successfully`})}catch(fe){console.error("Import error:",fe),Se({title:"Import Failed",description:fe instanceof Error?fe.message:"Failed to import DNA file",variant:"destructive"})}i.current&&(i.current.value="")}},an=()=>{c(H=>[...H,xa()])},$=()=>{h(H=>[...H,xa()])},Ae=(H,ue,ke,fe)=>{(H==="viral"?c:h)(We=>We.map(_t=>_t.id===ue?{..._t,[ke]:fe}:_t))},Z=(H,ue)=>{(H==="viral"?c:h)(fe=>fe.filter(Me=>Me.id!==ue))},D=async(H,ue,ke)=>{if(!ke){Se({title:"Error",description:"Please enter a YouTube URL first",variant:"destructive"});return}nt(ue);try{const fe=await Ee(ke);if(fe&&fe.length>0){const Me=fe.map((We,_t)=>`${_t+1}. [${We.likeCount} likes] ${We.author}: ${We.text}`).join(`

`);Ae(H,ue,"comments",Me),Ae(H,ue,"activeTab","comments")}}finally{nt(null)}},U=async()=>{if(!(l.some(ue=>ue.transcript||ue.comments)||u.some(ue=>ue.transcript||ue.comments))){Se({title:"Error",description:"Please add at least one video (viral or flop) with transcript or comments",variant:"destructive"});return}P(!0);try{const ue={viralVideos:l.map(fe=>({title:fe.title,transcript:fe.transcript,comments:fe.comments,notes:fe.notes})),flopVideos:u.map(fe=>({title:fe.title,transcript:fe.transcript,comments:fe.comments,notes:fe.notes})),language:m},ke=await Re(ue);ke&&(M(ke),V(ke.filter(fe=>!fe.isOutlier).map(fe=>`${fe.type}-${fe.index}`)),I(!0))}finally{P(!1)}},Q=async()=>{if(te.length===0){Se({title:"Error",description:"Please select at least one video to analyze",variant:"destructive"});return}I(!1),x(!0);try{const H=R==null?void 0:R.filter(We=>te.includes(`${We.type}-${We.index}`)),ue=l.filter((We,_t)=>H==null?void 0:H.some(Xt=>Xt.type==="viral"&&Xt.index===_t)),ke=u.filter((We,_t)=>H==null?void 0:H.some(Xt=>Xt.type==="flop"&&Xt.index===_t)),fe={viralVideos:ue.map(We=>({title:We.title,transcript:We.transcript,comments:We.comments,notes:We.notes})),flopVideos:ke.map(We=>({title:We.title,transcript:We.transcript,comments:We.comments,notes:We.notes})),overrideLogic:f,language:m},Me=await ae(fe,_);Me&&(S(Me),v(!0))}catch(H){console.error("Analysis error:",H)}finally{x(!1)}},X=async H=>{var ue,ke;j(!0);try{const fe=l.filter(_t=>_t.transcript).map(_t=>_t.transcript).join(`

---

`),Me=((ue=l[0])==null?void 0:ue.url)||((ke=u[0])==null?void 0:ke.url);await K(H,fe,Me)&&(c([xa()]),h([xa()]),g(""),v(!1),S(null),r("library"))}finally{j(!1)}},le=()=>{v(!1),S(null)},qe=async()=>{if(!A.name){Se({title:"Error",description:"Please enter a name for the DNA",variant:"destructive"});return}await ge({name:A.name,niche:A.niche,tone:A.tone,patterns:A.patterns?A.patterns.split(",").map(H=>H.trim()):null,hook_type:A.hookType,structure:A.structure?A.structure.split(",").map(H=>H.trim()):null,pacing:A.pacing}),W({name:"",niche:"",tone:"",patterns:"",hookType:"",structure:"",pacing:""}),O(!1)},na=(H,ue,ke)=>a.jsxs("div",{className:"relative bg-muted/50 rounded-2xl p-4 space-y-4",children:[a.jsxs(xt,{className:`absolute -top-2 -left-2 ${ue==="viral"?"bg-green-500":"bg-red-500"} text-white`,children:["#",ke+1]}),(ue==="viral"?l:u).length>1&&a.jsx(L,{variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>Z(ue,H.id),children:a.jsx(Ye,{className:"h-3 w-3"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Ux,{className:"h-3 w-3"})," Title"]}),a.jsx(ie,{placeholder:"e.g., How I built a SaaS in 2 days",value:H.title,onChange:fe=>Ae(ue,H.id,"title",fe.target.value),className:"rounded-xl bg-background"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Hp,{className:"h-3 w-3"})," YouTube URL"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{placeholder:"https://youtube.com/",value:H.url,onChange:fe=>Ae(ue,H.id,"url",fe.target.value),className:"rounded-xl bg-background flex-1"}),a.jsx(L,{variant:"secondary",size:"sm",className:"rounded-xl",onClick:()=>D(ue,H.id,H.url),disabled:Ve===H.id,children:Ve===H.id?a.jsx(St,{className:"h-4 w-4 animate-spin"}):"Get"})]})]})]}),a.jsxs(uc,{value:H.activeTab,onValueChange:fe=>Ae(ue,H.id,"activeTab",fe),className:"w-full",children:[a.jsxs(Ci,{className:"bg-background/50 w-full justify-start",children:[a.jsxs(lr,{value:"transcript",className:"flex items-center gap-1.5",children:[a.jsx(Un,{className:"h-3 w-3"})," Script / Transcript"]}),a.jsxs(lr,{value:"comments",className:"flex items-center gap-1.5",children:[a.jsx(gi,{className:"h-3 w-3"})," Comments / Feedback"]})]}),a.jsx(cr,{value:"transcript",className:"mt-2",children:a.jsx(be,{placeholder:"Paste content here...",value:H.transcript,onChange:fe=>Ae(ue,H.id,"transcript",fe.target.value),className:"min-h-[120px] rounded-xl bg-background resize-none"})}),a.jsx(cr,{value:"comments",className:"mt-2",children:a.jsx(be,{placeholder:"Paste comments or feedback here...",value:H.comments,onChange:fe=>Ae(ue,H.id,"comments",fe.target.value),className:"min-h-[120px] rounded-xl bg-background resize-none"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Un,{className:"h-3 w-3"})," Description / Notes"]}),a.jsx(be,{placeholder:"e.g., A quick breakdown of the tech stack...",value:H.notes,onChange:fe=>Ae(ue,H.id,"notes",fe.target.value),className:"min-h-[80px] rounded-xl bg-background resize-none"})]})]},H.id);return s?a.jsx(Az,{dna:s,onBack:()=>o(null),onUpdate:H=>ye(s.id,H),onExport:dt,onEvolve:H=>Te(s.id,H)}):y&&w?a.jsx(Cz,{dna:w,onSave:X,onCancel:le,saving:N}):a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"DNA Lab"}),a.jsx("p",{className:"text-muted-foreground",children:"Extract viral patterns from successful content"})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("input",{type:"file",ref:i,onChange:Mt,accept:".json",className:"hidden"}),a.jsxs(L,{variant:"outline",className:"gap-2 rounded-xl",onClick:Tt,children:[a.jsx(F2,{className:"h-4 w-4"}),"Import"]}),a.jsxs(cc,{open:oe,onOpenChange:O,children:[a.jsx(y6,{asChild:!0,children:a.jsxs(L,{variant:"outline",className:"gap-2 rounded-xl",children:[a.jsx(Ux,{className:"h-4 w-4"}),"Write"]})}),a.jsxs(Ni,{className:"max-w-lg",children:[a.jsx(ji,{children:a.jsx(_i,{children:"Create DNA Manually"})}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Name *"}),a.jsx(ie,{placeholder:"e.g., Storytelling Master",value:A.name,onChange:H=>W(ue=>({...ue,name:H.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Niche"}),a.jsx(ie,{placeholder:"e.g., Technology",value:A.niche,onChange:H=>W(ue=>({...ue,niche:H.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Tone"}),a.jsx(ie,{placeholder:"e.g., Energetic",value:A.tone,onChange:H=>W(ue=>({...ue,tone:H.target.value})),className:"rounded-xl"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Hook Type"}),a.jsx(ie,{placeholder:"e.g., Question, Story, Statistic",value:A.hookType,onChange:H=>W(ue=>({...ue,hookType:H.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Patterns (comma separated)"}),a.jsx(ie,{placeholder:"e.g., Emotional Hook, Three-Act Structure",value:A.patterns,onChange:H=>W(ue=>({...ue,patterns:H.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Structure (comma separated)"}),a.jsx(ie,{placeholder:"e.g., Hook, Problem, Solution, CTA",value:A.structure,onChange:H=>W(ue=>({...ue,structure:H.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Pacing"}),a.jsx(ie,{placeholder:"e.g., Fast-paced with quick cuts",value:A.pacing,onChange:H=>W(ue=>({...ue,pacing:H.target.value})),className:"rounded-xl"})]}),a.jsx(L,{onClick:qe,className:"w-full rounded-xl",children:"Create DNA"})]})]})]}),a.jsxs(L,{className:"gap-2 rounded-xl shadow-lg shadow-primary/20",onClick:()=>r("extract"),children:[a.jsx(He,{className:"h-4 w-4"}),"Extract New DNA"]})]})]}),a.jsxs(uc,{value:n,onValueChange:r,className:"space-y-6",children:[a.jsxs(Ci,{className:"bg-muted/50 p-1 rounded-xl",children:[a.jsx(lr,{value:"library",className:"rounded-lg data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Library"}),a.jsx(lr,{value:"extract",className:"rounded-lg data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Extract"})]}),a.jsx(cr,{value:"library",className:"space-y-4",children:a.jsx(Mz,{dnas:ee,loading:se,searchQuery:e,onSearchChange:t,onView:o,onExport:dt,onDelete:q})}),a.jsxs(cr,{value:"extract",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-500",children:[a.jsx(Jo,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold text-lg",children:"Virals"})]}),a.jsx("div",{className:"space-y-6",children:l.map((H,ue)=>na(H,"viral",ue))}),a.jsx(Ga,{feature:"batch_dna",hideCompletely:!0,children:a.jsxs(L,{variant:"secondary",className:"w-full rounded-xl gap-2",onClick:an,children:[a.jsx(He,{className:"h-4 w-4"}),"Add Viral"]})})]}),a.jsx(Ga,{feature:"flop_analysis",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[a.jsx(Ye,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold text-lg",children:"Flops"})]}),a.jsx("div",{className:"space-y-6",children:u.map((H,ue)=>na(H,"flop",ue))}),a.jsxs(L,{variant:"secondary",className:"w-full rounded-xl gap-2",onClick:$,children:[a.jsx(He,{className:"h-4 w-4"}),"Add Flop"]})]})})]}),a.jsx(ve,{className:"sticky bottom-4",children:a.jsx(xe,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 space-y-2 w-full",children:[a.jsx(z,{className:"text-xs uppercase text-muted-foreground",children:"Override Logic"}),a.jsx(ie,{placeholder:"Override default analysis logic...",value:f,onChange:H=>g(H.target.value),className:"rounded-xl bg-muted"})]}),a.jsxs("div",{className:"flex gap-4 w-full lg:w-auto items-end",children:[a.jsx("div",{className:"space-y-2 flex-1 lg:flex-none",children:a.jsx(Bu,{value:_,onChange:C,label:"AI Model",compact:!1})}),a.jsxs("div",{className:"space-y-2 flex-1 lg:flex-none",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(Hp,{className:"h-4 w-4 text-primary"}),"Language"]}),a.jsxs(Yr,{value:m,onValueChange:b,children:[a.jsx(Ar,{className:"w-full lg:w-[140px] rounded-xl",children:a.jsx(Qr,{})}),a.jsxs(Pr,{children:[a.jsx(Xe,{value:"en",children:"English"}),a.jsx(Xe,{value:"vi",children:"Ting Vit"}),a.jsx(Xe,{value:"es",children:"Espaol"}),a.jsx(Xe,{value:"fr",children:"Franais"}),a.jsx(Xe,{value:"ja",children:" (Japanese)"}),a.jsx(Xe,{value:"ko",children:" (Korean)"})]})]})]}),a.jsxs(L,{onClick:U,disabled:T||p,className:"gap-2 rounded-xl px-6 h-10",children:[T?a.jsx(St,{className:"h-4 w-4 animate-spin"}):a.jsx(zx,{className:"h-4 w-4"}),T?"Scanning...":"Analyze & Extract DNA"]})]})]})})})]})]}),a.jsx(cc,{open:F,onOpenChange:I,children:a.jsxs(Ni,{className:"max-w-3xl",children:[a.jsx(ji,{children:a.jsx(_i,{children:"Content Pre-Scan Results"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-500/10 text-blue-500 rounded-lg border border-blue-500/20",children:[a.jsx(zx,{className:"h-5 w-5"}),a.jsx("p",{className:"text-sm",children:"We scanned your inputs. Review and uncheck any outliers (e.g., wrong niche/tone) before deep analysis."})]}),a.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:R==null?void 0:R.map(H=>{const ue=`${H.type}-${H.index}`;return a.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border ${H.isOutlier?"bg-red-500/5 border-red-500/20":"bg-card border-border"}`,children:[a.jsx(Xv,{checked:te.includes(ue),onCheckedChange:ke=>{V(ke?fe=>[...fe,ue]:fe=>fe.filter(Me=>Me!==ue))},className:"mt-1"}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:H.title||`${H.type==="viral"?"Viral":"Flop"} Video #${H.index+1}`}),H.isOutlier&&a.jsx(xt,{variant:"destructive",className:"text-[10px] h-5",children:"Outlier"})]}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-foreground",children:"Topic:"})," ",H.topic]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-foreground",children:"Tone:"})," ",H.tone]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-foreground",children:"Quality:"})," ",H.qualityScore,"/100"]})]}),H.reason&&a.jsxs("p",{className:"text-xs text-red-500 italic mt-1",children:[" ",H.reason]})]})]},ue)})}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(L,{variant:"ghost",onClick:()=>I(!1),children:"Cancel"}),a.jsxs(L,{onClick:Q,disabled:te.length===0,children:["Proceed with ",te.length," Videos"]})]})]})]})})]})}const $z=`You are an expert audience researcher and psychologist. Your task is to reverse-engineer a target audience persona from the content they consume and the feedback they provide.

<task>
Analyze the provided transcript and comments to build a comprehensive audience persona that enables precise content customization.
</task>

<data_sources>
If Manual Description provided: Use it as the foundational base
If Transcript provided: Analyze complexity, tone, subject matter to understand audience interests
If Comments provided: Extract pain points, objections, questions, and resonance patterns

Look for behavioral patterns:
- Specific complaints or frustrations (Pain Points)
- Types of questions asked (Knowledge Level)
- Language style and formality (Vocabulary Preferences)
- Engagement patterns (Content Consumption Behavior)
</data_sources>

<analysis_dimensions>

1. DEMOGRAPHIC INFERENCE (from comments and behavior):
   Extract clues about:
   - Age bracket: Slang usage, cultural references, life stage mentions
     Examples: "in college" (18-24), "my kids" (30-50), "retirement" (55+)
   - Location hints: Timezone patterns, cultural mentions, location-specific references
   - Occupation/Industry: Topic engagement patterns, professional terminology
   - Digital fluency: Emoji usage, meme references, platform-native behavior
     * low: Basic text, formal style, minimal slang
     * medium: Mixed formal/casual, some emoji use
     * high: Heavy meme culture, platform-specific language, rapid trend adoption

2. KNOWLEDGE PROFILE (3-dimensional assessment):

   A. Domain Knowledge (1-5 scale):
      1 = Complete beginner (needs basic definitions, foundational concepts)
      2 = Novice (understands basics, learning fundamentals)
      3 = Intermediate (grasps concepts, lacks deep expertise)
      4 = Advanced (strong understanding, can discuss nuances)
      5 = Expert (uses advanced terminology naturally, teaches others)

   B. Engagement Depth (1-5 scale):
      1 = Casual viewer (surface interest, passive consumption)
      2 = Light learner (some curiosity, occasional deeper dive)
      3 = Invested learner (asks follow-up questions, seeks understanding)
      4 = Active researcher (reads deeply, cross-references sources)
      5 = Deep researcher (comprehensive exploration, contributes insights)

   C. Skepticism Level (1-5 scale):
      1 = Highly trusting (accepts claims at face value)
      2 = Somewhat trusting (minimal verification needed)
      3 = Moderately skeptical (wants some evidence and reasoning)
      4 = Very skeptical (demands multiple sources, rigorous proof)
      5 = Extremely skeptical (challenges everything, requires peer-reviewed data)

   Provide reasoning for each score based on comment evidence.

3. CONTENT CONSUMPTION PATTERNS:

   A. Attention Span (infer from comment length and engagement depth):
      * short: Quick scrollers, prefer bite-sized info (<3min optimal)
      * medium: Standard attention span, comfortable with 3-8min content
      * long: Deep divers, willing to invest 8min+ for quality content

   B. Engagement Triggers (what motivates them to comment/engage):
      * data-driven: Responds to statistics, studies, hard numbers
      * story-driven: Engages with narratives, personal case studies
      * emotion-driven: Reacts to emotional appeals, relatable struggles
      * authority-driven: Values expert credentials, citations, proof

   C. Learning Style (how they prefer information delivery):
      * visual-heavy: Prefers diagrams, charts, visual demonstrations
      * step-by-step: Wants sequential, structured instructions
      * conceptual-first: Likes big-picture understanding before details
      * example-based: Learns best through concrete examples and case studies

4. PAIN POINTS PRIORITIZATION:
   Analyze comment sentiment to extract and rank pain points by:
   - Intensity: high (mentioned repeatedly with strong emotion), medium (consistent mention), low (occasional concern)
   - Evidence: "Mentioned in 15+ comments" or "Implied from frustration pattern in Y discussion"

5. MOTIVATIONS & OBJECTIONS WITH CONTEXT:
   For motivations: What drives them to watch/engage?
   - Frequency: high (dominant driver), medium (common reason), low (occasional motivator)
   - Source: "Positive comments analysis" or "Success story responses"

   For objections: What prevents engagement or creates skepticism?
   - Frequency: high (major barrier), medium (common concern), low (minor hesitation)
   - Source: "Negative comments" or "Skeptical questions pattern"

</analysis_dimensions>

<output_schema>
Return ONLY valid JSON (no markdown, no explanations):

{
  "name": "Descriptive persona name capturing essence (e.g., 'Frustrated Beginner Investor', 'Skeptical Health Optimizer', 'Time-Starved Parent Entrepreneur')",

  "ageRange": "22-35 (evidence: mentions of college life, early career stress, Gen Z slang usage)",

  "knowledgeLevel": "beginner|intermediate|advanced",

  "knowledgeProfile": {
    "domainKnowledge": 3,
    "engagementDepth": 4,
    "skepticismLevel": 2,
    "reasoning": "Intermediate domain knowledge evidenced by basic concept understanding but confusion on advanced terms. High engagement depth shown by follow-up questions. Low skepticism - accepts explanations readily."
  },

  "demographics": {
    "ageEvidence": "Uses phrases like 'just graduated', mentions student loans, employs Gen Z slang",
    "locationHints": "Mentions PST timezone, references US-specific cultural events",
    "occupationInference": "Early career tech worker based on software terminology and work schedule comments",
    "digitalFluency": "high"
  },

  "contentConsumption": {
    "attentionSpan": "medium",
    "engagementTriggers": ["data-driven", "story-driven"],
    "learningStyle": ["step-by-step", "example-based"],
    "preferredContentLength": "5-7 minute videos with clear structure and actionable takeaways"
  },

  "painPoints": [
    {
      "text": "Can't afford expensive courses or tools",
      "intensity": "high",
      "evidence": "Mentioned in 30+ comments with strong emotional language"
    },
    {
      "text": "Overwhelmed by conflicting advice online",
      "intensity": "medium",
      "evidence": "Recurring theme in 'confused' comment cluster"
    }
  ],

  "preferredTone": "casual|formal|inspirational|educational|humorous|direct|empathetic",

  "vocabulary": "Conversational with occasional technical terms. Avoid jargon overload. Explain concepts in plain language first.",

  "platform": "YouTube",

  "description": "Tech-savvy early career professional seeking actionable advice without high costs. Values clear, step-by-step guidance backed by data. Moderately skeptical of overpromises but open to learning. Prefers medium-length content that respects their time constraints.",

  "contentPreferences": [
    "Actionable tutorials over theory",
    "Real-world examples and case studies",
    "Data-backed recommendations"
  ],

  "motivations": [
    {
      "text": "Career advancement and skill development",
      "frequency": "high",
      "source": "Positive engagement on career growth topics"
    },
    {
      "text": "Financial independence",
      "frequency": "medium",
      "source": "Comments on money-saving tips and side hustles"
    }
  ],

  "objections": [
    {
      "text": "Skeptical of 'get rich quick' claims",
      "frequency": "high",
      "source": "Negative reactions to overpromising content"
    },
    {
      "text": "Concerned about time investment vs. results",
      "frequency": "medium",
      "source": "Questions about ROI and realistic timelines"
    }
  ]
}
</output_schema>

<validation_rules>
Flag potential inconsistencies:
- If knowledgeLevel="beginner" BUT vocabulary includes "advanced technical jargon"  Add note about mismatch
- If preferredTone="formal" BUT platform="TikTok"  Flag platform-tone mismatch
- Ensure painPoints align with knowledgeLevel (beginners and experts have different pain points)
- Verify demographics inferences are evidence-based, not assumptions
</validation_rules>

<quality_standards>
Your persona should:
1. Be actionable: Provide enough detail for content customization
2. Be evidence-based: Every claim rooted in transcript/comment analysis
3. Be coherent: All dimensions should paint a consistent picture
4. Be specific: Avoid generic descriptors like "wants value" - specify WHAT value and WHY
5. Be realistic: Represent an actual human psychology, not an idealized archetype
</quality_standards>`,Fz=async(e,t="google/gemini-3-flash-preview",n,r,s)=>{if(!e)throw new Error("OpenRouter API Key is required");if(!n&&!r&&!s)throw new Error("At least one of description, transcript, or comments must be provided");let o="";n&&(o+=`<manual_description>
${n}
</manual_description>

`),r&&(o+=`<transcript>
${r}
</transcript>

`),s&&(o+=`<comments>
${s}
</comments>

`),o+="Analyze the above and extract a comprehensive audience persona.";const l=await qn([{role:"system",content:$z},{role:"user",content:o}],e,t);return so(l)};function qE(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),{user:s}=On(),{toast:o}=Rn(),{settings:i}=Ac(),l=d.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:g,error:m}=await ze.from("personas").select("*").order("created_at",{ascending:!1});if(m)throw m;t(g||[])}catch(g){console.error("Error fetching personas:",g),o({title:"Error",description:"Failed to fetch personas",variant:"destructive"})}finally{r(!1)}},[s,o]);return d.useEffect(()=>{l()},[l]),{personas:e,loading:n,createPersona:async g=>{if(!s)return null;try{const m={name:g.name||"New Persona",user_id:s.id,age_range:g.age_range,knowledge_level:g.knowledge_level,pain_points:g.pain_points,preferred_tone:g.preferred_tone,vocabulary:g.vocabulary,platform:g.platform,description:g.description,motivations:g.motivations,objections:g.objections,content_sources:g.content_sources},{data:b,error:p}=await ze.from("personas").insert(m).select().single();if(p)throw p;return t(x=>[b,...x]),o({title:"Success",description:"Persona created successfully"}),b}catch(m){return console.error("Error creating persona:",m),o({title:"Error",description:"Failed to create persona",variant:"destructive"}),null}},updatePersona:async(g,m)=>{try{const{data:b,error:p}=await ze.from("personas").update(m).eq("id",g).select().single();if(p)throw p;return t(x=>x.map(y=>y.id===g?b:y)),o({title:"Success",description:"Persona updated successfully"}),b}catch(b){return console.error("Error updating persona:",b),o({title:"Error",description:"Failed to update persona",variant:"destructive"}),null}},deletePersona:async g=>{try{const{error:m}=await ze.from("personas").delete().eq("id",g);if(m)throw m;return t(b=>b.filter(p=>p.id!==g)),o({title:"Success",description:"Persona deleted successfully"}),!0}catch(m){return console.error("Error deleting persona:",m),o({title:"Error",description:"Failed to delete persona",variant:"destructive"}),!1}},analyzePersona:async(g,m,b,p)=>{const x=i==null?void 0:i.openrouter_api_key;if(!x)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await Fz(x,p||"google/gemini-3-flash-preview",g,m,b)}catch(y){console.error("Error analyzing persona:",y);const v=y instanceof Error?y.message:"Failed to analyze persona";return o({title:"Error",description:v,variant:"destructive"}),null}},refetch:l}}const g0=["bg-violet-500","bg-sky-500","bg-pink-500","bg-emerald-500","bg-amber-500","bg-rose-500"],v0=[{value:"google/gemini-3-flash-preview",label:"Gemini 3 Flash (Fast)"},{value:"google/gemini-3-pro-preview",label:"Gemini 3 Pro (Quality)"},{value:"anthropic/claude-sonnet-4.5",label:"Claude 4.5 Sonnet (Reasoning)"},{value:"openai/gpt-5.2",label:"GPT-5.2 (SOTA)"},{value:"openai/gpt-oss-120b:free",label:"GPT-OSS 120B (Free)"}];function Uz(){const{personas:e,loading:t,createPersona:n,updatePersona:r,deletePersona:s,analyzePersona:o}=qE(),[i,l]=d.useState(""),[c,u]=d.useState(!1),[h,f]=d.useState(null),[g,m]=d.useState(!1),[b,p]=d.useState(!1),[x,y]=d.useState(""),[v,w]=d.useState(""),[S,N]=d.useState("intermediate"),[j,_]=d.useState(""),[C,T]=d.useState(""),[P,R]=d.useState(""),[M,F]=d.useState(""),[I,te]=d.useState([{id:"1",script:"",youtubeUrl:"",comments:""}]),[V,oe]=d.useState(""),[O,A]=d.useState(""),[W,ee]=d.useState(200),[se,ae]=d.useState(v0[0].value),{fetchComments:ge,loading:K}=DE(),ye=e.filter($=>$.name.toLowerCase().includes(i.toLowerCase())),q=()=>{y(""),w(""),N("intermediate"),_(""),T(""),R(""),F(""),te([{id:crypto.randomUUID(),script:"",youtubeUrl:"",comments:""}]),oe(""),A(""),f(null)},Re=()=>{q(),u(!0)},Te=$=>{var Ae,Z,D;f($),y($.name),w($.age_range||""),N($.knowledge_level||"intermediate"),_(((Ae=$.pain_points)==null?void 0:Ae.join(", "))||""),T($.preferred_tone||""),R($.platform||""),F($.description||""),oe(((Z=$.motivations)==null?void 0:Z.join(", "))||""),A(((D=$.objections)==null?void 0:D.join(", "))||""),$.content_sources&&Array.isArray($.content_sources)&&$.content_sources.length>0?te($.content_sources):te([{id:crypto.randomUUID(),script:"",youtubeUrl:"",comments:""}]),u(!0)},Se=($,Ae,Z)=>{te(D=>D.map(U=>U.id===$?{...U,[Ae]:Z}:U))},Ee=()=>{te($=>[...$,{id:crypto.randomUUID(),script:"",youtubeUrl:"",comments:""}])},De=$=>{I.length>1&&te(Ae=>Ae.filter(Z=>Z.id!==$))},Ve=async($,Ae,Z)=>{if(!Ae)return;const D=await ge(Ae,Z);if(D&&D.length>0){const U=D.map(Q=>`- ${Q.author}: ${Q.text} (${Q.likeCount} likes)`).join(`
`);te(Q=>Q.map(X=>{if(X.id===$){const le=X.comments?`${X.comments}

${U}`:U;return{...X,comments:le,fetchedCommentsCount:D.length}}return X}))}},nt=async()=>{const $=I.map(Z=>Z.script).filter(Boolean).join(`

-- NEXT SOURCE --

`),Ae=I.map(Z=>Z.comments).filter(Boolean).join(`

-- NEXT SOURCE --

`);if(!(!$&&!Ae)){p(!0);try{const Z=await o(void 0,$,Ae,se);if(Z){if(y(Z.name||x),w(Z.ageRange||v),N(Z.knowledgeLevel||S),Array.isArray(Z.painPoints)){const D=Z.painPoints.map(U=>typeof U=="string"?U:U.text).join(", ");_(D||j)}if(T(Z.preferredTone||C),R(Z.platform||P),Array.isArray(Z.motivations)){const D=Z.motivations.map(U=>typeof U=="string"?U:U.text).join(", ");oe(D||V)}if(Array.isArray(Z.objections)){const D=Z.objections.map(U=>typeof U=="string"?U:U.text).join(", ");A(D||O)}(Z.knowledgeProfile||Z.demographics||Z.contentConsumption)&&(window.__tempPersonaExtended={knowledge_profile:Z.knowledgeProfile,demographics:Z.demographics,content_consumption:Z.contentConsumption})}}finally{p(!1)}}},dt=async()=>{const $={name:x,age_range:v||null,knowledge_level:S||null,pain_points:j?j.split(",").map(Ae=>Ae.trim()).filter(Boolean):null,preferred_tone:C||null,platform:P||null,description:M||null,motivations:V?V.split(",").map(Ae=>Ae.trim()).filter(Boolean):null,objections:O?O.split(",").map(Ae=>Ae.trim()).filter(Boolean):null,content_sources:I};if(window.__tempPersonaExtended){const Ae=window.__tempPersonaExtended;Ae.knowledge_profile&&($.knowledge_profile=Ae.knowledge_profile),Ae.demographics&&($.demographics=Ae.demographics),Ae.content_consumption&&($.content_consumption=Ae.content_consumption),delete window.__tempPersonaExtended}m(!0),h?await r(h.id,$):await n($),m(!1),u(!1),q()},Tt=async $=>{await s($)},Mt=$=>{switch($){case"beginner":return 33;case"intermediate":return 66;case"advanced":return 100;default:return 50}},an=$=>g0[$%g0.length];return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Audience Personas"}),a.jsx("p",{className:"text-muted-foreground",children:"Define and manage your target audiences (Manual or AI Analyzed)"})]}),a.jsxs(L,{onClick:Re,className:"gap-2 rounded-xl shadow-lg shadow-primary/20",children:[a.jsx(He,{className:"h-4 w-4"}),"Create Persona"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(uh,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search personas...",value:i,onChange:$=>l($.target.value),className:"pl-10 rounded-xl bg-card/50"})]}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(St,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):ye.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(yi,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No personas yet. Create your first one!"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ye.map(($,Ae)=>a.jsxs(ve,{variant:"elevated",className:"group",children:[a.jsxs(fn,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx(Tv,{className:"h-12 w-12",children:a.jsx(Av,{className:`${an(Ae)} text-primary-foreground font-semibold`,children:$.name.split(" ").map(Z=>Z[0]).join("").slice(0,2)})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>Te($),children:a.jsx(M2,{className:"h-4 w-4"})}),a.jsx(L,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>Tt($.id),children:a.jsx(Ye,{className:"h-4 w-4"})})]})]}),a.jsx(Sn,{className:"mt-3",children:$.name}),a.jsxs(Gs,{children:[$.age_range&&`Age ${$.age_range}`,$.age_range&&$.platform&&"  ",$.platform]})]}),a.jsxs(xe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Vg,{className:"h-4 w-4"}),"Knowledge"]}),a.jsx("span",{className:"font-medium capitalize",children:$.knowledge_level||"Intermediate"})]}),a.jsx(Ov,{value:Mt($.knowledge_level),className:"h-1.5"})]}),$.knowledge_profile&&a.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-primary/5 border border-primary/10",children:[a.jsx("span",{className:"text-xs font-semibold text-primary",children:"3D Knowledge Profile"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-primary",children:$.knowledge_profile.domainKnowledge}),a.jsx("div",{className:"text-muted-foreground",children:"Domain"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-primary",children:$.knowledge_profile.engagementDepth}),a.jsx("div",{className:"text-muted-foreground",children:"Engagement"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-primary",children:$.knowledge_profile.skepticismLevel}),a.jsx("div",{className:"text-muted-foreground",children:"Skepticism"})]})]}),$.knowledge_profile.reasoning&&a.jsx("p",{className:"text-xs text-muted-foreground italic",children:$.knowledge_profile.reasoning})]}),$.pain_points&&$.pain_points.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(zo,{className:"h-4 w-4"}),"Pain Points"]}),a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[$.pain_points.slice(0,2).map((Z,D)=>{const U=typeof Z=="string"?Z:Z.text,Q=typeof Z=="object"&&Z.intensity?Z.intensity:null;return a.jsx("span",{className:`rounded-lg px-2 py-1 text-xs font-medium ${Q==="high"?"bg-red-500/20 text-red-600":Q==="medium"?"bg-orange-500/20 text-orange-600":Q==="low"?"bg-yellow-500/20 text-yellow-600":"bg-accent text-accent-foreground"}`,children:U},D)}),$.pain_points.length>2&&a.jsxs("span",{className:"rounded-lg bg-muted px-2 py-1 text-xs text-muted-foreground",children:["+",$.pain_points.length-2]})]})]}),$.demographics&&a.jsxs("div",{className:"space-y-1.5 text-xs",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground font-medium",children:[a.jsx(yi,{className:"h-4 w-4"}),"Demographics Inference"]}),$.demographics.ageEvidence&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Age:"})," ",$.demographics.ageEvidence]}),$.demographics.occupationInference&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Occupation:"})," ",$.demographics.occupationInference]}),$.demographics.digitalFluency&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Digital Fluency:"})," ",a.jsx("span",{className:"capitalize",children:$.demographics.digitalFluency})]})]}),$.content_consumption&&a.jsxs("div",{className:"space-y-1.5 text-xs",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground font-medium",children:[a.jsx(zo,{className:"h-4 w-4"}),"Content Preferences"]}),$.content_consumption.attentionSpan&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Attention:"})," ",a.jsx("span",{className:"capitalize",children:$.content_consumption.attentionSpan})]}),$.content_consumption.engagementTriggers&&$.content_consumption.engagementTriggers.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:$.content_consumption.engagementTriggers.map(Z=>a.jsx("span",{className:"rounded-md bg-blue-500/10 text-blue-600 px-1.5 py-0.5 text-xs",children:Z},Z))})]}),$.motivations&&$.motivations.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(zn,{className:"h-4 w-4"}),"Motivations"]}),a.jsx("p",{className:"text-xs text-foreground/80 line-clamp-1",children:Array.isArray($.motivations)&&typeof $.motivations[0]=="string"?$.motivations.join(", "):$.motivations.map(Z=>Z.text||Z).join(", ")})]}),$.preferred_tone&&a.jsxs("div",{className:"flex items-center gap-2 text-sm pt-2 border-t border-border/50",children:[a.jsx(P2,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Tone:"}),a.jsx("span",{className:"font-medium",children:$.preferred_tone})]})]})]},$.id))}),a.jsx(cc,{open:c,onOpenChange:u,children:a.jsxs(Ni,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ji,{children:[a.jsx(_i,{children:h?"Edit Persona":"Create Audience Persona"}),a.jsx(kC,{children:"Define your target audience manually or analyze content to reverse-engineer them."})]}),a.jsxs(uc,{defaultValue:"analyze",className:"w-full",children:[a.jsxs(Ci,{className:"grid w-full grid-cols-2",children:[a.jsx(lr,{value:"manual",children:"Manual Description"}),a.jsx(lr,{value:"analyze",children:"Analyze Content (AI)"})]}),a.jsx(cr,{value:"manual",className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Description"}),a.jsx(be,{value:M,onChange:$=>F($.target.value),placeholder:"Describe your target audience... e.g., Young professionals aged 25-35...",className:"min-h-[80px]"}),a.jsxs(L,{variant:"outline",size:"sm",onClick:nt,disabled:b||!M,className:"w-full",children:[b?a.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(jt,{className:"mr-2 h-4 w-4"}),"Format Description with AI"]})]})}),a.jsxs(cr,{value:"analyze",className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[I.map(($,Ae)=>a.jsxs("div",{className:"relative rounded-xl border border-border bg-muted/10 p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold text-sm flex items-center gap-2",children:a.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs border border-primary/20",children:["Source #",Ae+1]})}),I.length>1&&a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>De($.id),children:a.jsx(Ye,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Script / Transcript"}),a.jsx(be,{value:$.script,onChange:Z=>Se($.id,"script",Z.target.value),placeholder:"Paste video transcript here...",className:"min-h-[120px] resize-none"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Import from YouTube (Optional)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(E2,{className:"absolute left-2.5 top-2.5 h-3.5 w-3.5 text-muted-foreground"}),a.jsx(ie,{value:$.youtubeUrl,onChange:Z=>Se($.id,"youtubeUrl",Z.target.value),placeholder:"https://youtube.com/...",className:"pl-8 h-8 text-xs"})]}),a.jsx(L,{size:"sm",variant:"secondary",className:"h-8 px-2",onClick:()=>Ve($.id,$.youtubeUrl,W),disabled:K||!$.youtubeUrl,children:K?a.jsx(St,{className:"h-3 w-3 animate-spin"}):a.jsx(Wg,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:50,max:500,step:50,value:W,onChange:Z=>ee(Number(Z.target.value)),className:"flex-1 h-1.5 bg-muted rounded-full appearance-none cursor-pointer accent-primary"}),a.jsxs("span",{className:"text-xs text-muted-foreground w-16 text-right",children:[W," max"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(z,{children:"Comments"}),$.fetchedCommentsCount?a.jsxs("span",{className:"text-[10px] text-green-600 font-medium",children:[$.fetchedCommentsCount," fetched"]}):null]}),a.jsx(be,{value:$.comments,onChange:Z=>Se($.id,"comments",Z.target.value),placeholder:"Community comments...",className:"min-h-[80px] resize-none"})]})]})]})]},$.id)),a.jsxs(L,{variant:"outline",className:"w-full border-dashed text-muted-foreground hover:text-foreground hover:border-primary/50",onClick:Ee,children:[a.jsx(He,{className:"mr-2 h-4 w-4"})," Add Another Source"]})]}),a.jsx("div",{className:"pt-2",children:a.jsxs(L,{variant:"default",size:"default",onClick:nt,disabled:b,className:"w-full bg-violet-600 hover:bg-violet-700 h-10 text-md shadow-lg shadow-violet-500/20",children:[b?a.jsx(St,{className:"mr-2 h-5 w-5 animate-spin"}):a.jsx(jt,{className:"mr-2 h-5 w-5"}),"Reverse-Engineer Audience with AI"]})})]})]}),a.jsxs("div",{className:"grid gap-4 py-4 border-t border-border",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Name *"}),a.jsx(ie,{value:x,onChange:$=>y($.target.value),placeholder:"e.g., Tech Enthusiast"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Age Range"}),a.jsx(ie,{value:v,onChange:$=>w($.target.value),placeholder:"e.g., 25-35"})]})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Knowledge Level"}),a.jsxs(Yr,{value:S,onValueChange:N,children:[a.jsx(Ar,{children:a.jsx(Qr,{})}),a.jsxs(Pr,{children:[a.jsx(Xe,{value:"beginner",children:"Beginner"}),a.jsx(Xe,{value:"intermediate",children:"Intermediate"}),a.jsx(Xe,{value:"advanced",children:"Advanced"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Platform"}),a.jsxs(Yr,{value:P,onValueChange:R,children:[a.jsx(Ar,{children:a.jsx(Qr,{placeholder:"Select platform"})}),a.jsxs(Pr,{children:[a.jsx(Xe,{value:"YouTube",children:"YouTube"}),a.jsx(Xe,{value:"TikTok",children:"TikTok"}),a.jsx(Xe,{value:"Instagram",children:"Instagram"}),a.jsx(Xe,{value:"Twitter",children:"Twitter"}),a.jsx(Xe,{value:"LinkedIn",children:"LinkedIn"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Pain Points"}),a.jsx(ie,{value:j,onChange:$=>_($.target.value),placeholder:"Time management, Career growth..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Motivations (Why they watch)"}),a.jsx(ie,{value:V,onChange:$=>oe($.target.value),placeholder:"To get rich quick, To feel validated..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Objections (Why they skip)"}),a.jsx(ie,{value:O,onChange:$=>A($.target.value),placeholder:"Too complicated, Fake guru vibes..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Preferred Tone"}),a.jsx(ie,{value:C,onChange:$=>T($.target.value),placeholder:"Casual & Direct, Motivational"})]})]}),a.jsxs(Ld,{className:"flex items-center justify-between sm:justify-between w-full",children:[a.jsx("div",{className:"w-[200px]",children:a.jsxs(Yr,{value:se,onValueChange:ae,children:[a.jsx(Ar,{className:"h-8 text-xs",children:a.jsx(Qr,{placeholder:"Select AI Model"})}),a.jsx(Pr,{children:v0.map($=>a.jsx(Xe,{value:$.value,children:$.label},$.value))})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(L,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),a.jsxs(L,{onClick:dt,disabled:g||!x.trim(),children:[g?a.jsx(St,{className:"mr-2 h-4 w-4 animate-spin"}):null,h?"Update":"Create"]})]})]})]})})]})}const zz=[{name:"Starter",tier:"starter",description:"Basic features to get started",price:"$20",period:"/month",icon:jt,popular:!1,features:[{name:"Extract DNA from 1 video",included:!0},{name:"Basic script generation",included:!0},{name:"2 Personas",included:!0},{name:"7-day version history",included:!0},{name:"DNA Evolution",included:!1},{name:"AI Suggest Angle",included:!1},{name:"Batch DNA (multiple videos)",included:!1},{name:"Structure Innovation",included:!1},{name:"Flop Avoidance Analysis",included:!1}]},{name:"Pro",tier:"pro",description:"Unlock all advanced AI features",price:"$59",period:"/month",icon:zn,popular:!0,features:[{name:"Extract DNA from multiple videos",included:!0},{name:"Unlimited scripts",included:!0},{name:"Unlimited Personas",included:!0},{name:"Unlimited version history",included:!0},{name:"DNA Evolution",included:!0},{name:"AI Suggest Angle",included:!0},{name:"Batch DNA (multiple videos)",included:!0},{name:"Structure Innovation",included:!0},{name:"Flop Avoidance Analysis",included:!0}]},{name:"Ultra",tier:"ultra",description:"Everything in Pro + Future features",price:"$99",period:"/month",icon:pd,popular:!1,features:[{name:"All Pro features",included:!0},{name:"Early access to new features",included:!0},{name:"24/7 Priority support",included:!0},{name:"Premium Templates (coming soon)",included:!0},{name:"Team Collaboration (coming soon)",included:!0}]}],Bz=[{name:"DNA Extraction",starter:"1 video",pro:"Multiple videos",ultra:"Multiple videos"},{name:"Script Generations",starter:"Basic",pro:"Unlimited",ultra:"Unlimited"},{name:"Personas",starter:"2",pro:"Unlimited",ultra:"Unlimited"},{name:"DNA Evolution",starter:"",pro:"",ultra:""},{name:"AI Suggest Angle",starter:"",pro:"",ultra:""},{name:"Batch DNA",starter:"",pro:"",ultra:""},{name:"Structure Innovation",starter:"",pro:"",ultra:""},{name:"Flop Avoidance Analysis",starter:"",pro:"",ultra:""},{name:"Version History",starter:"7 days",pro:"Unlimited",ultra:"Unlimited"},{name:"Support",starter:"Community",pro:"Priority Email",ultra:"24/7 Dedicated"}];function Vz(){const e=ea();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b border-border/50 bg-card/50 backdrop-blur-xl",children:a.jsxs("div",{className:"container mx-auto flex items-center justify-between px-4 py-4",children:[a.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:a.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"L"})}),a.jsx("span",{className:"text-lg font-semibold",children:"LOG"})]}),a.jsx(L,{variant:"outline",onClick:()=>e("/auth"),children:"Sign In"})]})}),a.jsx("section",{className:"py-16 text-center",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx(xt,{variant:"secondary",className:"mb-4",children:"Simple, transparent pricing"}),a.jsx("h1",{className:"mb-4 text-4xl font-bold md:text-5xl",children:"Choose your plan"}),a.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Start for free and upgrade as you grow. All plans include our core features to help you create viral content."})]})}),a.jsx("section",{className:"pb-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:zz.map(t=>a.jsxs(Pd,{className:`relative flex flex-col ${t.popular?"border-primary shadow-lg shadow-primary/20":"border-border/50"}`,children:[t.popular&&a.jsx(xt,{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:"Most Popular"}),a.jsxs(Am,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:a.jsx(t.icon,{className:"h-6 w-6 text-primary"})}),a.jsx(Pm,{className:"text-2xl",children:t.name}),a.jsx(a_,{children:t.description})]}),a.jsxs(Rd,{className:"flex-1",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("span",{className:"text-4xl font-bold",children:t.price}),a.jsx("span",{className:"text-muted-foreground",children:t.period})]}),a.jsx("ul",{className:"space-y-3",children:t.features.map(n=>a.jsxs("li",{className:"flex items-center gap-3",children:[n.included?a.jsx(Jo,{className:"h-4 w-4 text-primary"}):a.jsx(os,{className:"h-4 w-4 text-muted-foreground/50"}),a.jsx("span",{className:n.included?"":"text-muted-foreground/50",children:n.name})]},n.name))})]}),a.jsx(i_,{children:a.jsx(L,{className:"w-full",variant:t.popular?"default":"outline",onClick:()=>e("/auth"),children:t.price==="$0"?"Get Started Free":"Start Free Trial"})})]},t.name))})})}),a.jsx("section",{className:"border-t border-border/50 bg-card/30 py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h2",{className:"mb-8 text-center text-3xl font-bold",children:"Compare Plans"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border/50",children:[a.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Feature"}),a.jsx("th",{className:"px-4 py-3 text-center font-medium",children:"Starter"}),a.jsx("th",{className:"px-4 py-3 text-center font-medium text-primary",children:"Pro"}),a.jsx("th",{className:"px-4 py-3 text-center font-medium",children:"Ultra"})]})}),a.jsx("tbody",{children:Bz.map(t=>a.jsxs("tr",{className:"border-b border-border/30",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:t.name}),a.jsx("td",{className:"px-4 py-3 text-center text-muted-foreground",children:t.starter}),a.jsx("td",{className:"px-4 py-3 text-center",children:t.pro}),a.jsx("td",{className:"px-4 py-3 text-center",children:t.ultra})]},t.name))})]})})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h2",{className:"mb-8 text-center text-3xl font-bold",children:"Frequently Asked Questions"}),a.jsx("div",{className:"mx-auto grid max-w-3xl gap-4",children:[{q:"Can I switch plans anytime?",a:"Yes, you can upgrade or downgrade your plan at any time. Changes take effect immediately."},{q:"Is there a free trial for paid plans?",a:"Yes, all paid plans come with a 14-day free trial. No credit card required to start."},{q:"What happens to my data if I downgrade?",a:"Your data is always safe. If you downgrade, you'll keep access to your existing work but new creation limits will apply."},{q:"Do you offer refunds?",a:"Yes, we offer a 30-day money-back guarantee if you're not satisfied with your purchase."}].map(t=>a.jsxs(Pd,{className:"border-border/50",children:[a.jsx(Am,{className:"pb-2",children:a.jsx(Pm,{className:"text-lg",children:t.q})}),a.jsx(Rd,{children:a.jsx("p",{className:"text-muted-foreground",children:t.a})})]},t.q))})]})}),a.jsx("section",{className:"border-t border-border/50 bg-primary/5 py-16",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h2",{className:"mb-4 text-3xl font-bold",children:"Ready to create viral content?"}),a.jsx("p",{className:"mb-6 text-muted-foreground",children:"Join thousands of creators already using ScriptLab"}),a.jsx(L,{size:"lg",onClick:()=>e("/auth"),children:"Start Free Today"})]})})]})}function ho({text:e,className:t="",showCharacters:n=!1}){const r=d.useMemo(()=>{const s=e.trim();if(!s)return{words:0,characters:0};const o=s.split(/\s+/).filter(Boolean).length,i=s.length;return{words:o,characters:i}},[e]);return a.jsxs("span",{className:`text-xs text-muted-foreground ${t}`,children:[r.words," words",n&&`  ${r.characters} chars`]})}function Wz({score:e}){const t=s=>s>=80?"text-green-500":s>=60?"text-yellow-500":"text-red-500",n=s=>s>=80?"bg-green-500":s>=60?"bg-yellow-500":"bg-red-500",r=[{key:"hook",label:"Hook",icon:zn,value:e.breakdown.hook},{key:"structure",label:"Structure",icon:zo,value:e.breakdown.structure},{key:"engagement",label:"Engagement",icon:CN,value:e.breakdown.engagement},{key:"clarity",label:"Clarity",icon:gi,value:e.breakdown.clarity},{key:"callToAction",label:"CTA",icon:md,value:e.breakdown.callToAction}];return a.jsxs(ve,{children:[a.jsx(fn,{children:a.jsxs(Sn,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(md,{className:"h-5 w-5 text-primary"}),"Script Score"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-3xl font-bold ${t(e.score)}`,children:e.score}),a.jsx("span",{className:"text-muted-foreground",children:"/100"})]})]})}),a.jsxs(xe,{className:"space-y-4",children:[a.jsx("div",{className:"grid gap-3",children:r.map(({key:s,label:o,icon:i,value:l})=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(i,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:o})]}),a.jsx("span",{className:`font-medium ${t(l)}`,children:l})]}),a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all ${n(l)}`,style:{width:`${l}%`}})})]},s))}),e.suggestions&&e.suggestions.length>0&&a.jsxs("div",{className:"pt-3 border-t border-border/50 space-y-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Suggestions"}),a.jsx("ul",{className:"space-y-1",children:e.suggestions.map((s,o)=>a.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[a.jsx("span",{className:"text-primary mt-1",children:""}),s]},o))})]})]})]})}function Hz(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Jv="ScrollArea",[GE,L8]=Vt(Jv),[Kz,Gn]=GE(Jv),YE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,g]=d.useState(null),[m,b]=d.useState(null),[p,x]=d.useState(null),[y,v]=d.useState(0),[w,S]=d.useState(0),[N,j]=d.useState(!1),[_,C]=d.useState(!1),T=Oe(t,R=>c(R)),P=Bi(s);return a.jsx(Kz,{scope:n,type:r,dir:P,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:g,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:j,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:_,onScrollbarYEnabledChange:C,onCornerWidthChange:v,onCornerHeightChange:S,children:a.jsx(me.div,{dir:P,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});YE.displayName=Jv;var QE="ScrollAreaViewport",XE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=Gn(QE,n),l=d.useRef(null),c=Oe(t,l,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(me.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});XE.displayName=QE;var Ir="ScrollAreaScrollbar",Zv=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Gn(Ir,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(qz,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(Gz,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(JE,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(ey,{...r,ref:t}):null});Zv.displayName=Ir;var qz=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Gn(Ir,e.__scopeScrollArea),[o,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Yt,{present:n||o,children:a.jsx(JE,{"data-state":o?"visible":"hidden",...r,ref:t})})}),Gz=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Gn(Ir,e.__scopeScrollArea),o=e.orientation==="horizontal",i=$h(()=>c("SCROLL_END"),100),[l,c]=Hz("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=o?"scrollLeft":"scrollTop";if(u){let f=u[h];const g=()=>{const m=u[h];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[s.viewport,o,c,i]),a.jsx(Yt,{present:n||l!=="hidden",children:a.jsx(ey,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:re(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:re(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),JE=d.forwardRef((e,t)=>{const n=Gn(Ir,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=d.useState(!1),l=e.orientation==="horizontal",c=$h(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:h)}},10);return Ei(n.viewport,c),Ei(n.content,c),a.jsx(Yt,{present:r||o,children:a.jsx(ey,{"data-state":o?"visible":"hidden",...s,ref:t})})}),ey=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Gn(Ir,e.__scopeScrollArea),o=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=rk(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:g=>i.current=g};function f(g,m){return e8(g,i.current,l,m)}return n==="horizontal"?a.jsx(Yz,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollLeft,m=y0(g,l,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=f(g,s.dir))}}):n==="vertical"?a.jsx(Qz,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollTop,m=y0(g,l);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=f(g))}}):null}),Yz=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Gn(Ir,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Oe(t,c,o.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(ek,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Lh(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(o.viewport){const g=o.viewport.scrollLeft+h.deltaX;e.onWheelScroll(g),ok(g,f)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Vd(i.paddingLeft),paddingEnd:Vd(i.paddingRight)}})}})}),Qz=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Gn(Ir,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Oe(t,c,o.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(ek,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Lh(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(o.viewport){const g=o.viewport.scrollTop+h.deltaY;e.onWheelScroll(g),ok(g,f)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Vd(i.paddingTop),paddingEnd:Vd(i.paddingBottom)}})}})}),[Xz,ZE]=GE(Ir),ek=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...g}=e,m=Gn(Ir,n),[b,p]=d.useState(null),x=Oe(t,T=>p(T)),y=d.useRef(null),v=d.useRef(""),w=m.viewport,S=r.content-r.viewport,N=ct(h),j=ct(c),_=$h(f,10);function C(T){if(y.current){const P=T.clientX-y.current.left,R=T.clientY-y.current.top;u({x:P,y:R})}}return d.useEffect(()=>{const T=P=>{const R=P.target;(b==null?void 0:b.contains(R))&&N(P,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,b,S,N]),d.useEffect(j,[r,j]),Ei(b,_),Ei(m.content,_),a.jsx(Xz,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:ct(o),onThumbPointerUp:ct(i),onThumbPositionChange:j,onThumbPointerDown:ct(l),children:a.jsx(me.div,{...g,ref:x,style:{position:"absolute",...g.style},onPointerDown:re(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=b.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),C(T))}),onPointerMove:re(e.onPointerMove,C),onPointerUp:re(e.onPointerUp,T=>{const P=T.target;P.hasPointerCapture(T.pointerId)&&P.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),y.current=null})})})}),Bd="ScrollAreaThumb",tk=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ZE(Bd,e.__scopeScrollArea);return a.jsx(Yt,{present:n||s.hasThumb,children:a.jsx(Jz,{ref:t,...r})})}),Jz=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=Gn(Bd,n),i=ZE(Bd,n),{onThumbPositionChange:l}=i,c=Oe(t,f=>i.onThumbChange(f)),u=d.useRef(void 0),h=$h(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=o.viewport;if(f){const g=()=>{if(h(),!u.current){const m=t8(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,h,l]),a.jsx(me.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:re(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),b=f.clientX-m.left,p=f.clientY-m.top;i.onThumbPointerDown({x:b,y:p})}),onPointerUp:re(e.onPointerUp,i.onThumbPointerUp)})});tk.displayName=Bd;var ty="ScrollAreaCorner",nk=d.forwardRef((e,t)=>{const n=Gn(ty,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(Zz,{...e,ref:t}):null});nk.displayName=ty;var Zz=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Gn(ty,n),[o,i]=d.useState(0),[l,c]=d.useState(0),u=!!(o&&l);return Ei(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),Ei(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),i(h)}),u?a.jsx(me.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Vd(e){return e?parseInt(e,10):0}function rk(e,t){const n=e/t;return isNaN(n)?0:n}function Lh(e){const t=rk(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function e8(e,t,n,r="ltr"){const s=Lh(n),o=s/2,i=t||o,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return sk([c,u],f)(e)}function y0(e,t,n="ltr"){const r=Lh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Mm(e,c);return sk([0,i],[0,l])(u)}function sk(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ok(e,t){return e>0&&e<t}var t8=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,l=n.top!==o.top;(i||l)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function $h(e,t){const n=ct(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ei(e,t){const n=ct(t);ut(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var ak=YE,n8=XE,r8=nk;const Bm=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(ak,{ref:r,className:Y("relative overflow-hidden",e),...n,children:[a.jsx(n8,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(ik,{}),a.jsx(r8,{})]}));Bm.displayName=ak.displayName;const ik=d.forwardRef(({className:e,orientation:t="vertical",...n},r)=>a.jsx(Zv,{ref:r,orientation:t,className:Y("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(tk,{className:"relative flex-1 rounded-full bg-border"})}));ik.displayName=Zv.displayName;var lk="AlertDialog",[s8,$8]=Vt(lk,[gj]),cs=gj(),ck=e=>{const{__scopeAlertDialog:t,...n}=e,r=cs(t);return a.jsx(jv,{...r,...n,modal:!0})};ck.displayName=lk;var o8="AlertDialogTrigger",a8=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=cs(n);return a.jsx(_v,{...s,...r,ref:t})});a8.displayName=o8;var i8="AlertDialogPortal",uk=e=>{const{__scopeAlertDialog:t,...n}=e,r=cs(t);return a.jsx(Cv,{...r,...n})};uk.displayName=i8;var l8="AlertDialogOverlay",dk=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=cs(n);return a.jsx(_c,{...s,...r,ref:t})});dk.displayName=l8;var Ya="AlertDialogContent",[c8,u8]=s8(Ya),d8=GS("AlertDialogContent"),hk=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=cs(n),i=d.useRef(null),l=Oe(t,i),c=d.useRef(null);return a.jsx(i3,{contentName:Ya,titleName:fk,docsSlug:"alert-dialog",children:a.jsx(c8,{scope:n,cancelRef:c,children:a.jsxs(Cc,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:re(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(d8,{children:r}),a.jsx(f8,{contentRef:i})]})})})});hk.displayName=Ya;var fk="AlertDialogTitle",pk=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=cs(n);return a.jsx(Ec,{...s,...r,ref:t})});pk.displayName=fk;var mk="AlertDialogDescription",gk=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=cs(n);return a.jsx(kc,{...s,...r,ref:t})});gk.displayName=mk;var h8="AlertDialogAction",vk=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=cs(n);return a.jsx(Eh,{...s,...r,ref:t})});vk.displayName=h8;var yk="AlertDialogCancel",xk=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=u8(yk,n),o=cs(n),i=Oe(t,s);return a.jsx(Eh,{...o,...r,ref:i})});xk.displayName=yk;var f8=({contentRef:e})=>{const t=`\`${Ya}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ya}\` by passing a \`${mk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ya}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},p8=ck,m8=uk,wk=dk,bk=hk,Sk=vk,Nk=xk,jk=pk,_k=gk;const g8=p8,v8=m8,Ck=d.forwardRef(({className:e,...t},n)=>a.jsx(wk,{className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Ck.displayName=wk.displayName;const Ek=d.forwardRef(({className:e,...t},n)=>a.jsxs(v8,{children:[a.jsx(Ck,{}),a.jsx(bk,{ref:n,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Ek.displayName=bk.displayName;const kk=({className:e,...t})=>a.jsx("div",{className:Y("flex flex-col space-y-2 text-center sm:text-left",e),...t});kk.displayName="AlertDialogHeader";const Tk=({className:e,...t})=>a.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Tk.displayName="AlertDialogFooter";const Ak=d.forwardRef(({className:e,...t},n)=>a.jsx(jk,{ref:n,className:Y("text-lg font-semibold",e),...t}));Ak.displayName=jk.displayName;const Pk=d.forwardRef(({className:e,...t},n)=>a.jsx(_k,{ref:n,className:Y("text-sm text-muted-foreground",e),...t}));Pk.displayName=_k.displayName;const Rk=d.forwardRef(({className:e,...t},n)=>a.jsx(Sk,{ref:n,className:Y(yv(),e),...t}));Rk.displayName=Sk.displayName;const Ok=d.forwardRef(({className:e,...t},n)=>a.jsx(Nk,{ref:n,className:Y(yv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ok.displayName=Nk.displayName;function x0({versions:e,type:t,onRestore:n,onUpdateName:r,onDelete:s,renderInfo:o,disabled:i}){const{toast:l}=Rn(),[c,u]=d.useState(!1),[h,f]=d.useState(null),[g,m]=d.useState(null),[b,p]=d.useState(""),[x,y]=d.useState(null),v=R=>{n(R),u(!1),f(null),l({title:"Restored",description:`${t==="outline"?"Outline":"Script"} version loaded to editor`})},w=(R,M)=>{M.stopPropagation(),s&&y(R)},S=()=>{x&&s&&(s(x),h!==null&&f(null),y(null),l({title:"Deleted",description:"Version removed from history"}))},N=(R,M)=>{m(R),p(M)},j=(R,M,F)=>{F.stopPropagation(),r&&b.trim()&&(r(M,b),m(null))},_=R=>{R.stopPropagation(),m(null),p("")},C=async R=>{try{await navigator.clipboard.writeText(R),l({title:"Copied",description:"Content copied to clipboard"})}catch{l({title:"Error",description:"Could not copy content",variant:"destructive"})}},T=(R,M)=>{f(h===R?null:R)},P=[...e].sort((R,M)=>new Date(M.timestamp).getTime()-new Date(R.timestamp).getTime());return a.jsxs(Rj,{open:c,onOpenChange:R=>{u(R),R||(f(null),m(null))},children:[a.jsx(d3,{asChild:!0,children:a.jsxs(L,{variant:"outline",size:"sm",disabled:i||e.length===0,className:"gap-2",children:[a.jsx(Kp,{className:"h-4 w-4"}),"History (",e.length,")"]})}),a.jsxs(Ev,{className:"w-[400px] sm:w-[600px]",children:[a.jsx(Ij,{children:a.jsxs(Dj,{className:"flex items-center gap-2",children:[a.jsx(Kp,{className:"h-5 w-5"}),t==="outline"?"Outline":"Script"," History"]})}),a.jsx(Bm,{className:"h-[calc(100vh-120px)] mt-4",children:a.jsx("div",{className:"space-y-3 pr-4",children:P.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No versions saved yet"}):P.map((R,M)=>a.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${h===M?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>T(M,R.content),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex items-center gap-2 text-sm font-medium",children:g===M?a.jsxs("div",{className:"flex items-center gap-1",onClick:F=>F.stopPropagation(),children:[a.jsx(ie,{value:b,onChange:F=>p(F.target.value),className:"h-7 w-32 text-xs",autoFocus:!0,onClick:F=>F.stopPropagation(),onKeyDown:F=>{F.key==="Enter"&&j(M,R,F),F.key==="Escape"&&_(F)}}),a.jsx(L,{size:"icon",variant:"ghost",className:"h-7 w-7 text-green-600 hover:text-green-700 hover:bg-green-50",onClick:F=>j(M,R,F),children:a.jsx(Jo,{className:"h-3 w-3"})}),a.jsx(L,{size:"icon",variant:"ghost",className:"h-7 w-7 text-destructive hover:text-destructive hover:bg-red-50",onClick:_,children:a.jsx(os,{className:"h-3 w-3"})})]}):a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsx("span",{className:"text-foreground/90 font-semibold",children:R.name||`Draft ${M+1}`}),r&&a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:F=>{F.stopPropagation(),N(M,R.name||`Draft ${M+1}`)},children:a.jsx(El,{className:"h-3 w-3 text-muted-foreground"})})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[o&&o(R),R.score&&a.jsx("div",{className:`text-[10px] px-1.5 py-0.5 rounded-full font-bold ${R.score.score>=90?"bg-green-100 text-green-700":R.score.score>=80?"bg-blue-100 text-blue-700":R.score.score>=70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:R.score.score}),a.jsx("span",{className:"text-xs text-muted-foreground",children:v_(new Date(R.timestamp),"HH:mm")})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[R.wordCount||0," words"]}),s&&a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:F=>w(R,F),children:a.jsx(Ye,{className:"h-3 w-3"})})]}),a.jsxs("p",{className:"text-sm line-clamp-3 text-foreground/80",children:[R.content.substring(0,200),R.content.length>200?"...":""]}),h===M&&a.jsxs("div",{className:"mt-3 pt-3 border-t space-y-3",children:[a.jsx(Bm,{className:"h-[250px]",children:a.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono text-foreground/70 leading-relaxed",children:R.content})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(L,{size:"sm",onClick:F=>{F.stopPropagation(),v(R)},className:"flex-1 gap-2",children:[a.jsx(El,{className:"h-4 w-4"}),"Edit in Main Editor"]}),a.jsxs(L,{size:"sm",variant:"outline",onClick:F=>{F.stopPropagation(),C(R.content)},className:"gap-2",children:[a.jsx(wa,{className:"h-4 w-4"}),"Copy"]})]})]})]},M))})}),a.jsx(g8,{open:!!x,onOpenChange:R=>!R&&y(null),children:a.jsxs(Ek,{children:[a.jsxs(kk,{children:[a.jsx(Ak,{children:"Are you sure?"}),a.jsx(Pk,{children:"This action cannot be undone. This will permanently delete this version from history."})]}),a.jsxs(Tk,{children:[a.jsx(Ok,{children:"Cancel"}),a.jsx(Rk,{onClick:S,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})]})}const w0=()=>({id:crypto.randomUUID(),title:"",url:"",transcript:"",comments:"",notes:"",activeTab:"transcript"});function b0(){const e=ea(),{id:t}=GD(),{toast:n}=Rn(),{personas:r}=qE(),{dnas:s}=Dv(),{scripts:o,generateOutline:i,generateScriptFromOutline:l,generateScriptSectionBySection:c,scoreScript:u,createScript:h,updateScript:f,suggestUniqueAngle:g,rewriteSection:m,generateSEO:b}=b_(),[p,x]=d.useState("select"),[y,v]=d.useState("input"),[w,S]=d.useState("google/gemini-3-flash-preview"),[N,j]=d.useState("google/gemini-3-flash-preview"),[_,C]=d.useState(""),[T,P]=d.useState(""),[R,M]=d.useState("en"),[F,I]=d.useState(null),[te,V]=d.useState("New Script"),[oe,O]=d.useState(!1),[A,W]=d.useState(""),[ee,se]=d.useState(""),[ae,ge]=d.useState(""),[K,ye]=d.useState(""),[q,Re]=d.useState(1e3),[Te,Se]=d.useState(!1),[Ee,De]=d.useState(""),[Ve,nt]=d.useState([]),[dt,Tt]=d.useState([]),[Mt,an]=d.useState(!1),[$,Ae]=d.useState(!1),[Z,D]=d.useState(null),[U,Q]=d.useState([]),[X,le]=d.useState(null),[qe,na]=d.useState(!1),[H,ue]=d.useState(!1),[ke,fe]=d.useState(""),[Me,We]=d.useState(""),[_t,Xt]=d.useState(""),[Wi,Mc]=d.useState(""),[Lc,ra]=d.useState(null),[vr,Dr]=d.useState([]),[Ct,us]=d.useState([]),[Pe,$e]=d.useState(null),[Je,ln]=d.useState(!1),[Lt,Yn]=d.useState(!1),[In,cn]=d.useState(!1),[yr,ny]=d.useState(""),[$c,Fc]=d.useState(!1),[Uc,zc]=d.useState(null),[ry,sy]=d.useState(!1),[Bc,oy]=d.useState({}),[ds,hs]=d.useState(["input"]),ay=d.useRef(!1);d.useEffect(()=>{if(t){const k=o.find(G=>G.id===t);if(k){I(k.id),V(k.title||"New Script"),se(k.topic||""),ge(k.key_points||""),ye(k.unique_angle||""),P(k.dna_id||"none"),C(k.persona_id||"none"),fe(k.full_script||"");const G=(k.outline_history||[]).map(Ne=>({...Ne,id:Ne.id||crypto.randomUUID()})),B=(k.script_history||[]).map(Ne=>({...Ne,id:Ne.id||crypto.randomUUID()}));if(Dr(G),us(B),k.score_breakdown&&$e(k.score_breakdown),k.blueprint_content){const Ne=k.blueprint_content;D(Ne);let rt=crypto.randomUUID();const vt=G.find(it=>it.content===JSON.stringify(Ne))||G[G.length-1];vt&&(rt=vt.id),Q([{id:rt,outline:Ne,createdAt:new Date(k.created_at),script:k.full_script||void 0}]),le(rt)}x("new-idea");const de=["input"];if(k.blueprint_content&&de.push("outline"),k.full_script&&de.push("script"),hs(de),!ay.current)if(ay.current=!0,k.full_script){v("script");const Ne=B.find(rt=>rt.content===k.full_script)||B[B.length-1];Ne&&Ne.id&&ra(Ne.id)}else k.blueprint_content?v("outline"):v("input")}}},[t,o]),d.useEffect(()=>{ee&&te==="New Script"&&V(ee.slice(0,50)+(ee.length>50?"...":""))},[ee,te]);const iy=k=>{const G=T&&T!=="none"?s.find(Ze=>Ze.id===T):null,B=_&&_!=="none"?r.find(Ze=>Ze.id===_):null,de=G&&B?"hybrid":G?"dna":"persona",Ne=Ze=>{const lo=[];return Ze.title&&lo.push(`Title: ${Ze.title}`),Ze.transcript&&lo.push(`Script: ${Ze.transcript}`),Ze.comments&&lo.push(`Comments: ${Ze.comments}`),Ze.notes&&lo.push(`Notes: ${Ze.notes}`),lo.join(`
`)},rt=Ve.filter(Ze=>Ze.transcript||Ze.comments),vt=dt.filter(Ze=>Ze.transcript||Ze.comments),it=rt.length>0?`

Viral References (learn from these):
${rt.map(Ne).join(`
---
`)}`:"",xn=vt.length>0?`

Flop References (avoid these patterns):
${vt.map(Ne).join(`
---
`)}`:"";return{topic:p==="new-idea"?ee:"Rewrite competitor script",keyPoints:(p==="new-idea"?ae:Ee)+it+xn,uniqueAngle:K,mode:de,dna:G||void 0,persona:B||void 0,model:k,language:R,targetWordCount:q||void 0,allowStructureInnovation:Te}},Ik=()=>nt([...Ve,w0()]),sa=(k,G,B)=>{nt(de=>de.map(Ne=>Ne.id===k?{...Ne,[G]:B}:Ne))},Dk=k=>{nt(Ve.filter(G=>G.id!==k))},Mk=()=>Tt([...dt,w0()]),oa=(k,G,B)=>{Tt(de=>de.map(Ne=>Ne.id===k?{...Ne,[G]:B}:Ne))},Lk=k=>{Tt(dt.filter(G=>G.id!==k))},ly=()=>{W(te),O(!0)},cy=async()=>{V(A),O(!1),F&&await f(F,{title:A})},uy=()=>{O(!1)},dy=async k=>{x(k);const G=await h({title:"New Script",topic:"",status:"draft",generation_mode:k});G&&I(G.id)},Vc=k=>k.trim().split(/\s+/).filter(Boolean).length,Hi=async(k,G)=>{try{const B=k.replace(/\|\|\|SECTION\|\|\|/g,`

`).trim();await navigator.clipboard.writeText(B),n({title:"Copied",description:`${G} copied to clipboard`})}catch{n({title:"Error",description:"Could not copy content",variant:"destructive"})}},hy=async()=>{Yn(!0);let k=[...vr];const G=Z?JSON.stringify(Z):null;if(G&&F){const B={id:X||crypto.randomUUID(),content:G,timestamp:new Date().toISOString(),wordCount:Vc(G)};k=[...vr,B],Dr(k)}try{const B=await i(iy(w));if(B){const de=crypto.randomUUID(),Ne={id:de,outline:B,createdAt:new Date};Q(it=>[...it,Ne]),le(de),D(B),fe(""),$e(null),v("outline");const rt={id:de,name:`Draft ${k.length+1}`,content:JSON.stringify(B),timestamp:new Date().toISOString(),wordCount:Vc(JSON.stringify(B))},vt=[...k,rt];if(Dr(vt),ds.includes("outline")||hs(it=>[...it,"outline"]),hs(it=>it.filter(xn=>xn!=="script")),F){const it=T&&T!=="none"?s.find(Ze=>Ze.id===T):null,xn=_&&_!=="none"?r.find(Ze=>Ze.id===_):null;await f(F,{title:te,topic:ee,key_points:ae,unique_angle:K,dna_id:(it==null?void 0:it.id)||null,persona_id:(xn==null?void 0:xn.id)||null,blueprint_content:B,status:"outline",full_script:null,score:null,score_breakdown:null,outline_history:vt})}}}finally{Yn(!1)}},fy=async()=>{if(!Z)return;cn(!0),$e(null);let k=[...Ct];const G=Ct.some(B=>B.content===ke);if(ke&&F&&!G){const B={id:crypto.randomUUID(),content:ke,timestamp:new Date().toISOString(),wordCount:Vc(ke),outlineVersionId:X||void 0};k=[...Ct,B],us(k)}try{const B=await c(Z,iy(N),(de,Ne,rt)=>{ny(`[${de}/${Ne}] ${rt}`)});if(ny(""),B){fe(B),v("script"),ds.includes("script")||hs(vt=>[...vt,"script"]),X&&Q(vt=>vt.map(it=>it.id===X?{...it,script:B}:it));const de=`Draft ${k.filter(vt=>!X||vt.outlineVersionId===X).length+1}`,Ne={id:crypto.randomUUID(),name:de,content:B,timestamp:new Date().toISOString(),wordCount:Vc(B),outlineVersionId:X||void 0},rt=[...k,Ne];us(rt),ra(Ne.id),F&&(await f(F,{title:te,full_script:B,status:"done",script_history:rt,blueprint_content:Z}),n({title:"Script Complete",description:"Your script has been saved"}))}}finally{cn(!1)}},$k=async()=>{if(ke){ln(!0);try{const k=T&&T!=="none"?s.find(de=>de.id===T):null,G=_&&_!=="none"?r.find(de=>de.id===_):null,B=await u(ke,k,G);if(B){$e(B);const de=Ct.map(Ne=>Ne.content===ke?{...Ne,score:B}:Ne);us(de),F&&await f(F,{score:B.score,score_breakdown:B,script_history:de}),n({title:"Script Scored",description:`Your script scored ${B.score}/100`})}}finally{ln(!1)}}},Fk=async()=>{F&&(y==="outline"&&Z?(await f(F,{title:te,blueprint_content:Z,status:"draft"}),n({title:"Saved",description:"Outline saved successfully"})):y==="script"&&(await f(F,{title:te,full_script:ke,status:"done"}),n({title:"Saved",description:"Script saved successfully"})))},Uk=()=>{y==="script"?v("outline"):y==="outline"?v("input"):(x("select"),D(null),Q([]),le(null),fe(""),$e(null),v("input"),hs(["input"]),I(null),V("New Script"),e("/writer"))},Fh=k=>{(k==="input"||ds.includes(k))&&v(k)},zk=k=>{D(k.outline),le(k.id),fe(k.script||""),ue(!1),k.script?ds.includes("script")||hs(G=>[...G,"script"]):hs(G=>G.filter(B=>B!=="script"))},py=k=>{try{k.id&&le(k.id);const G=JSON.parse(k.content);D(G),k.script?(fe(k.script),$e(null),n({title:"Restored",description:"Outline and associated script restored"})):(fe(""),$e(null),n({title:"Restored",description:"Outline restored (no linked script found)"}))}catch{n({title:"Error",description:"Could not restore outline",variant:"destructive"})}},my=async(k,G)=>{const B=vr.map(de=>de.id===k.id||de.timestamp===k.timestamp&&de.content===k.content?{...de,name:G}:de);Dr(B),F&&await f(F,{outline_history:B})},gy=async(k,G)=>{const B=Ct.map(de=>de.id===k.id||de.timestamp===k.timestamp&&de.content===k.content?{...de,name:G}:de);us(B),F&&await f(F,{script_history:B})},Bk=async k=>{const G=vr.filter(B=>B.id!==k.id);if(Dr(G),G.length===0){v("input"),D(null),hs(B=>B.filter(de=>de!=="outline"&&de!=="script")),n({title:"History Cleared",description:"Returned to input step"}),F&&await f(F,{outline_history:G,blueprint_content:null,status:"idea"});return}if(k.id===X){const de=[...G].sort((Ne,rt)=>new Date(rt.timestamp).getTime()-new Date(Ne.timestamp).getTime())[0];de&&(py(de),n({title:"Switched Version",description:"Switched to latest available outline"}))}F&&await f(F,{outline_history:G})},Vk=async k=>{const G=Ct.filter(B=>B.id!==k.id);us(G),F&&await f(F,{script_history:G})},[Wk,Ki]=d.useState(!1),[Wc,Uh]=d.useState(""),aa=vr.find(k=>k.id===X),vy=(aa==null?void 0:aa.name)||(vr.length>0?`Draft ${vr.length}`:"New Draft"),ia=Ct.find(k=>k.id===Lc),yy=(ia==null?void 0:ia.name)||(Ct.filter(k=>!X||k.outlineVersionId===X).length>0?`Draft ${Ct.filter(k=>!X||k.outlineVersionId===X).length}`:"New Script"),xy=async()=>{if(!Wc.trim()){Ki(!1);return}y==="outline"&&aa?await my(aa,Wc):y==="script"&&ia&&await gy(ia,Wc),Ki(!1)},Hk=k=>{fe(k.content),k.id&&ra(k.id),k.score?$e(k.score):$e(null),n({title:"Restored",description:"Script restored from history"})},qi=(k,G,B)=>{if(!Z)return;const de=[...Z.sections];de[k]={...de[k],[G]:B},D({...Z,sections:de})},wy=()=>{if(!Z)return;const k={title:"New Section",content:"",wordCount:100,notes:""};D({...Z,sections:[...Z.sections,k]})},Kk=k=>{Z&&D({...Z,sections:Z.sections.filter((G,B)=>B!==k)})};return p==="select"&&!t?a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"AI Writer"}),a.jsx("p",{className:"text-muted-foreground",children:"Generate unique, viral-ready scripts"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2 max-w-3xl",children:[a.jsx(ve,{variant:"elevated",className:"cursor-pointer group hover:ring-2 hover:ring-primary transition-all",onClick:()=>dy("new-idea"),children:a.jsxs(xe,{className:"p-8 text-center space-y-4",children:[a.jsx("div",{className:"mx-auto rounded-2xl bg-primary/10 p-6 w-fit group-hover:bg-primary/20 transition-colors",children:a.jsx(Hg,{className:"h-12 w-12 text-primary"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"New Idea"}),a.jsx("p",{className:"text-muted-foreground",children:"Start fresh with your own topic and create an original script"})]}),a.jsx(xt,{className:"bg-primary/10 text-primary",children:"Most Popular"})]})}),a.jsx(ve,{variant:"elevated",className:"cursor-pointer group hover:ring-2 hover:ring-primary transition-all",onClick:()=>dy("rewrite"),children:a.jsxs(xe,{className:"p-8 text-center space-y-4",children:[a.jsx("div",{className:"mx-auto rounded-2xl bg-accent/50 p-6 w-fit group-hover:bg-accent transition-colors",children:a.jsx(Vr,{className:"h-12 w-12 text-accent-foreground"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Rewrite"}),a.jsx("p",{className:"text-muted-foreground",children:"Transform a competitor's script using your unique DNA pattern"})]})]})})]})]}):a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(L,{variant:"ghost",size:"sm",onClick:Uk,children:" Back"}),a.jsxs("div",{className:"flex-1",children:[oe?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ie,{value:A,onChange:k=>W(k.target.value),className:"text-xl font-bold h-9 max-w-md",autoFocus:!0,onKeyDown:k=>{k.key==="Enter"&&cy(),k.key==="Escape"&&uy()}}),a.jsx(L,{size:"icon",variant:"ghost",onClick:cy,children:a.jsx(Jo,{className:"h-4 w-4"})}),a.jsx(L,{size:"icon",variant:"ghost",onClick:uy,children:a.jsx(os,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight cursor-pointer hover:text-primary transition-colors",onClick:ly,children:te}),a.jsx(L,{size:"icon",variant:"ghost",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:ly,children:a.jsx(El,{className:"h-3 w-3"})})]}),a.jsxs("p",{className:"text-muted-foreground",children:[y==="input"&&"Step 1: Enter your inputs",y==="outline"&&"Step 2: Review and edit outline",y==="script"&&"Step 3: Your generated script"]})]}),(y==="script"||y==="outline")&&a.jsxs("div",{className:"flex items-center gap-3 bg-muted/30 p-1 rounded-full border border-border/50",children:[a.jsxs(L,{onClick:Fk,size:"sm",className:"gap-2 shadow-sm h-8 rounded-full",children:[a.jsx(ch,{className:"h-4 w-4"}),"Save"]}),a.jsx("div",{className:"flex items-center justify-center min-w-[150px] px-2 border-l border-r border-border/50 h-6",children:Wk?a.jsx("div",{className:"flex items-center gap-1",children:a.jsx(ie,{value:Wc,onChange:k=>Uh(k.target.value),className:"h-6 w-32 text-xs text-center",autoFocus:!0,onKeyDown:k=>{k.key==="Enter"&&xy(),k.key==="Escape"&&Ki(!1)},onBlur:xy})}):a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 px-2 py-1 rounded transition-colors group",onClick:()=>{y==="outline"&&aa?(Uh(vy),Ki(!0)):y==="script"&&ia&&(Uh(yy),Ki(!0))},children:[a.jsx("span",{className:"text-sm font-medium text-foreground/80",children:y==="outline"?vy:yy}),(y==="outline"||y==="script")&&a.jsx(El,{className:"h-3 w-3 text-muted-foreground opacity-0 group-hover:opacity-100"})]})}),y==="outline"&&a.jsxs(L,{variant:qe?"secondary":"ghost",size:"sm",onClick:()=>na(!qe),className:"h-8 gap-2",children:[a.jsx(El,{className:"h-3 w-3"}),qe?"Done":"Edit"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>Fh("input"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors cursor-pointer ${y==="input"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center text-xs",children:"1"}),"Input"]}),a.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("button",{onClick:()=>Fh("outline"),disabled:!ds.includes("outline"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${y==="outline"?"bg-primary text-primary-foreground cursor-pointer":ds.includes("outline")?"bg-muted text-muted-foreground hover:bg-muted/80 cursor-pointer":"bg-muted/50 text-muted-foreground/50 cursor-not-allowed"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center text-xs",children:"2"}),"Outline"]}),a.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("button",{onClick:()=>Fh("script"),disabled:!ds.includes("script"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${y==="script"?"bg-primary text-primary-foreground cursor-pointer":ds.includes("script")?"bg-muted text-muted-foreground hover:bg-muted/80 cursor-pointer":"bg-muted/50 text-muted-foreground/50 cursor-not-allowed"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center text-xs",children:"3"}),"Script"]})]})]}),y==="input"&&a.jsxs("div",{className:"grid gap-6 lg:grid-cols-5",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(ve,{children:[a.jsx(fn,{children:a.jsxs(Sn,{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-5 w-5 text-primary"}),"AI Model (Outline)"]})}),a.jsx(xe,{children:a.jsx(Bu,{value:w,onChange:S})})]}),a.jsxs(ve,{children:[a.jsxs(fn,{children:[a.jsx(Sn,{children:"Configure Generation"}),a.jsx(Gs,{children:"Select DNA pattern and/or audience persona to guide the script"})]}),a.jsxs(xe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(ro,{className:"h-4 w-4 text-primary"}),"DNA Pattern"]}),a.jsxs(Yr,{value:T,onValueChange:P,children:[a.jsx(Ar,{className:"rounded-xl",children:a.jsx(Qr,{placeholder:"Select DNA (optional)..."})}),a.jsxs(Pr,{children:[a.jsx(Xe,{value:"none",children:"No DNA"}),s.map(k=>a.jsx(Xe,{value:k.id,children:k.name},k.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(yi,{className:"h-4 w-4 text-primary"}),"Audience Persona"]}),a.jsxs(Yr,{value:_,onValueChange:C,children:[a.jsx(Ar,{className:"rounded-xl",children:a.jsx(Qr,{placeholder:"Select persona (optional)..."})}),a.jsxs(Pr,{children:[a.jsx(Xe,{value:"none",children:"No Persona"}),r.map(k=>a.jsx(Xe,{value:k.id,children:k.name},k.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(Hp,{className:"h-4 w-4 text-primary"}),"Language"]}),a.jsxs(Yr,{value:R,onValueChange:M,children:[a.jsx(Ar,{className:"rounded-xl",children:a.jsx(Qr,{placeholder:"Select language..."})}),a.jsxs(Pr,{children:[a.jsx(Xe,{value:"en",children:"English"}),a.jsx(Xe,{value:"vi",children:"Ting Vit"}),a.jsx(Xe,{value:"es",children:"Espaol"}),a.jsx(Xe,{value:"fr",children:"Franais"}),a.jsx(Xe,{value:"ja",children:" (Japanese)"}),a.jsx(Xe,{value:"ko",children:" (Korean)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(Un,{className:"h-4 w-4 text-primary"}),"Target Word Count"]}),a.jsx(ie,{type:"number",value:q,onChange:k=>Re(parseInt(k.target.value)||0),className:"rounded-xl",placeholder:"e.g. 1000"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Approximate length for scaling sections"})]}),a.jsx(Ga,{feature:"structure_innovation",children:a.jsxs("div",{className:"flex items-start space-x-3 pt-2 p-3 bg-muted/30 rounded-xl border border-border/50",children:[a.jsx(Xv,{id:"innovation",checked:Te,onCheckedChange:k=>Se(k),className:"mt-1"}),a.jsxs("div",{className:"grid gap-1.5 leading-none",children:[a.jsx(z,{htmlFor:"innovation",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Allow Structure Innovation"}),a.jsx("p",{className:"text-xs text-muted-foreground leading-snug",children:"Allow AI to vary the structure by 15-25% for novelty while keeping core DNA elements."})]})]})})]})]})]}),a.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[a.jsxs(ve,{children:[a.jsxs(fn,{children:[a.jsx(Sn,{children:p==="new-idea"?"Your Idea":"Competitor Script"}),a.jsx(Gs,{children:p==="new-idea"?"What topic do you want to create content about?":"Paste the competitor's script to rewrite"})]}),a.jsx(xe,{className:"space-y-4",children:p==="new-idea"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{children:"Topic *"}),a.jsx(ho,{text:ee})]}),a.jsx(ie,{value:ee,onChange:k=>se(k.target.value),placeholder:"e.g., How to build a morning routine...",className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{children:"Key Points (Optional)"}),a.jsx(ho,{text:ae})]}),a.jsx(be,{value:ae,onChange:k=>ge(k.target.value),placeholder:"Main points you want to cover...",className:"rounded-xl resize-none min-h-[100px]"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{children:"Your Unique Angle"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ga,{feature:"ai_suggest_angle",hideCompletely:!0,children:a.jsxs(L,{variant:"ghost",size:"sm",onClick:async()=>{if(!ee){n({title:"Enter a topic first",variant:"destructive"});return}Fc(!0);const k=T&&T!=="none"?s.find(de=>de.id===T):null,G=_&&_!=="none"?r.find(de=>de.id===_):null,B=await g(ee,k,G,w);B.length>0&&(ye(B.map((de,Ne)=>`${Ne+1}. ${de.angle}`).join(`

`)),n({title:`${B.length} angles suggested!`})),Fc(!1)},disabled:$c||!ee,className:"h-7 text-xs gap-1",children:[$c?a.jsx(St,{className:"h-3 w-3 animate-spin"}):a.jsx(jt,{className:"h-3 w-3"}),"AI Suggest"]})}),a.jsx(ho,{text:K})]})]}),a.jsx(be,{value:K,onChange:k=>ye(k.target.value),placeholder:"What makes your perspective different? Click 'AI Suggest' for ideas...",className:"rounded-xl resize-none min-h-[80px]"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{children:"Competitor Script *"}),a.jsx(ho,{text:Ee})]}),a.jsx(be,{value:Ee,onChange:k=>De(k.target.value),placeholder:"Paste the competitor's script here...",className:"rounded-xl resize-none min-h-[200px]"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{children:"Your Unique Angle (Optional)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ga,{feature:"ai_suggest_angle",hideCompletely:!0,children:a.jsxs(L,{variant:"ghost",size:"sm",onClick:async()=>{if(!Ee){n({title:"Paste competitor script first",variant:"destructive"});return}Fc(!0);const k=T&&T!=="none"?s.find(Ne=>Ne.id===T):null,G=_&&_!=="none"?r.find(Ne=>Ne.id===_):null,B=Ee.substring(0,200),de=await g(B,k,G,w);de.length>0&&(ye(de.map((Ne,rt)=>`${rt+1}. ${Ne.angle}`).join(`

`)),n({title:`${de.length} angles suggested!`})),Fc(!1)},disabled:$c||!Ee,className:"h-7 text-xs gap-1",children:[$c?a.jsx(St,{className:"h-3 w-3 animate-spin"}):a.jsx(jt,{className:"h-3 w-3"}),"AI Suggest"]})}),a.jsx(ho,{text:K})]})]}),a.jsx(be,{value:K,onChange:k=>ye(k.target.value),placeholder:"What makes your version different? Click 'AI Suggest' for ideas...",className:"rounded-xl resize-none min-h-[80px]"})]})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Fd,{open:Mt,onOpenChange:an,children:a.jsxs(ve,{className:"overflow-hidden",children:[a.jsx(Ud,{asChild:!0,children:a.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:a.jsx(CN,{className:"h-4 w-4 text-green-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-green-600",children:"Viral References"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Add successful content examples to learn from"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Ve.length>0&&a.jsx(xt,{variant:"secondary",className:"text-xs",children:Ve.length}),Mt?a.jsx(Wp,{className:"h-4 w-4"}):a.jsx(mi,{className:"h-4 w-4"})]})]})}),a.jsx(zd,{children:a.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[Ve.map((k,G)=>a.jsxs("div",{className:"relative bg-muted/30 rounded-xl p-4 space-y-3",children:[a.jsxs(xt,{className:"absolute -top-2 -left-2 bg-green-500 text-white text-xs",children:["#",G+1]}),Ve.length>0&&a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>Dk(k.id),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a.jsx(Ye,{className:"h-3 w-3"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Title"}),a.jsx(ie,{placeholder:"e.g., How I built a SaaS in 2 days",value:k.title,onChange:B=>sa(k.id,"title",B.target.value),className:"h-8 text-sm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"YouTube URL"}),a.jsx(ie,{placeholder:"https://youtube.com/",value:k.url,onChange:B=>sa(k.id,"url",B.target.value),className:"h-8 text-sm"})]})]}),a.jsxs(uc,{value:k.activeTab,onValueChange:B=>sa(k.id,"activeTab",B),children:[a.jsxs(Ci,{className:"h-8 bg-background/50",children:[a.jsxs(lr,{value:"transcript",className:"text-xs h-6 gap-1",children:[a.jsx(Un,{className:"h-3 w-3"})," Script / Transcript"]}),a.jsxs(lr,{value:"comments",className:"text-xs h-6 gap-1",children:[a.jsx(gi,{className:"h-3 w-3"})," Comments / Feedback"]})]}),a.jsx(cr,{value:"transcript",className:"mt-2",children:a.jsx(be,{placeholder:"Paste content here...",value:k.transcript,onChange:B=>sa(k.id,"transcript",B.target.value),className:"min-h-[80px] text-sm resize-none"})}),a.jsx(cr,{value:"comments",className:"mt-2",children:a.jsx(be,{placeholder:"Paste comments or feedback here...",value:k.comments,onChange:B=>sa(k.id,"comments",B.target.value),className:"min-h-[80px] text-sm resize-none"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Description / Notes"}),a.jsx(be,{placeholder:"e.g., A quick breakdown of the tech stack...",value:k.notes,onChange:B=>sa(k.id,"notes",B.target.value),className:"min-h-[60px] text-sm resize-none"})]})]},k.id)),a.jsxs(L,{variant:"outline",size:"sm",onClick:Ik,className:"w-full gap-2 border-dashed border-green-500/50 text-green-600 hover:bg-green-500/5",children:[a.jsx(He,{className:"h-4 w-4"}),"Add Viral Reference"]})]})})]})}),a.jsx(Fd,{open:$,onOpenChange:Ae,children:a.jsxs(ve,{className:"overflow-hidden",children:[a.jsx(Ud,{asChild:!0,children:a.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-red-500/10",children:a.jsx($2,{className:"h-4 w-4 text-red-500"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-red-500",children:"Flop References"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Add examples of what to avoid"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[dt.length>0&&a.jsx(xt,{variant:"secondary",className:"text-xs",children:dt.length}),$?a.jsx(Wp,{className:"h-4 w-4"}):a.jsx(mi,{className:"h-4 w-4"})]})]})}),a.jsx(zd,{children:a.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[dt.map((k,G)=>a.jsxs("div",{className:"relative bg-muted/30 rounded-xl p-4 space-y-3",children:[a.jsxs(xt,{className:"absolute -top-2 -left-2 bg-red-500 text-white text-xs",children:["#",G+1]}),dt.length>0&&a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>Lk(k.id),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a.jsx(Ye,{className:"h-3 w-3"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Title"}),a.jsx(ie,{placeholder:"e.g., Why my video flopped",value:k.title,onChange:B=>oa(k.id,"title",B.target.value),className:"h-8 text-sm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"YouTube URL"}),a.jsx(ie,{placeholder:"https://youtube.com/",value:k.url,onChange:B=>oa(k.id,"url",B.target.value),className:"h-8 text-sm"})]})]}),a.jsxs(uc,{value:k.activeTab,onValueChange:B=>oa(k.id,"activeTab",B),children:[a.jsxs(Ci,{className:"h-8 bg-background/50",children:[a.jsxs(lr,{value:"transcript",className:"text-xs h-6 gap-1",children:[a.jsx(Un,{className:"h-3 w-3"})," Script / Transcript"]}),a.jsxs(lr,{value:"comments",className:"text-xs h-6 gap-1",children:[a.jsx(gi,{className:"h-3 w-3"})," Comments / Feedback"]})]}),a.jsx(cr,{value:"transcript",className:"mt-2",children:a.jsx(be,{placeholder:"Paste content here...",value:k.transcript,onChange:B=>oa(k.id,"transcript",B.target.value),className:"min-h-[80px] text-sm resize-none"})}),a.jsx(cr,{value:"comments",className:"mt-2",children:a.jsx(be,{placeholder:"Paste comments or feedback here...",value:k.comments,onChange:B=>oa(k.id,"comments",B.target.value),className:"min-h-[80px] text-sm resize-none"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Description / Notes"}),a.jsx(be,{placeholder:"e.g., Why this didn't work...",value:k.notes,onChange:B=>oa(k.id,"notes",B.target.value),className:"min-h-[60px] text-sm resize-none"})]})]},k.id)),a.jsxs(L,{variant:"outline",size:"sm",onClick:Mk,className:"w-full gap-2 border-dashed border-red-500/50 text-red-500 hover:bg-red-500/5",children:[a.jsx(He,{className:"h-4 w-4"}),"Add Flop Reference"]})]})})]})})]}),a.jsx(L,{className:"w-full gap-2 rounded-xl h-12 shadow-lg shadow-primary/20",onClick:hy,disabled:Lt||(p==="new-idea"?!ee:!Ee),children:Lt?a.jsxs(a.Fragment,{children:[a.jsx(St,{className:"h-5 w-5 animate-spin"}),"Generating Outline..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"h-5 w-5"}),"Generate Outline",a.jsx(Kr,{className:"h-4 w-4"})]})})]})]}),y==="outline"&&Z&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fd,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("span",{className:"text-muted-foreground",children:["Est. Words: ",Z.totalWordCount]})]}),a.jsx(x0,{versions:vr,type:"outline",onRestore:py,onUpdateName:my,onDelete:Bk,renderInfo:k=>{const G=Ct.filter(B=>B.outlineVersionId===k.id).length;return G>0?a.jsxs(xt,{variant:"secondary",className:"text-[10px] h-5 px-1 bg-blue-100 text-blue-700 hover:bg-blue-200 border-none",children:[G," scripts"]}):null},disabled:Lt}),a.jsx(Bu,{value:N,onChange:j,label:"Script Model",compact:!0})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(L,{variant:"outline",size:"sm",onClick:hy,disabled:Lt,children:[a.jsx(Vr,{className:`h-4 w-4 mr-2 ${Lt?"animate-spin":""}`}),"Regenerate"]})})]}),H&&a.jsxs(ve,{children:[a.jsx(fn,{children:a.jsxs(Sn,{className:"flex items-center gap-2",children:[a.jsx(Kp,{className:"h-5 w-5"}),"Outline Versions"]})}),a.jsx(xe,{children:a.jsx("div",{className:"space-y-2",children:U.map((k,G)=>a.jsxs("div",{onClick:()=>zk(k),className:`p-3 rounded-lg cursor-pointer transition-colors flex items-center justify-between ${k.id===X?"bg-primary/10 border border-primary/30":"bg-muted/50 hover:bg-muted"}`,children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:["Version ",G+1]}),a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:k.createdAt.toLocaleTimeString()})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[k.script&&a.jsx(xt,{variant:"secondary",className:"text-xs",children:"Has Script"}),k.id===X&&a.jsx(xt,{className:"text-xs",children:"Current"})]})]},k.id))})})]}),a.jsxs(ve,{children:[a.jsx(fn,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Sn,{children:"Content Sections"}),a.jsxs(Gs,{children:[Z.sections.length," sections in your script"]})]}),qe&&a.jsxs(L,{variant:"outline",size:"sm",onClick:wy,children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})}),a.jsxs(xe,{className:"space-y-4",children:[Z.sections.map((k,G)=>a.jsxs("div",{children:[qe&&a.jsx("div",{className:"flex justify-center py-1",children:a.jsxs(L,{variant:"ghost",size:"sm",onClick:()=>{const B={title:"New Section",wordCount:100,content:"",notes:""},de=[...Z.sections];de.splice(G,0,B),D({...Z,sections:de})},className:"h-6 text-xs gap-1 text-muted-foreground hover:text-primary",children:[a.jsx(He,{className:"h-3 w-3"}),"Insert Section"]})}),a.jsxs("div",{className:"p-4 rounded-xl bg-muted/50 space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between gap-2",children:qe?a.jsxs(a.Fragment,{children:[a.jsx(ie,{value:k.title,onChange:B=>qi(G,"title",B.target.value),className:"rounded-lg font-medium flex-1",placeholder:"Section title..."}),a.jsx(ie,{type:"number",value:k.wordCount,onChange:B=>qi(G,"wordCount",parseInt(B.target.value)||0),className:"rounded-lg w-24",placeholder:"Words"}),a.jsx(L,{variant:"ghost",size:"icon",onClick:()=>Kk(G),className:"h-8 w-8 text-destructive",children:a.jsx(Ye,{className:"h-4 w-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h4",{className:"font-medium",children:[G+1,". ",k.title]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(xt,{variant:"outline",children:[k.wordCount," words"]})})]})}),qe?a.jsxs("div",{className:"space-y-1",children:[a.jsx(be,{value:k.content,onChange:B=>qi(G,"content",B.target.value),className:"rounded-lg resize-none min-h-[80px]",placeholder:"Section content..."}),a.jsx(ho,{text:k.content})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:k.content}),qe?a.jsx(ie,{value:k.notes||"",onChange:B=>qi(G,"notes",B.target.value),className:"rounded-lg text-sm",placeholder:"Notes (optional)..."}):k.notes&&a.jsxs("div",{className:"space-y-1",children:[k.notes.includes("Unique Angle Integration")&&a.jsx(xt,{variant:"secondary",className:"bg-purple-500/10 text-purple-500 border-purple-500/20 mb-1",children:" Unique Angle Integrated"}),a.jsxs("p",{className:"text-xs text-muted-foreground italic",children:[" ",k.notes]})]}),!qe&&a.jsxs("div",{className:"pt-2 border-t border-border/50 flex items-center gap-2",children:[a.jsx(ie,{value:Bc[G]||"",onChange:B=>oy(de=>({...de,[G]:B.target.value})),placeholder:"Add ideas to improve this section...",className:"rounded-lg text-sm flex-1 h-8"}),a.jsxs(L,{variant:"outline",size:"sm",onClick:async()=>{zc(G);const B=T&&T!=="none"?s.find(rt=>rt.id===T):null,de=_&&_!=="none"?r.find(rt=>rt.id===_):null,Ne=await m(k.title,k.content,Bc[G]||"",{dna:B,persona:de,targetWordCount:k.wordCount},w);Ne&&(qi(G,"content",Ne),n({title:`Section "${k.title}" rewritten!`})),zc(null)},disabled:Uc===G,className:"h-8 gap-1",children:[Uc===G?a.jsx(St,{className:"h-3 w-3 animate-spin"}):a.jsx(Vr,{className:"h-3 w-3"}),"Rewrite"]})]})]})]},G)),qe&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsxs(L,{variant:"outline",size:"sm",onClick:wy,className:"h-8 gap-1",children:[a.jsx(He,{className:"h-4 w-4"}),"Add Section at End"]})})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(L,{variant:"outline",className:"flex-1 rounded-xl h-12",onClick:()=>v("input"),children:" Back to Input"}),a.jsx(L,{className:"flex-1 gap-2 rounded-xl h-12 shadow-lg shadow-primary/20",onClick:fy,disabled:In,children:In?a.jsxs(a.Fragment,{children:[a.jsx(St,{className:"h-5 w-5 animate-spin"}),yr||"Starting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vi,{className:"h-5 w-5"}),"Write Full Script",a.jsx(Kr,{className:"h-4 w-4"})]})})]})]}),y==="script"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs(ve,{children:[a.jsx(fn,{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Sn,{className:"text-sm",children:"SEO Metadata"}),a.jsxs(L,{variant:"outline",size:"sm",onClick:async()=>{if(!ke){n({title:"Generate script first",variant:"destructive"});return}sy(!0);const k=T&&T!=="none"?s.find(de=>de.id===T):null,G=_&&_!=="none"?r.find(de=>de.id===_):null,B=await b(ke,k,G,N);B&&(We(B.title),Xt(B.description),Mc(B.tags.join(", ")),n({title:"SEO metadata generated!"})),sy(!1)},disabled:ry||!ke,className:"h-7 gap-1",children:[ry?a.jsx(St,{className:"h-3 w-3 animate-spin"}):a.jsx(jt,{className:"h-3 w-3"}),"Generate SEO"]})]})}),a.jsxs(xe,{className:"p-4 space-y-4 pt-0",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{className:"text-sm font-medium",children:"Title"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Hi(Me,"title"),disabled:!Me,children:a.jsx(wa,{className:"h-3 w-3"})})]}),a.jsx(ie,{value:Me,onChange:k=>We(k.target.value),placeholder:"Enter video title...",className:"bg-background/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{className:"text-sm font-medium",children:"Description"}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Hi(_t,"description"),disabled:!_t,children:a.jsx(wa,{className:"h-3 w-3"})})]}),a.jsx(be,{value:_t,onChange:k=>Xt(k.target.value),placeholder:"Enter video description...",className:"min-h-[80px] resize-none bg-background/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(z,{className:"text-sm font-medium flex items-center gap-1",children:[a.jsx(L2,{className:"h-3 w-3"}),"Tags"]}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Hi(Wi,"tags"),disabled:!Wi,children:a.jsx(wa,{className:"h-3 w-3"})})]}),a.jsx(ie,{value:Wi,onChange:k=>Mc(k.target.value),placeholder:"Enter tags (comma separated)...",className:"bg-background/50"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsx(fn,{className:"border-b border-border/50 py-3",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(Sn,{className:"flex items-center gap-2 text-base",children:[a.jsx(vi,{className:"h-4 w-4 text-primary"}),"Script"]}),a.jsx(xt,{className:"bg-green-500/10 text-green-600 text-xs",children:"Done"}),a.jsx(ho,{text:ke,showCharacters:!0})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(L,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>Hi(ke,"kch bn"),disabled:!ke,children:[a.jsx(wa,{className:"h-3 w-3"}),"Copy All"]}),a.jsx(Bu,{value:N,onChange:j,label:"Model",compact:!0}),a.jsx(x0,{versions:Ct.filter(k=>!X||k.outlineVersionId===X),type:"script",onRestore:Hk,onUpdateName:gy,onDelete:Vk,disabled:In}),a.jsxs(L,{variant:"outline",size:"sm",onClick:$k,disabled:Je||!ke,className:"gap-1 h-8 text-xs",children:[Je?a.jsx(St,{className:"h-3 w-3 animate-spin"}):a.jsx(md,{className:"h-3 w-3"}),"Score"]})]})]})})}),Z&&ke?a.jsx("div",{className:"space-y-3",children:Z.sections.map((k,G)=>{const B=ke.includes("|||SECTION|||")?"|||SECTION|||":`

`,Ne=ke.split(B)[G]||"",rt=Ne.trim().split(/\s+/).filter(vt=>vt.length>0).length;return a.jsxs(ve,{children:[a.jsx(fn,{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center text-xs font-medium",children:G+1}),a.jsx("span",{className:"font-medium text-sm",children:k.title}),a.jsxs(xt,{variant:"outline",className:"text-xs",children:[rt," words"]})]}),a.jsx(L,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Hi(Ne,k.title),children:a.jsx(wa,{className:"h-3 w-3"})})]})}),a.jsxs(xe,{className:"px-4 pb-4 pt-0 space-y-2",children:[a.jsx(be,{value:Ne,onChange:vt=>{const it=ke.includes("|||SECTION|||")?"|||SECTION|||":`

`,xn=ke.split(it);xn[G]=vt.target.value,fe(xn.join(it))},className:"resize-none text-sm leading-relaxed min-h-[100px]"}),a.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[a.jsx(ie,{value:Bc[G+1e3]||"",onChange:vt=>oy(it=>({...it,[G+1e3]:vt.target.value})),placeholder:"Ideas to improve this section...",className:"text-sm flex-1 h-8"}),a.jsxs(L,{variant:"outline",size:"sm",onClick:async()=>{zc(G+1e3);const vt=T&&T!=="none"?s.find(zh=>zh.id===T):null,it=_&&_!=="none"?r.find(zh=>zh.id===_):null,xn=ke.includes("|||SECTION|||")?"|||SECTION|||":`

`,Ze=ke.split(xn),lo=Ze.slice(0,G),by=await m(k.title,Ne,Bc[G+1e3]||"",{previousSections:lo,dna:vt,persona:it,targetWordCount:k.wordCount},N);by&&(Ze[G]=by,fe(Ze.join(xn)),n({title:`Section "${k.title}" rewritten!`})),zc(null)},disabled:Uc===G+1e3,className:"h-8 gap-1",children:[Uc===G+1e3?a.jsx(St,{className:"h-3 w-3 animate-spin"}):a.jsx(Vr,{className:"h-3 w-3"}),"Rewrite"]})]})]})]},G)})}):a.jsx(ve,{children:a.jsx(xe,{className:"p-4",children:a.jsx(be,{value:ke,onChange:k=>fe(k.target.value),className:"min-h-[400px] resize-none text-sm leading-relaxed",placeholder:"Your script will appear here..."})})})]})]}),a.jsx("div",{className:"lg:col-span-1",children:Pe?a.jsx(Wz,{score:Pe}):a.jsx(ve,{children:a.jsxs(xe,{className:"p-8 text-center space-y-4",children:[a.jsx(md,{className:"h-12 w-12 text-muted-foreground/30 mx-auto"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium text-muted-foreground",children:"No Score Yet"}),a.jsx("p",{className:"text-sm text-muted-foreground/70",children:`Click "Score Script" to analyze your script's viral potential`})]})]})})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(L,{variant:"outline",className:"flex-1 rounded-xl h-12",onClick:()=>v("outline"),children:" Back to Outline"}),a.jsxs(L,{variant:"outline",className:"flex-1 gap-2 rounded-xl h-12",onClick:fy,disabled:In,children:[a.jsx(Vr,{className:"h-5 w-5"}),"Regenerate Script"]}),a.jsx(L,{className:"flex-1 gap-2 rounded-xl h-12",onClick:()=>e("/"),children:"Go to Dashboard"})]})]})]})}function y8(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),{user:s}=On(),{toast:o}=Rn(),i=d.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:h,error:f}=await ze.from("notes").select("*").order("updated_at",{ascending:!1});if(f)throw f;t(h||[])}catch(h){console.error("Error fetching notes:",h),o({title:"Error",description:"Failed to fetch notes",variant:"destructive"})}finally{r(!1)}},[s,o]);return d.useEffect(()=>{i()},[i]),{notes:e,loading:n,createNote:async h=>{if(!s)return null;try{const{data:f,error:g}=await ze.from("notes").insert({...h,user_id:s.id,title:h.title||"Untitled"}).select().single();if(g)throw g;return t(m=>[f,...m]),f}catch(f){return console.error("Error creating note:",f),o({title:"Error",description:"Failed to create note",variant:"destructive"}),null}},updateNote:async(h,f)=>{try{const{data:g,error:m}=await ze.from("notes").update(f).eq("id",h).select().single();if(m)throw m;return t(b=>b.map(p=>p.id===h?g:p)),g}catch(g){return console.error("Error updating note:",g),o({title:"Error",description:"Failed to update note",variant:"destructive"}),null}},deleteNote:async h=>{try{const{error:f}=await ze.from("notes").delete().eq("id",h);if(f)throw f;return t(g=>g.filter(m=>m.id!==h)),o({title:"Success",description:"Note deleted successfully"}),!0}catch(f){return console.error("Error deleting note:",f),o({title:"Error",description:"Failed to delete note",variant:"destructive"}),!1}},refetch:i}}const qf=["bg-violet-100 dark:bg-violet-900/20","bg-sky-100 dark:bg-sky-900/20","bg-amber-100 dark:bg-amber-900/20","bg-emerald-100 dark:bg-emerald-900/20","bg-pink-100 dark:bg-pink-900/20","bg-rose-100 dark:bg-rose-900/20"];function x8(){const{notes:e,loading:t,createNote:n,updateNote:r,deleteNote:s}=y8(),[o,i]=d.useState(""),[l,c]=d.useState(null),[u,h]=d.useState(""),[f,g]=d.useState(""),[m,b]=d.useState(!1),p=e.filter(N=>N.title.toLowerCase().includes(o.toLowerCase())||N.content&&N.content.toLowerCase().includes(o.toLowerCase()));d.useEffect(()=>{l&&(h(l.title),g(l.content||""))},[l]);const x=async()=>{const N=qf[Math.floor(Math.random()*qf.length)],j=await n({title:"Untitled Note",content:"",color:N});j&&(c(j),h(j.title),g(j.content||""))},y=async()=>{if(!l)return;b(!0);const N=await r(l.id,{title:u||"Untitled",content:f});N&&c(N),b(!1)},v=async N=>{if(!l)return;const j=await r(l.id,{color:N});j&&c(j)},w=async()=>{if(!l)return;await s(l.id)&&(c(null),h(""),g(""))},S=N=>{const j=new Date(N),C=new Date().getTime()-j.getTime(),T=Math.floor(C/6e4),P=Math.floor(C/36e5),R=Math.floor(C/864e5);return T<1?"Just now":T<60?`${T} min ago`:P<24?`${P} hour${P>1?"s":""} ago`:R<7?`${R} day${R>1?"s":""} ago`:j.toLocaleDateString()};return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Quick Notes"}),a.jsx("p",{className:"text-muted-foreground",children:"Capture ideas and insights"})]}),a.jsxs(L,{onClick:x,className:"gap-2 rounded-xl shadow-lg shadow-primary/20",children:[a.jsx(He,{className:"h-4 w-4"}),"New Note"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(uh,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search notes...",value:o,onChange:N=>i(N.target.value),className:"pl-10 rounded-xl bg-card/50"})]}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(St,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):p.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(qp,{className:"h-10 w-10 mx-auto text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No notes yet"})]}):a.jsx("div",{className:"space-y-3",children:p.map(N=>a.jsx(ve,{variant:"elevated",className:`cursor-pointer transition-all ${(l==null?void 0:l.id)===N.id?"ring-2 ring-primary":""}`,onClick:()=>c(N),children:a.jsxs(xe,{className:"p-4",children:[a.jsx("div",{className:`mb-3 h-2 w-12 rounded-full ${N.color||"bg-violet-100 dark:bg-violet-900/20"}`}),a.jsx("h3",{className:"font-medium line-clamp-1",children:N.title}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:N.content||"No content"}),a.jsxs("div",{className:"mt-3 flex items-center gap-1.5 text-xs text-muted-foreground",children:[a.jsx(fd,{className:"h-3 w-3"}),S(N.updated_at)]})]})},N.id))})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx(ve,{className:"h-full min-h-[500px]",children:l?a.jsxs(xe,{className:"p-6 space-y-4 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsx(ie,{value:u,onChange:N=>h(N.target.value),className:"text-lg font-semibold border-0 p-0 h-auto focus-visible:ring-0 bg-transparent",placeholder:"Note title..."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(L,{variant:"outline",size:"sm",onClick:y,disabled:m,children:m?a.jsx(St,{className:"h-4 w-4 animate-spin"}):a.jsx(ch,{className:"h-4 w-4"})}),a.jsx(L,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:w,children:a.jsx(Ye,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Color:"}),a.jsx("div",{className:"flex gap-1.5",children:qf.map(N=>a.jsx("button",{onClick:()=>v(N),className:`h-6 w-6 rounded-full transition-all hover:scale-110 ${N} ${l.color===N?"ring-2 ring-primary ring-offset-2 ring-offset-background":"ring-1 ring-border/50"}`,title:"Select color"},N))})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(fd,{className:"h-4 w-4"}),S(l.updated_at)]}),a.jsx(be,{value:f,onChange:N=>g(N.target.value),className:"flex-1 resize-none border-0 p-0 pl-1 pt-2 focus-visible:ring-0 bg-transparent text-base leading-relaxed",placeholder:"Write your note..."})]}):a.jsx(xe,{className:"p-6 h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-sm space-y-4",children:[a.jsx("div",{className:"mx-auto rounded-2xl bg-muted/50 p-6 w-fit",children:a.jsx(qp,{className:"h-12 w-12 text-muted-foreground/50"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-lg font-medium",children:"Select a Note"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a note from the list to view and edit, or create a new one."})]})]})})})})]})]})}function w8(){return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6 max-w-xl",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Configure your preferences"})]}),a.jsxs(ve,{children:[a.jsxs(fn,{children:[a.jsxs(Sn,{className:"flex items-center gap-2",children:[a.jsx(jt,{className:"h-5 w-5 text-primary"}),"AI Model",a.jsxs(xt,{variant:"secondary",className:"ml-2",children:[a.jsx(fd,{className:"h-3 w-3 mr-1"}),"Coming Soon"]})]}),a.jsx(Gs,{children:"Model selection is now available at each step (DNA extraction, Outline, Script generation)"})]}),a.jsx(xe,{children:a.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 rounded-xl p-4",children:[a.jsx("p",{className:"font-medium mb-2",children:" Per-step model selection"}),a.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"DNA Lab: Select model when extracting DNA"}),a.jsx("li",{children:"Writer Input: Select model for outline generation"}),a.jsx("li",{children:"Writer Outline: Select model for script writing"}),a.jsx("li",{children:"Persona: Select model for persona generation"})]})]})})]})]})}const b8=()=>{const e=Zo();return d.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},S8=new rD,fo=({children:e})=>{const{user:t,loading:n}=On(),{showOnboarding:r,completeOnboarding:s,skipOnboarding:o}=l$();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?a.jsxs(Z3,{children:[r&&a.jsx(i$,{onComplete:s,onSkip:o}),e]}):a.jsx($1,{to:"/auth",replace:!0})},N8=()=>a.jsxs(cM,{children:[a.jsx(Jn,{path:"/auth",element:a.jsx(_6,{})}),a.jsx(Jn,{path:"/pricing",element:a.jsx(Vz,{})}),a.jsx(Jn,{path:"/",element:a.jsx(fo,{children:a.jsx(j6,{})})}),a.jsx(Jn,{path:"/dna-lab",element:a.jsx(fo,{children:a.jsx(Lz,{})})}),a.jsx(Jn,{path:"/personas",element:a.jsx(fo,{children:a.jsx(Uz,{})})}),a.jsx(Jn,{path:"/writer",element:a.jsx(fo,{children:a.jsx(b0,{})})}),a.jsx(Jn,{path:"/writer/:id",element:a.jsx(fo,{children:a.jsx(b0,{})})}),a.jsx(Jn,{path:"/notes",element:a.jsx(fo,{children:a.jsx(x8,{})})}),a.jsx(Jn,{path:"/settings",element:a.jsx(fo,{children:a.jsx(w8,{})})}),a.jsx(Jn,{path:"*",element:a.jsx(b8,{})})]}),j8=()=>a.jsx(lD,{client:S8,children:a.jsxs(p1,{children:[a.jsx(SR,{}),a.jsx(eO,{}),a.jsx(vM,{children:a.jsx(oL,{children:a.jsx(N8,{})})})]})});KS(document.getElementById("root")).render(a.jsx(j8,{}));
