var xy=e=>{throw TypeError(e)};var Fh=(e,t,n)=>t.has(e)||xy("Cannot "+n);var E=(e,t,n)=>(Fh(e,t,"read from private field"),n?n.call(e):t.get(e)),Ne=(e,t,n)=>t.has(e)?xy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),le=(e,t,n,r)=>(Fh(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),De=(e,t,n)=>(Fh(e,t,"access private method"),n);var Wc=(e,t,n,r)=>({set _(s){le(e,t,s,n)},get _(){return E(e,t,r)}});function Fk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function k0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var T0={exports:{}},zd={},P0={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=Symbol.for("react.element"),Uk=Symbol.for("react.portal"),zk=Symbol.for("react.fragment"),Bk=Symbol.for("react.strict_mode"),Vk=Symbol.for("react.profiler"),Wk=Symbol.for("react.provider"),Hk=Symbol.for("react.context"),Kk=Symbol.for("react.forward_ref"),Gk=Symbol.for("react.suspense"),qk=Symbol.for("react.memo"),Yk=Symbol.for("react.lazy"),wy=Symbol.iterator;function Qk(e){return e===null||typeof e!="object"?null:(e=wy&&e[wy]||e["@@iterator"],typeof e=="function"?e:null)}var R0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A0=Object.assign,O0={};function ji(e,t,n){this.props=e,this.context=t,this.refs=O0,this.updater=n||R0}ji.prototype.isReactComponent={};ji.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ji.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function I0(){}I0.prototype=ji.prototype;function Um(e,t,n){this.props=e,this.context=t,this.refs=O0,this.updater=n||R0}var zm=Um.prototype=new I0;zm.constructor=Um;A0(zm,ji.prototype);zm.isPureReactComponent=!0;var by=Array.isArray,D0=Object.prototype.hasOwnProperty,Bm={current:null},M0={key:!0,ref:!0,__self:!0,__source:!0};function $0(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)D0.call(t,r)&&!M0.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:hc,type:e,key:o,ref:i,props:s,_owner:Bm.current}}function Jk(e,t){return{$$typeof:hc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vm(e){return typeof e=="object"&&e!==null&&e.$$typeof===hc}function Xk(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Sy=/\/+/g;function Uh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xk(""+e.key):t.toString(36)}function Su(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case hc:case Uk:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Uh(i,0):r,by(s)?(n="",e!=null&&(n=e.replace(Sy,"$&/")+"/"),Su(s,t,n,"",function(u){return u})):s!=null&&(Vm(s)&&(s=Jk(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Sy,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",by(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+Uh(o,l);i+=Su(o,t,n,c,s)}else if(c=Qk(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+Uh(o,l++),i+=Su(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Hc(e,t,n){if(e==null)return e;var r=[],s=0;return Su(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Zk(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sn={current:null},Nu={transition:null},eT={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Nu,ReactCurrentOwner:Bm};function L0(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:Hc,forEach:function(e,t,n){Hc(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Hc(e,function(){t++}),t},toArray:function(e){return Hc(e,function(t){return t})||[]},only:function(e){if(!Vm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=ji;Le.Fragment=zk;Le.Profiler=Vk;Le.PureComponent=Um;Le.StrictMode=Bk;Le.Suspense=Gk;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eT;Le.act=L0;Le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=A0({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Bm.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)D0.call(t,c)&&!M0.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:hc,type:e.type,key:s,ref:o,props:r,_owner:i}};Le.createContext=function(e){return e={$$typeof:Hk,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wk,_context:e},e.Consumer=e};Le.createElement=$0;Le.createFactory=function(e){var t=$0.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:Kk,render:e}};Le.isValidElement=Vm;Le.lazy=function(e){return{$$typeof:Yk,_payload:{_status:-1,_result:e},_init:Zk}};Le.memo=function(e,t){return{$$typeof:qk,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=Nu.transition;Nu.transition={};try{e()}finally{Nu.transition=t}};Le.unstable_act=L0;Le.useCallback=function(e,t){return sn.current.useCallback(e,t)};Le.useContext=function(e){return sn.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return sn.current.useDeferredValue(e)};Le.useEffect=function(e,t){return sn.current.useEffect(e,t)};Le.useId=function(){return sn.current.useId()};Le.useImperativeHandle=function(e,t,n){return sn.current.useImperativeHandle(e,t,n)};Le.useInsertionEffect=function(e,t){return sn.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return sn.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return sn.current.useMemo(e,t)};Le.useReducer=function(e,t,n){return sn.current.useReducer(e,t,n)};Le.useRef=function(e){return sn.current.useRef(e)};Le.useState=function(e){return sn.current.useState(e)};Le.useSyncExternalStore=function(e,t,n){return sn.current.useSyncExternalStore(e,t,n)};Le.useTransition=function(){return sn.current.useTransition()};Le.version="18.3.1";P0.exports=Le;var d=P0.exports;const te=k0(d),Wm=Fk({__proto__:null,default:te},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tT=d,nT=Symbol.for("react.element"),rT=Symbol.for("react.fragment"),sT=Object.prototype.hasOwnProperty,oT=tT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aT={key:!0,ref:!0,__self:!0,__source:!0};function F0(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)sT.call(t,r)&&!aT.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:nT,type:e,key:o,ref:i,props:s,_owner:oT.current}}zd.Fragment=rT;zd.jsx=F0;zd.jsxs=F0;T0.exports=zd;var a=T0.exports,U0={exports:{}},Pn={},z0={exports:{}},B0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,P){var V=I.length;I.push(P);e:for(;0<V;){var Z=V-1>>>1,re=I[Z];if(0<s(re,P))I[Z]=P,I[V]=re,V=Z;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var P=I[0],V=I.pop();if(V!==P){I[0]=V;e:for(var Z=0,re=I.length,ae=re>>>1;Z<ae;){var me=2*(Z+1)-1,K=I[me],ge=me+1,G=I[ge];if(0>s(K,V))ge<re&&0>s(G,K)?(I[Z]=G,I[ge]=V,Z=ge):(I[Z]=K,I[me]=V,Z=me);else if(ge<re&&0>s(G,V))I[Z]=G,I[ge]=V,Z=ge;else break e}}return P}function s(I,P){var V=I.sortIndex-P.sortIndex;return V!==0?V:I.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,f=null,m=3,g=!1,b=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var P=n(u);P!==null;){if(P.callback===null)r(u);else if(P.startTime<=I)r(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=n(u)}}function S(I){if(p=!1,w(I),!b)if(n(c)!==null)b=!0,B(N);else{var P=n(u);P!==null&&se(S,P.startTime-I)}}function N(I,P){b=!1,p&&(p=!1,y(_),_=-1),g=!0;var V=m;try{for(w(P),f=n(c);f!==null&&(!(f.expirationTime>P)||I&&!O());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,m=f.priorityLevel;var re=Z(f.expirationTime<=P);P=e.unstable_now(),typeof re=="function"?f.callback=re:f===n(c)&&r(c),w(P)}else r(c);f=n(c)}if(f!==null)var ae=!0;else{var me=n(u);me!==null&&se(S,me.startTime-P),ae=!1}return ae}finally{f=null,m=V,g=!1}}var j=!1,C=null,_=-1,T=5,A=-1;function O(){return!(e.unstable_now()-A<T)}function M(){if(C!==null){var I=e.unstable_now();A=I;var P=!0;try{P=C(!0,I)}finally{P?L():(j=!1,C=null)}}else j=!1}var L;if(typeof v=="function")L=function(){v(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ee=D.port2;D.port1.onmessage=M,L=function(){ee.postMessage(null)}}else L=function(){x(M,0)};function B(I){C=I,j||(j=!0,L())}function se(I,P){_=x(function(){I(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){b||g||(b=!0,B(N))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(m){case 1:case 2:case 3:var P=3;break;default:P=m}var V=m;m=P;try{return I()}finally{m=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,P){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var V=m;m=I;try{return P()}finally{m=V}},e.unstable_scheduleCallback=function(I,P,V){var Z=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Z+V:Z):V=Z,I){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=V+re,I={id:h++,callback:P,priorityLevel:I,startTime:V,expirationTime:re,sortIndex:-1},V>Z?(I.sortIndex=V,t(u,I),n(c)===null&&I===n(u)&&(p?(y(_),_=-1):p=!0,se(S,V-Z))):(I.sortIndex=re,t(c,I),b||g||(b=!0,B(N))),I},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(I){var P=m;return function(){var V=m;m=P;try{return I.apply(this,arguments)}finally{m=V}}}})(B0);z0.exports=B0;var iT=z0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT=d,Tn=iT;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V0=new Set,El={};function qo(e,t){oi(e,t),oi(e+"Capture",t)}function oi(e,t){for(El[e]=t,e=0;e<t.length;e++)V0.add(t[e])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hf=Object.prototype.hasOwnProperty,cT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ny={},jy={};function uT(e){return Hf.call(jy,e)?!0:Hf.call(Ny,e)?!1:cT.test(e)?jy[e]=!0:(Ny[e]=!0,!1)}function dT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hT(e,t,n,r){if(t===null||typeof t>"u"||dT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function on(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bt[e]=new on(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bt[t]=new on(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bt[e]=new on(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bt[e]=new on(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bt[e]=new on(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bt[e]=new on(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bt[e]=new on(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bt[e]=new on(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bt[e]=new on(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hm=/[\-:]([a-z])/g;function Km(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hm,Km);Bt[t]=new on(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hm,Km);Bt[t]=new on(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hm,Km);Bt[t]=new on(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bt[e]=new on(e,1,!1,e.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bt[e]=new on(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gm(e,t,n,r){var s=Bt.hasOwnProperty(t)?Bt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hT(t,n,s,r)&&(n=null),r||s===null?uT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ss=lT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kc=Symbol.for("react.element"),Na=Symbol.for("react.portal"),ja=Symbol.for("react.fragment"),qm=Symbol.for("react.strict_mode"),Kf=Symbol.for("react.profiler"),W0=Symbol.for("react.provider"),H0=Symbol.for("react.context"),Ym=Symbol.for("react.forward_ref"),Gf=Symbol.for("react.suspense"),qf=Symbol.for("react.suspense_list"),Qm=Symbol.for("react.memo"),ys=Symbol.for("react.lazy"),K0=Symbol.for("react.offscreen"),Cy=Symbol.iterator;function Hi(e){return e===null||typeof e!="object"?null:(e=Cy&&e[Cy]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Object.assign,zh;function sl(e){if(zh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zh=t&&t[1]||""}return`
`+zh+e}var Bh=!1;function Vh(e,t){if(!e||Bh)return"";Bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Bh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?sl(e):""}function fT(e){switch(e.tag){case 5:return sl(e.type);case 16:return sl("Lazy");case 13:return sl("Suspense");case 19:return sl("SuspenseList");case 0:case 2:case 15:return e=Vh(e.type,!1),e;case 11:return e=Vh(e.type.render,!1),e;case 1:return e=Vh(e.type,!0),e;default:return""}}function Yf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ja:return"Fragment";case Na:return"Portal";case Kf:return"Profiler";case qm:return"StrictMode";case Gf:return"Suspense";case qf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case H0:return(e.displayName||"Context")+".Consumer";case W0:return(e._context.displayName||"Context")+".Provider";case Ym:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qm:return t=e.displayName||null,t!==null?t:Yf(e.type)||"Memo";case ys:t=e._payload,e=e._init;try{return Yf(e(t))}catch{}}return null}function pT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Yf(t);case 8:return t===qm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ys(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function G0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mT(e){var t=G0(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gc(e){e._valueTracker||(e._valueTracker=mT(e))}function q0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G0(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qf(e,t){var n=t.checked;return mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _y(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ys(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Y0(e,t){t=t.checked,t!=null&&Gm(e,"checked",t,!1)}function Jf(e,t){Y0(e,t);var n=Ys(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xf(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xf(e,t.type,Ys(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ey(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xf(e,t,n){(t!=="number"||zu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ol=Array.isArray;function Ma(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ys(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Zf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ky(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(X(92));if(ol(n)){if(1<n.length)throw Error(X(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ys(n)}}function Q0(e,t){var n=Ys(t.value),r=Ys(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ty(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function J0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ep(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?J0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qc,X0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gT=["Webkit","ms","Moz","O"];Object.keys(pl).forEach(function(e){gT.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]})});function Z0(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function eb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Z0(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var vT=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tp(e,t){if(t){if(vT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function np(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=null;function Jm(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sp=null,$a=null,La=null;function Py(e){if(e=mc(e)){if(typeof sp!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Kd(t),sp(e.stateNode,e.type,t))}}function tb(e){$a?La?La.push(e):La=[e]:$a=e}function nb(){if($a){var e=$a,t=La;if(La=$a=null,Py(e),t)for(e=0;e<t.length;e++)Py(t[e])}}function rb(e,t){return e(t)}function sb(){}var Wh=!1;function ob(e,t,n){if(Wh)return e(t,n);Wh=!0;try{return rb(e,t,n)}finally{Wh=!1,($a!==null||La!==null)&&(sb(),nb())}}function Tl(e,t){var n=e.stateNode;if(n===null)return null;var r=Kd(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(X(231,t,typeof n));return n}var op=!1;if(Xr)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){op=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{op=!1}function yT(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var ml=!1,Bu=null,Vu=!1,ap=null,xT={onError:function(e){ml=!0,Bu=e}};function wT(e,t,n,r,s,o,i,l,c){ml=!1,Bu=null,yT.apply(xT,arguments)}function bT(e,t,n,r,s,o,i,l,c){if(wT.apply(this,arguments),ml){if(ml){var u=Bu;ml=!1,Bu=null}else throw Error(X(198));Vu||(Vu=!0,ap=u)}}function Yo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ab(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ry(e){if(Yo(e)!==e)throw Error(X(188))}function ST(e){var t=e.alternate;if(!t){if(t=Yo(e),t===null)throw Error(X(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Ry(s),e;if(o===r)return Ry(s),t;o=o.sibling}throw Error(X(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(X(189))}}if(n.alternate!==r)throw Error(X(190))}if(n.tag!==3)throw Error(X(188));return n.stateNode.current===n?e:t}function ib(e){return e=ST(e),e!==null?lb(e):null}function lb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=lb(e);if(t!==null)return t;e=e.sibling}return null}var cb=Tn.unstable_scheduleCallback,Ay=Tn.unstable_cancelCallback,NT=Tn.unstable_shouldYield,jT=Tn.unstable_requestPaint,bt=Tn.unstable_now,CT=Tn.unstable_getCurrentPriorityLevel,Xm=Tn.unstable_ImmediatePriority,ub=Tn.unstable_UserBlockingPriority,Wu=Tn.unstable_NormalPriority,_T=Tn.unstable_LowPriority,db=Tn.unstable_IdlePriority,Bd=null,Er=null;function ET(e){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(Bd,e,void 0,(e.current.flags&128)===128)}catch{}}var ur=Math.clz32?Math.clz32:PT,kT=Math.log,TT=Math.LN2;function PT(e){return e>>>=0,e===0?32:31-(kT(e)/TT|0)|0}var Yc=64,Qc=4194304;function al(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=al(l):(o&=i,o!==0&&(r=al(o)))}else i=n&~s,i!==0?r=al(i):o!==0&&(r=al(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ur(t),s=1<<n,r|=e[n],t&=~s;return r}function RT(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AT(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-ur(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=RT(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function ip(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function hb(){var e=Yc;return Yc<<=1,!(Yc&4194240)&&(Yc=64),e}function Hh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function fc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ur(t),e[t]=n}function OT(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ur(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Zm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ur(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ye=0;function fb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var pb,eg,mb,gb,vb,lp=!1,Jc=[],$s=null,Ls=null,Fs=null,Pl=new Map,Rl=new Map,bs=[],IT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oy(e,t){switch(e){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(t.pointerId)}}function Gi(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=mc(t),t!==null&&eg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function DT(e,t,n,r,s){switch(t){case"focusin":return $s=Gi($s,e,t,n,r,s),!0;case"dragenter":return Ls=Gi(Ls,e,t,n,r,s),!0;case"mouseover":return Fs=Gi(Fs,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Pl.set(o,Gi(Pl.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Rl.set(o,Gi(Rl.get(o)||null,e,t,n,r,s)),!0}return!1}function yb(e){var t=wo(e.target);if(t!==null){var n=Yo(t);if(n!==null){if(t=n.tag,t===13){if(t=ab(n),t!==null){e.blockedOn=t,vb(e.priority,function(){mb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ju(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rp=r,n.target.dispatchEvent(r),rp=null}else return t=mc(n),t!==null&&eg(t),e.blockedOn=n,!1;t.shift()}return!0}function Iy(e,t,n){ju(e)&&n.delete(t)}function MT(){lp=!1,$s!==null&&ju($s)&&($s=null),Ls!==null&&ju(Ls)&&(Ls=null),Fs!==null&&ju(Fs)&&(Fs=null),Pl.forEach(Iy),Rl.forEach(Iy)}function qi(e,t){e.blockedOn===t&&(e.blockedOn=null,lp||(lp=!0,Tn.unstable_scheduleCallback(Tn.unstable_NormalPriority,MT)))}function Al(e){function t(s){return qi(s,e)}if(0<Jc.length){qi(Jc[0],e);for(var n=1;n<Jc.length;n++){var r=Jc[n];r.blockedOn===e&&(r.blockedOn=null)}}for($s!==null&&qi($s,e),Ls!==null&&qi(Ls,e),Fs!==null&&qi(Fs,e),Pl.forEach(t),Rl.forEach(t),n=0;n<bs.length;n++)r=bs[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bs.length&&(n=bs[0],n.blockedOn===null);)yb(n),n.blockedOn===null&&bs.shift()}var Fa=ss.ReactCurrentBatchConfig,Ku=!0;function $T(e,t,n,r){var s=Ye,o=Fa.transition;Fa.transition=null;try{Ye=1,tg(e,t,n,r)}finally{Ye=s,Fa.transition=o}}function LT(e,t,n,r){var s=Ye,o=Fa.transition;Fa.transition=null;try{Ye=4,tg(e,t,n,r)}finally{Ye=s,Fa.transition=o}}function tg(e,t,n,r){if(Ku){var s=cp(e,t,n,r);if(s===null)tf(e,t,r,Gu,n),Oy(e,r);else if(DT(s,e,t,n,r))r.stopPropagation();else if(Oy(e,r),t&4&&-1<IT.indexOf(e)){for(;s!==null;){var o=mc(s);if(o!==null&&pb(o),o=cp(e,t,n,r),o===null&&tf(e,t,r,Gu,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else tf(e,t,r,null,n)}}var Gu=null;function cp(e,t,n,r){if(Gu=null,e=Jm(r),e=wo(e),e!==null)if(t=Yo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ab(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gu=e,null}function xb(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CT()){case Xm:return 1;case ub:return 4;case Wu:case _T:return 16;case db:return 536870912;default:return 16}default:return 16}}var Is=null,ng=null,Cu=null;function wb(){if(Cu)return Cu;var e,t=ng,n=t.length,r,s="value"in Is?Is.value:Is.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return Cu=s.slice(e,1<r?1-r:void 0)}function _u(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xc(){return!0}function Dy(){return!1}function Rn(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xc:Dy,this.isPropagationStopped=Dy,this}return mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),t}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rg=Rn(Ci),pc=mt({},Ci,{view:0,detail:0}),FT=Rn(pc),Kh,Gh,Yi,Vd=mt({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yi&&(Yi&&e.type==="mousemove"?(Kh=e.screenX-Yi.screenX,Gh=e.screenY-Yi.screenY):Gh=Kh=0,Yi=e),Kh)},movementY:function(e){return"movementY"in e?e.movementY:Gh}}),My=Rn(Vd),UT=mt({},Vd,{dataTransfer:0}),zT=Rn(UT),BT=mt({},pc,{relatedTarget:0}),qh=Rn(BT),VT=mt({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),WT=Rn(VT),HT=mt({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),KT=Rn(HT),GT=mt({},Ci,{data:0}),$y=Rn(GT),qT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QT[e])?!!t[e]:!1}function sg(){return JT}var XT=mt({},pc,{key:function(e){if(e.key){var t=qT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_u(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sg,charCode:function(e){return e.type==="keypress"?_u(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_u(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ZT=Rn(XT),e2=mt({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ly=Rn(e2),t2=mt({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sg}),n2=Rn(t2),r2=mt({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),s2=Rn(r2),o2=mt({},Vd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),a2=Rn(o2),i2=[9,13,27,32],og=Xr&&"CompositionEvent"in window,gl=null;Xr&&"documentMode"in document&&(gl=document.documentMode);var l2=Xr&&"TextEvent"in window&&!gl,bb=Xr&&(!og||gl&&8<gl&&11>=gl),Fy=" ",Uy=!1;function Sb(e,t){switch(e){case"keyup":return i2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function c2(e,t){switch(e){case"compositionend":return Nb(t);case"keypress":return t.which!==32?null:(Uy=!0,Fy);case"textInput":return e=t.data,e===Fy&&Uy?null:e;default:return null}}function u2(e,t){if(Ca)return e==="compositionend"||!og&&Sb(e,t)?(e=wb(),Cu=ng=Is=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bb&&t.locale!=="ko"?null:t.data;default:return null}}var d2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!d2[e.type]:t==="textarea"}function jb(e,t,n,r){tb(r),t=qu(t,"onChange"),0<t.length&&(n=new rg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var vl=null,Ol=null;function h2(e){Db(e,0)}function Wd(e){var t=ka(e);if(q0(t))return e}function f2(e,t){if(e==="change")return t}var Cb=!1;if(Xr){var Yh;if(Xr){var Qh="oninput"in document;if(!Qh){var By=document.createElement("div");By.setAttribute("oninput","return;"),Qh=typeof By.oninput=="function"}Yh=Qh}else Yh=!1;Cb=Yh&&(!document.documentMode||9<document.documentMode)}function Vy(){vl&&(vl.detachEvent("onpropertychange",_b),Ol=vl=null)}function _b(e){if(e.propertyName==="value"&&Wd(Ol)){var t=[];jb(t,Ol,e,Jm(e)),ob(h2,t)}}function p2(e,t,n){e==="focusin"?(Vy(),vl=t,Ol=n,vl.attachEvent("onpropertychange",_b)):e==="focusout"&&Vy()}function m2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wd(Ol)}function g2(e,t){if(e==="click")return Wd(t)}function v2(e,t){if(e==="input"||e==="change")return Wd(t)}function y2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hr=typeof Object.is=="function"?Object.is:y2;function Il(e,t){if(hr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Hf.call(t,s)||!hr(e[s],t[s]))return!1}return!0}function Wy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hy(e,t){var n=Wy(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wy(n)}}function Eb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Eb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kb(){for(var e=window,t=zu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zu(e.document)}return t}function ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function x2(e){var t=kb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Eb(n.ownerDocument.documentElement,n)){if(r!==null&&ag(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Hy(n,o);var i=Hy(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var w2=Xr&&"documentMode"in document&&11>=document.documentMode,_a=null,up=null,yl=null,dp=!1;function Ky(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dp||_a==null||_a!==zu(r)||(r=_a,"selectionStart"in r&&ag(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yl&&Il(yl,r)||(yl=r,r=qu(up,"onSelect"),0<r.length&&(t=new rg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_a)))}function Zc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ea={animationend:Zc("Animation","AnimationEnd"),animationiteration:Zc("Animation","AnimationIteration"),animationstart:Zc("Animation","AnimationStart"),transitionend:Zc("Transition","TransitionEnd")},Jh={},Tb={};Xr&&(Tb=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Hd(e){if(Jh[e])return Jh[e];if(!Ea[e])return e;var t=Ea[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tb)return Jh[e]=t[n];return e}var Pb=Hd("animationend"),Rb=Hd("animationiteration"),Ab=Hd("animationstart"),Ob=Hd("transitionend"),Ib=new Map,Gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(e,t){Ib.set(e,t),qo(t,[e])}for(var Xh=0;Xh<Gy.length;Xh++){var Zh=Gy[Xh],b2=Zh.toLowerCase(),S2=Zh[0].toUpperCase()+Zh.slice(1);Zs(b2,"on"+S2)}Zs(Pb,"onAnimationEnd");Zs(Rb,"onAnimationIteration");Zs(Ab,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(Ob,"onTransitionEnd");oi("onMouseEnter",["mouseout","mouseover"]);oi("onMouseLeave",["mouseout","mouseover"]);oi("onPointerEnter",["pointerout","pointerover"]);oi("onPointerLeave",["pointerout","pointerover"]);qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function qy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,bT(r,t,void 0,e),e.currentTarget=null}function Db(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;qy(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;qy(s,l,u),o=c}}}if(Vu)throw e=ap,Vu=!1,ap=null,e}function st(e,t){var n=t[gp];n===void 0&&(n=t[gp]=new Set);var r=e+"__bubble";n.has(r)||(Mb(t,e,2,!1),n.add(r))}function ef(e,t,n){var r=0;t&&(r|=4),Mb(n,e,r,t)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Dl(e){if(!e[eu]){e[eu]=!0,V0.forEach(function(n){n!=="selectionchange"&&(N2.has(n)||ef(n,!1,e),ef(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[eu]||(t[eu]=!0,ef("selectionchange",!1,t))}}function Mb(e,t,n,r){switch(xb(t)){case 1:var s=$T;break;case 4:s=LT;break;default:s=tg}n=s.bind(null,t,n,e),s=void 0,!op||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function tf(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=wo(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}ob(function(){var u=o,h=Jm(n),f=[];e:{var m=Ib.get(e);if(m!==void 0){var g=rg,b=e;switch(e){case"keypress":if(_u(n)===0)break e;case"keydown":case"keyup":g=ZT;break;case"focusin":b="focus",g=qh;break;case"focusout":b="blur",g=qh;break;case"beforeblur":case"afterblur":g=qh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=My;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=zT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=n2;break;case Pb:case Rb:case Ab:g=WT;break;case Ob:g=s2;break;case"scroll":g=FT;break;case"wheel":g=a2;break;case"copy":case"cut":case"paste":g=KT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ly}var p=(t&4)!==0,x=!p&&e==="scroll",y=p?m!==null?m+"Capture":null:m;p=[];for(var v=u,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Tl(v,y),S!=null&&p.push(Ml(v,S,w)))),x)break;v=v.return}0<p.length&&(m=new g(m,b,null,n,h),f.push({event:m,listeners:p}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==rp&&(b=n.relatedTarget||n.fromElement)&&(wo(b)||b[Zr]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=u,b=b?wo(b):null,b!==null&&(x=Yo(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=u),g!==b)){if(p=My,S="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=Ly,S="onPointerLeave",y="onPointerEnter",v="pointer"),x=g==null?m:ka(g),w=b==null?m:ka(b),m=new p(S,v+"leave",g,n,h),m.target=x,m.relatedTarget=w,S=null,wo(h)===u&&(p=new p(y,v+"enter",b,n,h),p.target=w,p.relatedTarget=x,S=p),x=S,g&&b)t:{for(p=g,y=b,v=0,w=p;w;w=aa(w))v++;for(w=0,S=y;S;S=aa(S))w++;for(;0<v-w;)p=aa(p),v--;for(;0<w-v;)y=aa(y),w--;for(;v--;){if(p===y||y!==null&&p===y.alternate)break t;p=aa(p),y=aa(y)}p=null}else p=null;g!==null&&Yy(f,m,g,p,!1),b!==null&&x!==null&&Yy(f,x,b,p,!0)}}e:{if(m=u?ka(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var N=f2;else if(zy(m))if(Cb)N=v2;else{N=m2;var j=p2}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(N=g2);if(N&&(N=N(e,u))){jb(f,N,n,h);break e}j&&j(e,m,u),e==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&Xf(m,"number",m.value)}switch(j=u?ka(u):window,e){case"focusin":(zy(j)||j.contentEditable==="true")&&(_a=j,up=u,yl=null);break;case"focusout":yl=up=_a=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,Ky(f,n,h);break;case"selectionchange":if(w2)break;case"keydown":case"keyup":Ky(f,n,h)}var C;if(og)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Ca?Sb(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(bb&&n.locale!=="ko"&&(Ca||_!=="onCompositionStart"?_==="onCompositionEnd"&&Ca&&(C=wb()):(Is=h,ng="value"in Is?Is.value:Is.textContent,Ca=!0)),j=qu(u,_),0<j.length&&(_=new $y(_,e,null,n,h),f.push({event:_,listeners:j}),C?_.data=C:(C=Nb(n),C!==null&&(_.data=C)))),(C=l2?c2(e,n):u2(e,n))&&(u=qu(u,"onBeforeInput"),0<u.length&&(h=new $y("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=C))}Db(f,t)})}function Ml(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Tl(e,n),o!=null&&r.unshift(Ml(e,o,s)),o=Tl(e,t),o!=null&&r.push(Ml(e,o,s))),e=e.return}return r}function aa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yy(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Tl(n,o),c!=null&&i.unshift(Ml(n,c,l))):s||(c=Tl(n,o),c!=null&&i.push(Ml(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var j2=/\r\n?/g,C2=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(j2,`
`).replace(C2,"")}function tu(e,t,n){if(t=Qy(t),Qy(e)!==t&&n)throw Error(X(425))}function Yu(){}var hp=null,fp=null;function pp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mp=typeof setTimeout=="function"?setTimeout:void 0,_2=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,E2=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(k2)}:mp;function k2(e){setTimeout(function(){throw e})}function nf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Al(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Al(t)}function Us(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xy(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _i=Math.random().toString(36).slice(2),jr="__reactFiber$"+_i,$l="__reactProps$"+_i,Zr="__reactContainer$"+_i,gp="__reactEvents$"+_i,T2="__reactListeners$"+_i,P2="__reactHandles$"+_i;function wo(e){var t=e[jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[jr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xy(e);e!==null;){if(n=e[jr])return n;e=Xy(e)}return t}e=n,n=e.parentNode}return null}function mc(e){return e=e[jr]||e[Zr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ka(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Kd(e){return e[$l]||null}var vp=[],Ta=-1;function eo(e){return{current:e}}function ot(e){0>Ta||(e.current=vp[Ta],vp[Ta]=null,Ta--)}function et(e,t){Ta++,vp[Ta]=e.current,e.current=t}var Qs={},qt=eo(Qs),gn=eo(!1),Do=Qs;function ai(e,t){var n=e.type.contextTypes;if(!n)return Qs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vn(e){return e=e.childContextTypes,e!=null}function Qu(){ot(gn),ot(qt)}function Zy(e,t,n){if(qt.current!==Qs)throw Error(X(168));et(qt,t),et(gn,n)}function $b(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(X(108,pT(e)||"Unknown",s));return mt({},n,r)}function Ju(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Qs,Do=qt.current,et(qt,e),et(gn,gn.current),!0}function ex(e,t,n){var r=e.stateNode;if(!r)throw Error(X(169));n?(e=$b(e,t,Do),r.__reactInternalMemoizedMergedChildContext=e,ot(gn),ot(qt),et(qt,e)):ot(gn),et(gn,n)}var Ur=null,Gd=!1,rf=!1;function Lb(e){Ur===null?Ur=[e]:Ur.push(e)}function R2(e){Gd=!0,Lb(e)}function to(){if(!rf&&Ur!==null){rf=!0;var e=0,t=Ye;try{var n=Ur;for(Ye=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ur=null,Gd=!1}catch(s){throw Ur!==null&&(Ur=Ur.slice(e+1)),cb(Xm,to),s}finally{Ye=t,rf=!1}}return null}var Pa=[],Ra=0,Xu=null,Zu=0,Mn=[],$n=0,Mo=null,Wr=1,Hr="";function po(e,t){Pa[Ra++]=Zu,Pa[Ra++]=Xu,Xu=e,Zu=t}function Fb(e,t,n){Mn[$n++]=Wr,Mn[$n++]=Hr,Mn[$n++]=Mo,Mo=e;var r=Wr;e=Hr;var s=32-ur(r)-1;r&=~(1<<s),n+=1;var o=32-ur(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Wr=1<<32-ur(t)+s|n<<s|r,Hr=o+e}else Wr=1<<o|n<<s|r,Hr=e}function ig(e){e.return!==null&&(po(e,1),Fb(e,1,0))}function lg(e){for(;e===Xu;)Xu=Pa[--Ra],Pa[Ra]=null,Zu=Pa[--Ra],Pa[Ra]=null;for(;e===Mo;)Mo=Mn[--$n],Mn[$n]=null,Hr=Mn[--$n],Mn[$n]=null,Wr=Mn[--$n],Mn[$n]=null}var En=null,_n=null,it=!1,ar=null;function Ub(e,t){var n=Ln(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function tx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,En=e,_n=Us(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,En=e,_n=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mo!==null?{id:Wr,overflow:Hr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ln(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,En=e,_n=null,!0):!1;default:return!1}}function yp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xp(e){if(it){var t=_n;if(t){var n=t;if(!tx(e,t)){if(yp(e))throw Error(X(418));t=Us(n.nextSibling);var r=En;t&&tx(e,t)?Ub(r,n):(e.flags=e.flags&-4097|2,it=!1,En=e)}}else{if(yp(e))throw Error(X(418));e.flags=e.flags&-4097|2,it=!1,En=e}}}function nx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;En=e}function nu(e){if(e!==En)return!1;if(!it)return nx(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pp(e.type,e.memoizedProps)),t&&(t=_n)){if(yp(e))throw zb(),Error(X(418));for(;t;)Ub(e,t),t=Us(t.nextSibling)}if(nx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){_n=Us(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}_n=null}}else _n=En?Us(e.stateNode.nextSibling):null;return!0}function zb(){for(var e=_n;e;)e=Us(e.nextSibling)}function ii(){_n=En=null,it=!1}function cg(e){ar===null?ar=[e]:ar.push(e)}var A2=ss.ReactCurrentBatchConfig;function Qi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(X(309));var r=n.stateNode}if(!r)throw Error(X(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(X(284));if(!n._owner)throw Error(X(290,e))}return e}function ru(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rx(e){var t=e._init;return t(e._payload)}function Bb(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function s(y,v){return y=Ws(y,v),y.index=0,y.sibling=null,y}function o(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=2,v):w):(y.flags|=2,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,w,S){return v===null||v.tag!==6?(v=df(w,y.mode,S),v.return=y,v):(v=s(v,w),v.return=y,v)}function c(y,v,w,S){var N=w.type;return N===ja?h(y,v,w.props.children,S,w.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ys&&rx(N)===v.type)?(S=s(v,w.props),S.ref=Qi(y,v,w),S.return=y,S):(S=Ou(w.type,w.key,w.props,null,y.mode,S),S.ref=Qi(y,v,w),S.return=y,S)}function u(y,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=hf(w,y.mode,S),v.return=y,v):(v=s(v,w.children||[]),v.return=y,v)}function h(y,v,w,S,N){return v===null||v.tag!==7?(v=Io(w,y.mode,S,N),v.return=y,v):(v=s(v,w),v.return=y,v)}function f(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=df(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Kc:return w=Ou(v.type,v.key,v.props,null,y.mode,w),w.ref=Qi(y,null,v),w.return=y,w;case Na:return v=hf(v,y.mode,w),v.return=y,v;case ys:var S=v._init;return f(y,S(v._payload),w)}if(ol(v)||Hi(v))return v=Io(v,y.mode,w,null),v.return=y,v;ru(y,v)}return null}function m(y,v,w,S){var N=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return N!==null?null:l(y,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kc:return w.key===N?c(y,v,w,S):null;case Na:return w.key===N?u(y,v,w,S):null;case ys:return N=w._init,m(y,v,N(w._payload),S)}if(ol(w)||Hi(w))return N!==null?null:h(y,v,w,S,null);ru(y,w)}return null}function g(y,v,w,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,l(v,y,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Kc:return y=y.get(S.key===null?w:S.key)||null,c(v,y,S,N);case Na:return y=y.get(S.key===null?w:S.key)||null,u(v,y,S,N);case ys:var j=S._init;return g(y,v,w,j(S._payload),N)}if(ol(S)||Hi(S))return y=y.get(w)||null,h(v,y,S,N,null);ru(v,S)}return null}function b(y,v,w,S){for(var N=null,j=null,C=v,_=v=0,T=null;C!==null&&_<w.length;_++){C.index>_?(T=C,C=null):T=C.sibling;var A=m(y,C,w[_],S);if(A===null){C===null&&(C=T);break}e&&C&&A.alternate===null&&t(y,C),v=o(A,v,_),j===null?N=A:j.sibling=A,j=A,C=T}if(_===w.length)return n(y,C),it&&po(y,_),N;if(C===null){for(;_<w.length;_++)C=f(y,w[_],S),C!==null&&(v=o(C,v,_),j===null?N=C:j.sibling=C,j=C);return it&&po(y,_),N}for(C=r(y,C);_<w.length;_++)T=g(C,y,_,w[_],S),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?_:T.key),v=o(T,v,_),j===null?N=T:j.sibling=T,j=T);return e&&C.forEach(function(O){return t(y,O)}),it&&po(y,_),N}function p(y,v,w,S){var N=Hi(w);if(typeof N!="function")throw Error(X(150));if(w=N.call(w),w==null)throw Error(X(151));for(var j=N=null,C=v,_=v=0,T=null,A=w.next();C!==null&&!A.done;_++,A=w.next()){C.index>_?(T=C,C=null):T=C.sibling;var O=m(y,C,A.value,S);if(O===null){C===null&&(C=T);break}e&&C&&O.alternate===null&&t(y,C),v=o(O,v,_),j===null?N=O:j.sibling=O,j=O,C=T}if(A.done)return n(y,C),it&&po(y,_),N;if(C===null){for(;!A.done;_++,A=w.next())A=f(y,A.value,S),A!==null&&(v=o(A,v,_),j===null?N=A:j.sibling=A,j=A);return it&&po(y,_),N}for(C=r(y,C);!A.done;_++,A=w.next())A=g(C,y,_,A.value,S),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?_:A.key),v=o(A,v,_),j===null?N=A:j.sibling=A,j=A);return e&&C.forEach(function(M){return t(y,M)}),it&&po(y,_),N}function x(y,v,w,S){if(typeof w=="object"&&w!==null&&w.type===ja&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Kc:e:{for(var N=w.key,j=v;j!==null;){if(j.key===N){if(N=w.type,N===ja){if(j.tag===7){n(y,j.sibling),v=s(j,w.props.children),v.return=y,y=v;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ys&&rx(N)===j.type){n(y,j.sibling),v=s(j,w.props),v.ref=Qi(y,j,w),v.return=y,y=v;break e}n(y,j);break}else t(y,j);j=j.sibling}w.type===ja?(v=Io(w.props.children,y.mode,S,w.key),v.return=y,y=v):(S=Ou(w.type,w.key,w.props,null,y.mode,S),S.ref=Qi(y,v,w),S.return=y,y=S)}return i(y);case Na:e:{for(j=w.key;v!==null;){if(v.key===j)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),v=s(v,w.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=hf(w,y.mode,S),v.return=y,y=v}return i(y);case ys:return j=w._init,x(y,v,j(w._payload),S)}if(ol(w))return b(y,v,w,S);if(Hi(w))return p(y,v,w,S);ru(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),v=s(v,w),v.return=y,y=v):(n(y,v),v=df(w,y.mode,S),v.return=y,y=v),i(y)):n(y,v)}return x}var li=Bb(!0),Vb=Bb(!1),ed=eo(null),td=null,Aa=null,ug=null;function dg(){ug=Aa=td=null}function hg(e){var t=ed.current;ot(ed),e._currentValue=t}function wp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ua(e,t){td=e,ug=Aa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mn=!0),e.firstContext=null)}function Bn(e){var t=e._currentValue;if(ug!==e)if(e={context:e,memoizedValue:t,next:null},Aa===null){if(td===null)throw Error(X(308));Aa=e,td.dependencies={lanes:0,firstContext:e}}else Aa=Aa.next=e;return t}var bo=null;function fg(e){bo===null?bo=[e]:bo.push(e)}function Wb(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,fg(t)):(n.next=s.next,s.next=n),t.interleaved=n,es(e,r)}function es(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xs=!1;function pg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zs(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,es(e,n)}return s=r.interleaved,s===null?(t.next=t,fg(r)):(t.next=s.next,s.next=t),r.interleaved=t,es(e,n)}function Eu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zm(e,n)}}function sx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function nd(e,t,n,r){var s=e.updateQueue;xs=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,h=u=c=null,l=o;do{var m=l.lane,g=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,p=l;switch(m=t,g=n,p.tag){case 1:if(b=p.payload,typeof b=="function"){f=b.call(g,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,m=typeof b=="function"?b.call(g,f,m):b,m==null)break e;f=mt({},f,m);break e;case 2:xs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=g,c=f):h=h.next=g,i|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Lo|=i,e.lanes=i,e.memoizedState=f}}function ox(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var gc={},kr=eo(gc),Ll=eo(gc),Fl=eo(gc);function So(e){if(e===gc)throw Error(X(174));return e}function mg(e,t){switch(et(Fl,t),et(Ll,e),et(kr,gc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ep(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ep(t,e)}ot(kr),et(kr,t)}function ci(){ot(kr),ot(Ll),ot(Fl)}function Kb(e){So(Fl.current);var t=So(kr.current),n=ep(t,e.type);t!==n&&(et(Ll,e),et(kr,n))}function gg(e){Ll.current===e&&(ot(kr),ot(Ll))}var ht=eo(0);function rd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sf=[];function vg(){for(var e=0;e<sf.length;e++)sf[e]._workInProgressVersionPrimary=null;sf.length=0}var ku=ss.ReactCurrentDispatcher,of=ss.ReactCurrentBatchConfig,$o=0,ft=null,Pt=null,Ot=null,sd=!1,xl=!1,Ul=0,O2=0;function Wt(){throw Error(X(321))}function yg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function xg(e,t,n,r,s,o){if($o=o,ft=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ku.current=e===null||e.memoizedState===null?$2:L2,e=n(r,s),xl){o=0;do{if(xl=!1,Ul=0,25<=o)throw Error(X(301));o+=1,Ot=Pt=null,t.updateQueue=null,ku.current=F2,e=n(r,s)}while(xl)}if(ku.current=od,t=Pt!==null&&Pt.next!==null,$o=0,Ot=Pt=ft=null,sd=!1,t)throw Error(X(300));return e}function wg(){var e=Ul!==0;return Ul=0,e}function wr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ft.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Vn(){if(Pt===null){var e=ft.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var t=Ot===null?ft.memoizedState:Ot.next;if(t!==null)Ot=t,Pt=e;else{if(e===null)throw Error(X(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ot===null?ft.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function zl(e,t){return typeof t=="function"?t(e):t}function af(e){var t=Vn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=Pt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var h=u.lane;if(($o&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,ft.lanes|=h,Lo|=h}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,hr(r,t.memoizedState)||(mn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ft.lanes|=o,Lo|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function lf(e){var t=Vn(),n=t.queue;if(n===null)throw Error(X(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);hr(o,t.memoizedState)||(mn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Gb(){}function qb(e,t){var n=ft,r=Vn(),s=t(),o=!hr(r.memoizedState,s);if(o&&(r.memoizedState=s,mn=!0),r=r.queue,bg(Jb.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ot!==null&&Ot.memoizedState.tag&1){if(n.flags|=2048,Bl(9,Qb.bind(null,n,r,s,t),void 0,null),Dt===null)throw Error(X(349));$o&30||Yb(n,t,s)}return s}function Yb(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qb(e,t,n,r){t.value=n,t.getSnapshot=r,Xb(t)&&Zb(e)}function Jb(e,t,n){return n(function(){Xb(t)&&Zb(e)})}function Xb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch{return!0}}function Zb(e){var t=es(e,1);t!==null&&dr(t,e,1,-1)}function ax(e){var t=wr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zl,lastRenderedState:e},t.queue=e,e=e.dispatch=M2.bind(null,ft,e),[t.memoizedState,e]}function Bl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ft.updateQueue,t===null?(t={lastEffect:null,stores:null},ft.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function eS(){return Vn().memoizedState}function Tu(e,t,n,r){var s=wr();ft.flags|=e,s.memoizedState=Bl(1|t,n,void 0,r===void 0?null:r)}function qd(e,t,n,r){var s=Vn();r=r===void 0?null:r;var o=void 0;if(Pt!==null){var i=Pt.memoizedState;if(o=i.destroy,r!==null&&yg(r,i.deps)){s.memoizedState=Bl(t,n,o,r);return}}ft.flags|=e,s.memoizedState=Bl(1|t,n,o,r)}function ix(e,t){return Tu(8390656,8,e,t)}function bg(e,t){return qd(2048,8,e,t)}function tS(e,t){return qd(4,2,e,t)}function nS(e,t){return qd(4,4,e,t)}function rS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sS(e,t,n){return n=n!=null?n.concat([e]):null,qd(4,4,rS.bind(null,t,e),n)}function Sg(){}function oS(e,t){var n=Vn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function aS(e,t){var n=Vn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&yg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function iS(e,t,n){return $o&21?(hr(n,t)||(n=hb(),ft.lanes|=n,Lo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mn=!0),e.memoizedState=n)}function I2(e,t){var n=Ye;Ye=n!==0&&4>n?n:4,e(!0);var r=of.transition;of.transition={};try{e(!1),t()}finally{Ye=n,of.transition=r}}function lS(){return Vn().memoizedState}function D2(e,t,n){var r=Vs(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cS(e))uS(t,n);else if(n=Wb(e,t,n,r),n!==null){var s=nn();dr(n,e,r,s),dS(n,t,r)}}function M2(e,t,n){var r=Vs(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cS(e))uS(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,hr(l,i)){var c=t.interleaved;c===null?(s.next=s,fg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Wb(e,t,s,r),n!==null&&(s=nn(),dr(n,e,r,s),dS(n,t,r))}}function cS(e){var t=e.alternate;return e===ft||t!==null&&t===ft}function uS(e,t){xl=sd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function dS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Zm(e,n)}}var od={readContext:Bn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},$2={readContext:Bn,useCallback:function(e,t){return wr().memoizedState=[e,t===void 0?null:t],e},useContext:Bn,useEffect:ix,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Tu(4194308,4,rS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tu(4,2,e,t)},useMemo:function(e,t){var n=wr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=wr();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=D2.bind(null,ft,e),[r.memoizedState,e]},useRef:function(e){var t=wr();return e={current:e},t.memoizedState=e},useState:ax,useDebugValue:Sg,useDeferredValue:function(e){return wr().memoizedState=e},useTransition:function(){var e=ax(!1),t=e[0];return e=I2.bind(null,e[1]),wr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ft,s=wr();if(it){if(n===void 0)throw Error(X(407));n=n()}else{if(n=t(),Dt===null)throw Error(X(349));$o&30||Yb(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,ix(Jb.bind(null,r,o,e),[e]),r.flags|=2048,Bl(9,Qb.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=wr(),t=Dt.identifierPrefix;if(it){var n=Hr,r=Wr;n=(r&~(1<<32-ur(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ul++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=O2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},L2={readContext:Bn,useCallback:oS,useContext:Bn,useEffect:bg,useImperativeHandle:sS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:aS,useReducer:af,useRef:eS,useState:function(){return af(zl)},useDebugValue:Sg,useDeferredValue:function(e){var t=Vn();return iS(t,Pt.memoizedState,e)},useTransition:function(){var e=af(zl)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:Gb,useSyncExternalStore:qb,useId:lS,unstable_isNewReconciler:!1},F2={readContext:Bn,useCallback:oS,useContext:Bn,useEffect:bg,useImperativeHandle:sS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:aS,useReducer:lf,useRef:eS,useState:function(){return lf(zl)},useDebugValue:Sg,useDeferredValue:function(e){var t=Vn();return Pt===null?t.memoizedState=e:iS(t,Pt.memoizedState,e)},useTransition:function(){var e=lf(zl)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:Gb,useSyncExternalStore:qb,useId:lS,unstable_isNewReconciler:!1};function er(e,t){if(e&&e.defaultProps){t=mt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:mt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yd={isMounted:function(e){return(e=e._reactInternals)?Yo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nn(),s=Vs(e),o=Gr(r,s);o.payload=t,n!=null&&(o.callback=n),t=zs(e,o,s),t!==null&&(dr(t,e,s,r),Eu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nn(),s=Vs(e),o=Gr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=zs(e,o,s),t!==null&&(dr(t,e,s,r),Eu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nn(),r=Vs(e),s=Gr(n,r);s.tag=2,t!=null&&(s.callback=t),t=zs(e,s,r),t!==null&&(dr(t,e,r,n),Eu(t,e,r))}};function lx(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Il(n,r)||!Il(s,o):!0}function hS(e,t,n){var r=!1,s=Qs,o=t.contextType;return typeof o=="object"&&o!==null?o=Bn(o):(s=vn(t)?Do:qt.current,r=t.contextTypes,o=(r=r!=null)?ai(e,s):Qs),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yd,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function cx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Yd.enqueueReplaceState(t,t.state,null)}function Sp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},pg(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Bn(o):(o=vn(t)?Do:qt.current,s.context=ai(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(bp(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yd.enqueueReplaceState(s,s.state,null),nd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ui(e,t){try{var n="",r=t;do n+=fT(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function cf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Np(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var U2=typeof WeakMap=="function"?WeakMap:Map;function fS(e,t,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){id||(id=!0,Op=r),Np(e,t)},n}function pS(e,t,n){n=Gr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Np(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Np(e,t),typeof r!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function ux(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new U2;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=eP.bind(null,e,t,n),t.then(e,e))}function dx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function hx(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Gr(-1,1),t.tag=2,zs(n,t,1))),n.lanes|=1),e)}var z2=ss.ReactCurrentOwner,mn=!1;function en(e,t,n,r){t.child=e===null?Vb(t,null,n,r):li(t,e.child,n,r)}function fx(e,t,n,r,s){n=n.render;var o=t.ref;return Ua(t,s),r=xg(e,t,n,r,o,s),n=wg(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ts(e,t,s)):(it&&n&&ig(t),t.flags|=1,en(e,t,r,s),t.child)}function px(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Pg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,mS(e,t,o,r,s)):(e=Ou(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Il,n(i,r)&&e.ref===t.ref)return ts(e,t,s)}return t.flags|=1,e=Ws(o,r),e.ref=t.ref,e.return=t,t.child=e}function mS(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Il(o,r)&&e.ref===t.ref)if(mn=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(mn=!0);else return t.lanes=e.lanes,ts(e,t,s)}return jp(e,t,n,r,s)}function gS(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Ia,bn),bn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,et(Ia,bn),bn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(Ia,bn),bn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,et(Ia,bn),bn|=r;return en(e,t,s,n),t.child}function vS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jp(e,t,n,r,s){var o=vn(n)?Do:qt.current;return o=ai(t,o),Ua(t,s),n=xg(e,t,n,r,o,s),r=wg(),e!==null&&!mn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ts(e,t,s)):(it&&r&&ig(t),t.flags|=1,en(e,t,n,s),t.child)}function mx(e,t,n,r,s){if(vn(n)){var o=!0;Ju(t)}else o=!1;if(Ua(t,s),t.stateNode===null)Pu(e,t),hS(t,n,r),Sp(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=vn(n)?Do:qt.current,u=ai(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&cx(t,i,r,u),xs=!1;var m=t.memoizedState;i.state=m,nd(t,r,i,s),c=t.memoizedState,l!==r||m!==c||gn.current||xs?(typeof h=="function"&&(bp(t,n,h,r),c=t.memoizedState),(l=xs||lx(t,n,l,r,m,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Hb(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:er(t.type,l),i.props=u,f=t.pendingProps,m=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Bn(c):(c=vn(n)?Do:qt.current,c=ai(t,c));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||m!==c)&&cx(t,i,r,c),xs=!1,m=t.memoizedState,i.state=m,nd(t,r,i,s);var b=t.memoizedState;l!==f||m!==b||gn.current||xs?(typeof g=="function"&&(bp(t,n,g,r),b=t.memoizedState),(u=xs||lx(t,n,u,r,m,b,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Cp(e,t,n,r,o,s)}function Cp(e,t,n,r,s,o){vS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&ex(t,n,!1),ts(e,t,o);r=t.stateNode,z2.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=li(t,e.child,null,o),t.child=li(t,null,l,o)):en(e,t,l,o),t.memoizedState=r.state,s&&ex(t,n,!0),t.child}function yS(e){var t=e.stateNode;t.pendingContext?Zy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zy(e,t.context,!1),mg(e,t.containerInfo)}function gx(e,t,n,r,s){return ii(),cg(s),t.flags|=256,en(e,t,n,r),t.child}var _p={dehydrated:null,treeContext:null,retryLane:0};function Ep(e){return{baseLanes:e,cachePool:null,transitions:null}}function xS(e,t,n){var r=t.pendingProps,s=ht.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),et(ht,s&1),e===null)return xp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Xd(i,r,0,null),e=Io(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ep(n),t.memoizedState=_p,e):Ng(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return B2(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ws(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Ws(l,o):(o=Io(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Ep(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=_p,r}return o=e.child,e=o.sibling,r=Ws(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ng(e,t){return t=Xd({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function su(e,t,n,r){return r!==null&&cg(r),li(t,e.child,null,n),e=Ng(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function B2(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=cf(Error(X(422))),su(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Xd({mode:"visible",children:r.children},s,0,null),o=Io(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&li(t,e.child,null,i),t.child.memoizedState=Ep(i),t.memoizedState=_p,o);if(!(t.mode&1))return su(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(X(419)),r=cf(o,r,void 0),su(e,t,i,r)}if(l=(i&e.childLanes)!==0,mn||l){if(r=Dt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,es(e,s),dr(r,e,s,-1))}return Tg(),r=cf(Error(X(421))),su(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=tP.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,_n=Us(s.nextSibling),En=t,it=!0,ar=null,e!==null&&(Mn[$n++]=Wr,Mn[$n++]=Hr,Mn[$n++]=Mo,Wr=e.id,Hr=e.overflow,Mo=t),t=Ng(t,r.children),t.flags|=4096,t)}function vx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wp(e.return,t,n)}function uf(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function wS(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(en(e,t,r.children,n),r=ht.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vx(e,n,t);else if(e.tag===19)vx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(et(ht,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&rd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),uf(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&rd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}uf(t,!0,n,null,o);break;case"together":uf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Pu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ts(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,n=Ws(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ws(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function V2(e,t,n){switch(t.tag){case 3:yS(t),ii();break;case 5:Kb(t);break;case 1:vn(t.type)&&Ju(t);break;case 4:mg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;et(ed,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(et(ht,ht.current&1),t.flags|=128,null):n&t.child.childLanes?xS(e,t,n):(et(ht,ht.current&1),e=ts(e,t,n),e!==null?e.sibling:null);et(ht,ht.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return wS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),et(ht,ht.current),r)break;return null;case 22:case 23:return t.lanes=0,gS(e,t,n)}return ts(e,t,n)}var bS,kp,SS,NS;bS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kp=function(){};SS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,So(kr.current);var o=null;switch(n){case"input":s=Qf(e,s),r=Qf(e,r),o=[];break;case"select":s=mt({},s,{value:void 0}),r=mt({},r,{value:void 0}),o=[];break;case"textarea":s=Zf(e,s),r=Zf(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Yu)}tp(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&st("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};NS=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ji(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function W2(e,t,n){var r=t.pendingProps;switch(lg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(t),null;case 1:return vn(t.type)&&Qu(),Ht(t),null;case 3:return r=t.stateNode,ci(),ot(gn),ot(qt),vg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(nu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ar!==null&&(Mp(ar),ar=null))),kp(e,t),Ht(t),null;case 5:gg(t);var s=So(Fl.current);if(n=t.type,e!==null&&t.stateNode!=null)SS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(X(166));return Ht(t),null}if(e=So(kr.current),nu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[jr]=t,r[$l]=o,e=(t.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(s=0;s<il.length;s++)st(il[s],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":_y(r,o),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},st("invalid",r);break;case"textarea":ky(r,o),st("invalid",r)}tp(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&tu(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&tu(r.textContent,l,e),s=["children",""+l]):El.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&st("scroll",r)}switch(n){case"input":Gc(r),Ey(r,o,!0);break;case"textarea":Gc(r),Ty(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Yu)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=J0(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[jr]=t,e[$l]=r,bS(e,t,!1,!1),t.stateNode=e;e:{switch(i=np(n,r),n){case"dialog":st("cancel",e),st("close",e),s=r;break;case"iframe":case"object":case"embed":st("load",e),s=r;break;case"video":case"audio":for(s=0;s<il.length;s++)st(il[s],e);s=r;break;case"source":st("error",e),s=r;break;case"img":case"image":case"link":st("error",e),st("load",e),s=r;break;case"details":st("toggle",e),s=r;break;case"input":_y(e,r),s=Qf(e,r),st("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=mt({},r,{value:void 0}),st("invalid",e);break;case"textarea":ky(e,r),s=Zf(e,r),st("invalid",e);break;default:s=r}tp(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?eb(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&X0(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&kl(e,c):typeof c=="number"&&kl(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(El.hasOwnProperty(o)?c!=null&&o==="onScroll"&&st("scroll",e):c!=null&&Gm(e,o,c,i))}switch(n){case"input":Gc(e),Ey(e,r,!1);break;case"textarea":Gc(e),Ty(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ys(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Ma(e,!!r.multiple,o,!1):r.defaultValue!=null&&Ma(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ht(t),null;case 6:if(e&&t.stateNode!=null)NS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(X(166));if(n=So(Fl.current),So(kr.current),nu(t)){if(r=t.stateNode,n=t.memoizedProps,r[jr]=t,(o=r.nodeValue!==n)&&(e=En,e!==null))switch(e.tag){case 3:tu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=t,t.stateNode=r}return Ht(t),null;case 13:if(ot(ht),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&_n!==null&&t.mode&1&&!(t.flags&128))zb(),ii(),t.flags|=98560,o=!1;else if(o=nu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(X(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[jr]=t}else ii(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ht(t),o=!1}else ar!==null&&(Mp(ar),ar=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ht.current&1?At===0&&(At=3):Tg())),t.updateQueue!==null&&(t.flags|=4),Ht(t),null);case 4:return ci(),kp(e,t),e===null&&Dl(t.stateNode.containerInfo),Ht(t),null;case 10:return hg(t.type._context),Ht(t),null;case 17:return vn(t.type)&&Qu(),Ht(t),null;case 19:if(ot(ht),o=t.memoizedState,o===null)return Ht(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)Ji(o,!1);else{if(At!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=rd(e),i!==null){for(t.flags|=128,Ji(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return et(ht,ht.current&1|2),t.child}e=e.sibling}o.tail!==null&&bt()>di&&(t.flags|=128,r=!0,Ji(o,!1),t.lanes=4194304)}else{if(!r)if(e=rd(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ji(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!it)return Ht(t),null}else 2*bt()-o.renderingStartTime>di&&n!==1073741824&&(t.flags|=128,r=!0,Ji(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=bt(),t.sibling=null,n=ht.current,et(ht,r?n&1|2:n&1),t):(Ht(t),null);case 22:case 23:return kg(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?bn&1073741824&&(Ht(t),t.subtreeFlags&6&&(t.flags|=8192)):Ht(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function H2(e,t){switch(lg(t),t.tag){case 1:return vn(t.type)&&Qu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ci(),ot(gn),ot(qt),vg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gg(t),null;case 13:if(ot(ht),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ot(ht),null;case 4:return ci(),null;case 10:return hg(t.type._context),null;case 22:case 23:return kg(),null;case 24:return null;default:return null}}var ou=!1,Gt=!1,K2=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Oa(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(e,t,r)}else n.current=null}function Tp(e,t,n){try{n()}catch(r){xt(e,t,r)}}var yx=!1;function G2(e,t){if(hp=Ku,e=kb(),ag(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===e)break t;if(m===n&&++u===s&&(l=i),m===o&&++h===r&&(c=i),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fp={focusedElem:e,selectionRange:n},Ku=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,x=b.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:er(t.type,p),x);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(S){xt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return b=yx,yx=!1,b}function wl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Tp(t,n,o)}s=s.next}while(s!==r)}}function Qd(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function jS(e){var t=e.alternate;t!==null&&(e.alternate=null,jS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jr],delete t[$l],delete t[gp],delete t[T2],delete t[P2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CS(e){return e.tag===5||e.tag===3||e.tag===4}function xx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Yu));else if(r!==4&&(e=e.child,e!==null))for(Rp(e,t,n),e=e.sibling;e!==null;)Rp(e,t,n),e=e.sibling}function Ap(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ap(e,t,n),e=e.sibling;e!==null;)Ap(e,t,n),e=e.sibling}var Ut=null,sr=!1;function hs(e,t,n){for(n=n.child;n!==null;)_S(e,t,n),n=n.sibling}function _S(e,t,n){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(Bd,n)}catch{}switch(n.tag){case 5:Gt||Oa(n,t);case 6:var r=Ut,s=sr;Ut=null,hs(e,t,n),Ut=r,sr=s,Ut!==null&&(sr?(e=Ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ut.removeChild(n.stateNode));break;case 18:Ut!==null&&(sr?(e=Ut,n=n.stateNode,e.nodeType===8?nf(e.parentNode,n):e.nodeType===1&&nf(e,n),Al(e)):nf(Ut,n.stateNode));break;case 4:r=Ut,s=sr,Ut=n.stateNode.containerInfo,sr=!0,hs(e,t,n),Ut=r,sr=s;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Tp(n,t,i),s=s.next}while(s!==r)}hs(e,t,n);break;case 1:if(!Gt&&(Oa(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){xt(n,t,l)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,hs(e,t,n),Gt=r):hs(e,t,n);break;default:hs(e,t,n)}}function wx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new K2),t.forEach(function(r){var s=nP.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,sr=!1;break e;case 3:Ut=l.stateNode.containerInfo,sr=!0;break e;case 4:Ut=l.stateNode.containerInfo,sr=!0;break e}l=l.return}if(Ut===null)throw Error(X(160));_S(o,i,s),Ut=null,sr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){xt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ES(t,e),t=t.sibling}function ES(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yn(t,e),xr(e),r&4){try{wl(3,e,e.return),Qd(3,e)}catch(p){xt(e,e.return,p)}try{wl(5,e,e.return)}catch(p){xt(e,e.return,p)}}break;case 1:Yn(t,e),xr(e),r&512&&n!==null&&Oa(n,n.return);break;case 5:if(Yn(t,e),xr(e),r&512&&n!==null&&Oa(n,n.return),e.flags&32){var s=e.stateNode;try{kl(s,"")}catch(p){xt(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Y0(s,o),np(l,i);var u=np(l,o);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?eb(s,f):h==="dangerouslySetInnerHTML"?X0(s,f):h==="children"?kl(s,f):Gm(s,h,f,u)}switch(l){case"input":Jf(s,o);break;case"textarea":Q0(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Ma(s,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?Ma(s,!!o.multiple,o.defaultValue,!0):Ma(s,!!o.multiple,o.multiple?[]:"",!1))}s[$l]=o}catch(p){xt(e,e.return,p)}}break;case 6:if(Yn(t,e),xr(e),r&4){if(e.stateNode===null)throw Error(X(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(p){xt(e,e.return,p)}}break;case 3:if(Yn(t,e),xr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(p){xt(e,e.return,p)}break;case 4:Yn(t,e),xr(e);break;case 13:Yn(t,e),xr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(_g=bt())),r&4&&wx(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Gt=(u=Gt)||h,Yn(t,e),Gt=u):Yn(t,e),xr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(fe=e,h=e.child;h!==null;){for(f=fe=h;fe!==null;){switch(m=fe,g=m.child,m.tag){case 0:case 11:case 14:case 15:wl(4,m,m.return);break;case 1:Oa(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){xt(r,n,p)}}break;case 5:Oa(m,m.return);break;case 22:if(m.memoizedState!==null){Sx(f);continue}}g!==null?(g.return=m,fe=g):Sx(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Z0("display",i))}catch(p){xt(e,e.return,p)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){xt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Yn(t,e),xr(e),r&4&&wx(e);break;case 21:break;default:Yn(t,e),xr(e)}}function xr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(CS(n)){var r=n;break e}n=n.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kl(s,""),r.flags&=-33);var o=xx(e);Ap(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=xx(e);Rp(e,l,i);break;default:throw Error(X(161))}}catch(c){xt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q2(e,t,n){fe=e,kS(e)}function kS(e,t,n){for(var r=(e.mode&1)!==0;fe!==null;){var s=fe,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ou;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Gt;l=ou;var u=Gt;if(ou=i,(Gt=c)&&!u)for(fe=s;fe!==null;)i=fe,c=i.child,i.tag===22&&i.memoizedState!==null?Nx(s):c!==null?(c.return=i,fe=c):Nx(s);for(;o!==null;)fe=o,kS(o),o=o.sibling;fe=s,ou=l,Gt=u}bx(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,fe=o):bx(e)}}function bx(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gt||Qd(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:er(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&ox(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ox(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Gt||t.flags&512&&Pp(t)}catch(m){xt(t,t.return,m)}}if(t===e){fe=null;break}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Sx(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,fe=n;break}fe=t.return}}function Nx(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qd(4,t)}catch(c){xt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){xt(t,s,c)}}var o=t.return;try{Pp(t)}catch(c){xt(t,o,c)}break;case 5:var i=t.return;try{Pp(t)}catch(c){xt(t,i,c)}}}catch(c){xt(t,t.return,c)}if(t===e){fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,fe=l;break}fe=t.return}}var Y2=Math.ceil,ad=ss.ReactCurrentDispatcher,jg=ss.ReactCurrentOwner,Un=ss.ReactCurrentBatchConfig,Be=0,Dt=null,Ct=null,zt=0,bn=0,Ia=eo(0),At=0,Vl=null,Lo=0,Jd=0,Cg=0,bl=null,pn=null,_g=0,di=1/0,Lr=null,id=!1,Op=null,Bs=null,au=!1,Ds=null,ld=0,Sl=0,Ip=null,Ru=-1,Au=0;function nn(){return Be&6?bt():Ru!==-1?Ru:Ru=bt()}function Vs(e){return e.mode&1?Be&2&&zt!==0?zt&-zt:A2.transition!==null?(Au===0&&(Au=hb()),Au):(e=Ye,e!==0||(e=window.event,e=e===void 0?16:xb(e.type)),e):1}function dr(e,t,n,r){if(50<Sl)throw Sl=0,Ip=null,Error(X(185));fc(e,n,r),(!(Be&2)||e!==Dt)&&(e===Dt&&(!(Be&2)&&(Jd|=n),At===4&&Ss(e,zt)),yn(e,r),n===1&&Be===0&&!(t.mode&1)&&(di=bt()+500,Gd&&to()))}function yn(e,t){var n=e.callbackNode;AT(e,t);var r=Hu(e,e===Dt?zt:0);if(r===0)n!==null&&Ay(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ay(n),t===1)e.tag===0?R2(jx.bind(null,e)):Lb(jx.bind(null,e)),E2(function(){!(Be&6)&&to()}),n=null;else{switch(fb(r)){case 1:n=Xm;break;case 4:n=ub;break;case 16:n=Wu;break;case 536870912:n=db;break;default:n=Wu}n=MS(n,TS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function TS(e,t){if(Ru=-1,Au=0,Be&6)throw Error(X(327));var n=e.callbackNode;if(za()&&e.callbackNode!==n)return null;var r=Hu(e,e===Dt?zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cd(e,r);else{t=r;var s=Be;Be|=2;var o=RS();(Dt!==e||zt!==t)&&(Lr=null,di=bt()+500,Oo(e,t));do try{X2();break}catch(l){PS(e,l)}while(!0);dg(),ad.current=o,Be=s,Ct!==null?t=0:(Dt=null,zt=0,t=At)}if(t!==0){if(t===2&&(s=ip(e),s!==0&&(r=s,t=Dp(e,s))),t===1)throw n=Vl,Oo(e,0),Ss(e,r),yn(e,bt()),n;if(t===6)Ss(e,r);else{if(s=e.current.alternate,!(r&30)&&!Q2(s)&&(t=cd(e,r),t===2&&(o=ip(e),o!==0&&(r=o,t=Dp(e,o))),t===1))throw n=Vl,Oo(e,0),Ss(e,r),yn(e,bt()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(X(345));case 2:mo(e,pn,Lr);break;case 3:if(Ss(e,r),(r&130023424)===r&&(t=_g+500-bt(),10<t)){if(Hu(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){nn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=mp(mo.bind(null,e,pn,Lr),t);break}mo(e,pn,Lr);break;case 4:if(Ss(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-ur(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Y2(r/1960))-r,10<r){e.timeoutHandle=mp(mo.bind(null,e,pn,Lr),r);break}mo(e,pn,Lr);break;case 5:mo(e,pn,Lr);break;default:throw Error(X(329))}}}return yn(e,bt()),e.callbackNode===n?TS.bind(null,e):null}function Dp(e,t){var n=bl;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),e=cd(e,t),e!==2&&(t=pn,pn=n,t!==null&&Mp(t)),e}function Mp(e){pn===null?pn=e:pn.push.apply(pn,e)}function Q2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!hr(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ss(e,t){for(t&=~Cg,t&=~Jd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ur(t),r=1<<n;e[n]=-1,t&=~r}}function jx(e){if(Be&6)throw Error(X(327));za();var t=Hu(e,0);if(!(t&1))return yn(e,bt()),null;var n=cd(e,t);if(e.tag!==0&&n===2){var r=ip(e);r!==0&&(t=r,n=Dp(e,r))}if(n===1)throw n=Vl,Oo(e,0),Ss(e,t),yn(e,bt()),n;if(n===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mo(e,pn,Lr),yn(e,bt()),null}function Eg(e,t){var n=Be;Be|=1;try{return e(t)}finally{Be=n,Be===0&&(di=bt()+500,Gd&&to())}}function Fo(e){Ds!==null&&Ds.tag===0&&!(Be&6)&&za();var t=Be;Be|=1;var n=Un.transition,r=Ye;try{if(Un.transition=null,Ye=1,e)return e()}finally{Ye=r,Un.transition=n,Be=t,!(Be&6)&&to()}}function kg(){bn=Ia.current,ot(Ia)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_2(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(lg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qu();break;case 3:ci(),ot(gn),ot(qt),vg();break;case 5:gg(r);break;case 4:ci();break;case 13:ot(ht);break;case 19:ot(ht);break;case 10:hg(r.type._context);break;case 22:case 23:kg()}n=n.return}if(Dt=e,Ct=e=Ws(e.current,null),zt=bn=t,At=0,Vl=null,Cg=Jd=Lo=0,pn=bl=null,bo!==null){for(t=0;t<bo.length;t++)if(n=bo[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}bo=null}return e}function PS(e,t){do{var n=Ct;try{if(dg(),ku.current=od,sd){for(var r=ft.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}sd=!1}if($o=0,Ot=Pt=ft=null,xl=!1,Ul=0,jg.current=null,n===null||n.return===null){At=1,Vl=t,Ct=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=zt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=dx(i);if(g!==null){g.flags&=-257,hx(g,i,l,o,t),g.mode&1&&ux(o,u,t),t=g,c=u;var b=t.updateQueue;if(b===null){var p=new Set;p.add(c),t.updateQueue=p}else b.add(c);break e}else{if(!(t&1)){ux(o,u,t),Tg();break e}c=Error(X(426))}}else if(it&&l.mode&1){var x=dx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),hx(x,i,l,o,t),cg(ui(c,l));break e}}o=c=ui(c,l),At!==4&&(At=2),bl===null?bl=[o]:bl.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=fS(o,c,t);sx(o,y);break e;case 1:l=c;var v=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Bs===null||!Bs.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var S=pS(o,l,t);sx(o,S);break e}}o=o.return}while(o!==null)}OS(n)}catch(N){t=N,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function RS(){var e=ad.current;return ad.current=od,e===null?od:e}function Tg(){(At===0||At===3||At===2)&&(At=4),Dt===null||!(Lo&268435455)&&!(Jd&268435455)||Ss(Dt,zt)}function cd(e,t){var n=Be;Be|=2;var r=RS();(Dt!==e||zt!==t)&&(Lr=null,Oo(e,t));do try{J2();break}catch(s){PS(e,s)}while(!0);if(dg(),Be=n,ad.current=r,Ct!==null)throw Error(X(261));return Dt=null,zt=0,At}function J2(){for(;Ct!==null;)AS(Ct)}function X2(){for(;Ct!==null&&!NT();)AS(Ct)}function AS(e){var t=DS(e.alternate,e,bn);e.memoizedProps=e.pendingProps,t===null?OS(e):Ct=t,jg.current=null}function OS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=H2(n,t),n!==null){n.flags&=32767,Ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{At=6,Ct=null;return}}else if(n=W2(n,t,bn),n!==null){Ct=n;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);At===0&&(At=5)}function mo(e,t,n){var r=Ye,s=Un.transition;try{Un.transition=null,Ye=1,Z2(e,t,n,r)}finally{Un.transition=s,Ye=r}return null}function Z2(e,t,n,r){do za();while(Ds!==null);if(Be&6)throw Error(X(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(OT(e,o),e===Dt&&(Ct=Dt=null,zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||au||(au=!0,MS(Wu,function(){return za(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Un.transition,Un.transition=null;var i=Ye;Ye=1;var l=Be;Be|=4,jg.current=null,G2(e,n),ES(n,e),x2(fp),Ku=!!hp,fp=hp=null,e.current=n,q2(n),jT(),Be=l,Ye=i,Un.transition=o}else e.current=n;if(au&&(au=!1,Ds=e,ld=s),o=e.pendingLanes,o===0&&(Bs=null),ET(n.stateNode),yn(e,bt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(id)throw id=!1,e=Op,Op=null,e;return ld&1&&e.tag!==0&&za(),o=e.pendingLanes,o&1?e===Ip?Sl++:(Sl=0,Ip=e):Sl=0,to(),null}function za(){if(Ds!==null){var e=fb(ld),t=Un.transition,n=Ye;try{if(Un.transition=null,Ye=16>e?16:e,Ds===null)var r=!1;else{if(e=Ds,Ds=null,ld=0,Be&6)throw Error(X(331));var s=Be;for(Be|=4,fe=e.current;fe!==null;){var o=fe,i=o.child;if(fe.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(fe=u;fe!==null;){var h=fe;switch(h.tag){case 0:case 11:case 15:wl(8,h,o)}var f=h.child;if(f!==null)f.return=h,fe=f;else for(;fe!==null;){h=fe;var m=h.sibling,g=h.return;if(jS(h),h===u){fe=null;break}if(m!==null){m.return=g,fe=m;break}fe=g}}}var b=o.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}fe=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,fe=i;else e:for(;fe!==null;){if(o=fe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wl(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,fe=y;break e}fe=o.return}}var v=e.current;for(fe=v;fe!==null;){i=fe;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,fe=w;else e:for(i=v;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qd(9,l)}}catch(N){xt(l,l.return,N)}if(l===i){fe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,fe=S;break e}fe=l.return}}if(Be=s,to(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(Bd,e)}catch{}r=!0}return r}finally{Ye=n,Un.transition=t}}return!1}function Cx(e,t,n){t=ui(n,t),t=fS(e,t,1),e=zs(e,t,1),t=nn(),e!==null&&(fc(e,1,t),yn(e,t))}function xt(e,t,n){if(e.tag===3)Cx(e,e,n);else for(;t!==null;){if(t.tag===3){Cx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bs===null||!Bs.has(r))){e=ui(n,e),e=pS(t,e,1),t=zs(t,e,1),e=nn(),t!==null&&(fc(t,1,e),yn(t,e));break}}t=t.return}}function eP(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=nn(),e.pingedLanes|=e.suspendedLanes&n,Dt===e&&(zt&n)===n&&(At===4||At===3&&(zt&130023424)===zt&&500>bt()-_g?Oo(e,0):Cg|=n),yn(e,t)}function IS(e,t){t===0&&(e.mode&1?(t=Qc,Qc<<=1,!(Qc&130023424)&&(Qc=4194304)):t=1);var n=nn();e=es(e,t),e!==null&&(fc(e,t,n),yn(e,n))}function tP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),IS(e,n)}function nP(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(t),IS(e,n)}var DS;DS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||gn.current)mn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mn=!1,V2(e,t,n);mn=!!(e.flags&131072)}else mn=!1,it&&t.flags&1048576&&Fb(t,Zu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Pu(e,t),e=t.pendingProps;var s=ai(t,qt.current);Ua(t,n),s=xg(null,t,r,e,s,n);var o=wg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vn(r)?(o=!0,Ju(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pg(t),s.updater=Yd,t.stateNode=s,s._reactInternals=t,Sp(t,r,e,n),t=Cp(null,t,r,!0,o,n)):(t.tag=0,it&&o&&ig(t),en(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Pu(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=sP(r),e=er(r,e),s){case 0:t=jp(null,t,r,e,n);break e;case 1:t=mx(null,t,r,e,n);break e;case 11:t=fx(null,t,r,e,n);break e;case 14:t=px(null,t,r,er(r.type,e),n);break e}throw Error(X(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:er(r,s),jp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:er(r,s),mx(e,t,r,s,n);case 3:e:{if(yS(t),e===null)throw Error(X(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Hb(e,t),nd(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ui(Error(X(423)),t),t=gx(e,t,r,n,s);break e}else if(r!==s){s=ui(Error(X(424)),t),t=gx(e,t,r,n,s);break e}else for(_n=Us(t.stateNode.containerInfo.firstChild),En=t,it=!0,ar=null,n=Vb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ii(),r===s){t=ts(e,t,n);break e}en(e,t,r,n)}t=t.child}return t;case 5:return Kb(t),e===null&&xp(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,pp(r,s)?i=null:o!==null&&pp(r,o)&&(t.flags|=32),vS(e,t),en(e,t,i,n),t.child;case 6:return e===null&&xp(t),null;case 13:return xS(e,t,n);case 4:return mg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=li(t,null,r,n):en(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:er(r,s),fx(e,t,r,s,n);case 7:return en(e,t,t.pendingProps,n),t.child;case 8:return en(e,t,t.pendingProps.children,n),t.child;case 12:return en(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,et(ed,r._currentValue),r._currentValue=i,o!==null)if(hr(o.value,i)){if(o.children===s.children&&!gn.current){t=ts(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Gr(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),wp(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(X(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wp(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}en(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ua(t,n),s=Bn(s),r=r(s),t.flags|=1,en(e,t,r,n),t.child;case 14:return r=t.type,s=er(r,t.pendingProps),s=er(r.type,s),px(e,t,r,s,n);case 15:return mS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:er(r,s),Pu(e,t),t.tag=1,vn(r)?(e=!0,Ju(t)):e=!1,Ua(t,n),hS(t,r,s),Sp(t,r,s,n),Cp(null,t,r,!0,e,n);case 19:return wS(e,t,n);case 22:return gS(e,t,n)}throw Error(X(156,t.tag))};function MS(e,t){return cb(e,t)}function rP(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,t,n,r){return new rP(e,t,n,r)}function Pg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sP(e){if(typeof e=="function")return Pg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ym)return 11;if(e===Qm)return 14}return 2}function Ws(e,t){var n=e.alternate;return n===null?(n=Ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ou(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Pg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ja:return Io(n.children,s,o,t);case qm:i=8,s|=8;break;case Kf:return e=Ln(12,n,t,s|2),e.elementType=Kf,e.lanes=o,e;case Gf:return e=Ln(13,n,t,s),e.elementType=Gf,e.lanes=o,e;case qf:return e=Ln(19,n,t,s),e.elementType=qf,e.lanes=o,e;case K0:return Xd(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W0:i=10;break e;case H0:i=9;break e;case Ym:i=11;break e;case Qm:i=14;break e;case ys:i=16,r=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=Ln(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Io(e,t,n,r){return e=Ln(7,e,r,t),e.lanes=n,e}function Xd(e,t,n,r){return e=Ln(22,e,r,t),e.elementType=K0,e.lanes=n,e.stateNode={isHidden:!1},e}function df(e,t,n){return e=Ln(6,e,null,t),e.lanes=n,e}function hf(e,t,n){return t=Ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oP(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hh(0),this.expirationTimes=Hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rg(e,t,n,r,s,o,i,l,c){return e=new oP(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ln(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pg(o),e}function aP(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Na,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $S(e){if(!e)return Qs;e=e._reactInternals;e:{if(Yo(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var n=e.type;if(vn(n))return $b(e,n,t)}return t}function LS(e,t,n,r,s,o,i,l,c){return e=Rg(n,r,!0,e,s,o,i,l,c),e.context=$S(null),n=e.current,r=nn(),s=Vs(n),o=Gr(r,s),o.callback=t??null,zs(n,o,s),e.current.lanes=s,fc(e,s,r),yn(e,r),e}function Zd(e,t,n,r){var s=t.current,o=nn(),i=Vs(s);return n=$S(n),t.context===null?t.context=n:t.pendingContext=n,t=Gr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zs(s,t,i),e!==null&&(dr(e,s,i,o),Eu(e,s,i)),i}function ud(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _x(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ag(e,t){_x(e,t),(e=e.alternate)&&_x(e,t)}function iP(){return null}var FS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Og(e){this._internalRoot=e}eh.prototype.render=Og.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));Zd(e,t,null,null)};eh.prototype.unmount=Og.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fo(function(){Zd(null,e,null,null)}),t[Zr]=null}};function eh(e){this._internalRoot=e}eh.prototype.unstable_scheduleHydration=function(e){if(e){var t=gb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bs.length&&t!==0&&t<bs[n].priority;n++);bs.splice(n,0,e),n===0&&yb(e)}};function Ig(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function th(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ex(){}function lP(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=ud(i);o.call(u)}}var i=LS(t,r,e,0,null,!1,!1,"",Ex);return e._reactRootContainer=i,e[Zr]=i.current,Dl(e.nodeType===8?e.parentNode:e),Fo(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=ud(c);l.call(u)}}var c=Rg(e,0,!1,null,null,!1,!1,"",Ex);return e._reactRootContainer=c,e[Zr]=c.current,Dl(e.nodeType===8?e.parentNode:e),Fo(function(){Zd(t,c,n,r)}),c}function nh(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=ud(i);l.call(c)}}Zd(t,i,e,s)}else i=lP(n,t,e,s,r);return ud(i)}pb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=al(t.pendingLanes);n!==0&&(Zm(t,n|1),yn(t,bt()),!(Be&6)&&(di=bt()+500,to()))}break;case 13:Fo(function(){var r=es(e,1);if(r!==null){var s=nn();dr(r,e,1,s)}}),Ag(e,1)}};eg=function(e){if(e.tag===13){var t=es(e,134217728);if(t!==null){var n=nn();dr(t,e,134217728,n)}Ag(e,134217728)}};mb=function(e){if(e.tag===13){var t=Vs(e),n=es(e,t);if(n!==null){var r=nn();dr(n,e,t,r)}Ag(e,t)}};gb=function(){return Ye};vb=function(e,t){var n=Ye;try{return Ye=e,t()}finally{Ye=n}};sp=function(e,t,n){switch(t){case"input":if(Jf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Kd(r);if(!s)throw Error(X(90));q0(r),Jf(r,s)}}}break;case"textarea":Q0(e,n);break;case"select":t=n.value,t!=null&&Ma(e,!!n.multiple,t,!1)}};rb=Eg;sb=Fo;var cP={usingClientEntryPoint:!1,Events:[mc,ka,Kd,tb,nb,Eg]},Xi={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uP={bundleType:Xi.bundleType,version:Xi.version,rendererPackageName:Xi.rendererPackageName,rendererConfig:Xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ib(e),e===null?null:e.stateNode},findFiberByHostInstance:Xi.findFiberByHostInstance||iP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Bd=iu.inject(uP),Er=iu}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cP;Pn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ig(t))throw Error(X(200));return aP(e,t,null,n)};Pn.createRoot=function(e,t){if(!Ig(e))throw Error(X(299));var n=!1,r="",s=FS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Rg(e,1,!1,null,null,n,!1,r,s),e[Zr]=t.current,Dl(e.nodeType===8?e.parentNode:e),new Og(t)};Pn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=ib(t),e=e===null?null:e.stateNode,e};Pn.flushSync=function(e){return Fo(e)};Pn.hydrate=function(e,t,n){if(!th(t))throw Error(X(200));return nh(null,e,t,!0,n)};Pn.hydrateRoot=function(e,t,n){if(!Ig(e))throw Error(X(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=FS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=LS(t,null,e,1,n??null,s,!1,o,i),e[Zr]=t.current,Dl(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new eh(t)};Pn.render=function(e,t,n){if(!th(t))throw Error(X(200));return nh(null,e,t,!1,n)};Pn.unmountComponentAtNode=function(e){if(!th(e))throw Error(X(40));return e._reactRootContainer?(Fo(function(){nh(null,null,e,!1,function(){e._reactRootContainer=null,e[Zr]=null})}),!0):!1};Pn.unstable_batchedUpdates=Eg;Pn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!th(n))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return nh(e,t,n,!1,r)};Pn.version="18.3.1-next-f1338f8080-20240426";function US(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(US)}catch(e){console.error(e)}}US(),U0.exports=Pn;var Qo=U0.exports;const zS=k0(Qo);var BS,kx=Qo;BS=kx.createRoot,kx.hydrateRoot;const dP=1,hP=1e6;let ff=0;function fP(){return ff=(ff+1)%Number.MAX_SAFE_INTEGER,ff.toString()}const pf=new Map,Tx=e=>{if(pf.has(e))return;const t=setTimeout(()=>{pf.delete(e),Nl({type:"REMOVE_TOAST",toastId:e})},hP);pf.set(e,t)},pP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,dP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Tx(n):e.toasts.forEach(r=>{Tx(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Iu=[];let Du={toasts:[]};function Nl(e){Du=pP(Du,e),Iu.forEach(t=>{t(Du)})}function mP({...e}){const t=fP(),n=s=>Nl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Nl({type:"DISMISS_TOAST",toastId:t});return Nl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function An(){const[e,t]=d.useState(Du);return d.useEffect(()=>(Iu.push(t),()=>{const n=Iu.indexOf(t);n>-1&&Iu.splice(n,1)}),[e]),{...e,toast:mP,dismiss:n=>Nl({type:"DISMISS_TOAST",toastId:n})}}function ne(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Px(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function rh(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Px(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Px(e[s],null)}}}}function Re(...e){return d.useCallback(rh(...e),e)}function gP(e,t){const n=d.createContext(t),r=o=>{const{children:i,...l}=o,c=d.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=d.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Vt(e,t=[]){let n=[];function r(o,i){const l=d.createContext(i),c=n.length;n=[...n,i];const u=f=>{var y;const{scope:m,children:g,...b}=f,p=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,x=d.useMemo(()=>b,Object.values(b));return a.jsx(p.Provider,{value:x,children:g})};u.displayName=o+"Provider";function h(f,m){var p;const g=((p=m==null?void 0:m[e])==null?void 0:p[c])||l,b=d.useContext(g);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,h]}const s=()=>{const o=n.map(i=>d.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,vP(s,...t)]}function vP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Uo(e){const t=yP(e),n=d.forwardRef((r,s)=>{const{children:o,...i}=r,l=d.Children.toArray(o),c=l.find(xP);if(c){const u=c.props.children,h=l.map(f=>f===c?d.Children.count(u)>1?d.Children.only(null):d.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:d.isValidElement(u)?d.cloneElement(u,void 0,h):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var Ei=Uo("Slot");function yP(e){const t=d.forwardRef((n,r)=>{const{children:s,...o}=n;if(d.isValidElement(s)){const i=bP(s),l=wP(o,s.props);return s.type!==d.Fragment&&(l.ref=r?rh(r,i):i),d.cloneElement(s,l)}return d.Children.count(s)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VS=Symbol("radix.slottable");function WS(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=VS,t}function xP(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VS}function wP(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function bP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function vc(e){const t=e+"CollectionProvider",[n,r]=Vt(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:x,children:y}=p,v=te.useRef(null),w=te.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:v,children:y})};i.displayName=t;const l=e+"CollectionSlot",c=Uo(l),u=te.forwardRef((p,x)=>{const{scope:y,children:v}=p,w=o(l,y),S=Re(x,w.collectionRef);return a.jsx(c,{ref:S,children:v})});u.displayName=l;const h=e+"CollectionItemSlot",f="data-radix-collection-item",m=Uo(h),g=te.forwardRef((p,x)=>{const{scope:y,children:v,...w}=p,S=te.useRef(null),N=Re(x,S),j=o(h,y);return te.useEffect(()=>(j.itemMap.set(S,{ref:S,...w}),()=>void j.itemMap.delete(S))),a.jsx(m,{[f]:"",ref:N,children:v})});g.displayName=h;function b(p){const x=o(e+"CollectionConsumer",p);return te.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,C)=>w.indexOf(j.ref.current)-w.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:g},b,r]}var SP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],pe=SP.reduce((e,t)=>{const n=Uo(`Primitive.${t}`),r=d.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Dg(e,t){e&&Qo.flushSync(()=>e.dispatchEvent(t))}function lt(e){const t=d.useRef(e);return d.useEffect(()=>{t.current=e}),d.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function NP(e,t=globalThis==null?void 0:globalThis.document){const n=lt(e);d.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var jP="DismissableLayer",$p="dismissableLayer.update",CP="dismissableLayer.pointerDownOutside",_P="dismissableLayer.focusOutside",Rx,HS=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ki=d.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=d.useContext(HS),[h,f]=d.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=d.useState({}),b=Re(t,C=>f(C)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(x),v=h?p.indexOf(h):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=y,N=kP(C=>{const _=C.target,T=[...u.branches].some(A=>A.contains(_));!S||T||(s==null||s(C),i==null||i(C),C.defaultPrevented||l==null||l())},m),j=TP(C=>{const _=C.target;[...u.branches].some(A=>A.contains(_))||(o==null||o(C),i==null||i(C),C.defaultPrevented||l==null||l())},m);return NP(C=>{v===u.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},m),d.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Rx=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),Ax(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Rx)}},[h,m,n,u]),d.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),Ax())},[h,u]),d.useEffect(()=>{const C=()=>g({});return document.addEventListener($p,C),()=>document.removeEventListener($p,C)},[]),a.jsx(pe.div,{...c,ref:b,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:ne(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ne(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ne(e.onPointerDownCapture,N.onPointerDownCapture)})});ki.displayName=jP;var EP="DismissableLayerBranch",KS=d.forwardRef((e,t)=>{const n=d.useContext(HS),r=d.useRef(null),s=Re(t,r);return d.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(pe.div,{...e,ref:s})});KS.displayName=EP;function kP(e,t=globalThis==null?void 0:globalThis.document){const n=lt(e),r=d.useRef(!1),s=d.useRef(()=>{});return d.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){GS(CP,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function TP(e,t=globalThis==null?void 0:globalThis.document){const n=lt(e),r=d.useRef(!1);return d.useEffect(()=>{const s=o=>{o.target&&!r.current&&GS(_P,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ax(){const e=new CustomEvent($p);document.dispatchEvent(e)}function GS(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Dg(s,o):s.dispatchEvent(o)}var PP=ki,RP=KS,ct=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},AP="Portal",yc=d.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=d.useState(!1);ct(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?zS.createPortal(a.jsx(pe.div,{...r,ref:t}),i):null});yc.displayName=AP;function OP(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Yt=e=>{const{present:t,children:n}=e,r=IP(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),o=Re(r.ref,DP(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:o}):null};Yt.displayName="Presence";function IP(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),o=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=OP(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=lu(r.current);o.current=l==="mounted"?u:"none"},[l]),ct(()=>{const u=r.current,h=s.current;if(h!==e){const m=o.current,g=lu(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ct(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=g=>{const p=lu(r.current).includes(g.animationName);if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=g=>{g.target===t&&(o.current=lu(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function lu(e){return(e==null?void 0:e.animationName)||"none"}function DP(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var MP=Wm[" useInsertionEffect ".trim().toString()]||ct;function Wn({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=$P({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const h=d.useRef(e!==void 0);d.useEffect(()=>{const f=h.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=d.useCallback(h=>{var f;if(l){const m=LP(h)?h(e):h;m!==e&&((f=i.current)==null||f.call(i,m))}else o(h)},[l,e,o,i]);return[c,u]}function $P({defaultProp:e,onChange:t}){const[n,r]=d.useState(e),s=d.useRef(n),o=d.useRef(t);return MP(()=>{o.current=t},[t]),d.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function LP(e){return typeof e=="function"}var qS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FP="VisuallyHidden",sh=d.forwardRef((e,t)=>a.jsx(pe.span,{...e,ref:t,style:{...qS,...e.style}}));sh.displayName=FP;var UP=sh,Mg="ToastProvider",[$g,zP,BP]=vc("Toast"),[YS,d8]=Vt("Toast",[BP]),[VP,oh]=YS(Mg),QS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=d.useState(null),[u,h]=d.useState(0),f=d.useRef(!1),m=d.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Mg}\`. Expected non-empty \`string\`.`),a.jsx($g.Provider,{scope:t,children:a.jsx(VP,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:d.useCallback(()=>h(g=>g+1),[]),onToastRemove:d.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:i})})};QS.displayName=Mg;var JS="ToastViewport",WP=["F8"],Lp="toast.viewportPause",Fp="toast.viewportResume",XS=d.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=WP,label:s="Notifications ({hotkey})",...o}=e,i=oh(JS,n),l=zP(n),c=d.useRef(null),u=d.useRef(null),h=d.useRef(null),f=d.useRef(null),m=Re(t,f,i.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;d.useEffect(()=>{const x=y=>{var w;r.length!==0&&r.every(S=>y[S]||y.code===S)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),d.useEffect(()=>{const x=c.current,y=f.current;if(b&&x&&y){const v=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(Lp);y.dispatchEvent(j),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(Fp);y.dispatchEvent(j),i.isClosePausedRef.current=!1}},S=j=>{!x.contains(j.relatedTarget)&&w()},N=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",v),x.addEventListener("focusout",S),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",N),window.addEventListener("blur",v),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",N),window.removeEventListener("blur",v),window.removeEventListener("focus",w)}}},[b,i.isClosePausedRef]);const p=d.useCallback(({tabbingDirection:x})=>{const v=l().map(w=>{const S=w.ref.current,N=[S,...rR(S)];return x==="forwards"?N:N.reverse()});return(x==="forwards"?v.reverse():v).flat()},[l]);return d.useEffect(()=>{const x=f.current;if(x){const y=v=>{var N,j,C;const w=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!w){const _=document.activeElement,T=v.shiftKey;if(v.target===x&&T){(N=u.current)==null||N.focus();return}const M=p({tabbingDirection:T?"backwards":"forwards"}),L=M.findIndex(D=>D===_);mf(M.slice(L+1))?v.preventDefault():T?(j=u.current)==null||j.focus():(C=h.current)==null||C.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,p]),a.jsxs(RP,{ref:c,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Up,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});mf(x)}}),a.jsx($g.Slot,{scope:n,children:a.jsx(pe.ol,{tabIndex:-1,...o,ref:m})}),b&&a.jsx(Up,{ref:h,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});mf(x)}})]})});XS.displayName=JS;var ZS="ToastFocusProxy",Up=d.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=oh(ZS,n);return a.jsx(sh,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});Up.displayName=ZS;var xc="Toast",HP="toast.swipeStart",KP="toast.swipeMove",GP="toast.swipeCancel",qP="toast.swipeEnd",e1=d.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=Wn({prop:r,defaultProp:s??!0,onChange:o,caller:xc});return a.jsx(Yt,{present:n||l,children:a.jsx(JP,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:lt(e.onPause),onResume:lt(e.onResume),onSwipeStart:ne(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(e.onSwipeMove,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ne(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(e.onSwipeEnd,u=>{const{x:h,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});e1.displayName=xc;var[YP,QP]=YS(xc,{onClose(){}}),JP=d.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...b}=e,p=oh(xc,n),[x,y]=d.useState(null),v=Re(t,D=>y(D)),w=d.useRef(null),S=d.useRef(null),N=s||p.duration,j=d.useRef(0),C=d.useRef(N),_=d.useRef(0),{onToastAdd:T,onToastRemove:A}=p,O=lt(()=>{var ee;(x==null?void 0:x.contains(document.activeElement))&&((ee=p.viewport)==null||ee.focus()),i()}),M=d.useCallback(D=>{!D||D===1/0||(window.clearTimeout(_.current),j.current=new Date().getTime(),_.current=window.setTimeout(O,D))},[O]);d.useEffect(()=>{const D=p.viewport;if(D){const ee=()=>{M(C.current),u==null||u()},B=()=>{const se=new Date().getTime()-j.current;C.current=C.current-se,window.clearTimeout(_.current),c==null||c()};return D.addEventListener(Lp,B),D.addEventListener(Fp,ee),()=>{D.removeEventListener(Lp,B),D.removeEventListener(Fp,ee)}}},[p.viewport,N,c,u,M]),d.useEffect(()=>{o&&!p.isClosePausedRef.current&&M(N)},[o,N,p.isClosePausedRef,M]),d.useEffect(()=>(T(),()=>A()),[T,A]);const L=d.useMemo(()=>x?i1(x):null,[x]);return p.viewport?a.jsxs(a.Fragment,{children:[L&&a.jsx(XP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:L}),a.jsx(YP,{scope:n,onClose:O,children:Qo.createPortal(a.jsx($g.ItemSlot,{scope:n,children:a.jsx(PP,{asChild:!0,onEscapeKeyDown:ne(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||O(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(pe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...b,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ne(e.onKeyDown,D=>{D.key==="Escape"&&(l==null||l(D.nativeEvent),D.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:ne(e.onPointerDown,D=>{D.button===0&&(w.current={x:D.clientX,y:D.clientY})}),onPointerMove:ne(e.onPointerMove,D=>{if(!w.current)return;const ee=D.clientX-w.current.x,B=D.clientY-w.current.y,se=!!S.current,I=["left","right"].includes(p.swipeDirection),P=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,V=I?P(0,ee):0,Z=I?0:P(0,B),re=D.pointerType==="touch"?10:2,ae={x:V,y:Z},me={originalEvent:D,delta:ae};se?(S.current=ae,cu(KP,f,me,{discrete:!1})):Ox(ae,p.swipeDirection,re)?(S.current=ae,cu(HP,h,me,{discrete:!1}),D.target.setPointerCapture(D.pointerId)):(Math.abs(ee)>re||Math.abs(B)>re)&&(w.current=null)}),onPointerUp:ne(e.onPointerUp,D=>{const ee=S.current,B=D.target;if(B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),S.current=null,w.current=null,ee){const se=D.currentTarget,I={originalEvent:D,delta:ee};Ox(ee,p.swipeDirection,p.swipeThreshold)?cu(qP,g,I,{discrete:!0}):cu(GP,m,I,{discrete:!0}),se.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),XP=e=>{const{__scopeToast:t,children:n,...r}=e,s=oh(xc,t),[o,i]=d.useState(!1),[l,c]=d.useState(!1);return tR(()=>i(!0)),d.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(yc,{asChild:!0,children:a.jsx(sh,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},ZP="ToastTitle",t1=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(pe.div,{...r,ref:t})});t1.displayName=ZP;var eR="ToastDescription",n1=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(pe.div,{...r,ref:t})});n1.displayName=eR;var r1="ToastAction",s1=d.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(a1,{altText:n,asChild:!0,children:a.jsx(Lg,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${r1}\`. Expected non-empty \`string\`.`),null)});s1.displayName=r1;var o1="ToastClose",Lg=d.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=QP(o1,n);return a.jsx(a1,{asChild:!0,children:a.jsx(pe.button,{type:"button",...r,ref:t,onClick:ne(e.onClick,s.onClose)})})});Lg.displayName=o1;var a1=d.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(pe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function i1(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),nR(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...i1(r))}}),t}function cu(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Dg(s,o):s.dispatchEvent(o)}var Ox=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function tR(e=()=>{}){const t=lt(e);ct(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function nR(e){return e.nodeType===e.ELEMENT_NODE}function rR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function mf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var sR=QS,l1=XS,c1=e1,u1=t1,d1=n1,h1=s1,f1=Lg;function p1(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=p1(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function m1(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=p1(e))&&(r&&(r+=" "),r+=t);return r}const Ix=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Dx=m1,Ti=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Dx(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const h=n==null?void 0:n[u],f=o==null?void 0:o[u];if(h===null)return null;const m=Ix(h)||Ix(f);return s[u][m]}),l=n&&Object.entries(n).reduce((u,h)=>{let[f,m]=h;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(b=>{let[p,x]=b;return Array.isArray(x)?x.includes({...o,...l}[p]):{...o,...l}[p]===x})?[...u,f,m]:u},[]);return Dx(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),g1=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=d.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...l},c)=>d.createElement("svg",{ref:c,...aR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:g1("lucide",s),...l},[...i.map(([u,h])=>d.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(e,t)=>{const n=d.forwardRef(({className:r,...s},o)=>d.createElement(iR,{ref:o,iconNode:t,className:g1(`lucide-${oR(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=de("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=de("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=de("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=de("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=de("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=de("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=de("Dna",[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=de("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=de("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=de("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=de("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=de("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=de("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=de("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=de("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=de("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=de("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=de("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=de("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=de("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=de("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=de("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=de("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=de("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=de("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=de("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=de("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=de("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=de("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=de("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=de("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=de("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=de("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=de("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=de("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Vg="-",IR=e=>{const t=MR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(Vg);return l[0]===""&&l.length!==1&&l.shift(),j1(l,t)||DR(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},j1=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?j1(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Vg);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},Fx=/^\[(.+)\]$/,DR=e=>{if(Fx.test(e)){const t=Fx.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},MR=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return LR(Object.entries(e.classGroups),n).forEach(([o,i])=>{Hp(i,r,o,t)}),r},Hp=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Ux(t,s);o.classGroupId=n;return}if(typeof s=="function"){if($R(s)){Hp(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{Hp(i,Ux(t,o),n,r)})})},Ux=(e,t)=>{let n=e;return t.split(Vg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$R=e=>e.isThemeGetter,LR=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,s]}):e,FR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},C1="!",UR=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,h=0,f;for(let x=0;x<l.length;x++){let y=l[x];if(u===0){if(y===s&&(r||l.slice(x,x+o)===t)){c.push(l.slice(h,x)),h=x+o;continue}if(y==="/"){f=x;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?l:l.substring(h),g=m.startsWith(C1),b=g?m.substring(1):m,p=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:i}):i},zR=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},BR=e=>({cache:FR(e.cacheSize),parseClassName:UR(e),...IR(e)}),VR=/\s+/,WR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(VR);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let b=!!g,p=r(b?m.substring(0,g):m);if(!p){if(!b){l=u+(l.length>0?" "+l:l);continue}if(p=r(m),!p){l=u+(l.length>0?" "+l:l);continue}b=!1}const x=zR(h).join(":"),y=f?x+C1:x,v=y+p;if(o.includes(v))continue;o.push(v);const w=s(p,b);for(let S=0;S<w.length;++S){const N=w[S];o.push(y+N)}l=u+(l.length>0?" "+l:l)}return l};function HR(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=_1(t))&&(r&&(r+=" "),r+=n);return r}const _1=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=_1(e[r]))&&(n&&(n+=" "),n+=t);return n};function KR(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((h,f)=>f(h),e());return n=BR(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=WR(c,n);return s(c,h),h}return function(){return o(HR.apply(null,arguments))}}const rt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},E1=/^\[(?:([a-z-]+):)?(.+)\]$/i,GR=/^\d+\/\d+$/,qR=new Set(["px","full","screen"]),YR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,XR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mr=e=>Ba(e)||qR.has(e)||GR.test(e),fs=e=>Ri(e,"length",iA),Ba=e=>!!e&&!Number.isNaN(Number(e)),vf=e=>Ri(e,"number",Ba),Zi=e=>!!e&&Number.isInteger(Number(e)),eA=e=>e.endsWith("%")&&Ba(e.slice(0,-1)),Ae=e=>E1.test(e),ps=e=>YR.test(e),tA=new Set(["length","size","percentage"]),nA=e=>Ri(e,tA,k1),rA=e=>Ri(e,"position",k1),sA=new Set(["image","url"]),oA=e=>Ri(e,sA,cA),aA=e=>Ri(e,"",lA),el=()=>!0,Ri=(e,t,n)=>{const r=E1.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},iA=e=>QR.test(e)&&!JR.test(e),k1=()=>!1,lA=e=>XR.test(e),cA=e=>ZR.test(e),uA=()=>{const e=rt("colors"),t=rt("spacing"),n=rt("blur"),r=rt("brightness"),s=rt("borderColor"),o=rt("borderRadius"),i=rt("borderSpacing"),l=rt("borderWidth"),c=rt("contrast"),u=rt("grayscale"),h=rt("hueRotate"),f=rt("invert"),m=rt("gap"),g=rt("gradientColorStops"),b=rt("gradientColorStopPositions"),p=rt("inset"),x=rt("margin"),y=rt("opacity"),v=rt("padding"),w=rt("saturate"),S=rt("scale"),N=rt("sepia"),j=rt("skew"),C=rt("space"),_=rt("translate"),T=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Ae,t],M=()=>[Ae,t],L=()=>["",Mr,fs],D=()=>["auto",Ba,Ae],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],B=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",Ae],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Ba,Ae];return{cacheSize:500,separator:":",theme:{colors:[el],spacing:[Mr,fs],blur:["none","",ps,Ae],brightness:Z(),borderColor:[e],borderRadius:["none","","full",ps,Ae],borderSpacing:M(),borderWidth:L(),contrast:Z(),grayscale:P(),hueRotate:Z(),invert:P(),gap:M(),gradientColorStops:[e],gradientColorStopPositions:[eA,fs],inset:O(),margin:O(),opacity:Z(),padding:M(),saturate:Z(),scale:Z(),sepia:P(),skew:Z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ae]}],container:["container"],columns:[{columns:[ps]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),Ae]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zi,Ae]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ae]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Zi,Ae]}],"grid-cols":[{"grid-cols":[el]}],"col-start-end":[{col:["auto",{span:["full",Zi,Ae]},Ae]}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":[el]}],"row-start-end":[{row:["auto",{span:[Zi,Ae]},Ae]}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ae]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ae,t]}],"min-w":[{"min-w":[Ae,t,"min","max","fit"]}],"max-w":[{"max-w":[Ae,t,"none","full","min","max","fit","prose",{screen:[ps]},ps]}],h:[{h:[Ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ps,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vf]}],"font-family":[{font:[el]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ae]}],"line-clamp":[{"line-clamp":["none",Ba,vf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mr,Ae]}],"list-image":[{"list-image":["none",Ae]}],"list-style-type":[{list:["none","disc","decimal",Ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...B(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mr,fs]}],"underline-offset":[{"underline-offset":["auto",Mr,Ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),rA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...B(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:B()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...B()]}],"outline-offset":[{"outline-offset":[Mr,Ae]}],"outline-w":[{outline:[Mr,fs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Mr,fs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ps,aA]}],"shadow-color":[{shadow:[el]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ps,Ae]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ae]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Ae]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Zi,Ae]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mr,fs,vf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dA=KR(uA);function Q(...e){return dA(m1(e))}const hA=sR,T1=d.forwardRef(({className:e,...t},n)=>a.jsx(l1,{ref:n,className:Q("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));T1.displayName=l1.displayName;const fA=Ti("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),P1=d.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(c1,{ref:r,className:Q(fA({variant:t}),e),...n}));P1.displayName=c1.displayName;const pA=d.forwardRef(({className:e,...t},n)=>a.jsx(h1,{ref:n,className:Q("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));pA.displayName=h1.displayName;const R1=d.forwardRef(({className:e,...t},n)=>a.jsx(f1,{ref:n,className:Q("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(ro,{className:"h-4 w-4"})}));R1.displayName=f1.displayName;const A1=d.forwardRef(({className:e,...t},n)=>a.jsx(u1,{ref:n,className:Q("text-sm font-semibold",e),...t}));A1.displayName=u1.displayName;const O1=d.forwardRef(({className:e,...t},n)=>a.jsx(d1,{ref:n,className:Q("text-sm opacity-90",e),...t}));O1.displayName=d1.displayName;function mA(){const{toasts:e}=An();return a.jsxs(hA,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return a.jsxs(P1,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(A1,{children:n}),r&&a.jsx(O1,{children:r})]}),s,a.jsx(R1,{})]},t)}),a.jsx(T1,{})]})}var zx=["light","dark"],gA="(prefers-color-scheme: dark)",vA=d.createContext(void 0),yA={setTheme:e=>{},themes:[]},xA=()=>{var e;return(e=d.useContext(vA))!=null?e:yA};d.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?zx.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(b,p=!1,x=!0)=>{let y=i?i[b]:b,v=p?b+"|| ''":`'${y}'`,w="";return s&&x&&!p&&zx.includes(b)&&(w+=`d.style.colorScheme = '${b}';`),n==="class"?p||y?w+=`c.add(${v})`:w+="null":y&&(w+=`d[s](n,${v})`),w},g=e?`!function(){${h}${m(e)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${gA}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}${u?"":"else{"+m(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${m(i?"x[e]":"e",!0)}}else{${m(o,!1,!1)};}${f}}catch(t){}}();`;return d.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:g}})});var wA=e=>{switch(e){case"success":return NA;case"info":return CA;case"warning":return jA;case"error":return _A;default:return null}},bA=Array(12).fill(0),SA=({visible:e,className:t})=>te.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},te.createElement("div",{className:"sonner-spinner"},bA.map((n,r)=>te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),NA=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jA=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CA=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_A=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),EA=te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),kA=()=>{let[e,t]=te.useState(document.hidden);return te.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Kp=1,TA=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Kp++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,i=r.then(async c=>{if(o=["resolve",c],te.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(RA(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:h})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Kp++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},hn=new TA,PA=(e,t)=>{let n=(t==null?void 0:t.id)||Kp++;return hn.addToast({title:e,...t,id:n}),n},RA=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",AA=PA,OA=()=>hn.toasts,IA=()=>hn.getActiveToasts();Object.assign(AA,{success:hn.success,info:hn.info,warning:hn.warning,error:hn.error,custom:hn.custom,message:hn.message,promise:hn.promise,dismiss:hn.dismiss,loading:hn.loading},{getHistory:OA,getToasts:IA});function DA(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}DA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function uu(e){return e.label!==void 0}var MA=3,$A="32px",LA="16px",Bx=4e3,FA=356,UA=14,zA=20,BA=200;function Qn(...e){return e.filter(Boolean).join(" ")}function VA(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var WA=e=>{var t,n,r,s,o,i,l,c,u,h,f;let{invert:m,toast:g,unstyled:b,interacting:p,setHeights:x,visibleToasts:y,heights:v,index:w,toasts:S,expanded:N,removeToast:j,defaultRichColors:C,closeButton:_,style:T,cancelButtonStyle:A,actionButtonStyle:O,className:M="",descriptionClassName:L="",duration:D,position:ee,gap:B,loadingIcon:se,expandByDefault:I,classNames:P,icons:V,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:re}=e,[ae,me]=te.useState(null),[K,ge]=te.useState(null),[G,Pe]=te.useState(!1),[ke,be]=te.useState(!1),[_e,Oe]=te.useState(!1),[Ve,tt]=te.useState(!1),[ut,_t]=te.useState(!1),[Mt,an]=te.useState(0),[W,Me]=te.useState(0),R=te.useRef(g.duration||D||Bx),U=te.useRef(null),Y=te.useRef(null),J=w===0,oe=w+1<=y,Ue=g.type,Et=g.dismissible!==!1,ea=g.className||"",H=g.descriptionClassName||"",ce=te.useMemo(()=>v.findIndex(Te=>Te.toastId===g.id)||0,[v,g.id]),Ee=te.useMemo(()=>{var Te;return(Te=g.closeButton)!=null?Te:_},[g.closeButton,_]),he=te.useMemo(()=>g.duration||D||Bx,[g.duration,D]),Ie=te.useRef(0),We=te.useRef(0),St=te.useRef(0),Jt=te.useRef(null),[zi,Dc]=ee.split("-"),Mc=te.useMemo(()=>v.reduce((Te,$e,Je)=>Je>=ce?Te:Te+$e.height,0),[v,ce]),ta=kA(),vr=g.invert||m,Dr=Ue==="loading";We.current=te.useMemo(()=>ce*B+Mc,[ce,Mc]),te.useEffect(()=>{R.current=he},[he]),te.useEffect(()=>{Pe(!0)},[]),te.useEffect(()=>{let Te=Y.current;if(Te){let $e=Te.getBoundingClientRect().height;return Me($e),x(Je=>[{toastId:g.id,height:$e,position:g.position},...Je]),()=>x(Je=>Je.filter(ln=>ln.toastId!==g.id))}},[x,g.id]),te.useLayoutEffect(()=>{if(!G)return;let Te=Y.current,$e=Te.style.height;Te.style.height="auto";let Je=Te.getBoundingClientRect().height;Te.style.height=$e,Me(Je),x(ln=>ln.find($t=>$t.toastId===g.id)?ln.map($t=>$t.toastId===g.id?{...$t,height:Je}:$t):[{toastId:g.id,height:Je,position:g.position},...ln])},[G,g.title,g.description,x,g.id]);let Nt=te.useCallback(()=>{be(!0),an(We.current),x(Te=>Te.filter($e=>$e.toastId!==g.id)),setTimeout(()=>{j(g)},BA)},[g,j,x,We]);te.useEffect(()=>{if(g.promise&&Ue==="loading"||g.duration===1/0||g.type==="loading")return;let Te;return N||p||re&&ta?(()=>{if(St.current<Ie.current){let $e=new Date().getTime()-Ie.current;R.current=R.current-$e}St.current=new Date().getTime()})():R.current!==1/0&&(Ie.current=new Date().getTime(),Te=setTimeout(()=>{var $e;($e=g.onAutoClose)==null||$e.call(g,g),Nt()},R.current)),()=>clearTimeout(Te)},[N,p,g,Ue,re,ta,Nt]),te.useEffect(()=>{g.delete&&Nt()},[Nt,g.delete]);function cs(){var Te,$e,Je;return V!=null&&V.loading?te.createElement("div",{className:Qn(P==null?void 0:P.loader,(Te=g==null?void 0:g.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":Ue==="loading"},V.loading):se?te.createElement("div",{className:Qn(P==null?void 0:P.loader,($e=g==null?void 0:g.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":Ue==="loading"},se):te.createElement(SA,{className:Qn(P==null?void 0:P.loader,(Je=g==null?void 0:g.classNames)==null?void 0:Je.loader),visible:Ue==="loading"})}return te.createElement("li",{tabIndex:0,ref:Y,className:Qn(M,ea,P==null?void 0:P.toast,(t=g==null?void 0:g.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[Ue],(n=g==null?void 0:g.classNames)==null?void 0:n[Ue]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:C,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":G,"data-promise":!!g.promise,"data-swiped":ut,"data-removed":ke,"data-visible":oe,"data-y-position":zi,"data-x-position":Dc,"data-index":w,"data-front":J,"data-swiping":_e,"data-dismissible":Et,"data-type":Ue,"data-invert":vr,"data-swipe-out":Ve,"data-swipe-direction":K,"data-expanded":!!(N||I&&G),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${ke?Mt:We.current}px`,"--initial-height":I?"auto":`${W}px`,...T,...g.style},onDragEnd:()=>{Oe(!1),me(null),Jt.current=null},onPointerDown:Te=>{Dr||!Et||(U.current=new Date,an(We.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(Oe(!0),Jt.current={x:Te.clientX,y:Te.clientY}))},onPointerUp:()=>{var Te,$e,Je,ln;if(Ve||!Et)return;Jt.current=null;let $t=Number(((Te=Y.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),qn=Number((($e=Y.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),On=new Date().getTime()-((Je=U.current)==null?void 0:Je.getTime()),cn=ae==="x"?$t:qn,yr=Math.abs(cn)/On;if(Math.abs(cn)>=zA||yr>.11){an(We.current),(ln=g.onDismiss)==null||ln.call(g,g),ge(ae==="x"?$t>0?"right":"left":qn>0?"down":"up"),Nt(),tt(!0),_t(!1);return}Oe(!1),me(null)},onPointerMove:Te=>{var $e,Je,ln,$t;if(!Jt.current||!Et||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;let qn=Te.clientY-Jt.current.y,On=Te.clientX-Jt.current.x,cn=(Je=e.swipeDirections)!=null?Je:VA(ee);!ae&&(Math.abs(On)>1||Math.abs(qn)>1)&&me(Math.abs(On)>Math.abs(qn)?"x":"y");let yr={x:0,y:0};ae==="y"?(cn.includes("top")||cn.includes("bottom"))&&(cn.includes("top")&&qn<0||cn.includes("bottom")&&qn>0)&&(yr.y=qn):ae==="x"&&(cn.includes("left")||cn.includes("right"))&&(cn.includes("left")&&On<0||cn.includes("right")&&On>0)&&(yr.x=On),(Math.abs(yr.x)>0||Math.abs(yr.y)>0)&&_t(!0),(ln=Y.current)==null||ln.style.setProperty("--swipe-amount-x",`${yr.x}px`),($t=Y.current)==null||$t.style.setProperty("--swipe-amount-y",`${yr.y}px`)}},Ee&&!g.jsx?te.createElement("button",{"aria-label":Z,"data-disabled":Dr,"data-close-button":!0,onClick:Dr||!Et?()=>{}:()=>{var Te;Nt(),(Te=g.onDismiss)==null||Te.call(g,g)},className:Qn(P==null?void 0:P.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(o=V==null?void 0:V.close)!=null?o:EA):null,g.jsx||d.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:te.createElement(te.Fragment,null,Ue||g.icon||g.promise?te.createElement("div",{"data-icon":"",className:Qn(P==null?void 0:P.icon,(i=g==null?void 0:g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||cs():null,g.type!=="loading"?g.icon||(V==null?void 0:V[Ue])||wA(Ue):null):null,te.createElement("div",{"data-content":"",className:Qn(P==null?void 0:P.content,(l=g==null?void 0:g.classNames)==null?void 0:l.content)},te.createElement("div",{"data-title":"",className:Qn(P==null?void 0:P.title,(c=g==null?void 0:g.classNames)==null?void 0:c.title)},typeof g.title=="function"?g.title():g.title),g.description?te.createElement("div",{"data-description":"",className:Qn(L,H,P==null?void 0:P.description,(u=g==null?void 0:g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),d.isValidElement(g.cancel)?g.cancel:g.cancel&&uu(g.cancel)?te.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||A,onClick:Te=>{var $e,Je;uu(g.cancel)&&Et&&((Je=($e=g.cancel).onClick)==null||Je.call($e,Te),Nt())},className:Qn(P==null?void 0:P.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,d.isValidElement(g.action)?g.action:g.action&&uu(g.action)?te.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||O,onClick:Te=>{var $e,Je;uu(g.action)&&((Je=($e=g.action).onClick)==null||Je.call($e,Te),!Te.defaultPrevented&&Nt())},className:Qn(P==null?void 0:P.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function Vx(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function HA(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",l=o?LA:$A;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${i}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=l:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var KA=d.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:f,duration:m,style:g,visibleToasts:b=MA,toastOptions:p,dir:x=Vx(),gap:y=UA,loadingIcon:v,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:N}=e,[j,C]=te.useState([]),_=te.useMemo(()=>Array.from(new Set([r].concat(j.filter(re=>re.position).map(re=>re.position)))),[j,r]),[T,A]=te.useState([]),[O,M]=te.useState(!1),[L,D]=te.useState(!1),[ee,B]=te.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=te.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=te.useRef(null),V=te.useRef(!1),Z=te.useCallback(re=>{C(ae=>{var me;return(me=ae.find(K=>K.id===re.id))!=null&&me.delete||hn.dismiss(re.id),ae.filter(({id:K})=>K!==re.id)})},[]);return te.useEffect(()=>hn.subscribe(re=>{if(re.dismiss){C(ae=>ae.map(me=>me.id===re.id?{...me,delete:!0}:me));return}setTimeout(()=>{zS.flushSync(()=>{C(ae=>{let me=ae.findIndex(K=>K.id===re.id);return me!==-1?[...ae.slice(0,me),{...ae[me],...re},...ae.slice(me+1)]:[re,...ae]})})})}),[]),te.useEffect(()=>{if(h!=="system"){B(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:ae})=>{B(ae?"dark":"light")})}catch{re.addListener(({matches:me})=>{try{B(me?"dark":"light")}catch(K){console.error(K)}})}},[h]),te.useEffect(()=>{j.length<=1&&M(!1)},[j]),te.useEffect(()=>{let re=ae=>{var me,K;s.every(ge=>ae[ge]||ae.code===ge)&&(M(!0),(me=se.current)==null||me.focus()),ae.code==="Escape"&&(document.activeElement===se.current||(K=se.current)!=null&&K.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[s]),te.useEffect(()=>{if(se.current)return()=>{P.current&&(P.current.focus({preventScroll:!0}),P.current=null,V.current=!1)}},[se.current]),te.createElement("section",{ref:t,"aria-label":`${S} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((re,ae)=>{var me;let[K,ge]=re.split("-");return j.length?te.createElement("ol",{key:re,dir:x==="auto"?Vx():x,tabIndex:-1,ref:se,className:l,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":K,"data-lifted":O&&j.length>1&&!o,"data-x-position":ge,style:{"--front-toast-height":`${((me=T[0])==null?void 0:me.height)||0}px`,"--width":`${FA}px`,"--gap":`${y}px`,...g,...HA(c,u)},onBlur:G=>{V.current&&!G.currentTarget.contains(G.relatedTarget)&&(V.current=!1,P.current&&(P.current.focus({preventScroll:!0}),P.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||V.current||(V.current=!0,P.current=G.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{L||M(!1)},onDragEnd:()=>M(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},j.filter(G=>!G.position&&ae===0||G.position===re).map((G,Pe)=>{var ke,be;return te.createElement(WA,{key:G.id,icons:w,index:Pe,toast:G,defaultRichColors:f,duration:(ke=p==null?void 0:p.duration)!=null?ke:m,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:b,closeButton:(be=p==null?void 0:p.closeButton)!=null?be:i,interacting:L,position:re,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Z,toasts:j.filter(_e=>_e.position==G.position),heights:T.filter(_e=>_e.position==G.position),setHeights:A,expandByDefault:o,gap:y,loadingIcon:v,expanded:O,pauseWhenPageIsHidden:N,swipeDirections:e.swipeDirections})})):null}))});const GA=({...e})=>{const{theme:t="system"}=xA();return a.jsx(KA,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var qA=Wm[" useId ".trim().toString()]||(()=>{}),YA=0;function rn(e){const[t,n]=d.useState(qA());return ct(()=>{e||n(r=>r??String(YA++))},[e]),e||(t?`radix-${t}`:"")}const QA=["top","right","bottom","left"],Js=Math.min,Nn=Math.max,fd=Math.round,du=Math.floor,Tr=e=>({x:e,y:e}),JA={left:"right",right:"left",bottom:"top",top:"bottom"},XA={start:"end",end:"start"};function Gp(e,t,n){return Nn(e,Js(t,n))}function ns(e,t){return typeof e=="function"?e(t):e}function rs(e){return e.split("-")[0]}function Ai(e){return e.split("-")[1]}function Wg(e){return e==="x"?"y":"x"}function Hg(e){return e==="y"?"height":"width"}const ZA=new Set(["top","bottom"]);function _r(e){return ZA.has(rs(e))?"y":"x"}function Kg(e){return Wg(_r(e))}function eO(e,t,n){n===void 0&&(n=!1);const r=Ai(e),s=Kg(e),o=Hg(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=pd(i)),[i,pd(i)]}function tO(e){const t=pd(e);return[qp(e),t,qp(t)]}function qp(e){return e.replace(/start|end/g,t=>XA[t])}const Wx=["left","right"],Hx=["right","left"],nO=["top","bottom"],rO=["bottom","top"];function sO(e,t,n){switch(e){case"top":case"bottom":return n?t?Hx:Wx:t?Wx:Hx;case"left":case"right":return t?nO:rO;default:return[]}}function oO(e,t,n,r){const s=Ai(e);let o=sO(rs(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(qp)))),o}function pd(e){return e.replace(/left|right|bottom|top/g,t=>JA[t])}function aO(e){return{top:0,right:0,bottom:0,left:0,...e}}function I1(e){return typeof e!="number"?aO(e):{top:e,right:e,bottom:e,left:e}}function md(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Kx(e,t,n){let{reference:r,floating:s}=e;const o=_r(t),i=Kg(t),l=Hg(i),c=rs(t),u=o==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[l]/2-s[l]/2;let g;switch(c){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Ai(t)){case"start":g[i]-=m*(n&&u?-1:1);break;case"end":g[i]+=m*(n&&u?-1:1);break}return g}const iO=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:h,y:f}=Kx(u,r,c),m=r,g={},b=0;for(let p=0;p<l.length;p++){const{name:x,fn:y}=l[p],{x:v,y:w,data:S,reset:N}=await y({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:u,platform:i,elements:{reference:e,floating:t}});h=v??h,f=w??f,g={...g,[x]:{...g[x],...S}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):N.rects),{x:h,y:f}=Kx(u,m,c)),p=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:g}};async function Wl(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=ns(t,e),b=I1(g),x=l[m?f==="floating"?"reference":"floating":f],y=md(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),S=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},N=md(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(y.top-N.top+b.top)/S.y,bottom:(N.bottom-y.bottom+b.bottom)/S.y,left:(y.left-N.left+b.left)/S.x,right:(N.right-y.right+b.right)/S.x}}const lO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=ns(e,t)||{};if(u==null)return{};const f=I1(h),m={x:n,y:r},g=Kg(s),b=Hg(g),p=await i.getDimensions(u),x=g==="y",y=x?"top":"left",v=x?"bottom":"right",w=x?"clientHeight":"clientWidth",S=o.reference[b]+o.reference[g]-m[g]-o.floating[b],N=m[g]-o.reference[g],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let C=j?j[w]:0;(!C||!await(i.isElement==null?void 0:i.isElement(j)))&&(C=l.floating[w]||o.floating[b]);const _=S/2-N/2,T=C/2-p[b]/2-1,A=Js(f[y],T),O=Js(f[v],T),M=A,L=C-p[b]-O,D=C/2-p[b]/2+_,ee=Gp(M,D,L),B=!c.arrow&&Ai(s)!=null&&D!==ee&&o.reference[b]/2-(D<M?A:O)-p[b]/2<0,se=B?D<M?D-M:D-L:0;return{[g]:m[g]+se,data:{[g]:ee,centerOffset:D-ee-se,...B&&{alignmentOffset:se}},reset:B}}}),cO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...x}=ns(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const y=rs(s),v=_r(l),w=rs(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(w||!p?[pd(l)]:tO(l)),j=b!=="none";!m&&j&&N.push(...oO(l,p,b,S));const C=[l,...N],_=await Wl(t,x),T=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(h&&T.push(_[y]),f){const D=eO(s,i,S);T.push(_[D[0]],_[D[1]])}if(A=[...A,{placement:s,overflows:T}],!T.every(D=>D<=0)){var O,M;const D=(((O=o.flip)==null?void 0:O.index)||0)+1,ee=C[D];if(ee&&(!(f==="alignment"?v!==_r(ee):!1)||A.every(I=>I.overflows[0]>0&&_r(I.placement)===v)))return{data:{index:D,overflows:A},reset:{placement:ee}};let B=(M=A.filter(se=>se.overflows[0]<=0).sort((se,I)=>se.overflows[1]-I.overflows[1])[0])==null?void 0:M.placement;if(!B)switch(g){case"bestFit":{var L;const se=(L=A.filter(I=>{if(j){const P=_r(I.placement);return P===v||P==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(P=>P>0).reduce((P,V)=>P+V,0)]).sort((I,P)=>I[1]-P[1])[0])==null?void 0:L[0];se&&(B=se);break}case"initialPlacement":B=l;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function Gx(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qx(e){return QA.some(t=>e[t]>=0)}const uO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=ns(e,t);switch(r){case"referenceHidden":{const o=await Wl(t,{...s,elementContext:"reference"}),i=Gx(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:qx(i)}}}case"escaped":{const o=await Wl(t,{...s,altBoundary:!0}),i=Gx(o,n.floating);return{data:{escapedOffsets:i,escaped:qx(i)}}}default:return{}}}}},D1=new Set(["left","top"]);async function dO(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=rs(n),l=Ai(n),c=_r(n)==="y",u=D1.has(i)?-1:1,h=o&&c?-1:1,f=ns(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),c?{x:g*h,y:m*u}:{x:m*u,y:g*h}}const hO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await dO(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},fO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:y,y:v}=x;return{x:y,y:v}}},...c}=ns(e,t),u={x:n,y:r},h=await Wl(t,c),f=_r(rs(s)),m=Wg(f);let g=u[m],b=u[f];if(o){const x=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=g+h[x],w=g-h[y];g=Gp(v,g,w)}if(i){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",v=b+h[x],w=b-h[y];b=Gp(v,b,w)}const p=l.fn({...t,[m]:g,[f]:b});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[m]:o,[f]:i}}}}}},pO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=ns(e,t),h={x:n,y:r},f=_r(s),m=Wg(f);let g=h[m],b=h[f];const p=ns(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=m==="y"?"height":"width",S=o.reference[m]-o.floating[w]+x.mainAxis,N=o.reference[m]+o.reference[w]-x.mainAxis;g<S?g=S:g>N&&(g=N)}if(u){var y,v;const w=m==="y"?"width":"height",S=D1.has(rs(s)),N=o.reference[f]-o.floating[w]+(S&&((y=i.offset)==null?void 0:y[f])||0)+(S?0:x.crossAxis),j=o.reference[f]+o.reference[w]+(S?0:((v=i.offset)==null?void 0:v[f])||0)-(S?x.crossAxis:0);b<N?b=N:b>j&&(b=j)}return{[m]:g,[f]:b}}}},mO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=ns(e,t),h=await Wl(t,u),f=rs(s),m=Ai(s),g=_r(s)==="y",{width:b,height:p}=o.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=m===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,x=m==="end"?"top":"bottom");const v=p-h.top-h.bottom,w=b-h.left-h.right,S=Js(p-h[x],v),N=Js(b-h[y],w),j=!t.middlewareData.shift;let C=S,_=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(C=v),j&&!m){const A=Nn(h.left,0),O=Nn(h.right,0),M=Nn(h.top,0),L=Nn(h.bottom,0);g?_=b-2*(A!==0||O!==0?A+O:Nn(h.left,h.right)):C=p-2*(M!==0||L!==0?M+L:Nn(h.top,h.bottom))}await c({...t,availableWidth:_,availableHeight:C});const T=await i.getDimensions(l.floating);return b!==T.width||p!==T.height?{reset:{rects:!0}}:{}}}};function lh(){return typeof window<"u"}function Oi(e){return M1(e)?(e.nodeName||"").toLowerCase():"#document"}function kn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Or(e){var t;return(t=(M1(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function M1(e){return lh()?e instanceof Node||e instanceof kn(e).Node:!1}function fr(e){return lh()?e instanceof Element||e instanceof kn(e).Element:!1}function Ar(e){return lh()?e instanceof HTMLElement||e instanceof kn(e).HTMLElement:!1}function Yx(e){return!lh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kn(e).ShadowRoot}const gO=new Set(["inline","contents"]);function bc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=pr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!gO.has(s)}const vO=new Set(["table","td","th"]);function yO(e){return vO.has(Oi(e))}const xO=[":popover-open",":modal"];function ch(e){return xO.some(t=>{try{return e.matches(t)}catch{return!1}})}const wO=["transform","translate","scale","rotate","perspective"],bO=["transform","translate","scale","rotate","perspective","filter"],SO=["paint","layout","strict","content"];function Gg(e){const t=qg(),n=fr(e)?pr(e):e;return wO.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||bO.some(r=>(n.willChange||"").includes(r))||SO.some(r=>(n.contain||"").includes(r))}function NO(e){let t=Xs(e);for(;Ar(t)&&!mi(t);){if(Gg(t))return t;if(ch(t))return null;t=Xs(t)}return null}function qg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jO=new Set(["html","body","#document"]);function mi(e){return jO.has(Oi(e))}function pr(e){return kn(e).getComputedStyle(e)}function uh(e){return fr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xs(e){if(Oi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Yx(e)&&e.host||Or(e);return Yx(t)?t.host:t}function $1(e){const t=Xs(e);return mi(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ar(t)&&bc(t)?t:$1(t)}function Hl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=$1(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=kn(s);if(o){const l=Yp(i);return t.concat(i,i.visualViewport||[],bc(s)?s:[],l&&n?Hl(l):[])}return t.concat(s,Hl(s,[],n))}function Yp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function L1(e){const t=pr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Ar(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=fd(n)!==o||fd(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Yg(e){return fr(e)?e:e.contextElement}function Va(e){const t=Yg(e);if(!Ar(t))return Tr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=L1(t);let i=(o?fd(n.width):n.width)/r,l=(o?fd(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const CO=Tr(0);function F1(e){const t=kn(e);return!qg()||!t.visualViewport?CO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _O(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==kn(e)?!1:t}function zo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Yg(e);let i=Tr(1);t&&(r?fr(r)&&(i=Va(r)):i=Va(e));const l=_O(o,n,r)?F1(o):Tr(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,h=s.width/i.x,f=s.height/i.y;if(o){const m=kn(o),g=r&&fr(r)?kn(r):r;let b=m,p=Yp(b);for(;p&&r&&g!==b;){const x=Va(p),y=p.getBoundingClientRect(),v=pr(p),w=y.left+(p.clientLeft+parseFloat(v.paddingLeft))*x.x,S=y.top+(p.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,h*=x.x,f*=x.y,c+=w,u+=S,b=kn(p),p=Yp(b)}}return md({width:h,height:f,x:c,y:u})}function Qg(e,t){const n=uh(e).scrollLeft;return t?t.left+n:zo(Or(e)).left+n}function U1(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Qg(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function EO(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Or(r),l=t?ch(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Tr(1);const h=Tr(0),f=Ar(r);if((f||!f&&!o)&&((Oi(r)!=="body"||bc(i))&&(c=uh(r)),Ar(r))){const g=zo(r);u=Va(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=i&&!f&&!o?U1(i,c,!0):Tr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+m.x,y:n.y*u.y-c.scrollTop*u.y+h.y+m.y}}function kO(e){return Array.from(e.getClientRects())}function TO(e){const t=Or(e),n=uh(e),r=e.ownerDocument.body,s=Nn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Nn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Qg(e);const l=-n.scrollTop;return pr(r).direction==="rtl"&&(i+=Nn(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function PO(e,t){const n=kn(e),r=Or(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=qg();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const RO=new Set(["absolute","fixed"]);function AO(e,t){const n=zo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Ar(e)?Va(e):Tr(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function Qx(e,t,n){let r;if(t==="viewport")r=PO(e,n);else if(t==="document")r=TO(Or(e));else if(fr(t))r=AO(t,n);else{const s=F1(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return md(r)}function z1(e,t){const n=Xs(e);return n===t||!fr(n)||mi(n)?!1:pr(n).position==="fixed"||z1(n,t)}function OO(e,t){const n=t.get(e);if(n)return n;let r=Hl(e,[],!1).filter(l=>fr(l)&&Oi(l)!=="body"),s=null;const o=pr(e).position==="fixed";let i=o?Xs(e):e;for(;fr(i)&&!mi(i);){const l=pr(i),c=Gg(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&RO.has(s.position)||bc(i)&&!c&&z1(e,i))?r=r.filter(h=>h!==i):s=l,i=Xs(i)}return t.set(e,r),r}function IO(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?ch(t)?[]:OO(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,h)=>{const f=Qx(t,h,s);return u.top=Nn(f.top,u.top),u.right=Js(f.right,u.right),u.bottom=Js(f.bottom,u.bottom),u.left=Nn(f.left,u.left),u},Qx(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function DO(e){const{width:t,height:n}=L1(e);return{width:t,height:n}}function MO(e,t,n){const r=Ar(t),s=Or(t),o=n==="fixed",i=zo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=Tr(0);function u(){c.x=Qg(s)}if(r||!r&&!o)if((Oi(t)!=="body"||bc(s))&&(l=uh(t)),r){const g=zo(t,!0,o,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else s&&u();o&&!r&&s&&u();const h=s&&!r&&!o?U1(s,l):Tr(0),f=i.left+l.scrollLeft-c.x-h.x,m=i.top+l.scrollTop-c.y-h.y;return{x:f,y:m,width:i.width,height:i.height}}function yf(e){return pr(e).position==="static"}function Jx(e,t){if(!Ar(e)||pr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Or(e)===n&&(n=n.ownerDocument.body),n}function B1(e,t){const n=kn(e);if(ch(e))return n;if(!Ar(e)){let s=Xs(e);for(;s&&!mi(s);){if(fr(s)&&!yf(s))return s;s=Xs(s)}return n}let r=Jx(e,t);for(;r&&yO(r)&&yf(r);)r=Jx(r,t);return r&&mi(r)&&yf(r)&&!Gg(r)?n:r||NO(e)||n}const $O=async function(e){const t=this.getOffsetParent||B1,n=this.getDimensions,r=await n(e.floating);return{reference:MO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LO(e){return pr(e).direction==="rtl"}const FO={convertOffsetParentRelativeRectToViewportRelativeRect:EO,getDocumentElement:Or,getClippingRect:IO,getOffsetParent:B1,getElementRects:$O,getClientRects:kO,getDimensions:DO,getScale:Va,isElement:fr,isRTL:LO};function V1(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function UO(e,t){let n=null,r;const s=Or(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=u;if(l||t(),!m||!g)return;const b=du(f),p=du(s.clientWidth-(h+m)),x=du(s.clientHeight-(f+g)),y=du(h),w={rootMargin:-b+"px "+-p+"px "+-x+"px "+-y+"px",threshold:Nn(0,Js(1,c))||1};let S=!0;function N(j){const C=j[0].intersectionRatio;if(C!==c){if(!S)return i();C?i(!1,C):r=setTimeout(()=>{i(!1,1e-7)},1e3)}C===1&&!V1(u,e.getBoundingClientRect())&&i(),S=!1}try{n=new IntersectionObserver(N,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(N,w)}n.observe(e)}return i(!0),o}function zO(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Yg(e),h=s||o?[...u?Hl(u):[],...Hl(t)]:[];h.forEach(y=>{s&&y.addEventListener("scroll",n,{passive:!0}),o&&y.addEventListener("resize",n)});const f=u&&l?UO(u,n):null;let m=-1,g=null;i&&(g=new ResizeObserver(y=>{let[v]=y;v&&v.target===u&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(t)})),n()}),u&&!c&&g.observe(u),g.observe(t));let b,p=c?zo(e):null;c&&x();function x(){const y=zo(e);p&&!V1(p,y)&&n(),p=y,b=requestAnimationFrame(x)}return n(),()=>{var y;h.forEach(v=>{s&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(y=g)==null||y.disconnect(),g=null,c&&cancelAnimationFrame(b)}}const BO=hO,VO=fO,WO=cO,HO=mO,KO=uO,Xx=lO,GO=pO,qO=(e,t,n)=>{const r=new Map,s={platform:FO,...n},o={...s.platform,_c:r};return iO(e,t,{...s,platform:o})};var YO=typeof document<"u",QO=function(){},Mu=YO?d.useLayoutEffect:QO;function gd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!gd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!gd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function W1(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zx(e,t){const n=W1(e);return Math.round(t*n)/n}function xf(e){const t=d.useRef(e);return Mu(()=>{t.current=e}),t}function JO(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,f]=d.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=d.useState(r);gd(m,r)||g(r);const[b,p]=d.useState(null),[x,y]=d.useState(null),v=d.useCallback(I=>{I!==j.current&&(j.current=I,p(I))},[]),w=d.useCallback(I=>{I!==C.current&&(C.current=I,y(I))},[]),S=o||b,N=i||x,j=d.useRef(null),C=d.useRef(null),_=d.useRef(h),T=c!=null,A=xf(c),O=xf(s),M=xf(u),L=d.useCallback(()=>{if(!j.current||!C.current)return;const I={placement:t,strategy:n,middleware:m};O.current&&(I.platform=O.current),qO(j.current,C.current,I).then(P=>{const V={...P,isPositioned:M.current!==!1};D.current&&!gd(_.current,V)&&(_.current=V,Qo.flushSync(()=>{f(V)}))})},[m,t,n,O,M]);Mu(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const D=d.useRef(!1);Mu(()=>(D.current=!0,()=>{D.current=!1}),[]),Mu(()=>{if(S&&(j.current=S),N&&(C.current=N),S&&N){if(A.current)return A.current(S,N,L);L()}},[S,N,L,A,T]);const ee=d.useMemo(()=>({reference:j,floating:C,setReference:v,setFloating:w}),[v,w]),B=d.useMemo(()=>({reference:S,floating:N}),[S,N]),se=d.useMemo(()=>{const I={position:n,left:0,top:0};if(!B.floating)return I;const P=Zx(B.floating,h.x),V=Zx(B.floating,h.y);return l?{...I,transform:"translate("+P+"px, "+V+"px)",...W1(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:V}},[n,l,B.floating,h.x,h.y]);return d.useMemo(()=>({...h,update:L,refs:ee,elements:B,floatingStyles:se}),[h,L,ee,B,se])}const XO=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Xx({element:r.current,padding:s}).fn(n):{}:r?Xx({element:r,padding:s}).fn(n):{}}}},ZO=(e,t)=>({...BO(e),options:[e,t]}),eI=(e,t)=>({...VO(e),options:[e,t]}),tI=(e,t)=>({...GO(e),options:[e,t]}),nI=(e,t)=>({...WO(e),options:[e,t]}),rI=(e,t)=>({...HO(e),options:[e,t]}),sI=(e,t)=>({...KO(e),options:[e,t]}),oI=(e,t)=>({...XO(e),options:[e,t]});var aI="Arrow",H1=d.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(pe.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});H1.displayName=aI;var iI=H1;function K1(e){const[t,n]=d.useState(void 0);return ct(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Jg="Popper",[G1,Ii]=Vt(Jg),[lI,q1]=G1(Jg),Y1=e=>{const{__scopePopper:t,children:n}=e,[r,s]=d.useState(null);return a.jsx(lI,{scope:t,anchor:r,onAnchorChange:s,children:n})};Y1.displayName=Jg;var Q1="PopperAnchor",J1=d.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=q1(Q1,n),i=d.useRef(null),l=Re(t,i);return d.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(pe.div,{...s,ref:l})});J1.displayName=Q1;var Xg="PopperContent",[cI,uI]=G1(Xg),X1=d.forwardRef((e,t)=>{var G,Pe,ke,be,_e,Oe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:b,...p}=e,x=q1(Xg,n),[y,v]=d.useState(null),w=Re(t,Ve=>v(Ve)),[S,N]=d.useState(null),j=K1(S),C=(j==null?void 0:j.width)??0,_=(j==null?void 0:j.height)??0,T=r+(o!=="center"?"-"+o:""),A=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},O=Array.isArray(u)?u:[u],M=O.length>0,L={padding:A,boundary:O.filter(hI),altBoundary:M},{refs:D,floatingStyles:ee,placement:B,isPositioned:se,middlewareData:I}=JO({strategy:"fixed",placement:T,whileElementsMounted:(...Ve)=>zO(...Ve,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[ZO({mainAxis:s+_,alignmentAxis:i}),c&&eI({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?tI():void 0,...L}),c&&nI({...L}),rI({...L,apply:({elements:Ve,rects:tt,availableWidth:ut,availableHeight:_t})=>{const{width:Mt,height:an}=tt.reference,W=Ve.floating.style;W.setProperty("--radix-popper-available-width",`${ut}px`),W.setProperty("--radix-popper-available-height",`${_t}px`),W.setProperty("--radix-popper-anchor-width",`${Mt}px`),W.setProperty("--radix-popper-anchor-height",`${an}px`)}}),S&&oI({element:S,padding:l}),fI({arrowWidth:C,arrowHeight:_}),m&&sI({strategy:"referenceHidden",...L})]}),[P,V]=tN(B),Z=lt(b);ct(()=>{se&&(Z==null||Z())},[se,Z]);const re=(G=I.arrow)==null?void 0:G.x,ae=(Pe=I.arrow)==null?void 0:Pe.y,me=((ke=I.arrow)==null?void 0:ke.centerOffset)!==0,[K,ge]=d.useState();return ct(()=>{y&&ge(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:D.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:se?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(be=I.transformOrigin)==null?void 0:be.x,(_e=I.transformOrigin)==null?void 0:_e.y].join(" "),...((Oe=I.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(cI,{scope:n,placedSide:P,onArrowChange:N,arrowX:re,arrowY:ae,shouldHideArrow:me,children:a.jsx(pe.div,{"data-side":P,"data-align":V,...p,ref:w,style:{...p.style,animation:se?void 0:"none"}})})})});X1.displayName=Xg;var Z1="PopperArrow",dI={top:"bottom",right:"left",bottom:"top",left:"right"},eN=d.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=uI(Z1,r),i=dI[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(iI,{...s,ref:n,style:{...s.style,display:"block"}})})});eN.displayName=Z1;function hI(e){return e!==null}var fI=e=>({name:"transformOrigin",options:e,fn(t){var x,y,v;const{placement:n,rects:r,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,h]=tN(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,g=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let b="",p="";return u==="bottom"?(b=i?f:`${m}px`,p=`${-c}px`):u==="top"?(b=i?f:`${m}px`,p=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,p=i?f:`${g}px`):u==="left"&&(b=`${r.floating.width+c}px`,p=i?f:`${g}px`),{data:{x:b,y:p}}}});function tN(e){const[t,n="center"]=e.split("-");return[t,n]}var dh=Y1,Zg=J1,ev=X1,tv=eN,[hh,h8]=Vt("Tooltip",[Ii]),fh=Ii(),nN="TooltipProvider",pI=700,Qp="tooltip.open",[mI,nv]=hh(nN),rN=e=>{const{__scopeTooltip:t,delayDuration:n=pI,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=d.useRef(!0),l=d.useRef(!1),c=d.useRef(0);return d.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(mI,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};rN.displayName=nN;var Kl="Tooltip",[gI,ph]=hh(Kl),sN=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=nv(Kl,e.__scopeTooltip),u=fh(t),[h,f]=d.useState(null),m=rn(),g=d.useRef(0),b=i??c.disableHoverableContent,p=l??c.delayDuration,x=d.useRef(!1),[y,v]=Wn({prop:r,defaultProp:s??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(Qp))):c.onClose(),o==null||o(C)},caller:Kl}),w=d.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),S=d.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,v(!0)},[v]),N=d.useCallback(()=>{window.clearTimeout(g.current),g.current=0,v(!1)},[v]),j=d.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,v(!0),g.current=0},p)},[p,v]);return d.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),a.jsx(dh,{...u,children:a.jsx(gI,{scope:t,contentId:m,open:y,stateAttribute:w,trigger:h,onTriggerChange:f,onTriggerEnter:d.useCallback(()=>{c.isOpenDelayedRef.current?j():S()},[c.isOpenDelayedRef,j,S]),onTriggerLeave:d.useCallback(()=>{b?N():(window.clearTimeout(g.current),g.current=0)},[N,b]),onOpen:S,onClose:N,disableHoverableContent:b,children:n})})};sN.displayName=Kl;var Jp="TooltipTrigger",oN=d.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=ph(Jp,n),o=nv(Jp,n),i=fh(n),l=d.useRef(null),c=Re(t,l,s.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),f=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Zg,{asChild:!0,...i,children:a.jsx(pe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ne(e.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ne(e.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ne(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ne(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ne(e.onBlur,s.onClose),onClick:ne(e.onClick,s.onClose)})})});oN.displayName=Jp;var vI="TooltipPortal",[f8,yI]=hh(vI,{forceMount:void 0}),gi="TooltipContent",aN=d.forwardRef((e,t)=>{const n=yI(gi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=ph(gi,e.__scopeTooltip);return a.jsx(Yt,{present:r||i.open,children:i.disableHoverableContent?a.jsx(iN,{side:s,...o,ref:t}):a.jsx(xI,{side:s,...o,ref:t})})}),xI=d.forwardRef((e,t)=>{const n=ph(gi,e.__scopeTooltip),r=nv(gi,e.__scopeTooltip),s=d.useRef(null),o=Re(t,s),[i,l]=d.useState(null),{trigger:c,onClose:u}=n,h=s.current,{onPointerInTransitChange:f}=r,m=d.useCallback(()=>{l(null),f(!1)},[f]),g=d.useCallback((b,p)=>{const x=b.currentTarget,y={x:b.clientX,y:b.clientY},v=jI(y,x.getBoundingClientRect()),w=CI(y,v),S=_I(p.getBoundingClientRect()),N=kI([...w,...S]);l(N),f(!0)},[f]);return d.useEffect(()=>()=>m(),[m]),d.useEffect(()=>{if(c&&h){const b=x=>g(x,h),p=x=>g(x,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",p)}}},[c,h,g,m]),d.useEffect(()=>{if(i){const b=p=>{const x=p.target,y={x:p.clientX,y:p.clientY},v=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),w=!EI(y,i);v?m():w&&(m(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,i,u,m]),a.jsx(iN,{...e,ref:o})}),[wI,bI]=hh(Kl,{isInside:!1}),SI=WS("TooltipContent"),iN=d.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=ph(gi,n),u=fh(n),{onClose:h}=c;return d.useEffect(()=>(document.addEventListener(Qp,h),()=>document.removeEventListener(Qp,h)),[h]),d.useEffect(()=>{if(c.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),a.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:a.jsxs(ev,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(SI,{children:r}),a.jsx(wI,{scope:n,isInside:!0,children:a.jsx(UP,{id:c.contentId,role:"tooltip",children:s||r})})]})})});aN.displayName=gi;var lN="TooltipArrow",NI=d.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=fh(n);return bI(lN,n).isInside?null:a.jsx(tv,{...s,...r,ref:t})});NI.displayName=lN;function jI(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function CI(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function _I(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function EI(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,h=l.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function kI(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),TI(t)}function TI(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var PI=rN,RI=sN,AI=oN,cN=aN;const uN=PI,OI=RI,II=AI,dN=d.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(cN,{ref:r,sideOffset:t,className:Q("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));dN.displayName=cN.displayName;var Di=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bo=typeof window>"u"||"Deno"in globalThis;function tn(){}function DI(e,t){return typeof e=="function"?e(t):e}function Xp(e){return typeof e=="number"&&e>=0&&e!==1/0}function hN(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Hs(e,t){return typeof e=="function"?e(t):e}function Dn(e,t){return typeof e=="function"?e(t):e}function ew(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==rv(i,t.options))return!1}else if(!Gl(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function tw(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Vo(t.options.mutationKey)!==Vo(o))return!1}else if(!Gl(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function rv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Vo)(e)}function Vo(e){return JSON.stringify(e,(t,n)=>Zp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Gl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Gl(e[n],t[n])):!1}function fN(e,t){if(e===t)return e;const n=nw(e)&&nw(t);if(n||Zp(e)&&Zp(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<i;h++){const f=n?h:o[h];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=fN(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function vd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function nw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Zp(e){if(!rw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!rw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rw(e){return Object.prototype.toString.call(e)==="[object Object]"}function MI(e){return new Promise(t=>{setTimeout(t,e)})}function em(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?fN(e,t):t}function $I(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function LI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var sv=Symbol();function pN(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===sv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mN(e,t){return typeof e=="function"?e(...t):!!e}var jo,js,Ga,y0,FI=(y0=class extends Di{constructor(){super();Ne(this,jo);Ne(this,js);Ne(this,Ga);le(this,Ga,t=>{if(!Bo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){E(this,js)||this.setEventListener(E(this,Ga))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,js))==null||t.call(this),le(this,js,void 0))}setEventListener(t){var n;le(this,Ga,t),(n=E(this,js))==null||n.call(this),le(this,js,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){E(this,jo)!==t&&(le(this,jo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof E(this,jo)=="boolean"?E(this,jo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},jo=new WeakMap,js=new WeakMap,Ga=new WeakMap,y0),ov=new FI,qa,Cs,Ya,x0,UI=(x0=class extends Di{constructor(){super();Ne(this,qa,!0);Ne(this,Cs);Ne(this,Ya);le(this,Ya,t=>{if(!Bo&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,Cs)||this.setEventListener(E(this,Ya))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Cs))==null||t.call(this),le(this,Cs,void 0))}setEventListener(t){var n;le(this,Ya,t),(n=E(this,Cs))==null||n.call(this),le(this,Cs,t(this.setOnline.bind(this)))}setOnline(t){E(this,qa)!==t&&(le(this,qa,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return E(this,qa)}},qa=new WeakMap,Cs=new WeakMap,Ya=new WeakMap,x0),yd=new UI;function tm(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function zI(e){return Math.min(1e3*2**e,3e4)}function gN(e){return(e??"online")==="online"?yd.isOnline():!0}var vN=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function wf(e){return e instanceof vN}function yN(e){let t=!1,n=0,r=!1,s;const o=tm(),i=p=>{var x;r||(m(new vN(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>ov.isFocused()&&(e.networkMode==="always"||yd.isOnline())&&e.canRun(),h=()=>gN(e.networkMode)&&e.canRun(),f=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),o.resolve(p))},m=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),o.reject(p))},g=()=>new Promise(p=>{var x;s=y=>{(r||u())&&p(y)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{var j;if(r)return;const v=e.retry??(Bo?0:3),w=e.retryDelay??zI,S=typeof w=="function"?w(n,y):w,N=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!N){m(y);return}n++,(j=e.onFail)==null||j.call(e,n,y),MI(S).then(()=>u()?void 0:g()).then(()=>{t?m(y):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():g().then(b),o)}}var BI=e=>setTimeout(e,0);function VI(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=BI;const o=l=>{t?e.push(l):s(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Rt=VI(),Co,w0,xN=(w0=class{constructor(){Ne(this,Co)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xp(this.gcTime)&&le(this,Co,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bo?1/0:5*60*1e3))}clearGcTimeout(){E(this,Co)&&(clearTimeout(E(this,Co)),le(this,Co,void 0))}},Co=new WeakMap,w0),Qa,_o,In,Eo,Kt,lc,ko,nr,$r,b0,WI=(b0=class extends xN{constructor(t){super();Ne(this,nr);Ne(this,Qa);Ne(this,_o);Ne(this,In);Ne(this,Eo);Ne(this,Kt);Ne(this,lc);Ne(this,ko);le(this,ko,!1),le(this,lc,t.defaultOptions),this.setOptions(t.options),this.observers=[],le(this,Eo,t.client),le(this,In,E(this,Eo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,le(this,Qa,HI(this.options)),this.state=t.state??E(this,Qa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,Kt))==null?void 0:t.promise}setOptions(t){this.options={...E(this,lc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,In).remove(this)}setData(t,n){const r=em(this.state.data,t,this.options);return De(this,nr,$r).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){De(this,nr,$r).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=E(this,Kt))==null?void 0:r.promise;return(s=E(this,Kt))==null||s.cancel(t),n?n.then(tn).catch(tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Qa))}isActive(){return this.observers.some(t=>Dn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Hs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hN(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=E(this,Kt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=E(this,Kt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,In).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(E(this,Kt)&&(E(this,ko)?E(this,Kt).cancel({revert:!0}):E(this,Kt).cancelRetry()),this.scheduleGc()),E(this,In).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,nr,$r).call(this,{type:"invalidate"})}fetch(t,n){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(E(this,Kt))return E(this,Kt).continueRetry(),E(this,Kt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(g=>g.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(le(this,ko,!0),r.signal)})},o=()=>{const m=pN(this.options,n),b=(()=>{const p={client:E(this,Eo),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return le(this,ko,!1),this.options.persister?this.options.persister(m,b,this):m(b)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:E(this,Eo),state:this.state,fetchFn:o};return s(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),le(this,_o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&De(this,nr,$r).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var g,b,p,x;wf(m)&&m.silent||De(this,nr,$r).call(this,{type:"error",error:m}),wf(m)||((b=(g=E(this,In).config).onError)==null||b.call(g,m,this),(x=(p=E(this,In).config).onSettled)==null||x.call(p,this.state.data,m,this)),this.scheduleGc()};return le(this,Kt,yN({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var g,b,p,x;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(b=(g=E(this,In).config).onSuccess)==null||b.call(g,m,this),(x=(p=E(this,In).config).onSettled)==null||x.call(p,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,g)=>{De(this,nr,$r).call(this,{type:"failed",failureCount:m,error:g})},onPause:()=>{De(this,nr,$r).call(this,{type:"pause"})},onContinue:()=>{De(this,nr,$r).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),E(this,Kt).start()}},Qa=new WeakMap,_o=new WeakMap,In=new WeakMap,Eo=new WeakMap,Kt=new WeakMap,lc=new WeakMap,ko=new WeakMap,nr=new WeakSet,$r=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wN(r.data,this.options),fetchMeta:t.meta??null};case"success":return le(this,_o,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return wf(s)&&s.revert&&E(this,_o)?{...E(this,_o),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Rt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,In).notify({query:this,type:"updated",action:t})})},b0);function wN(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gN(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function HI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var br,S0,KI=(S0=class extends Di{constructor(t={}){super();Ne(this,br);this.config=t,le(this,br,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??rv(s,n);let i=this.get(o);return i||(i=new WI({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){E(this,br).has(t.queryHash)||(E(this,br).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=E(this,br).get(t.queryHash);n&&(t.destroy(),n===t&&E(this,br).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,br).get(t)}getAll(){return[...E(this,br).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ew(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ew(t,r)):n}notify(t){Rt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Rt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},br=new WeakMap,S0),Sr,Xt,To,Nr,gs,N0,GI=(N0=class extends xN{constructor(t){super();Ne(this,Nr);Ne(this,Sr);Ne(this,Xt);Ne(this,To);this.mutationId=t.mutationId,le(this,Xt,t.mutationCache),le(this,Sr,[]),this.state=t.state||bN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,Sr).includes(t)||(E(this,Sr).push(t),this.clearGcTimeout(),E(this,Xt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){le(this,Sr,E(this,Sr).filter(n=>n!==t)),this.scheduleGc(),E(this,Xt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,Sr).length||(this.state.status==="pending"?this.scheduleGc():E(this,Xt).remove(this))}continue(){var t;return((t=E(this,To))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,u,h,f,m,g,b,p,x,y,v,w,S,N,j,C,_;const n=()=>{De(this,Nr,gs).call(this,{type:"continue"})};le(this,To,yN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,A)=>{De(this,Nr,gs).call(this,{type:"failed",failureCount:T,error:A})},onPause:()=>{De(this,Nr,gs).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,Xt).canRun(this)}));const r=this.state.status==="pending",s=!E(this,To).canStart();try{if(r)n();else{De(this,Nr,gs).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=E(this,Xt).config).onMutate)==null?void 0:i.call(o,t,this));const A=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));A!==this.state.context&&De(this,Nr,gs).call(this,{type:"pending",context:A,variables:t,isPaused:s})}const T=await E(this,To).start();return await((h=(u=E(this,Xt).config).onSuccess)==null?void 0:h.call(u,T,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,T,t,this.state.context)),await((b=(g=E(this,Xt).config).onSettled)==null?void 0:b.call(g,T,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,T,null,t,this.state.context)),De(this,Nr,gs).call(this,{type:"success",data:T}),T}catch(T){try{throw await((v=(y=E(this,Xt).config).onError)==null?void 0:v.call(y,T,t,this.state.context,this)),await((S=(w=this.options).onError)==null?void 0:S.call(w,T,t,this.state.context)),await((j=(N=E(this,Xt).config).onSettled)==null?void 0:j.call(N,void 0,T,this.state.variables,this.state.context,this)),await((_=(C=this.options).onSettled)==null?void 0:_.call(C,void 0,T,t,this.state.context)),T}finally{De(this,Nr,gs).call(this,{type:"error",error:T})}}finally{E(this,Xt).runNext(this)}}},Sr=new WeakMap,Xt=new WeakMap,To=new WeakMap,Nr=new WeakSet,gs=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Rt.batch(()=>{E(this,Sr).forEach(r=>{r.onMutationUpdate(t)}),E(this,Xt).notify({mutation:this,type:"updated",action:t})})},N0);function bN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var zr,rr,cc,j0,qI=(j0=class extends Di{constructor(t={}){super();Ne(this,zr);Ne(this,rr);Ne(this,cc);this.config=t,le(this,zr,new Set),le(this,rr,new Map),le(this,cc,0)}build(t,n,r){const s=new GI({mutationCache:this,mutationId:++Wc(this,cc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){E(this,zr).add(t);const n=hu(t);if(typeof n=="string"){const r=E(this,rr).get(n);r?r.push(t):E(this,rr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,zr).delete(t)){const n=hu(t);if(typeof n=="string"){const r=E(this,rr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&E(this,rr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=hu(t);if(typeof n=="string"){const r=E(this,rr).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=hu(t);if(typeof n=="string"){const s=(r=E(this,rr).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Rt.batch(()=>{E(this,zr).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,zr).clear(),E(this,rr).clear()})}getAll(){return Array.from(E(this,zr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>tw(n,r))}findAll(t={}){return this.getAll().filter(n=>tw(t,n))}notify(t){Rt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Rt.batch(()=>Promise.all(t.map(n=>n.continue().catch(tn))))}},zr=new WeakMap,rr=new WeakMap,cc=new WeakMap,j0);function hu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function sw(e){return{onFetch:(t,n)=>{var h,f,m,g,b;const r=t.options,s=(m=(f=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((g=t.state.data)==null?void 0:g.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},y=pN(t.options,t.fetchOptions),v=async(w,S,N)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const O={client:t.client,queryKey:t.queryKey,pageParam:S,direction:N?"backward":"forward",meta:t.options.meta};return x(O),O})(),_=await y(C),{maxPages:T}=t.options,A=N?LI:$I;return{pages:A(w.pages,_,T),pageParams:A(w.pageParams,S,T)}};if(s&&o.length){const w=s==="backward",S=w?YI:ow,N={pages:o,pageParams:i},j=S(r,N);l=await v(N,j,w)}else{const w=e??o.length;do{const S=c===0?i[0]??r.initialPageParam:ow(r,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function ow(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function YI(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var vt,_s,Es,Ja,Xa,ks,Za,ei,C0,QI=(C0=class{constructor(e={}){Ne(this,vt);Ne(this,_s);Ne(this,Es);Ne(this,Ja);Ne(this,Xa);Ne(this,ks);Ne(this,Za);Ne(this,ei);le(this,vt,e.queryCache||new KI),le(this,_s,e.mutationCache||new qI),le(this,Es,e.defaultOptions||{}),le(this,Ja,new Map),le(this,Xa,new Map),le(this,ks,0)}mount(){Wc(this,ks)._++,E(this,ks)===1&&(le(this,Za,ov.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,vt).onFocus())})),le(this,ei,yd.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,vt).onOnline())})))}unmount(){var e,t;Wc(this,ks)._--,E(this,ks)===0&&((e=E(this,Za))==null||e.call(this),le(this,Za,void 0),(t=E(this,ei))==null||t.call(this),le(this,ei,void 0))}isFetching(e){return E(this,vt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,_s).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=E(this,vt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=E(this,vt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Hs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return E(this,vt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=E(this,vt).get(r.queryHash),o=s==null?void 0:s.state.data,i=DI(t,o);if(i!==void 0)return E(this,vt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Rt.batch(()=>E(this,vt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=E(this,vt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=E(this,vt);Rt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=E(this,vt);return Rt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Rt.batch(()=>E(this,vt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(tn).catch(tn)}invalidateQueries(e,t={}){return Rt.batch(()=>(E(this,vt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Rt.batch(()=>E(this,vt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(tn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=E(this,vt).build(this,t);return n.isStaleByTime(Hs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tn).catch(tn)}fetchInfiniteQuery(e){return e.behavior=sw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tn).catch(tn)}ensureInfiniteQueryData(e){return e.behavior=sw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return yd.isOnline()?E(this,_s).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,vt)}getMutationCache(){return E(this,_s)}getDefaultOptions(){return E(this,Es)}setDefaultOptions(e){le(this,Es,e)}setQueryDefaults(e,t){E(this,Ja).set(Vo(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,Ja).values()],n={};return t.forEach(r=>{Gl(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){E(this,Xa).set(Vo(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,Xa).values()],n={};return t.forEach(r=>{Gl(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,Es).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===sv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,Es).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,vt).clear(),E(this,_s).clear()}},vt=new WeakMap,_s=new WeakMap,Es=new WeakMap,Ja=new WeakMap,Xa=new WeakMap,ks=new WeakMap,Za=new WeakMap,ei=new WeakMap,C0),un,Fe,uc,Zt,Po,ti,Ts,Ps,dc,ni,ri,Ro,Ao,Rs,si,Ke,ll,nm,rm,sm,om,am,im,lm,SN,_0,JI=(_0=class extends Di{constructor(t,n){super();Ne(this,Ke);Ne(this,un);Ne(this,Fe);Ne(this,uc);Ne(this,Zt);Ne(this,Po);Ne(this,ti);Ne(this,Ts);Ne(this,Ps);Ne(this,dc);Ne(this,ni);Ne(this,ri);Ne(this,Ro);Ne(this,Ao);Ne(this,Rs);Ne(this,si,new Set);this.options=n,le(this,un,t),le(this,Ps,null),le(this,Ts,tm()),this.options.experimental_prefetchInRender||E(this,Ts).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,Fe).addObserver(this),aw(E(this,Fe),this.options)?De(this,Ke,ll).call(this):this.updateResult(),De(this,Ke,om).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cm(E(this,Fe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cm(E(this,Fe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,De(this,Ke,am).call(this),De(this,Ke,im).call(this),E(this,Fe).removeObserver(this)}setOptions(t){const n=this.options,r=E(this,Fe);if(this.options=E(this,un).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Dn(this.options.enabled,E(this,Fe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");De(this,Ke,lm).call(this),E(this,Fe).setOptions(this.options),n._defaulted&&!vd(this.options,n)&&E(this,un).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,Fe),observer:this});const s=this.hasListeners();s&&iw(E(this,Fe),r,this.options,n)&&De(this,Ke,ll).call(this),this.updateResult(),s&&(E(this,Fe)!==r||Dn(this.options.enabled,E(this,Fe))!==Dn(n.enabled,E(this,Fe))||Hs(this.options.staleTime,E(this,Fe))!==Hs(n.staleTime,E(this,Fe)))&&De(this,Ke,nm).call(this);const o=De(this,Ke,rm).call(this);s&&(E(this,Fe)!==r||Dn(this.options.enabled,E(this,Fe))!==Dn(n.enabled,E(this,Fe))||o!==E(this,Rs))&&De(this,Ke,sm).call(this,o)}getOptimisticResult(t){const n=E(this,un).getQueryCache().build(E(this,un),t),r=this.createResult(n,t);return ZI(this,r)&&(le(this,Zt,r),le(this,ti,this.options),le(this,Po,E(this,Fe).state)),r}getCurrentResult(){return E(this,Zt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){E(this,si).add(t)}getCurrentQuery(){return E(this,Fe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=E(this,un).defaultQueryOptions(t),r=E(this,un).getQueryCache().build(E(this,un),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return De(this,Ke,ll).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,Zt)))}createResult(t,n){var T;const r=E(this,Fe),s=this.options,o=E(this,Zt),i=E(this,Po),l=E(this,ti),u=t!==r?t.state:E(this,uc),{state:h}=t;let f={...h},m=!1,g;if(n._optimisticResults){const A=this.hasListeners(),O=!A&&aw(t,n),M=A&&iw(t,r,n,s);(O||M)&&(f={...f,...wN(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:p,status:x}=f;g=f.data;let y=!1;if(n.placeholderData!==void 0&&g===void 0&&x==="pending"){let A;o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(A=o.data,y=!0):A=typeof n.placeholderData=="function"?n.placeholderData((T=E(this,ri))==null?void 0:T.state.data,E(this,ri)):n.placeholderData,A!==void 0&&(x="success",g=em(o==null?void 0:o.data,A,n),m=!0)}if(n.select&&g!==void 0&&!y)if(o&&g===(i==null?void 0:i.data)&&n.select===E(this,dc))g=E(this,ni);else try{le(this,dc,n.select),g=n.select(g),g=em(o==null?void 0:o.data,g,n),le(this,ni,g),le(this,Ps,null)}catch(A){le(this,Ps,A)}E(this,Ps)&&(b=E(this,Ps),g=E(this,ni),p=Date.now(),x="error");const v=f.fetchStatus==="fetching",w=x==="pending",S=x==="error",N=w&&v,j=g!==void 0,_={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:S,isInitialLoading:N,isLoading:N,data:g,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:S&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&j,isStale:av(t,n),refetch:this.refetch,promise:E(this,Ts),isEnabled:Dn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=L=>{_.status==="error"?L.reject(_.error):_.data!==void 0&&L.resolve(_.data)},O=()=>{const L=le(this,Ts,_.promise=tm());A(L)},M=E(this,Ts);switch(M.status){case"pending":t.queryHash===r.queryHash&&A(M);break;case"fulfilled":(_.status==="error"||_.data!==M.value)&&O();break;case"rejected":(_.status!=="error"||_.error!==M.reason)&&O();break}}return _}updateResult(){const t=E(this,Zt),n=this.createResult(E(this,Fe),this.options);if(le(this,Po,E(this,Fe).state),le(this,ti,this.options),E(this,Po).data!==void 0&&le(this,ri,E(this,Fe)),vd(n,t))return;le(this,Zt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!E(this,si).size)return!0;const i=new Set(o??E(this,si));return this.options.throwOnError&&i.add("error"),Object.keys(E(this,Zt)).some(l=>{const c=l;return E(this,Zt)[c]!==t[c]&&i.has(c)})};De(this,Ke,SN).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&De(this,Ke,om).call(this)}},un=new WeakMap,Fe=new WeakMap,uc=new WeakMap,Zt=new WeakMap,Po=new WeakMap,ti=new WeakMap,Ts=new WeakMap,Ps=new WeakMap,dc=new WeakMap,ni=new WeakMap,ri=new WeakMap,Ro=new WeakMap,Ao=new WeakMap,Rs=new WeakMap,si=new WeakMap,Ke=new WeakSet,ll=function(t){De(this,Ke,lm).call(this);let n=E(this,Fe).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(tn)),n},nm=function(){De(this,Ke,am).call(this);const t=Hs(this.options.staleTime,E(this,Fe));if(Bo||E(this,Zt).isStale||!Xp(t))return;const r=hN(E(this,Zt).dataUpdatedAt,t)+1;le(this,Ro,setTimeout(()=>{E(this,Zt).isStale||this.updateResult()},r))},rm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,Fe)):this.options.refetchInterval)??!1},sm=function(t){De(this,Ke,im).call(this),le(this,Rs,t),!(Bo||Dn(this.options.enabled,E(this,Fe))===!1||!Xp(E(this,Rs))||E(this,Rs)===0)&&le(this,Ao,setInterval(()=>{(this.options.refetchIntervalInBackground||ov.isFocused())&&De(this,Ke,ll).call(this)},E(this,Rs)))},om=function(){De(this,Ke,nm).call(this),De(this,Ke,sm).call(this,De(this,Ke,rm).call(this))},am=function(){E(this,Ro)&&(clearTimeout(E(this,Ro)),le(this,Ro,void 0))},im=function(){E(this,Ao)&&(clearInterval(E(this,Ao)),le(this,Ao,void 0))},lm=function(){const t=E(this,un).getQueryCache().build(E(this,un),this.options);if(t===E(this,Fe))return;const n=E(this,Fe);le(this,Fe,t),le(this,uc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},SN=function(t){Rt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(E(this,Zt))}),E(this,un).getQueryCache().notify({query:E(this,Fe),type:"observerResultsUpdated"})})},_0);function XI(e,t){return Dn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function aw(e,t){return XI(e,t)||e.state.data!==void 0&&cm(e,t,t.refetchOnMount)}function cm(e,t,n){if(Dn(t.enabled,e)!==!1&&Hs(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&av(e,t)}return!1}function iw(e,t,n,r){return(e!==t||Dn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&av(e,n)}function av(e,t){return Dn(t.enabled,e)!==!1&&e.isStaleByTime(Hs(t.staleTime,e))}function ZI(e,t){return!vd(e.getCurrentResult(),t)}var As,Os,dn,Br,Jr,$u,um,E0,eD=(E0=class extends Di{constructor(n,r){super();Ne(this,Jr);Ne(this,As);Ne(this,Os);Ne(this,dn);Ne(this,Br);le(this,As,n),this.setOptions(r),this.bindMethods(),De(this,Jr,$u).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=E(this,As).defaultMutationOptions(n),vd(this.options,r)||E(this,As).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,dn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Vo(r.mutationKey)!==Vo(this.options.mutationKey)?this.reset():((s=E(this,dn))==null?void 0:s.state.status)==="pending"&&E(this,dn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=E(this,dn))==null||n.removeObserver(this)}onMutationUpdate(n){De(this,Jr,$u).call(this),De(this,Jr,um).call(this,n)}getCurrentResult(){return E(this,Os)}reset(){var n;(n=E(this,dn))==null||n.removeObserver(this),le(this,dn,void 0),De(this,Jr,$u).call(this),De(this,Jr,um).call(this)}mutate(n,r){var s;return le(this,Br,r),(s=E(this,dn))==null||s.removeObserver(this),le(this,dn,E(this,As).getMutationCache().build(E(this,As),this.options)),E(this,dn).addObserver(this),E(this,dn).execute(n)}},As=new WeakMap,Os=new WeakMap,dn=new WeakMap,Br=new WeakMap,Jr=new WeakSet,$u=function(){var r;const n=((r=E(this,dn))==null?void 0:r.state)??bN();le(this,Os,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},um=function(n){Rt.batch(()=>{var r,s,o,i,l,c,u,h;if(E(this,Br)&&this.hasListeners()){const f=E(this,Os).variables,m=E(this,Os).context;(n==null?void 0:n.type)==="success"?((s=(r=E(this,Br)).onSuccess)==null||s.call(r,n.data,f,m),(i=(o=E(this,Br)).onSettled)==null||i.call(o,n.data,null,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=E(this,Br)).onError)==null||c.call(l,n.error,f,m),(h=(u=E(this,Br)).onSettled)==null||h.call(u,void 0,n.error,f,m))}this.listeners.forEach(f=>{f(E(this,Os))})})},E0),NN=d.createContext(void 0),iv=e=>{const t=d.useContext(NN);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tD=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(NN.Provider,{value:e,children:t})),jN=d.createContext(!1),nD=()=>d.useContext(jN);jN.Provider;function rD(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sD=d.createContext(rD()),oD=()=>d.useContext(sD),aD=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},iD=e=>{d.useEffect(()=>{e.clearReset()},[e])},lD=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||mN(n,[e.error,r])),cD=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},uD=(e,t)=>e.isLoading&&e.isFetching&&!t,dD=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,lw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function hD(e,t,n){var f,m,g,b,p;const r=nD(),s=oD(),o=iv(),i=o.defaultQueryOptions(e);(m=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,i),i._optimisticResults=r?"isRestoring":"optimistic",cD(i),aD(i,s),iD(s);const l=!o.getQueryCache().get(i.queryHash),[c]=d.useState(()=>new t(o,i)),u=c.getOptimisticResult(i),h=!r&&e.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(x=>{const y=h?c.subscribe(Rt.batchCalls(x)):tn;return c.updateResult(),y},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),d.useEffect(()=>{c.setOptions(i)},[i,c]),dD(i,u))throw lw(i,c,s);if(lD({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((b=(g=o.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||b.call(g,i,u),i.experimental_prefetchInRender&&!Bo&&uD(u,r)){const x=l?lw(i,c,s):(p=o.getQueryCache().get(i.queryHash))==null?void 0:p.promise;x==null||x.catch(tn).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function fD(e,t){return hD(e,JI)}function bf(e,t){const n=iv(),[r]=d.useState(()=>new eD(n,e));d.useEffect(()=>{r.setOptions(e)},[r,e]);const s=d.useSyncExternalStore(d.useCallback(i=>r.subscribe(Rt.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=d.useCallback((i,l)=>{r.mutate(i,l).catch(tn)},[r]);if(s.error&&mN(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ql.apply(this,arguments)}var Ms;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ms||(Ms={}));const cw="popstate";function pD(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return dm("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:xd(s)}return gD(t,n,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function CN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mD(){return Math.random().toString(36).substr(2,8)}function uw(e,t){return{usr:e.state,key:e.key,idx:t}}function dm(e,t,n,r){return n===void 0&&(n=null),ql({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Mi(t):t,{state:n,key:t&&t.key||r||mD()})}function xd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Mi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function gD(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=Ms.Pop,c=null,u=h();u==null&&(u=0,i.replaceState(ql({},i.state,{idx:u}),""));function h(){return(i.state||{idx:null}).idx}function f(){l=Ms.Pop;let x=h(),y=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:y})}function m(x,y){l=Ms.Push;let v=dm(p.location,x,y);u=h()+1;let w=uw(v,u),S=p.createHref(v);try{i.pushState(w,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(S)}o&&c&&c({action:l,location:p.location,delta:1})}function g(x,y){l=Ms.Replace;let v=dm(p.location,x,y);u=h();let w=uw(v,u),S=p.createHref(v);i.replaceState(w,"",S),o&&c&&c({action:l,location:p.location,delta:0})}function b(x){let y=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:xd(x);return v=v.replace(/ $/,"%20"),pt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let p={get action(){return l},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cw,f),c=x,()=>{s.removeEventListener(cw,f),c=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let y=b(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:g,go(x){return i.go(x)}};return p}var dw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(dw||(dw={}));function vD(e,t,n){return n===void 0&&(n="/"),yD(e,t,n,!1)}function yD(e,t,n,r){let s=typeof t=="string"?Mi(t):t,o=vi(s.pathname||"/",n);if(o==null)return null;let i=_N(e);xD(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=PD(o);l=kD(i[c],u,r)}return l}function _N(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(pt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ks([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(pt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_N(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:_D(u,o.index),routesMeta:h})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of EN(o.path))s(o,i,c)}),t}function EN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=EN(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function xD(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:ED(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wD=/^:[\w-]+$/,bD=3,SD=2,ND=1,jD=10,CD=-2,hw=e=>e==="*";function _D(e,t){let n=e.split("/"),r=n.length;return n.some(hw)&&(r+=CD),t&&(r+=SD),n.filter(s=>!hw(s)).reduce((s,o)=>s+(wD.test(o)?bD:o===""?ND:jD),r)}function ED(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function kD(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",f=wd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=wd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Ks([o,f.pathname]),pathnameBase:ID(Ks([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Ks([o,f.pathnameBase]))}return i}function wd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=TD(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let p=l[f]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const b=l[f];return g&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function TD(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),CN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function PD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return CN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function vi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function RD(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Mi(e):e;return{pathname:n?n.startsWith("/")?n:AD(n,t):t,search:DD(r),hash:MD(s)}}function AD(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Sf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OD(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lv(e,t){let n=OD(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function cv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Mi(e):(s=ql({},e),pt(!s.pathname||!s.pathname.includes("?"),Sf("?","pathname","search",s)),pt(!s.pathname||!s.pathname.includes("#"),Sf("#","pathname","hash",s)),pt(!s.search||!s.search.includes("#"),Sf("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let m=i.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=RD(s,l),u=i&&i!=="/"&&i.endsWith("/"),h=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Ks=e=>e.join("/").replace(/\/\/+/g,"/"),ID=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),DD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,MD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $D(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kN=["post","put","patch","delete"];new Set(kN);const LD=["get",...kN];new Set(LD);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yl.apply(this,arguments)}const mh=d.createContext(null),TN=d.createContext(null),os=d.createContext(null),gh=d.createContext(null),as=d.createContext({outlet:null,matches:[],isDataRoute:!1}),PN=d.createContext(null);function FD(e,t){let{relative:n}=t===void 0?{}:t;$i()||pt(!1);let{basename:r,navigator:s}=d.useContext(os),{hash:o,pathname:i,search:l}=vh(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Ks([r,i])),s.createHref({pathname:c,search:l,hash:o})}function $i(){return d.useContext(gh)!=null}function Xo(){return $i()||pt(!1),d.useContext(gh).location}function RN(e){d.useContext(os).static||d.useLayoutEffect(e)}function Sc(){let{isDataRoute:e}=d.useContext(as);return e?ZD():UD()}function UD(){$i()||pt(!1);let e=d.useContext(mh),{basename:t,future:n,navigator:r}=d.useContext(os),{matches:s}=d.useContext(as),{pathname:o}=Xo(),i=JSON.stringify(lv(s,n.v7_relativeSplatPath)),l=d.useRef(!1);return RN(()=>{l.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=cv(u,JSON.parse(i),o,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ks([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,i,o,e])}function zD(){let{matches:e}=d.useContext(as),t=e[e.length-1];return t?t.params:{}}function vh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=d.useContext(os),{matches:s}=d.useContext(as),{pathname:o}=Xo(),i=JSON.stringify(lv(s,r.v7_relativeSplatPath));return d.useMemo(()=>cv(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function BD(e,t){return VD(e,t)}function VD(e,t,n,r){$i()||pt(!1);let{navigator:s}=d.useContext(os),{matches:o}=d.useContext(as),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=Xo(),h;if(t){var f;let x=typeof t=="string"?Mi(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||pt(!1),h=x}else h=u;let m=h.pathname||"/",g=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=vD(e,{pathname:g}),p=qD(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ks([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ks([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&p?d.createElement(gh.Provider,{value:{location:Yl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ms.Pop}},p):p}function WD(){let e=XD(),t=$D(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,null)}const HD=d.createElement(WD,null);class KD extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(as.Provider,{value:this.props.routeContext},d.createElement(PN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GD(e){let{routeContext:t,match:n,children:r}=e,s=d.useContext(mh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(as.Provider,{value:t},r)}function qD(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let h=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||pt(!1),i=i.slice(0,Math.min(i.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:g}=n,b=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,f,m)=>{let g,b=!1,p=null,x=null;n&&(g=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||HD,c&&(u<0&&m===0?(b=!0,x=null):u===m&&(b=!0,x=f.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,m+1)),v=()=>{let w;return g?w=p:b?w=x:f.route.Component?w=d.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,d.createElement(GD,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?d.createElement(KD,{location:n.location,revalidation:n.revalidation,component:p,error:g,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var AN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(AN||{}),bd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(bd||{});function YD(e){let t=d.useContext(mh);return t||pt(!1),t}function QD(e){let t=d.useContext(TN);return t||pt(!1),t}function JD(e){let t=d.useContext(as);return t||pt(!1),t}function ON(e){let t=JD(),n=t.matches[t.matches.length-1];return n.route.id||pt(!1),n.route.id}function XD(){var e;let t=d.useContext(PN),n=QD(bd.UseRouteError),r=ON(bd.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function ZD(){let{router:e}=YD(AN.UseNavigateStable),t=ON(bd.UseNavigateStable),n=d.useRef(!1);return RN(()=>{n.current=!0}),d.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Yl({fromRouteId:t},o)))},[e,t])}function eM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function IN(e){let{to:t,replace:n,state:r,relative:s}=e;$i()||pt(!1);let{future:o,static:i}=d.useContext(os),{matches:l}=d.useContext(as),{pathname:c}=Xo(),u=Sc(),h=cv(t,lv(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return d.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Jn(e){pt(!1)}function tM(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ms.Pop,navigator:o,static:i=!1,future:l}=e;$i()&&pt(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:o,static:i,future:Yl({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=Mi(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:b="default"}=r,p=d.useMemo(()=>{let x=vi(h,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:g,key:b},navigationType:s}},[c,h,f,m,g,b,s]);return p==null?null:d.createElement(os.Provider,{value:u},d.createElement(gh.Provider,{children:n,value:p}))}function nM(e){let{children:t,location:n}=e;return BD(hm(t),n)}new Promise(()=>{});function hm(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,s)=>{if(!d.isValidElement(r))return;let o=[...t,s];if(r.type===d.Fragment){n.push.apply(n,hm(r.props.children,o));return}r.type!==Jn&&pt(!1),!r.props.index||!r.props.children||pt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=hm(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sd.apply(this,arguments)}function DN(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function rM(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sM(e,t){return e.button===0&&(!t||t==="_self")&&!rM(e)}const oM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aM=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],iM="6";try{window.__reactRouterVersion=iM}catch{}const lM=d.createContext({isTransitioning:!1}),cM="startTransition",fw=Wm[cM];function uM(e){let{basename:t,children:n,future:r,window:s}=e,o=d.useRef();o.current==null&&(o.current=pD({window:s,v5Compat:!0}));let i=o.current,[l,c]=d.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},h=d.useCallback(f=>{u&&fw?fw(()=>c(f)):c(f)},[c,u]);return d.useLayoutEffect(()=>i.listen(h),[i,h]),d.useEffect(()=>eM(r),[r]),d.createElement(tM,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const dM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ql=d.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=t,m=DN(t,oM),{basename:g}=d.useContext(os),b,p=!1;if(typeof u=="string"&&hM.test(u)&&(b=u,dM))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),N=vi(S.pathname,g);S.origin===w.origin&&N!=null?u=N+S.search+S.hash:p=!0}catch{}let x=FD(u,{relative:s}),y=mM(u,{replace:i,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:f});function v(w){r&&r(w),w.defaultPrevented||y(w)}return d.createElement("a",Sd({},m,{href:b||x,onClick:p||o?r:v,ref:n,target:c}))}),fM=d.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:o="",end:i=!1,style:l,to:c,viewTransition:u,children:h}=t,f=DN(t,aM),m=vh(c,{relative:f.relative}),g=Xo(),b=d.useContext(TN),{navigator:p,basename:x}=d.useContext(os),y=b!=null&&gM(m)&&u===!0,v=p.encodeLocation?p.encodeLocation(m).pathname:m.pathname,w=g.pathname,S=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(w=w.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&x&&(S=vi(S,x)||S);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let j=w===v||!i&&w.startsWith(v)&&w.charAt(N)==="/",C=S!=null&&(S===v||!i&&S.startsWith(v)&&S.charAt(v.length)==="/"),_={isActive:j,isPending:C,isTransitioning:y},T=j?r:void 0,A;typeof o=="function"?A=o(_):A=[o,j?"active":null,C?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(_):l;return d.createElement(Ql,Sd({},f,{"aria-current":T,className:A,ref:n,style:O,to:c,viewTransition:u}),typeof h=="function"?h(_):h)});var fm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fm||(fm={}));var pw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pw||(pw={}));function pM(e){let t=d.useContext(mh);return t||pt(!1),t}function mM(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=Sc(),u=Xo(),h=vh(e,{relative:i});return d.useCallback(f=>{if(sM(f,n)){f.preventDefault();let m=r!==void 0?r:xd(u)===xd(h);c(e,{replace:m,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,h,r,s,n,e,o,i,l])}function gM(e,t){t===void 0&&(t={});let n=d.useContext(lM);n==null&&pt(!1);let{basename:r}=pM(fm.useViewTransitionState),s=vh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=vi(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=vi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wd(s.pathname,i)!=null||wd(s.pathname,o)!=null}var Cr=function(){return Cr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Cr.apply(this,arguments)};function Li(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function vM(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(h){try{u(r.next(h))}catch(f){i(f)}}function c(h){try{u(r.throw(h))}catch(f){i(f)}}function u(h){h.done?o(h.value):s(h.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function yM(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const xM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class uv extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class wM extends uv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mw extends uv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gw extends uv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pm||(pm={}));class bM{constructor(t,{headers:n={},customFetch:r,region:s=pm.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=xM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return vM(this,arguments,void 0,function*(n,r={}){var s;let o,i;try{const{headers:l,method:c,body:u,signal:h,timeout:f}=r;let m={},{region:g}=r;g||(g=this.region);const b=new URL(`${this.url}/${n}`);g&&g!=="any"&&(m["x-region"]=g,b.searchParams.set("forceFunctionRegion",g));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(m["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(m["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let x=h;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),h?(x=i.signal,h.addEventListener("abort",()=>i.abort())):x=i.signal);const y=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:p,signal:x}).catch(N=>{throw new wM(N)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new mw(y);if(!y.ok)throw new gw(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield y.json():w==="application/octet-stream"||w==="application/pdf"?S=yield y.blob():w==="text/event-stream"?S=y:w==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof gw||l instanceof mw?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var SM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},NM=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,l=null,c=null,u=o.status,h=o.statusText;if(o.ok){var f,m;if(n.method!=="HEAD"){var g;const y=await o.text();y===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((g=n.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const p=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(m=o.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(i={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const p=await o.text();try{i=JSON.parse(p),Array.isArray(i)&&o.status===404&&(l=[],i=null,u=200,h="OK")}catch{o.status===404&&p===""?(u=204,h="No Content"):i={message:p}}if(i&&n.isMaybeSingle&&(!(i==null||(b=i.details)===null||b===void 0)&&b.includes("0 rows"))&&(i=null,u=200,h="OK"),i&&n.shouldThrowOnError)throw new SM(i)}return{error:i,data:l,count:c,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let l="";const c=o==null?void 0:o.cause;if(c){var u,h,f,m;const b=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(h=c==null?void 0:c.code)!==null&&h!==void 0?h:"";l=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,l+=`

Caused by: ${(m=c==null?void 0:c.name)!==null&&m!==void 0?m:"Error"}: ${b}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var g;l=(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},jM=class extends NM{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var i;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const vw=new RegExp("[,()]");var xa=class extends jM{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&vw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&vw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},CM=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new xa({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((i,l)=>i.concat(Object.keys(l)),[]);if(o.length>0){const i=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",i.join(","))}}return new xa({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const i="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new xa({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new xa({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new xa({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},_M=class MN{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new CM(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new MN(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",u=n);const h=new Headers(this.headers);return o&&h.set("Prefer",`count=${o}`),new xa({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class EM{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kM="2.89.0",TM=`realtime-js/${kM}`,$N="1.0.0",PM="2.0.0",yw=$N,mm=1e4,RM=1e3,AM=100;var ws;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ws||(ws={}));var kt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(kt||(kt={}));var or;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(or||(or={}));var gm;(function(e){e.websocket="websocket"})(gm||(gm={}));var yo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yo||(yo={}));class OM{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,n,r){var s,o;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(h).length===0?"":JSON.stringify(h);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+u.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+m);let b=new DataView(g),p=0;b.setUint8(p++,this.KINDS.userBroadcastPush),b.setUint8(p++,c.length),b.setUint8(p++,l.length),b.setUint8(p++,i.length),b.setUint8(p++,u.length),b.setUint8(p++,f.length),b.setUint8(p++,n),Array.from(c,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(l,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(i,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(u,y=>b.setUint8(p++,y.charCodeAt(0))),Array.from(f,y=>b.setUint8(p++,y.charCodeAt(0)));var x=new Uint8Array(g.byteLength+r.byteLength);return x.set(new Uint8Array(g),0),x.set(new Uint8Array(r),g.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,o,i,l,c]=r;return n({join_ref:s,ref:o,topic:i,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const h=r.decode(t.slice(c,c+o));c=c+o;const f=r.decode(t.slice(c,c+i));c=c+i;const m=t.slice(c,t.byteLength),g=l===this.JSON_ENCODING?JSON.parse(r.decode(m)):m,b={type:this.BROADCAST_EVENT,event:h,payload:g};return i>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class LN{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ze||(Ze={}));const xw=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=IM(i,e,t,s),o),{}):{}},IM=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?FN(o,i):vm(i)},FN=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return LM(t,n)}switch(e){case Ze.bool:return DM(t);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return MM(t);case Ze.json:case Ze.jsonb:return $M(t);case Ze.timestamp:return FM(t);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return vm(t);default:return vm(t)}},vm=e=>e,DM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},MM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$M=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},LM=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>FN(t,l))}return e},FM=e=>typeof e=="string"?e.replace(" ","T"):e,UN=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nf{constructor(t,n,r={},s=mm){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ww;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ww||(ww={}));class Cl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cl.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Cl.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Cl.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,h)=>{i[u]||(c[u]=h)}),this.map(i,(u,h)=>{const f=o[u];if(f){const m=h.map(x=>x.presence_ref),g=f.map(x=>x.presence_ref),b=h.filter(x=>g.indexOf(x.presence_ref)<0),p=f.filter(x=>m.indexOf(x.presence_ref)<0);b.length>0&&(l[u]=b),p.length>0&&(c[u]=p)}else l[u]=h}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const f=t[l].map(g=>g.presence_ref),m=h.filter(g=>f.indexOf(g.presence_ref)<0);t[l].unshift(...m)}r(l,h,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bw||(bw={}));var _l;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_l||(_l={}));var Fr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Fr||(Fr={}));class Da{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=kt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Nf(this,or.join,this.params,this.timeout),this.rejoinTimer=new LN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=kt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(or.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Cl(this),this.broadcastEndpointURL=UN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==kt.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[_l.PRESENCE]&&this.bindings[_l.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:h}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(Fr.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(Fr.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(Fr.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(b=p==null?void 0:p.length)!==null&&b!==void 0?b:0,y=[];for(let v=0;v<x;v++){const w=p[v],{filter:{event:S,schema:N,table:j,filter:C}}=w,_=g&&g[v];if(_&&_.event===S&&Da.isFilterValueEqual(_.schema,N)&&Da.isFilterValueEqual(_.table,j)&&Da.isFilterValueEqual(_.filter,C))y.push(Object.assign(Object.assign({},w),{id:_.id}));else{this.unsubscribe(),this.state=kt.errored,t==null||t(Fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Fr.SUBSCRIBED);return}}).receive("error",g=>{this.state=kt.errored,t==null||t(Fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===kt.joined&&t===_l.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=kt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(or.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Nf(this,or.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=kt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Nf(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>AM){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=or;if(r&&[l,c,u,h].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var b,p,x;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(p=g.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(g=>g.callback(m,r)):(o=this.bindings[i])===null||o===void 0||o.filter(g=>{var b,p,x,y,v,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const S=g.id,N=(b=g.filter)===null||b===void 0?void 0:b.event;return S&&((p=n.ids)===null||p===void 0?void 0:p.includes(S))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(v=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:p,table:x,commit_timestamp:y,type:v,errors:w}=b;m=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:y,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(b))}g.callback(m,r)})}_isClosed(){return this.state===kt.closed}_isJoined(){return this.state===kt.joined}_isJoining(){return this.state===kt.joining}_isLeaving(){return this.state===kt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Da.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(or.close,{},t)}_onError(t){this._on(or.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xw(t.columns,t.old_record)),n}}const jf=()=>{},fu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},UM=[1e3,2e3,5e3,1e4],zM=1e4,BM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VM{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mm,this.transport=null,this.heartbeatIntervalMs=fu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jf,this.ref=0,this.reconnectTimer=null,this.vsn=yw,this.logger=jf,this.conn=null,this.sendBuffer=[],this.serializer=new OM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${gm.websocket}`,this.httpEndpoint=UN(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=EM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ws.connecting:return yo.Connecting;case ws.open:return yo.Open;case ws.closing:return yo.Closing;default:return yo.Closed}}isConnected(){return this.connectionState()===yo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Da(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(RM,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},fu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:i}=n,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ws.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ws.open||this.conn.readyState===ws.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(or.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([BM],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:TM};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(or.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new LN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,i,l,c,u,h,f,m,g;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:mm,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:fu.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:jf,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:yw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>UM[b-1]||zM,this.vsn){case $N:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(b,p)=>p(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,p)=>p(JSON.parse(b));break;case PM:this.encode=(m=t==null?void 0:t.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Jl=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WM(e,t,n){const r=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function HM(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function KM(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:o,headers:i}){const l=WM(e.baseUrl,r,s),c=await HM(e.auth),u=await t(l,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),h=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),m=f&&h?JSON.parse(h):h;if(!u.ok){const g=f?m:void 0,b=g==null?void 0:g.error;throw new Jl((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:g})}return{status:u.status,headers:u.headers,data:m}}}}function pu(e){return e.join("")}var GM=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:pu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pu(e.namespace)}`}),!0}catch(t){if(t instanceof Jl&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Jl&&n.status===409)return;throw n}}};function ia(e){return e.join("")}var qM=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ia(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Jl&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Jl&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},YM=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=KM({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new GM(this.client,t),this.tableOps=new qM(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},yh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function dt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var QM=class extends yh{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ym=class extends yh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const dv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JM=()=>Response,xm=e=>{if(Array.isArray(e))return e.map(n=>xm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=xm(r)}),t},XM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ZM=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Xl(e){"@babel/helpers - typeof";return Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(e)}function e4(e,t){if(Xl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t4(e){var t=e4(e,"string");return Xl(t)=="symbol"?t:t+""}function n4(e,t,n){return(t=t4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(n),!0).forEach(function(r){n4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Cf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},r4=async(e,t,n)=>{e instanceof await JM()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,o=(r==null?void 0:r.statusCode)||s+"";t(new QM(Cf(r),s,o))}).catch(r=>{t(new ym(Cf(r),r))}):t(new ym(Cf(e),e))},s4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(XM(r)?(s.headers=Ce({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Ce(Ce({},s),n))};async function Nc(e,t,n,r,s,o){return new Promise((i,l)=>{e(n,s4(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>r4(c,l,r))})}async function Zl(e,t,n,r){return Nc(e,"GET",t,n,r)}async function tr(e,t,n,r,s){return Nc(e,"POST",t,r,s,n)}async function wm(e,t,n,r,s){return Nc(e,"PUT",t,r,s,n)}async function o4(e,t,n,r){return Nc(e,"HEAD",t,Ce(Ce({},n),{},{noResolveJson:!0}),r)}async function hv(e,t,n,r,s){return Nc(e,"DELETE",t,r,s,n)}var a4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}}};let zN;zN=Symbol.toStringTag;var i4=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[zN]="BlobDownloadBuilder",this.promise=null}asStream(){return new a4(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}}};const l4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var c4=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=dv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let o;const i=Ce(Ce({},Nw),r);let l=Ce(Ce({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),r!=null&&r.headers&&(l=Ce(Ce({},l),r.headers));const u=s._removeEmptyFolders(t),h=s._getFinalPath(u),f=await(e=="PUT"?wm:tr)(s.fetch,`${s.url}/object/${h}`,o,Ce({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),l=new URL(s.url+`/object/upload/sign/${i}`);l.searchParams.set("token",t);try{let c;const u=Ce({upsert:Nw.upsert},r),h=Ce(Ce({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{data:{path:o,fullPath:(await wm(s.fetch,l.toString(),c,{headers:h})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=Ce({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await tr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(n.url+o.url),l=i.searchParams.get("token");if(!l)throw new yh("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await tr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await tr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),o=await tr(r.fetch,`${r.url}/object/sign/${s}`,Ce({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await tr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Ce(Ce({},i),{},{signedUrl:i.signedURL?encodeURI(`${r.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",o=this._getFinalPath(e),i=()=>Zl(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new i4(i,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:xm(await Zl(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await o4(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(dt(r)&&r instanceof ym){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&r.push(i);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await hv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=Ce(Ce(Ce({},l4),t),{},{prefix:e||""});return{data:await tr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(dt(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=Ce({},e);return{data:await tr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const BN="2.89.0",VN={"X-Client-Info":`storage-js/${BN}`};var u4=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Ce(Ce({},VN),t),this.fetch=dv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await Zl(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Zl(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await tr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await wm(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dt(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await hv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},d4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ce(Ce({},VN),t),this.fetch=dv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await tr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await Zl(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await hv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(dt(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!ZM(e))throw new yh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new YM({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...l)=>{try{return{data:await i.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const fv={"X-Client-Info":`storage-js/${BN}`,"Content-Type":"application/json"};var WN=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function jn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var _f=class extends WN{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},h4=class extends WN{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const pv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),f4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},jw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),p4=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new _f(jw(o),r,i))}).catch(()=>{const o=r+"";t(new _f(s.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new _f(s.statusText||`HTTP ${r} error`,r,o))}}else t(new h4(jw(e),e))},m4=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(f4(r)?(s.headers=Ce({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Ce(Ce({},s),n)):s};async function g4(e,t,n,r,s,o){return new Promise((i,l)=>{e(n,m4(t,r,s,o)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>p4(c,l,r))})}async function Cn(e,t,n,r,s){return g4(e,"POST",t,r,s,n)}var v4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ce(Ce({},fv),t),this.fetch=pv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Cn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Cn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jn(r))return{data:null,error:r};throw r}}},y4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ce(Ce({},fv),t),this.fetch=pv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Cn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Cn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Cn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}},x4=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Ce(Ce({},fv),t),this.fetch=pv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(jn(n))return{data:null,error:n};throw n}}},w4=class extends x4{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new b4(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},b4=class extends v4{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new S4(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},S4=class extends y4{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Ce(Ce({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},N4=class extends u4{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new c4(this.url,this.headers,e,this.fetch)}get vectors(){return new w4(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new d4(this.url+"/iceberg",this.headers,this.fetch)}};const HN="2.89.0",wa=30*1e3,bm=3,Ef=bm*wa,j4="http://localhost:9999",C4="supabase.auth.token",_4={"X-Client-Info":`gotrue-js/${HN}`},Sm="X-Supabase-Api-Version",KN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,k4=10*60*1e3;class ec extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function xe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class T4 extends ec{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function P4(e){return xe(e)&&e.name==="AuthApiError"}class xo extends ec{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class is extends ec{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class wn extends is{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R4(e){return xe(e)&&e.name==="AuthSessionMissingError"}class la extends is{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mu extends is{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gu extends is{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function A4(e){return xe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Cw extends is{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class O4 extends is{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Nm extends is{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function kf(e){return xe(e)&&e.name==="AuthRetryableFetchError"}class _w extends is{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jm extends is{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ew=` 	
\r=`.split(""),I4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ew.length;t+=1)e[Ew[t].charCodeAt(0)]=-2;for(let t=0;t<Nd.length;t+=1)e[Nd[t].charCodeAt(0)]=t;return e})();function kw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Nd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Nd[r]),t.queuedBits-=6}}function GN(e,t,n){const r=I4[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Tw(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{$4(i,r,n)};for(let i=0;i<e.length;i+=1)GN(e.charCodeAt(i),s,o);return t.join("")}function D4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function M4(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}D4(r,t)}}function $4(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Wa(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)GN(e.charCodeAt(s),n,r);return new Uint8Array(t)}function L4(e){const t=[];return M4(e,n=>t.push(n)),new Uint8Array(t)}function No(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>kw(s,n,r)),kw(null,n,r),t.join("")}function F4(e){return Math.round(Date.now()/1e3)+e}function U4(){return Symbol("auth-callback")}const Ft=()=>typeof window<"u"&&typeof document<"u",co={tested:!1,writable:!1},qN=()=>{if(!Ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(co.tested)return co.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),co.tested=!0,co.writable=!0}catch{co.tested=!0,co.writable=!1}return co.writable};function z4(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const YN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ba=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},uo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Lt=async(e,t)=>{await e.removeItem(t)};class xh{constructor(){this.promise=new xh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}xh.promiseConstructor=Promise;function Tf(e){const t=e.split(".");if(t.length!==3)throw new jm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!E4.test(t[r]))throw new jm("JWT not in base64url format");return{header:JSON.parse(Tw(t[0])),payload:JSON.parse(Tw(t[1])),signature:Wa(t[2]),raw:{header:t[0],payload:t[1]}}}async function V4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W4(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function H4(e){return("0"+e.toString(16)).substr(-2)}function K4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,H4).join("")}async function G4(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function q4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await G4(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ca(e,t,n=!1){const r=K4();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await ba(e,`${t}-code-verifier`,s);const o=await q4(r);return[o,r===o?"plain":"s256"]}const Y4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Q4(e){const t=e.headers.get(Sm);if(!t||!t.match(Y4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function J4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function X4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ua(e){if(!Z4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function e5(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Pw(e){return JSON.parse(JSON.stringify(e))}const go=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t5=[502,503,504];async function Rw(e){var t;if(!B4(e))throw new Nm(go(e),0);if(t5.includes(e.status))throw new Nm(go(e),e.status);let n;try{n=await e.json()}catch(o){throw new xo(go(o),o)}let r;const s=Q4(e);if(s&&s.getTime()>=KN["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new _w(go(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new wn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new _w(go(n),e.status,n.weak_password.reasons);throw new T4(go(n),e.status||500,r)}const n5=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function je(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Sm]||(o[Sm]=KN["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await r5(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function r5(e,t,n,r,s,o){const i=n5(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Nm(go(c),0)}if(l.ok||await Rw(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await Rw(c)}}function Xn(e){var t;let n=null;a5(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=F4(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Aw(e){const t=Xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ns(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function s5(e){return{data:e,error:null}}function o5(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=Li(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Ow(e){return e}function a5(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rf=["global","local","others"];class i5{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=YN(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Rf[0]){if(Rf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rf.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ns})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Li(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:o5,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(xe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ns})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Ow});if(h.error)throw h.error;const f=await h.json(),m=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ua(t);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ns})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ua(t);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ns})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ua(t);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ns})}catch(r){if(xe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ua(t.userId);try{const{data:n,error:r}=await je(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ua(t.userId),ua(t.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await je(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Ow});if(h.error)throw h.error;const f=await h.json(),m=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(xe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await je(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await je(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(xe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await je(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await je(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(xe(n))return{data:null,error:n};throw n}}}function Iw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const da={debug:!!(globalThis&&qN()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class QN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class l5 extends QN{}async function c5(e,t,n){da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),da.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){da.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{da.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw da.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new l5(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(da.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function u5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function JN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function d5(e){return parseInt(e,16)}function h5(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function f5(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:h,uri:f,version:m}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=JN(e.address),b=h?`${h}://${r}`:r,p=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${g}

${p}`;let y=`URI: ${f}
Version: ${m}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}y+=v}return`${x}
${y}`}class jt extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class jd extends jt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function p5({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new jt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new jt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new jt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new jt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new jt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(XN(i)){if(o.rp.id!==i)return new jt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new jt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function m5({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new jt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(XN(r)){if(n.rpId!==r)return new jt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new jt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class g5{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const v5=new g5;function y5(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Li(e,["challenge","user","excludeCredentials"]),o=Wa(t).buffer,i=Object.assign(Object.assign({},n),{id:Wa(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:i});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Wa(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function x5(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Li(e,["challenge","allowCredentials"]),s=Wa(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const l=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},l),{id:Wa(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function w5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:No(new Uint8Array(e.response.attestationObject)),clientDataJSON:No(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function b5(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:No(new Uint8Array(s.authenticatorData)),clientDataJSON:No(new Uint8Array(s.clientDataJSON)),signature:No(new Uint8Array(s.signature)),userHandle:s.userHandle?No(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function XN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Dw(){var e,t;return!!(Ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function S5(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jd("Browser returned unexpected credential type",t)}:{data:null,error:new jd("Empty credential response",t)}}catch(t){return{data:null,error:p5({error:t,options:e})}}}async function N5(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new jd("Browser returned unexpected credential type",t)}:{data:null,error:new jd("Empty credential response",t)}}catch(t){return{data:null,error:m5({error:t,options:e})}}}const j5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},C5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Cd(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))r[o]=i;else if(n(i))r[o]=i;else if(t(i)){const l=r[o];t(l)?r[o]=Cd(l,i):r[o]=Cd(i)}else r[o]=i}return r}function _5(e,t){return Cd(j5,e,t||{})}function E5(e,t){return Cd(C5,e,t||{})}class k5{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!i)return{data:null,error:l};const c=s??v5.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=_5(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:f}=await S5({publicKey:u,signal:c});return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=E5(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:f}=await N5(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return h?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(i){return xe(i)?{data:null,error:i}:{data:null,error:new xo("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new ec("rpId is required for WebAuthn authentication")};try{if(!Dw())return{data:null,error:new xo("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(i){return xe(i)?{data:null,error:i}:{data:null,error:new xo("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new ec("rpId is required for WebAuthn registration")};try{if(!Dw())return{data:null,error:new xo("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===t&&m.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return xe(i)?{data:null,error:i}:{data:null,error:new xo("Unexpected error in register",i)}}}}u5();const T5={url:j4,storageKey:C4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:_4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Mw(e,t,n){return await n()}const ha={};class tc{get jwks(){var t,n;return(n=(t=ha[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ha[this.storageKey]=Object.assign(Object.assign({},ha[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ha[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ha[this.storageKey]=Object.assign(Object.assign({},ha[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},T5),t);if(this.storageKey=o.storageKey,this.instanceID=(n=tc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,tc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Ft()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new i5({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=YN(o.fetch),this.lock=o.lock||Mw,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=c5:this.lock=Mw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new k5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:qN()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iw(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Iw(this.memoryStorage)),Ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${HN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Ft()&&(n=z4(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Ft()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),A4(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return xe(n)?this._returnResult({error:n}):this._returnResult({error:new xo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Xn}),{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(xe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:h,password:f,options:m}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await ca(this.storage,this.storageKey)),o=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:b},xform:Xn})}else if("phone"in t){const{phone:h,password:f,options:m}=t;o=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Xn})}else throw new mu("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return await Lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Aw})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Aw})}else throw new mu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new la;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,i,l,c,u,h,f,m;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:p,wallet:x,statement:y,options:v}=t;let w;if(Ft())if(typeof x=="object")w=x;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")w=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const S=new URL((n=v==null?void 0:v.url)!==null&&n!==void 0?n:window.location.href),N=await w.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=JN(N[0]);let C=(r=v==null?void 0:v.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!C){const T=await w.request({method:"eth_chainId"});C=d5(T)}const _={domain:S.host,address:j,statement:y,uri:S.href,version:"1",chainId:C,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=v==null?void 0:v.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=v==null?void 0:v.signInWithEthereum)===null||h===void 0?void 0:h.resources};g=f5(_),b=await w.request({method:"personal_sign",params:[h5(g),j]})}try{const{data:p,error:x}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Xn});if(x)throw x;if(!p||!p.session||!p.user){const y=new la;return this._returnResult({data:{user:null,session:null},error:y})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(xe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,o,i,l,c,u,h,f,m,g;let b,p;if("message"in t)b=t.message,p=t.signature;else{const{chain:x,wallet:y,statement:v,options:w}=t;let S;if(Ft())if(typeof y=="object")S=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const N=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)b=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(h=w==null?void 0:w.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:x,error:y}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:No(p)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Xn});if(y)throw y;if(!x||!x.session||!x.user){const v=new la;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:y})}catch(x){if(xe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await uo(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new O4;const{data:o,error:i}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Xn});if(await Lt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const l=new la;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const h=new la;return this._returnResult({data:{user:null,session:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await ca(this.storage,this.storageKey));const{error:f}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new mu("You must provide either an email or phone number.")}catch(l){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Xn});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(xe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,o,i;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ca(this.storage,this.storageKey));const u=await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:s5});return!((o=u.data)===null||o===void 0)&&o.url&&Ft()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new wn;const{error:s}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(xe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await je(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await je(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new mu("You must provide either an email or phone number and a type")}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await uo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Ef:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await uo(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Pf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=e5(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ns}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Ns})})}catch(n){if(xe(n))return R4(n)&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new wn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ca(this.storage,this.storageKey));const{data:u,error:h}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Ns});if(h)throw h;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(r){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Tf(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new wn;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(xe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Ft())throw new gu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Cw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cw("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new gu("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let m=h+f;c&&(m=parseInt(c));const g=m-h;g*1e3<=wa&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=m-f;h-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,h):h-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,h);const{data:p,error:x}=await this._getUser(o);if(x)throw x;const y={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(r){if(xe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await uo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(P4(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=U4(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await ca(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,h;const{data:f,error:m}=o;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ft()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(xe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:h}=t,f=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Xn}),{data:m,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new la}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:g}))}catch(s){if(await Lt(this.storage,`${this.storageKey}-code-verifier`),xe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await W4(async s=>(s>0&&await V4(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&kf(o)&&Date.now()+i-r<wa})}catch(r){if(this._debug(n,"error",r),xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Ft()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await uo(this.storage,this.storageKey);if(s&&this.userStorage){let i=await uo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await ba(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Pf()}else if(s&&!s.user&&!s.user){const i=await uo(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Lt(this.storage,this.storageKey+"-user"),await ba(this.storage,this.storageKey,s)):s.user=Pf()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Ef;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Ef}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),kf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new xh;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new wn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),xe(o)){const i={data:null,error:o};return kf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Lt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ba(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Pw(s);await ba(this.storage,this.storageKey,o)}else{const s=Pw(n);await ba(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Lt(this.storage,this.storageKey),await Lt(this.storage,this.storageKey+"-code-verifier"),await Lt(this.storage,this.storageKey+"-user"),this.userStorage&&await Lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wa);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/wa);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wa}ms, refresh threshold is ${bm} ticks`),s<=bm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof QN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await ca(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await je(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await je(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?w5(t.webauthn.credential_response):b5(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=await je(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:y5(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:x5(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Tf(r.access_token);let i=null;o.aal&&(i=o.aal);let l=i;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await je(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new wn})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new wn});const i=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Ft()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new wn});const i=await je(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Ft()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await je(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new wn})})}catch(t){if(xe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await je(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wn})})}catch(n){if(xe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+k4>s)return r;const{data:o,error:i}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});r=g.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Tf(r);n!=null&&n.allowExpired||J4(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:o,header:s,signature:i},error:null}}const h=X4(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,i,L4(`${l}.${c}`)))throw new jm("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(xe(r))return this._returnResult({data:null,error:r});throw r}}}tc.nextInstanceID={};const P5=tc,R5="2.89.0";let cl="";typeof Deno<"u"?cl="deno":typeof document<"u"?cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?cl="react-native":cl="node";const A5={"X-Client-Info":`supabase-js-${cl}/${R5}`},O5={headers:A5},I5={schema:"public"},D5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},M5={};function nc(e){"@babel/helpers - typeof";return nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nc(e)}function $5(e,t){if(nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L5(e){var t=$5(e,"string");return nc(t)=="symbol"?t:t+""}function F5(e,t,n){return(t=L5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(n),!0).forEach(function(r){F5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$w(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const U5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),z5=()=>Headers,B5=(e,t,n)=>{const r=U5(n),s=z5();return async(o,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,yt(yt({},i),{},{headers:u}))}};function V5(e){return e.endsWith("/")?e:e+"/"}function W5(e,t){var n,r;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:h,global:f}=t,m={db:yt(yt({},c),s),auth:yt(yt({},u),o),realtime:yt(yt({},h),i),storage:{},global:yt(yt(yt({},f),l),{},{headers:yt(yt({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function H5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(V5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var K5=class extends P5{constructor(e){super(e)}},G5=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const o=H5(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:I5,realtime:M5,auth:yt(yt({},D5),{},{storageKey:i}),global:O5},c=W5(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=B5(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(yt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new _M(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new N4(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new bM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:i,lock:l,debug:c,throwOnError:u},h,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new K5({url:this.authUrl.href,headers:yt(yt({},m),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:i,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new VM(this.realtimeUrl.href,yt(yt({},e),{},{params:yt(yt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const q5=(e,t,n)=>new G5(e,t,n);function Y5(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Y5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Q5="https://txoltggjkukflwuigqst.supabase.co",J5="sb_publishable_JEx5V53j31YBi2Lt7Vpiaw_LPAp50aR",ze=q5(Q5,J5,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ZN=d.createContext(void 0);function X5({children:e}){const[t,n]=d.useState(null),[r,s]=d.useState(null),[o,i]=d.useState(!0);d.useEffect(()=>{const{data:{subscription:h}}=ze.auth.onAuthStateChange((f,m)=>{s(m),n((m==null?void 0:m.user)??null),i(!1)});return ze.auth.getSession().then(({data:{session:f}})=>{s(f),n((f==null?void 0:f.user)??null),i(!1)}),()=>h.unsubscribe()},[]);const l=async(h,f)=>{const{error:m}=await ze.auth.signInWithPassword({email:h,password:f});return{error:m}},c=async(h,f)=>{const m=`${window.location.origin}/`,{error:g}=await ze.auth.signUp({email:h,password:f,options:{emailRedirectTo:m}});return{error:g}},u=async()=>{await ze.auth.signOut(),s(null),n(null)};return a.jsx(ZN.Provider,{value:{user:t,session:r,loading:o,signIn:l,signUp:c,signOut:u},children:e})}function Hn(){const e=d.useContext(ZN);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Af=768;function Z5(){const[e,t]=d.useState(void 0);return d.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Af-1}px)`),r=()=>{t(window.innerWidth<Af)};return n.addEventListener("change",r),t(window.innerWidth<Af),()=>n.removeEventListener("change",r)},[]),!!e}const mv=Ti("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),$=d.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Ei:"button";return a.jsx(i,{className:Q(mv({variant:t,size:n,className:e})),ref:o,...s})});$.displayName="Button";const ie=d.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:Q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ie.displayName="Input";var e3="Separator",Lw="horizontal",t3=["horizontal","vertical"],ej=d.forwardRef((e,t)=>{const{decorative:n,orientation:r=Lw,...s}=e,o=n3(r)?r:Lw,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(pe.div,{"data-orientation":o,...l,...s,ref:t})});ej.displayName=e3;function n3(e){return t3.includes(e)}var tj=ej;const nj=d.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>a.jsx(tj,{ref:s,decorative:n,orientation:t,className:Q("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));nj.displayName=tj.displayName;var Of="focusScope.autoFocusOnMount",If="focusScope.autoFocusOnUnmount",Fw={bubbles:!1,cancelable:!0},r3="FocusScope",wh=d.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=d.useState(null),u=lt(s),h=lt(o),f=d.useRef(null),m=Re(t,p=>c(p)),g=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(r){let p=function(w){if(g.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:vs(f.current,{select:!0})},x=function(w){if(g.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||vs(f.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&vs(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const v=new MutationObserver(y);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),v.disconnect()}}},[r,l,g.paused]),d.useEffect(()=>{if(l){zw.add(g);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(Of,Fw);l.addEventListener(Of,u),l.dispatchEvent(y),y.defaultPrevented||(s3(c3(rj(l)),{select:!0}),document.activeElement===p&&vs(l))}return()=>{l.removeEventListener(Of,u),setTimeout(()=>{const y=new CustomEvent(If,Fw);l.addEventListener(If,h),l.dispatchEvent(y),y.defaultPrevented||vs(p??document.body,{select:!0}),l.removeEventListener(If,h),zw.remove(g)},0)}}},[l,u,h,g]);const b=d.useCallback(p=>{if(!n&&!r||g.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(x&&y){const v=p.currentTarget,[w,S]=o3(v);w&&S?!p.shiftKey&&y===S?(p.preventDefault(),n&&vs(w,{select:!0})):p.shiftKey&&y===w&&(p.preventDefault(),n&&vs(S,{select:!0})):y===v&&p.preventDefault()}},[n,r,g.paused]);return a.jsx(pe.div,{tabIndex:-1,...i,ref:m,onKeyDown:b})});wh.displayName=r3;function s3(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(vs(r,{select:t}),document.activeElement!==n)return}function o3(e){const t=rj(e),n=Uw(t,e),r=Uw(t.reverse(),e);return[n,r]}function rj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Uw(e,t){for(const n of e)if(!a3(n,{upTo:t}))return n}function a3(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function i3(e){return e instanceof HTMLInputElement&&"select"in e}function vs(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&i3(e)&&t&&e.select()}}var zw=l3();function l3(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Bw(e,t),e.unshift(t)},remove(t){var n;e=Bw(e,t),(n=e[0])==null||n.resume()}}}function Bw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function c3(e){return e.filter(t=>t.tagName!=="A")}var Df=0;function gv(){d.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Vw()),document.body.insertAdjacentElement("beforeend",e[1]??Vw()),Df++,()=>{Df===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Df--}},[])}function Vw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Lu="right-scroll-bar-position",Fu="width-before-scroll-bar",u3="with-scroll-bars-hidden",d3="--removed-body-scroll-bar-size";function Mf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function h3(e,t){var n=d.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var f3=typeof window<"u"?d.useLayoutEffect:d.useEffect,Ww=new WeakMap;function p3(e,t){var n=h3(null,function(r){return e.forEach(function(s){return Mf(s,r)})});return f3(function(){var r=Ww.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||Mf(l,null)}),o.forEach(function(l){s.has(l)||Mf(l,i)})}Ww.set(n,e)},[e]),n}function m3(e){return e}function g3(e,t){t===void 0&&(t=m3);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var h=i;i=[],h.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){i.push(h),u()},filter:function(h){return i=i.filter(h),n}}}};return s}function v3(e){e===void 0&&(e={});var t=g3(null);return t.options=Cr({async:!0,ssr:!1},e),t}var sj=function(e){var t=e.sideCar,n=Li(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return d.createElement(r,Cr({},n))};sj.isSideCarExport=!0;function y3(e,t){return e.useMedium(t),sj}var oj=v3(),$f=function(){},bh=d.forwardRef(function(e,t){var n=d.useRef(null),r=d.useState({onScrollCapture:$f,onWheelCapture:$f,onTouchMoveCapture:$f}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,g=e.noRelative,b=e.noIsolation,p=e.inert,x=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,w=e.gapMode,S=Li(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,j=p3([n,t]),C=Cr(Cr({},S),s);return d.createElement(d.Fragment,null,h&&d.createElement(N,{sideCar:oj,removeScrollBar:u,shards:f,noRelative:g,noIsolation:b,inert:p,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:w}),i?d.cloneElement(d.Children.only(l),Cr(Cr({},C),{ref:j})):d.createElement(v,Cr({},C,{className:c,ref:j}),l))});bh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bh.classNames={fullWidth:Fu,zeroRight:Lu};var x3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=x3();return t&&e.setAttribute("nonce",t),e}function b3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function S3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var N3=function(){var e=0,t=null;return{add:function(n){e==0&&(t=w3())&&(b3(t,n),S3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},j3=function(){var e=N3();return function(t,n){d.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},aj=function(){var e=j3(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},C3={left:0,top:0,right:0,gap:0},Lf=function(e){return parseInt(e||"",10)||0},_3=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Lf(n),Lf(r),Lf(s)]},E3=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return C3;var t=_3(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},k3=aj(),Ha="data-scroll-locked",T3=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(u3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ha,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lu,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Fu,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(Lu," .").concat(Lu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Fu," .").concat(Fu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ha,`] {
    `).concat(d3,": ").concat(l,`px;
  }
`)},Hw=function(){var e=parseInt(document.body.getAttribute(Ha)||"0",10);return isFinite(e)?e:0},P3=function(){d.useEffect(function(){return document.body.setAttribute(Ha,(Hw()+1).toString()),function(){var e=Hw()-1;e<=0?document.body.removeAttribute(Ha):document.body.setAttribute(Ha,e.toString())}},[])},R3=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;P3();var o=d.useMemo(function(){return E3(s)},[s]);return d.createElement(k3,{styles:T3(o,!t,s,n?"":"!important")})},Cm=!1;if(typeof window<"u")try{var vu=Object.defineProperty({},"passive",{get:function(){return Cm=!0,!0}});window.addEventListener("test",vu,vu),window.removeEventListener("test",vu,vu)}catch{Cm=!1}var fa=Cm?{passive:!1}:!1,A3=function(e){return e.tagName==="TEXTAREA"},ij=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!A3(e)&&n[t]==="visible")},O3=function(e){return ij(e,"overflowY")},I3=function(e){return ij(e,"overflowX")},Kw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=lj(e,r);if(s){var o=cj(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},D3=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},M3=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},lj=function(e,t){return e==="v"?O3(t):I3(t)},cj=function(e,t){return e==="v"?D3(t):M3(t)},$3=function(e,t){return e==="h"&&t==="rtl"?-1:1},L3=function(e,t,n,r,s){var o=$3(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,h=i>0,f=0,m=0;do{if(!l)break;var g=cj(e,l),b=g[0],p=g[1],x=g[2],y=p-x-o*b;(b||y)&&lj(e,l)&&(f+=y,m+=b);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(u=!0),u},yu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Gw=function(e){return[e.deltaX,e.deltaY]},qw=function(e){return e&&"current"in e?e.current:e},F3=function(e,t){return e[0]===t[0]&&e[1]===t[1]},U3=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},z3=0,pa=[];function B3(e){var t=d.useRef([]),n=d.useRef([0,0]),r=d.useRef(),s=d.useState(z3++)[0],o=d.useState(aj)[0],i=d.useRef(e);d.useEffect(function(){i.current=e},[e]),d.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=yM([e.lockRef.current],(e.shards||[]).map(qw),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=d.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var y=yu(p),v=n.current,w="deltaX"in p?p.deltaX:v[0]-y[0],S="deltaY"in p?p.deltaY:v[1]-y[1],N,j=p.target,C=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&C==="h"&&j.type==="range")return!1;var _=Kw(C,j);if(!_)return!0;if(_?N=C:(N=C==="v"?"h":"v",_=Kw(C,j)),!_)return!1;if(!r.current&&"changedTouches"in p&&(w||S)&&(r.current=N),!N)return!0;var T=r.current||N;return L3(T,x,p,T==="h"?w:S,!0)},[]),c=d.useCallback(function(p){var x=p;if(!(!pa.length||pa[pa.length-1]!==o)){var y="deltaY"in x?Gw(x):yu(x),v=t.current.filter(function(N){return N.name===x.type&&(N.target===x.target||x.target===N.shadowParent)&&F3(N.delta,y)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var w=(i.current.shards||[]).map(qw).filter(Boolean).filter(function(N){return N.contains(x.target)}),S=w.length>0?l(x,w[0]):!i.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=d.useCallback(function(p,x,y,v){var w={name:p,delta:x,target:y,should:v,shadowParent:V3(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),h=d.useCallback(function(p){n.current=yu(p),r.current=void 0},[]),f=d.useCallback(function(p){u(p.type,Gw(p),p.target,l(p,e.lockRef.current))},[]),m=d.useCallback(function(p){u(p.type,yu(p),p.target,l(p,e.lockRef.current))},[]);d.useEffect(function(){return pa.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,fa),document.addEventListener("touchmove",c,fa),document.addEventListener("touchstart",h,fa),function(){pa=pa.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,fa),document.removeEventListener("touchmove",c,fa),document.removeEventListener("touchstart",h,fa)}},[]);var g=e.removeScrollBar,b=e.inert;return d.createElement(d.Fragment,null,b?d.createElement(o,{styles:U3(s)}):null,g?d.createElement(R3,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function V3(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const W3=y3(oj,B3);var Sh=d.forwardRef(function(e,t){return d.createElement(bh,Cr({},e,{ref:t,sideCar:W3}))});Sh.classNames=bh.classNames;var H3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ma=new WeakMap,xu=new WeakMap,wu={},Ff=0,uj=function(e){return e&&(e.host||uj(e.parentNode))},K3=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=uj(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},G3=function(e,t,n,r){var s=K3(t,Array.isArray(e)?e:[e]);wu[n]||(wu[n]=new WeakMap);var o=wu[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))h(m);else try{var g=m.getAttribute(r),b=g!==null&&g!=="false",p=(ma.get(m)||0)+1,x=(o.get(m)||0)+1;ma.set(m,p),o.set(m,x),i.push(m),p===1&&b&&xu.set(m,!0),x===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return h(t),l.clear(),Ff++,function(){i.forEach(function(f){var m=ma.get(f)-1,g=o.get(f)-1;ma.set(f,m),o.set(f,g),m||(xu.has(f)||f.removeAttribute(r),xu.delete(f)),g||f.removeAttribute(n)}),Ff--,Ff||(ma=new WeakMap,ma=new WeakMap,xu=new WeakMap,wu={})}},vv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=H3(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),G3(r,s,n,"aria-hidden")):function(){return null}},Nh="Dialog",[dj,hj]=Vt(Nh),[q3,mr]=dj(Nh),fj=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=d.useRef(null),c=d.useRef(null),[u,h]=Wn({prop:r,defaultProp:s??!1,onChange:o,caller:Nh});return a.jsx(q3,{scope:t,triggerRef:l,contentRef:c,contentId:rn(),titleId:rn(),descriptionId:rn(),open:u,onOpenChange:h,onOpenToggle:d.useCallback(()=>h(f=>!f),[h]),modal:i,children:n})};fj.displayName=Nh;var pj="DialogTrigger",mj=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(pj,n),o=Re(t,s.triggerRef);return a.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":wv(s.open),...r,ref:o,onClick:ne(e.onClick,s.onOpenToggle)})});mj.displayName=pj;var yv="DialogPortal",[Y3,gj]=dj(yv,{forceMount:void 0}),vj=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=mr(yv,t);return a.jsx(Y3,{scope:t,forceMount:n,children:d.Children.map(r,i=>a.jsx(Yt,{present:n||o.open,children:a.jsx(yc,{asChild:!0,container:s,children:i})}))})};vj.displayName=yv;var _d="DialogOverlay",yj=d.forwardRef((e,t)=>{const n=gj(_d,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=mr(_d,e.__scopeDialog);return o.modal?a.jsx(Yt,{present:r||o.open,children:a.jsx(J3,{...s,ref:t})}):null});yj.displayName=_d;var Q3=Uo("DialogOverlay.RemoveScroll"),J3=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(_d,n);return a.jsx(Sh,{as:Q3,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(pe.div,{"data-state":wv(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Wo="DialogContent",xj=d.forwardRef((e,t)=>{const n=gj(Wo,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=mr(Wo,e.__scopeDialog);return a.jsx(Yt,{present:r||o.open,children:o.modal?a.jsx(X3,{...s,ref:t}):a.jsx(Z3,{...s,ref:t})})});xj.displayName=Wo;var X3=d.forwardRef((e,t)=>{const n=mr(Wo,e.__scopeDialog),r=d.useRef(null),s=Re(t,n.contentRef,r);return d.useEffect(()=>{const o=r.current;if(o)return vv(o)},[]),a.jsx(wj,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:ne(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:ne(e.onFocusOutside,o=>o.preventDefault())})}),Z3=d.forwardRef((e,t)=>{const n=mr(Wo,e.__scopeDialog),r=d.useRef(!1),s=d.useRef(!1);return a.jsx(wj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),wj=d.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=mr(Wo,n),c=d.useRef(null),u=Re(t,c);return gv(),a.jsxs(a.Fragment,{children:[a.jsx(wh,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(ki,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":wv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(t$,{titleId:l.titleId}),a.jsx(r$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),xv="DialogTitle",bj=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(xv,n);return a.jsx(pe.h2,{id:s.titleId,...r,ref:t})});bj.displayName=xv;var Sj="DialogDescription",Nj=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(Sj,n);return a.jsx(pe.p,{id:s.descriptionId,...r,ref:t})});Nj.displayName=Sj;var jj="DialogClose",Cj=d.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=mr(jj,n);return a.jsx(pe.button,{type:"button",...r,ref:t,onClick:ne(e.onClick,()=>s.onOpenChange(!1))})});Cj.displayName=jj;function wv(e){return e?"open":"closed"}var _j="DialogTitleWarning",[e$,Ej]=gP(_j,{contentName:Wo,titleName:xv,docsSlug:"dialog"}),t$=({titleId:e})=>{const t=Ej(_j),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return d.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},n$="DialogDescriptionWarning",r$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ej(n$).contentName}}.`;return d.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},bv=fj,Sv=mj,Nv=vj,jc=yj,Cc=xj,_c=bj,Ec=Nj,jh=Cj;const kj=bv,s$=Sv,o$=Nv,Tj=d.forwardRef(({className:e,...t},n)=>a.jsx(jc,{className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Tj.displayName=jc.displayName;const a$=Ti("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),jv=d.forwardRef(({side:e="right",className:t,children:n,...r},s)=>a.jsxs(o$,{children:[a.jsx(Tj,{}),a.jsxs(Cc,{ref:s,className:Q(a$({side:e}),t),...r,children:[n,a.jsxs(jh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(ro,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));jv.displayName=Cc.displayName;const Pj=({className:e,...t})=>a.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",e),...t});Pj.displayName="SheetHeader";const Rj=d.forwardRef(({className:e,...t},n)=>a.jsx(_c,{ref:n,className:Q("text-lg font-semibold text-foreground",e),...t}));Rj.displayName=_c.displayName;const i$=d.forwardRef(({className:e,...t},n)=>a.jsx(Ec,{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));i$.displayName=Ec.displayName;function Yw({className:e,...t}){return a.jsx("div",{className:Q("animate-pulse rounded-md bg-muted",e),...t})}const l$="sidebar:state",c$=60*60*24*7,u$="16rem",d$="18rem",h$="3rem",f$="b",Aj=d.createContext(null);function kc(){const e=d.useContext(Aj);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const Oj=d.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:o,...i},l)=>{const c=Z5(),[u,h]=d.useState(!1),[f,m]=d.useState(e),g=t??f,b=d.useCallback(v=>{const w=typeof v=="function"?v(g):v;n?n(w):m(w),document.cookie=`${l$}=${w}; path=/; max-age=${c$}`},[n,g]),p=d.useCallback(()=>c?h(v=>!v):b(v=>!v),[c,b,h]);d.useEffect(()=>{const v=w=>{w.key===f$&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[p]);const x=g?"expanded":"collapsed",y=d.useMemo(()=>({state:x,open:g,setOpen:b,isMobile:c,openMobile:u,setOpenMobile:h,toggleSidebar:p}),[x,g,b,c,u,h,p]);return a.jsx(Aj.Provider,{value:y,children:a.jsx(uN,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":u$,"--sidebar-width-icon":h$,...s},className:Q("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...i,children:o})})})});Oj.displayName="SidebarProvider";const Ij=d.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...o},i)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:h}=kc();return n==="none"?a.jsx("div",{className:Q("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:i,...o,children:s}):l?a.jsx(kj,{open:u,onOpenChange:h,...o,children:a.jsx(jv,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":d$},side:e,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):a.jsxs("div",{ref:i,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:Q("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:Q("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});Ij.displayName="Sidebar";const Dj=d.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:s}=kc();return a.jsx($,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Q("h-7 w-7",e),onClick:o=>{t==null||t(o),s()},...n,children:a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})})});Dj.displayName="SidebarTrigger";const p$=d.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=kc();return a.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:Q("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});p$.displayName="SidebarRail";const Mj=d.forwardRef(({className:e,...t},n)=>a.jsx("main",{ref:n,className:Q("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));Mj.displayName="SidebarInset";const m$=d.forwardRef(({className:e,...t},n)=>a.jsx(ie,{ref:n,"data-sidebar":"input",className:Q("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));m$.displayName="SidebarInput";const $j=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"header",className:Q("flex flex-col gap-2 p-2",e),...t}));$j.displayName="SidebarHeader";const Lj=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"footer",className:Q("flex flex-col gap-2 p-2",e),...t}));Lj.displayName="SidebarFooter";const g$=d.forwardRef(({className:e,...t},n)=>a.jsx(nj,{ref:n,"data-sidebar":"separator",className:Q("mx-2 w-auto bg-sidebar-border",e),...t}));g$.displayName="SidebarSeparator";const Fj=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"content",className:Q("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));Fj.displayName="SidebarContent";const Uj=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"group",className:Q("relative flex w-full min-w-0 flex-col p-2",e),...t}));Uj.displayName="SidebarGroup";const zj=d.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Ei:"div";return a.jsx(s,{ref:r,"data-sidebar":"group-label",className:Q("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});zj.displayName="SidebarGroupLabel";const v$=d.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Ei:"button";return a.jsx(s,{ref:r,"data-sidebar":"group-action",className:Q("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});v$.displayName="SidebarGroupAction";const Bj=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"group-content",className:Q("w-full text-sm",e),...t}));Bj.displayName="SidebarGroupContent";const _m=d.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu",className:Q("flex w-full min-w-0 flex-col gap-1",e),...t}));_m.displayName="SidebarMenu";const ul=d.forwardRef(({className:e,...t},n)=>a.jsx("li",{ref:n,"data-sidebar":"menu-item",className:Q("group/menu-item relative",e),...t}));ul.displayName="SidebarMenuItem";const y$=Ti("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),dl=d.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:o,...i},l)=>{const c=e?Ei:"button",{isMobile:u,state:h}=kc(),f=a.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:Q(y$({variant:n,size:r}),o),...i});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(OI,{children:[a.jsx(II,{asChild:!0,children:f}),a.jsx(dN,{side:"right",align:"center",hidden:h!=="collapsed"||u,...s})]})):f});dl.displayName="SidebarMenuButton";const x$=d.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},s)=>{const o=t?Ei:"button";return a.jsx(o,{ref:s,"data-sidebar":"menu-action",className:Q("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});x$.displayName="SidebarMenuAction";const w$=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:Q("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));w$.displayName="SidebarMenuBadge";const b$=d.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const s=d.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:Q("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&a.jsx(Yw,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(Yw,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});b$.displayName="SidebarMenuSkeleton";const S$=d.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:Q("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));S$.displayName="SidebarMenuSub";const N$=d.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));N$.displayName="SidebarMenuSubItem";const j$=d.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...s},o)=>{const i=e?Ei:"a";return a.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:Q("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});j$.displayName="SidebarMenuSubButton";const Ed=d.forwardRef(({className:e,activeClassName:t,pendingClassName:n,to:r,...s},o)=>a.jsx(fM,{ref:o,to:r,className:({isActive:i,isPending:l})=>Q(e,i&&t,l&&n),...s}));Ed.displayName="NavLink";const C$=[{title:"Dashboard",url:"/",icon:y1},{title:"DNA Lab",url:"/dna-lab",icon:no},{title:"Personas",url:"/personas",icon:wc},{title:"Writer",url:"/writer",icon:pi},{title:"Notes",url:"/notes",icon:Wp}];function _$(){const{state:e,toggleSidebar:t}=kc(),{signOut:n}=Hn(),r=e==="collapsed";return a.jsxs(Ij,{collapsible:"icon",className:"border-r border-border/50",children:[a.jsx($j,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary",children:a.jsx(hR,{className:"h-5 w-5 text-primary-foreground"})}),!r&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-lg font-semibold tracking-tight",children:"LOG"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Content Platform"})]})]})}),a.jsx(Fj,{children:a.jsxs(Uj,{children:[a.jsx(zj,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground/70",children:"Workspace"}),a.jsx(Bj,{children:a.jsx(_m,{children:C$.map(s=>a.jsx(ul,{children:a.jsx(dl,{asChild:!0,tooltip:s.title,children:a.jsxs(Ed,{to:s.url,end:s.url==="/",className:"flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 hover:bg-accent",activeClassName:"bg-primary/10 text-primary",children:[a.jsx(s.icon,{className:"h-5 w-5 shrink-0"}),a.jsx("span",{children:s.title})]})})},s.title))})})]})}),a.jsx(Lj,{className:"p-2 space-y-2",children:a.jsxs(_m,{children:[a.jsx(ul,{children:a.jsx(dl,{asChild:!0,tooltip:r?"Expand Sidebar":"Collapse Sidebar",children:a.jsxs($,{variant:"ghost",onClick:t,className:"w-full justify-start gap-3 rounded-lg px-3 py-2.5 text-sm font-medium hover:bg-accent",children:[r?a.jsx(_R,{className:"h-5 w-5 shrink-0"}):a.jsx(CR,{className:"h-5 w-5 shrink-0"}),!r&&a.jsx("span",{children:"Collapse"})]})})}),a.jsx(ul,{children:a.jsx(dl,{asChild:!0,tooltip:"Settings",children:a.jsxs(Ed,{to:"/settings",className:"flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 hover:bg-accent",activeClassName:"bg-primary/10 text-primary",children:[a.jsx(kR,{className:"h-5 w-5 shrink-0"}),a.jsx("span",{children:"Settings"})]})})}),a.jsx(ul,{children:a.jsx(dl,{asChild:!0,tooltip:"Logout",children:a.jsxs($,{variant:"ghost",onClick:n,className:"w-full justify-start gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-destructive hover:bg-destructive/10 hover:text-destructive",children:[a.jsx(SR,{className:"h-5 w-5 shrink-0"}),!r&&a.jsx("span",{children:"Logout"})]})})})]})})]})}const E$=[{title:"Home",url:"/",icon:y1},{title:"DNA",url:"/dna-lab",icon:no},{title:"Personas",url:"/personas",icon:wc},{title:"Writer",url:"/writer",icon:pi}];function k$(){return a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border/50 bg-card/80 backdrop-blur-xl md:hidden",children:a.jsx("div",{className:"flex items-center justify-around px-2 py-2 safe-area-pb",children:E$.map(e=>a.jsxs(Ed,{to:e.url,end:e.url==="/",className:"flex flex-col items-center gap-1 rounded-lg px-3 py-2 text-muted-foreground transition-colors",activeClassName:"text-primary",children:[a.jsx(e.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"text-[10px] font-medium",children:e.title})]},e.title))})})}var Vj={exports:{}},Wj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yi=d;function T$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var P$=typeof Object.is=="function"?Object.is:T$,R$=yi.useState,A$=yi.useEffect,O$=yi.useLayoutEffect,I$=yi.useDebugValue;function D$(e,t){var n=t(),r=R$({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return O$(function(){s.value=n,s.getSnapshot=t,Uf(s)&&o({inst:s})},[e,n,t]),A$(function(){return Uf(s)&&o({inst:s}),e(function(){Uf(s)&&o({inst:s})})},[e]),I$(n),n}function Uf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!P$(e,n)}catch{return!0}}function M$(e,t){return t()}var $$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?M$:D$;Wj.useSyncExternalStore=yi.useSyncExternalStore!==void 0?yi.useSyncExternalStore:$$;Vj.exports=Wj;var L$=Vj.exports;function F$(){return L$.useSyncExternalStore(U$,()=>!0,()=>!1)}function U$(){return()=>{}}var Cv="Avatar",[z$,m8]=Vt(Cv),[B$,Hj]=z$(Cv),Kj=d.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=d.useState("idle");return a.jsx(B$,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(pe.span,{...r,ref:t})})});Kj.displayName=Cv;var Gj="AvatarImage",qj=d.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=Hj(Gj,n),l=V$(r,o),c=lt(u=>{s(u),i.onImageLoadingStatusChange(u)});return ct(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(pe.img,{...o,ref:t,src:r}):null});qj.displayName=Gj;var Yj="AvatarFallback",Qj=d.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=Hj(Yj,n),[i,l]=d.useState(r===void 0);return d.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(pe.span,{...s,ref:t}):null});Qj.displayName=Yj;function Qw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function V$(e,{referrerPolicy:t,crossOrigin:n}){const r=F$(),s=d.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=d.useState(()=>Qw(o,e));return ct(()=>{l(Qw(o,e))},[o,e]),ct(()=>{const c=f=>()=>{l(f)};if(!o)return;const u=c("loaded"),h=c("error");return o.addEventListener("load",u),o.addEventListener("error",h),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",h)}},[o,n,t]),i}var Jj=Kj,Xj=qj,Zj=Qj;const _v=d.forwardRef(({className:e,...t},n)=>a.jsx(Jj,{ref:n,className:Q("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));_v.displayName=Jj.displayName;const eC=d.forwardRef(({className:e,...t},n)=>a.jsx(Xj,{ref:n,className:Q("aspect-square h-full w-full",e),...t}));eC.displayName=Xj.displayName;const Ev=d.forwardRef(({className:e,...t},n)=>a.jsx(Zj,{ref:n,className:Q("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ev.displayName=Zj.displayName;function W$({children:e}){var i;const{user:t}=Hn(),[n,r]=d.useState(null);d.useEffect(()=>{t&&ze.from("profiles").select("full_name, avatar_url").eq("id",t.id).maybeSingle().then(({data:l})=>r(l))},[t]);const s=(n==null?void 0:n.full_name)||((i=t==null?void 0:t.email)==null?void 0:i.split("@")[0])||"User",o=s.slice(0,2).toUpperCase();return a.jsx(Oj,{children:a.jsxs("div",{className:"flex min-h-screen w-full",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(_$,{})}),a.jsxs(Mj,{className:"flex flex-1 flex-col",children:[a.jsxs("header",{className:"sticky top-0 z-40 flex h-14 items-center gap-4 border-b border-border/50 bg-background/80 px-4 backdrop-blur-xl md:h-16 md:px-6",children:[a.jsx(Dj,{className:"hidden md:flex"}),a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-foreground hidden sm:block",children:s}),a.jsxs(_v,{className:"h-8 w-8",children:[a.jsx(eC,{src:(n==null?void 0:n.avatar_url)||void 0,alt:s}),a.jsx(Ev,{className:"bg-primary/10 text-primary text-xs",children:o})]})]})]}),a.jsx("main",{className:"flex-1 overflow-auto pb-20 md:pb-0",children:e})]}),a.jsx(k$,{})]})})}const kd=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Q("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));kd.displayName="Card";const Em=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Q("flex flex-col space-y-1.5 p-6",e),...t}));Em.displayName="CardHeader";const km=d.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:Q("text-2xl font-semibold leading-none tracking-tight",e),...t}));km.displayName="CardTitle";const tC=d.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));tC.displayName="CardDescription";const Td=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Q("p-6 pt-0",e),...t}));Td.displayName="CardContent";const nC=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Q("flex items-center p-6 pt-0",e),...t}));nC.displayName="CardFooter";var kv="Progress",Tv=100,[H$,g8]=Vt(kv),[K$,G$]=H$(kv),rC=d.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=q$,...i}=e;(s||s===0)&&!Jw(s)&&console.error(Y$(`${s}`,"Progress"));const l=Jw(s)?s:Tv;r!==null&&!Xw(r,l)&&console.error(Q$(`${r}`,"Progress"));const c=Xw(r,l)?r:null,u=Pd(c)?o(c,l):void 0;return a.jsx(K$,{scope:n,value:c,max:l,children:a.jsx(pe.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Pd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":aC(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});rC.displayName=kv;var sC="ProgressIndicator",oC=d.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=G$(sC,n);return a.jsx(pe.div,{"data-state":aC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});oC.displayName=sC;function q$(e,t){return`${Math.round(e/t*100)}%`}function aC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Pd(e){return typeof e=="number"}function Jw(e){return Pd(e)&&!isNaN(e)&&e>0}function Xw(e,t){return Pd(e)&&!isNaN(e)&&e<=t&&e>=0}function Y$(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Tv}\`.`}function Q$(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Tv} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var iC=rC,J$=oC;const Pv=d.forwardRef(({className:e,value:t,...n},r)=>a.jsx(iC,{ref:r,className:Q("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:a.jsx(J$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Pv.displayName=iC.displayName;const tl=[{id:1,title:"Welcome to ScriptLab!",description:"Your AI-powered content creation studio. Let's take a quick tour of the key features that will help you create viral content.",icon:It,color:"text-primary",tips:["Create scripts based on proven viral formulas","Extract DNA from successful videos","Build personas for your target audience"]},{id:2,title:"DNA Extraction",description:"Extract the viral DNA from any YouTube video. Our AI analyzes successful content to identify patterns, hooks, pacing, and retention tactics.",icon:no,color:"text-purple-500",tips:["Paste any YouTube URL to start extraction","AI analyzes transcript, structure, and engagement","Save DNA templates for future script generation"],action:{label:"Try DNA Extraction",path:"/dna-lab"}},{id:3,title:"Script Generation",description:"Generate viral-ready scripts using your extracted DNA templates. Choose between original ideas or rewriting existing content.",icon:pi,color:"text-blue-500",tips:["Select a DNA template for consistent style","Add viral and flop references for context","Use version history to track changes"],action:{label:"Create Your First Script",path:"/writer"}},{id:4,title:"Audience Personas",description:"Define your target audience with detailed personas. The AI uses these to tailor content for maximum engagement.",icon:wc,color:"text-green-500",tips:["Create personas with demographics and preferences","Define pain points and knowledge level","Apply personas to scripts for targeted content"],action:{label:"Create a Persona",path:"/personas"}},{id:5,title:"Pro Tips",description:"Here are some tips to get the most out of ScriptLab and create content that resonates with your audience.",icon:Bg,color:"text-yellow-500",tips:["Add both viral AND flop references for balanced AI learning","Use the score feature to evaluate script quality","Organize scripts into folders for better management","Check version history to restore previous drafts"]}];function X$({onComplete:e,onSkip:t}){const[n,r]=d.useState(0),s=tl[n],o=(n+1)/tl.length*100,i=n===tl.length-1,l=()=>{i?e():r(u=>u+1)},c=()=>{r(u=>Math.max(0,u-1))};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm p-4",children:a.jsx(kd,{className:"w-full max-w-lg border-border/50 shadow-2xl",children:a.jsxs(Td,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 ${s.color}`,children:a.jsx(s.icon,{className:"h-5 w-5"})}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",n+1," of ",tl.length]})]}),a.jsx($,{variant:"ghost",size:"icon",onClick:t,children:a.jsx(ro,{className:"h-4 w-4"})})]}),a.jsx(Pv,{value:o,className:"mb-6 h-1"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:s.title}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s.description}),a.jsx("ul",{className:"space-y-2",children:s.tips.map((u,h)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Pi,{className:"h-4 w-4 text-primary mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm",children:u})]},h))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs($,{variant:"ghost",onClick:c,disabled:n===0,children:[a.jsx(uR,{className:"h-4 w-4 mr-1"}),"Previous"]}),a.jsx("div",{className:"flex gap-1",children:tl.map((u,h)=>a.jsx("button",{className:`h-2 w-2 rounded-full transition-colors ${h===n?"bg-primary":h<n?"bg-primary/50":"bg-muted"}`,onClick:()=>r(h)},h))}),a.jsxs($,{onClick:l,children:[i?"Get Started":"Next",!i&&a.jsx(Kr,{className:"h-4 w-4 ml-1"})]})]})]})})})}function Z$(){const{user:e}=Hn(),[t,n]=d.useState(!1),[r,s]=d.useState(!0);d.useEffect(()=>{if(!e){s(!1);return}(async()=>{const{data:u}=await ze.from("profiles").select("created_at").eq("id",e.id).maybeSingle();if(u){const h=`onboarding_completed_${e.id}`;if(!localStorage.getItem(h)){const m=new Date(u.created_at);(new Date().getTime()-m.getTime())/(1e3*60)<5&&n(!0)}}s(!1)})()},[e]);const o=()=>{e&&localStorage.setItem(`onboarding_completed_${e.id}`,"true"),n(!1)};return{showOnboarding:t,loading:r,completeOnboarding:o,skipOnboarding:()=>{o()},resetOnboarding:()=>{e&&(localStorage.removeItem(`onboarding_completed_${e.id}`),n(!0))}}}const ve=d.forwardRef(({className:e,variant:t="default",...n},r)=>a.jsx("div",{ref:r,className:Q("rounded-2xl border border-border/50 bg-card/80 backdrop-blur-sm transition-all duration-300 overflow-hidden",t==="default"&&"shadow-sm hover:shadow-md",t==="elevated"&&"shadow-md hover:shadow-lg hover:-translate-y-0.5",t==="subtle"&&"bg-card/50",e),...n}));ve.displayName="GlassCard";const fn=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Q("flex flex-col space-y-1.5 p-6",e),...t}));fn.displayName="GlassCardHeader";const Sn=d.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:Q("text-lg font-semibold leading-none tracking-tight",e),...t}));Sn.displayName="GlassCardTitle";const Gs=d.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));Gs.displayName="GlassCardDescription";const ye=d.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Q("p-6 pt-0",e),...t}));ye.displayName="GlassCardContent";function Zw({title:e,value:t,icon:n,iconColor:r="text-primary"}){return a.jsx(ve,{className:"h-full",children:a.jsxs(ye,{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-lg bg-muted/50 p-2",children:a.jsx(n,{className:`h-4 w-4 ${r}`})}),a.jsx("span",{className:"text-sm text-muted-foreground",children:e})]}),a.jsx("span",{className:"text-2xl font-bold",children:t})]})})}const eL=Ti("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tt({className:e,variant:t,...n}){return a.jsx("div",{className:Q(eL({variant:t}),e),...n})}function gr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ho(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const lC=6048e5,tL=864e5;let nL={};function Ch(){return nL}function rc(e,t){var l,c,u,h;const n=Ch(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,s=gr(e),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Rd(e){return rc(e,{weekStartsOn:1})}function cC(e){const t=gr(e),n=t.getFullYear(),r=Ho(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Rd(r),o=Ho(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=Rd(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function e0(e){const t=gr(e);return t.setHours(0,0,0,0),t}function t0(e){const t=gr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function rL(e,t){const n=e0(e),r=e0(t),s=+n-t0(n),o=+r-t0(r);return Math.round((s-o)/tL)}function sL(e){const t=cC(e),n=Ho(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Rd(n)}function oL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aL(e){if(!oL(e)&&typeof e!="number")return!1;const t=gr(e);return!isNaN(Number(t))}function iL(e){const t=gr(e),n=Ho(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const lL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},cL=(e,t,n)=>{let r;const s=lL[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function zf(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const uL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fL={date:zf({formats:uL,defaultWidth:"full"}),time:zf({formats:dL,defaultWidth:"full"}),dateTime:zf({formats:hL,defaultWidth:"full"})},pL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mL=(e,t,n,r)=>pL[e];function nl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const gL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},xL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SL=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},NL={ordinalNumber:SL,era:nl({values:gL,defaultWidth:"wide"}),quarter:nl({values:vL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nl({values:yL,defaultWidth:"wide"}),day:nl({values:xL,defaultWidth:"wide"}),dayPeriod:nl({values:wL,defaultWidth:"wide",formattingValues:bL,defaultFormattingWidth:"wide"})};function rl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?CL(l,f=>f.test(i)):jL(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(i.length);return{value:u,rest:h}}}function jL(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function CL(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function _L(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const EL=/^(\d+)(th|st|nd|rd)?/i,kL=/\d+/i,TL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},PL={any:[/^b/i,/^(a|c)/i]},RL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AL={any:[/1/i,/2/i,/3/i,/4/i]},OL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},IL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ML={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$L={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},LL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},FL={ordinalNumber:_L({matchPattern:EL,parsePattern:kL,valueCallback:e=>parseInt(e,10)}),era:rl({matchPatterns:TL,defaultMatchWidth:"wide",parsePatterns:PL,defaultParseWidth:"any"}),quarter:rl({matchPatterns:RL,defaultMatchWidth:"wide",parsePatterns:AL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rl({matchPatterns:OL,defaultMatchWidth:"wide",parsePatterns:IL,defaultParseWidth:"any"}),day:rl({matchPatterns:DL,defaultMatchWidth:"wide",parsePatterns:ML,defaultParseWidth:"any"}),dayPeriod:rl({matchPatterns:$L,defaultMatchWidth:"any",parsePatterns:LL,defaultParseWidth:"any"})},UL={code:"en-US",formatDistance:cL,formatLong:fL,formatRelative:mL,localize:NL,match:FL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zL(e){const t=gr(e);return rL(t,iL(t))+1}function BL(e){const t=gr(e),n=+Rd(t)-+sL(t);return Math.round(n/lC)+1}function uC(e,t){var h,f,m,g;const n=gr(e),r=n.getFullYear(),s=Ch(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(m=s.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??1,i=Ho(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=rc(i,t),c=Ho(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=rc(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function VL(e,t){var l,c,u,h;const n=Ch(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(u=n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,s=uC(e,t),o=Ho(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),rc(o,t)}function WL(e,t){const n=gr(e),r=+rc(n,t)-+VL(n,t);return Math.round(r/lC)+1}function Ge(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ms={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ge(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ge(n+1,2)},d(e,t){return Ge(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ge(e.getHours()%12||12,t.length)},H(e,t){return Ge(e.getHours(),t.length)},m(e,t){return Ge(e.getMinutes(),t.length)},s(e,t){return Ge(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ge(s,t.length)}},ga={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n0={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return ms.y(e,t)},Y:function(e,t,n,r){const s=uC(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Ge(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ge(o,t.length)},R:function(e,t){const n=cC(e);return Ge(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ge(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ge(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ge(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ms.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ge(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=WL(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ge(s,t.length)},I:function(e,t,n){const r=BL(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ge(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ms.d(e,t)},D:function(e,t,n){const r=zL(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ge(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ge(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ge(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ge(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=ga.noon:r===0?s=ga.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=ga.evening:r>=12?s=ga.afternoon:r>=4?s=ga.morning:s=ga.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ms.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ms.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ge(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ms.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ms.s(e,t)},S:function(e,t){return ms.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return s0(r);case"XXXX":case"XX":return vo(r);case"XXXXX":case"XXX":default:return vo(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return s0(r);case"xxxx":case"xx":return vo(r);case"xxxxx":case"xxx":default:return vo(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+r0(r,":");case"OOOO":default:return"GMT"+vo(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+r0(r,":");case"zzzz":default:return"GMT"+vo(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ge(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ge(r,t.length)}};function r0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+Ge(o,2)}function s0(e,t){return e%60===0?(e>0?"-":"+")+Ge(Math.abs(e)/60,2):vo(e,t)}function vo(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ge(Math.trunc(r/60),2),o=Ge(r%60,2);return n+s+t+o}const o0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},dC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},HL=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return o0(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",o0(r,t)).replace("{{time}}",dC(s,t))},KL={p:dC,P:HL},GL=/^D+$/,qL=/^Y+$/,YL=["D","DD","YY","YYYY"];function QL(e){return GL.test(e)}function JL(e){return qL.test(e)}function XL(e,t,n){const r=ZL(e,t,n);if(console.warn(r),YL.includes(e))throw new RangeError(r)}function ZL(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nF=/^'([^]*?)'?$/,rF=/''/g,sF=/[a-zA-Z]/;function hC(e,t,n){var h,f,m,g;const r=Ch(),s=r.locale??UL,o=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,i=r.weekStartsOn??((g=(m=r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??0,l=gr(e);if(!aL(l))throw new RangeError("Invalid time value");let c=t.match(tF).map(b=>{const p=b[0];if(p==="p"||p==="P"){const x=KL[p];return x(b,s.formatLong)}return b}).join("").match(eF).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const p=b[0];if(p==="'")return{isToken:!1,value:oF(b)};if(n0[p])return{isToken:!0,value:b};if(p.match(sF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const p=b.value;(JL(p)||QL(p))&&XL(p,t,String(e));const x=n0[p[0]];return x(l,p,s.localize,u)}).join("")}function oF(e){const t=e.match(nF);return t?t[1].replace(rF,"'"):e}function aF({title:e,subtitle:t,status:n="draft",mode:r,date:s,language:o="English",onClick:i}){const l=n==="done";return a.jsx(ve,{variant:"elevated",className:"cursor-pointer transition-all hover:border-primary/50 h-[140px]",onClick:i,children:a.jsxs(ye,{className:"p-4 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tt,{variant:"outline",className:`text-xs uppercase ${l?"bg-green-500/10 text-green-600 border-green-500/30":"bg-muted text-muted-foreground"}`,children:n}),r&&a.jsx(Tt,{variant:"secondary",className:"text-xs gap-1",children:r==="new-idea"?a.jsxs(a.Fragment,{children:[a.jsx(Bg,{className:"h-3 w-3"}),"Idea"]}):r==="rewrite"?a.jsxs(a.Fragment,{children:[a.jsx(Vr,{className:"h-3 w-3"}),"Rewrite"]}):null})]}),a.jsxs("div",{className:"flex-1 mt-2 space-y-1 min-h-0",children:[a.jsx("h3",{className:"font-semibold line-clamp-1",children:e}),t&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:hC(new Date(s),"dd/MM/yyyy")}),a.jsx("span",{className:"uppercase",children:o})]})]})})}function iF({title:e,description:t,icon:n,to:r,gradient:s}){return a.jsx(Ql,{to:r,className:"group block",children:a.jsx(ve,{variant:"elevated",className:"overflow-hidden",children:a.jsx(ye,{className:"p-0",children:a.jsxs("div",{className:`p-6 ${s||"bg-gradient-to-br from-primary/5 to-primary/10"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"rounded-xl bg-card/80 p-3 shadow-sm backdrop-blur-sm",children:a.jsx(n,{className:"h-6 w-6 text-primary"})}),a.jsx(Fg,{className:"h-5 w-5 text-muted-foreground opacity-0 transition-all duration-300 group-hover:translate-x-1 group-hover:opacity-100"})]}),a.jsxs("div",{className:"mt-4 space-y-1",children:[a.jsx("h3",{className:"font-semibold",children:e}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})]})})})})}function Tc(){const[e,t]=d.useState(null),[n,r]=d.useState(!0),{user:s}=Hn(),{toast:o}=An(),i=d.useCallback(async()=>{if(!s){t(null),r(!1);return}try{const{data:c,error:u}=await ze.from("user_settings").select("*").eq("user_id",s.id).maybeSingle();if(u)throw u;t(c)}catch(c){console.error("Error fetching settings:",c)}finally{r(!1)}},[s]);return d.useEffect(()=>{i()},[i]),{settings:e,loading:n,saveSettings:async c=>{if(!s)return null;try{if(e){const{data:u,error:h}=await ze.from("user_settings").update(c).eq("id",e.id).select().single();if(h)throw h;return t(u),o({title:"Success",description:"Settings saved successfully"}),u}else{const{data:u,error:h}=await ze.from("user_settings").insert({...c,user_id:s.id}).select().single();if(h)throw h;return t(u),o({title:"Success",description:"Settings saved successfully"}),u}}catch(u){return console.error("Error saving settings:",u),o({title:"Error",description:"Failed to save settings",variant:"destructive"}),null}},refetch:i}}const Kn=async(e,t,n="google/gemini-3-flash-preview")=>{var r,s,o,i;if(!t)throw new Error("OpenRouter API Key not configured. Please enter your key in Settings.");try{const l=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:n,messages:e})});if(!l.ok){const f=((r=(await l.json().catch(()=>({}))).error)==null?void 0:r.message)||`HTTP ${l.status}`;throw l.status===429?new Error("Rate limit exceeded. Please try again later."):l.status===401||l.status===402?new Error("Invalid OpenRouter API Key or out of credits."):new Error(`OpenRouter error: ${f}`)}const u=(i=(o=(s=(await l.json()).choices)==null?void 0:s[0])==null?void 0:o.message)==null?void 0:i.content;if(!u)throw new Error("No response received from AI");return u}catch(l){throw console.error("OpenRouter Error:",l),new Error(l.message||"Could not connect to OpenRouter")}},so=e=>{let t=e.replace(/^```json\s*/,"").replace(/^```\s*/,"").replace(/\s*```$/,"");try{return JSON.parse(t)}catch{const r=t.match(/(\{[\s\S]*\}|\[[\s\S]*\])/);if(!r)throw console.error("Failed to extract JSON from:",e),new Error("Could not parse JSON from response");try{return JSON.parse(r[0])}catch(s){throw console.error("JSON Parse Error:",s,"Extracted:",r[0]),new Error("Extracted text was not valid JSON")}}},lF=`You are an expert viral content strategist. Create a script outline that follows the provided DNA structure EXACTLY.

CRITICAL: 
- The number of sections in the outline MUST match the DNA skeleton exactly.
- Each section title and word count should match the DNA skeleton.
- Do NOT add separate "Hook" or "CTA" sections - the DNA already defines where hooks and CTAs should be.

Respond in JSON format:
{
  "sections": [
    {
      "title": "Section name from DNA",
      "wordCount": 0,
      "content": "What to cover in this section",
      "notes": "Optional notes"
    }
  ],
  "totalWordCount": 0
}`,cF=`You are an expert viral content scriptwriter. Your job is to create compelling, engaging, and HIGH-QUALITY scripts.

Based on the provided outline, write a COMPLETE script.
Rules:
1. Follow the outline structure exactly - each section in outline = one section in script.
2. Content must be DETAILED, insightful, and valuable (not generic or superficial).
3. Use a natural, conversational, and engaging tone appropriate for the audience.
4. Focus PURELY on the spoken voiceover (DO NOT include [VISUAL] cues or scene descriptions).
5. SEPARATE sections strictly with the delimiter: |||SECTION|||

 TTS-OPTIMIZED OUTPUT (CRITICAL):
- NO markdown symbols: no *, #, **, _, ~, \`, etc.
- NO section titles or headers in the output
- NO film/video directions: no [B-roll], [Cut to], [VISUAL], (pause), etc.
- NO parenthetical notes or brackets of any kind
- ONLY clean, speakable text that can be read aloud naturally
- Write as if you are speaking directly to the audience

Format:
[Section 1 Content - clean text only]
|||SECTION|||
[Section 2 Content - clean text only]
|||SECTION|||
[Section 3 Content - clean text only]
...
(One section for each outline section)`,uF=`You are an expert content analyst. Score this script on viral potential.

Evaluate and score (0-100) these aspects:
1. Hook strength (first 3 seconds)
2. Structure and flow
3. Engagement and retention tactics
4. Clarity and messaging
5. Call-to-action effectiveness

Respond in JSON:
{
  "score": overall_score_0_to_100,
  "breakdown": {
    "hook": 0-100,
    "structure": 0-100,
    "engagement": 0-100,
    "clarity": 0-100,
    "callToAction": 0-100
  },
  "strengths": ["strength 1", "strength 2"],
  "improvements": ["improvement 1", "improvement 2"],
  "suggestions": ["actionable suggestion 1", "actionable suggestion 2"]
}`,dF=async(e,t,n="google/gemini-3-flash-preview")=>{var l,c,u,h,f,m;if(!t)throw new Error("OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.");if(!e.topic)throw new Error("Topic l bt buc");let r=lF;if(e.targetWordCount&&(r+=`

TARGET TOTAL WORD COUNT: ${e.targetWordCount}`,r+=`
INSTRUCTION: Scale the section word counts so they sum up to approximately ${e.targetWordCount}.`),e.language&&e.language!=="en"){const b={vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[e.language]||"English";r+=`

IMPORTANT: Write the output in ${b}. Keep the JSON keys in English, but the content values must be in the specified language.`}if(e.persona?r+=`

TARGET AUDIENCE (PRIMARY - Your defined persona):
- Name: ${e.persona.name}
- Age Range: ${e.persona.age_range||"Not specified"}
- Knowledge Level: ${e.persona.knowledge_level||"intermediate"}
- Pain Points: ${((l=e.persona.pain_points)==null?void 0:l.join(", "))||"Not specified"}
- Preferred Tone: ${e.persona.preferred_tone||"casual"}
- Vocabulary: ${e.persona.vocabulary||"conversational"}
- Objections to Address: ${((c=e.persona.objections)==null?void 0:c.join(", "))||"Not specified"}`:(h=(u=e.dna)==null?void 0:u.analysis_data)!=null&&h.audiencePsychology&&(r+=`

TARGET AUDIENCE (Inferred from source DNA):
${e.dna.analysis_data.audiencePsychology}`),e.dna){const g=(f=e.dna.analysis_data)==null?void 0:f.structuralSkeleton,b=e.dna.structure;r+=`

CONTENT DNA PATTERNS (The "Winning Formula"):
- Hook Type: ${e.dna.hook_type||"Not specified"}
- Tone: ${e.dna.tone||"engaging"}
- Retention Tactics: ${((m=e.dna.retention_tactics)==null?void 0:m.join(", "))||"Not specified"}`,g&&g.length>0?r+=`

REQUIRED STRUCTURE (Follow this EXACTLY unless innovation is allowed):
${g.map((p,x)=>`${x+1}. ${p.title} (Target: ~${p.wordCount} words) ${p.contentFocus?`[Focus: ${p.contentFocus}]`:""} ${p.pacing?`[Pacing: ${p.pacing}]`:""}`).join(`
`)}`:b&&b.length>0&&(r+=`

REQUIRED STRUCTURE:
${b.join("  ")}`),e.allowStructureInnovation?r+=`

INNOVATION ALLOWED: You may deviate from the DNA structure by 15-25% to add novelty or better fit the topic. You can merge sections or add new relevant ones, but keep the core "DNA" feeling.`:r+=`

STRICT ADHERENCE REQUIRED: You MUST follow the provided DNA structure/sections EXACTLY. Do not add or remove sections. Match the outline to the DNA steps 1-to-1.`,e.dna.hook_examples&&e.dna.hook_examples.length>0&&(r+=`

 HOOK EXAMPLES (CRITICAL - Study the PATTERN, do NOT copy exact wording):
${e.dna.hook_examples.map((p,x)=>`${x+1}. "${p}"`).join(`
`)}

INSTRUCTION: Analyze the psychological triggers and structural patterns in these hooks. Then create an ENTIRELY ORIGINAL hook using the same psychological strategy but DIFFERENT words and examples. Copying any phrase verbatim is STRICTLY PROHIBITED.`)}let s=`Create an outline for a script about: ${e.topic}`;e.keyPoints&&(s+=`

Key points to cover:
${e.keyPoints}`),e.uniqueAngle&&(s+=`

Unique angle/hook:
${e.uniqueAngle}`);const i=await Kn([{role:"system",content:r},{role:"user",content:s}],t,n);return so(i)},hF=async(e,t,n,r="google/gemini-3-flash-preview")=>{var l,c,u,h,f,m,g,b,p;if(!n)throw new Error("API Key ERROR. PLEASE CONTACT ADMIN.");let s=cF;if(t.language&&t.language!=="en"){const y={vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[t.language]||"English";s+=`

IMPORTANT: Write the script in ${y}.`}t.persona?s+=`

TARGET AUDIENCE (PRIMARY - Your defined persona):
- Name: ${t.persona.name}
- Age Range: ${t.persona.age_range||"Not specified"}
- Knowledge Level: ${t.persona.knowledge_level||"intermediate"}
- Pain Points: ${((l=t.persona.pain_points)==null?void 0:l.join(", "))||"Not specified"}
- Preferred Tone: ${t.persona.preferred_tone||"casual"}
- Vocabulary: ${t.persona.vocabulary||"conversational"}
- Objections to Address: ${((c=t.persona.objections)==null?void 0:c.join(", "))||"Not specified"}`:(h=(u=t.dna)==null?void 0:u.analysis_data)!=null&&h.audiencePsychology&&(s+=`

TARGET AUDIENCE (Inferred from source DNA):
${t.dna.analysis_data.audiencePsychology}`),t.dna&&(s+=`

CONTENT DNA PATTERNS:
- Hook Type: ${t.dna.hook_type||"Not specified"}
- Structure: ${((f=t.dna.structure)==null?void 0:f.join("  "))||"Not specified"}
- Pacing: ${t.dna.pacing||"medium"}
- Retention Tactics: ${((m=t.dna.retention_tactics)==null?void 0:m.join(", "))||"Not specified"}
- Tone: ${((b=(g=t.dna.analysis_data)==null?void 0:g.linguisticFingerprint)==null?void 0:b.toneAnalysis)||t.dna.tone||"engaging"}
- Patterns: ${((p=t.dna.patterns)==null?void 0:p.join(", "))||"Not specified"}`,t.dna.hook_examples&&t.dna.hook_examples.length>0&&(s+=`

 HOOK EXAMPLES (CRITICAL - Study the PATTERN, do NOT copy exact wording):
${t.dna.hook_examples.map((x,y)=>`${y+1}. "${x}"`).join(`
`)}

INSTRUCTION: Analyze the psychological triggers. Create an ENTIRELY ORIGINAL hook using the same strategy but DIFFERENT words. Copying any phrase verbatim is STRICTLY PROHIBITED.`));const o=`
OUTLINE TO FOLLOW (${e.sections.length} sections):

${e.sections.map((x,y)=>`${y+1}. ${x.title} (Target: ${x.wordCount} words)
   Content: ${x.content}
   ${x.notes?`Notes: ${x.notes}`:""}`).join(`

`)}

Total Target Words: ${e.totalWordCount}
`,i=[{role:"system",content:s},{role:"user",content:`Write a complete script following this outline:
${o}`}];return await Kn(i,n,r)},fF=async(e,t,n="google/gemini-3-flash-preview")=>{var i,l,c,u;if(!t)throw new Error("OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.");if(!e.topic)throw new Error("Topic l bt buc");let r=`You are an expert viral content scriptwriter. Your job is to create compelling, engaging scripts that capture attention and drive engagement.

Based on the provided inputs, write a complete script that:
1. Opens with a powerful hook that grabs attention in the first 3 seconds
2. Uses proven viral patterns and retention tactics
3. Maintains engagement throughout with pattern interrupts
4. Ends with a clear call-to-action

Write the script in a natural, conversational tone. Include [VISUAL] cues where relevant.`;if(e.language&&e.language!=="en"){const f={vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[e.language]||"English";r+=`

IMPORTANT: Write the script in ${f}.`}e.persona&&(r+=`

TARGET AUDIENCE:
- Name: ${e.persona.name}
- Age Range: ${e.persona.age_range||"Not specified"}
- Knowledge Level: ${e.persona.knowledge_level||"intermediate"}
- Pain Points: ${((i=e.persona.pain_points)==null?void 0:i.join(", "))||"Not specified"}
- Preferred Tone: ${e.persona.preferred_tone||"casual"}
- Vocabulary: ${e.persona.vocabulary||"conversational"}`),e.dna&&(r+=`

CONTENT DNA PATTERNS:
- Hook Type: ${e.dna.hook_type||"Not specified"}
- Structure: ${((l=e.dna.structure)==null?void 0:l.join("  "))||"Not specified"}
- Pacing: ${e.dna.pacing||"medium"}
- Retention Tactics: ${((c=e.dna.retention_tactics)==null?void 0:c.join(", "))||"Not specified"}
- Tone: ${e.dna.tone||"engaging"}
- Patterns: ${((u=e.dna.patterns)==null?void 0:u.join(", "))||"Not specified"}`),e.customPrompt&&(r+=`

ADDITIONAL INSTRUCTIONS:
${e.customPrompt}`);let s=`Write a script about: ${e.topic}`;return e.keyPoints&&(s+=`

Key points to cover:
${e.keyPoints}`),e.uniqueAngle&&(s+=`

Unique angle/hook:
${e.uniqueAngle}`),await Kn([{role:"system",content:r},{role:"user",content:s}],t,n)},pF=async(e,t,n="google/gemini-3-flash-preview",r,s)=>{var c;if(!t)throw new Error("OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.");if(!e)throw new Error("Script l bt buc");let o=uF;r&&(o+=`

Evaluate against these DNA patterns:
- Hook Type: ${r.hook_type||"Not specified"}
- Structure: ${((c=r.structure)==null?void 0:c.join("  "))||"Not specified"}
- Tone: ${r.tone||"engaging"}`),s&&(o+=`

Target audience:
- Name: ${s.name}
- Knowledge Level: ${s.knowledge_level||"intermediate"}`);const i=[{role:"system",content:o},{role:"user",content:`Score this script:

${e}`}],l=await Kn(i,t,n);return so(l)},mF=(e,t)=>{const n=e.reduce((l,c)=>l+c.wordCount,0);if(n===0||t<=0)return e;const r=t/n,s=e.map(l=>({...l,wordCount:Math.round(l.wordCount*r)})),o=s.reduce((l,c)=>l+c.wordCount,0),i=t-o;return s.length>0&&i!==0&&(s[s.length-1].wordCount+=i),s},gF=(e,t=500)=>{const n=e.trim().split(/\s+/).filter(Boolean);return n.length<=t?e:n.slice(-t).join(" ")},vF=async(e,t,n,r="google/gemini-3-flash-preview",s)=>{var m,g;if(!n)throw new Error("OpenRouter API Key cha c cu hnh.");let o=e.sections;t.targetWordCount&&t.targetWordCount>0&&(o=mF(o,t.targetWordCount));const i=2,l=[];let c="";const u=[];for(let b=0;b<o.length;b+=i)u.push(o.slice(b,b+i));const h=o.length;let f=0;for(let b=0;b<u.length;b++){const p=u[b],x=p.reduce((j,C)=>j+C.wordCount,0);f+=p.length;const y=p.map(j=>j.title).join(" & ");s==null||s(f,h,`Writing "${y}"...`);let v=`You are an expert viral content scriptwriter. Write the following ${p.length} section(s) in one continuous, seamless flow.

RULES:
1. Write ONLY spoken voiceover content (no visual cues, no markdown).
2. Create natural transitions between sections without forced phrases.
3. Be DETAILED, insightful, and valuable - not generic.

 STRICT WORD COUNT (CRITICAL):
- TOTAL for this chunk: EXACTLY ${x} words
- Tolerance: 5% ONLY (${Math.floor(x*.95)}-${Math.ceil(x*1.05)} words)
- Count your words before finalizing
- Going significantly over or under is NOT acceptable

 TTS-OPTIMIZED OUTPUT (CRITICAL):
- NO markdown symbols: no *, #, **, _, ~, \`, etc.
- NO section titles or headers in the output
- NO film/video directions: no [B-roll], [Cut to], [VISUAL], (pause), etc.
- NO parenthetical notes or brackets of any kind
- ONLY clean, speakable text that can be read aloud naturally`;t.language&&t.language!=="en"&&(v+=`

IMPORTANT: Write in ${{vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[t.language]||"English"}.`),t.dna&&(v+=`

CONTENT DNA:
- Tone: ${((g=(m=t.dna.analysis_data)==null?void 0:m.linguisticFingerprint)==null?void 0:g.toneAnalysis)||t.dna.tone||"engaging"}
- Pacing: ${t.dna.pacing||"medium"}`),t.persona&&(v+=`

TARGET AUDIENCE:
- Knowledge Level: ${t.persona.knowledge_level||"intermediate"}
- Preferred Tone: ${t.persona.preferred_tone||"casual"}`);let w="";if(c.length>0){const j=gF(c,500);w+=`=== PREVIOUS CONTEXT (last 500 words - maintain flow) ===
${j}

`}w+=`=== SECTIONS TO WRITE ===
`,p.forEach((j,C)=>{w+=`${C+1}. "${j.title}" (~${j.wordCount} words)
`,w+=`   Content: ${j.content}
`,j.notes&&(w+=`   Notes: ${j.notes}
`),w+=`
`}),w+=`TOTAL TARGET: ${x} words

`,p.length>1&&(w+=`OUTPUT FORMAT: Use |||SECTION||| delimiter between sections.

`),w+="Write the content now:";const N=await Kn([{role:"system",content:v},{role:"user",content:w}],n,r);l.push(N),c+=`
`+N}return l.join(`
|||SECTION|||
`)},yF=async(e,t,n,r,s="google/gemini-3-flash-preview")=>{var u;const i=[{role:"user",content:`You are a viral content strategist. Suggest 3 unique angles for creating content about this topic.

TOPIC: ${e}

${t?`DNA STYLE:
- Hook Type: ${t.hook_type||"engaging"}
- Tone: ${t.tone||"conversational"}
- Niche: ${t.niche||"general"}`:""}

${n?`TARGET AUDIENCE:
- Name: ${n.name}
- Knowledge Level: ${n.knowledge_level||"intermediate"}
- Pain Points: ${((u=n.pain_points)==null?void 0:u.join(", "))||"Not specified"}`:""}

Respond in JSON format:
{
  "angles": [
    { "angle": "The unique angle/hook", "reasoning": "Why this angle works" },
    { "angle": "Another angle", "reasoning": "Why this works" },
    { "angle": "Third angle", "reasoning": "Why this works" }
  ]
}`}],l=await Kn(i,r,s);return so(l).angles||[]},xF=async(e,t,n,r,s,o="google/gemini-3-flash-preview")=>{const l=[{role:"user",content:`You are an expert content writer. Rewrite this section while maintaining quality and coherence.

SECTION: "${e}"
${r.targetWordCount?`TARGET WORD COUNT: ~${r.targetWordCount} words`:""}

CURRENT CONTENT:
"""
${t}
"""

${n?`USER INSTRUCTIONS: ${n}`:"Make it more engaging and impactful."}

${r.previousSections&&r.previousSections.length>0?`
PREVIOUS SECTIONS (for context, do not repeat):
${r.previousSections.slice(-2).join(`
---
`)}
`:""}

${r.dna?`STYLE GUIDE:
- Tone: ${r.dna.tone||"engaging"}
- Pacing: ${r.dna.pacing||"medium"}`:""}

${r.persona?`AUDIENCE:
- Knowledge Level: ${r.persona.knowledge_level||"intermediate"}
- Preferred Tone: ${r.persona.preferred_tone||"casual"}`:""}

 TTS-OPTIMIZED OUTPUT (CRITICAL):
- NO markdown symbols: no *, #, **, _, ~, \`, etc.
- NO section titles or headers in the output
- NO film/video directions: no [B-roll], [Cut to], [VISUAL], (pause), etc.
- NO parenthetical notes or brackets of any kind
- ONLY clean, speakable text that can be read aloud naturally

Write ONLY the rewritten section content. No explanations, no formatting, just clean text.`}];return await Kn(l,s,o)},wF=async(e,t,n,r,s="google/gemini-3-flash-preview")=>{const i=[{role:"user",content:`You are an SEO expert for video content. Generate optimized metadata for this script.

SCRIPT CONTENT:
"""
${e.substring(0,2e3)}${e.length>2e3?"...":""}
"""

${t?`CONTENT STYLE: ${t.niche||"general"} - ${t.tone||"engaging"}`:""}
${n?`TARGET AUDIENCE: ${n.name||"General audience"}`:""}

Generate SEO-optimized metadata. Respond in JSON:
{
  "title": "Catchy, SEO-friendly title (50-60 chars)",
  "description": "Compelling description with keywords (150-160 chars)",
  "tags": ["tag1", "tag2", "tag3", "tag4", "tag5"]
}`}],l=await Kn(i,r,s),c=so(l);return{title:c.title||"",description:c.description||"",tags:c.tags||[]}};function fC(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),{user:s}=Hn(),{toast:o}=An(),{settings:i}=Tc(),l=d.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:w,error:S}=await ze.from("scripts").select("*").order("created_at",{ascending:!1});if(S)throw S;const N=(w||[]).map(j=>({...j,outline_history:j.outline_history||[],script_history:j.script_history||[]}));t(N)}catch(w){console.error("Error fetching scripts:",w),o({title:"Error",description:"Failed to fetch scripts",variant:"destructive"})}finally{r(!1)}},[s,o]);return d.useEffect(()=>{l()},[l]),{scripts:e,loading:n,generateOutline:async w=>{const S=i==null?void 0:i.openrouter_api_key;if(!S)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{const N=w.model||"google/gemini-3-flash-preview";return await dF(w,S,N)}catch(N){console.error("Error generating outline:",N);const j=N instanceof Error?N.message:"Failed to generate outline";return o({title:"Error",description:j,variant:"destructive"}),null}},generateScriptFromOutline:async(w,S)=>{const N=i==null?void 0:i.openrouter_api_key;if(!N)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{const j=S.model||"google/gemini-3-flash-preview";return await hF(w,S,N,j)}catch(j){console.error("Error generating script from outline:",j);const C=j instanceof Error?j.message:"Failed to generate script";return o({title:"Error",description:C,variant:"destructive"}),null}},generateScriptSectionBySection:async(w,S,N)=>{const j=i==null?void 0:i.openrouter_api_key;if(!j)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{const C=S.model||"google/gemini-3-flash-preview";return await vF(w,S,j,C,N)}catch(C){console.error("Error generating script section by section:",C);const _=C instanceof Error?C.message:"Failed to generate script";return o({title:"Error",description:_,variant:"destructive"}),null}},generateScript:async w=>{const S=i==null?void 0:i.openrouter_api_key;if(!S)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await fF(w,S,"google/gemini-3-flash-preview")}catch(N){console.error("Error generating script:",N);const j=N instanceof Error?N.message:"Failed to generate script";return o({title:"Error",description:j,variant:"destructive"}),null}},scoreScript:async(w,S,N)=>{const j=i==null?void 0:i.openrouter_api_key;if(!j)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await pF(w,j,"google/gemini-3-flash-preview",S,N)}catch(C){console.error("Error scoring script:",C);const _=C instanceof Error?C.message:"Failed to score script";return o({title:"Error",description:_,variant:"destructive"}),null}},createScript:async w=>{if(!s)return null;try{const S={title:w.title||"New Script",user_id:s.id,topic:w.topic,key_points:w.key_points,unique_angle:w.unique_angle,generation_mode:w.generation_mode,persona_id:w.persona_id,dna_id:w.dna_id,blueprint_id:w.blueprint_id,blueprint_content:w.blueprint_content,full_script:w.full_script,score:w.score,score_breakdown:w.score_breakdown,status:w.status},{data:N,error:j}=await ze.from("scripts").insert(S).select().single();if(j)throw j;const C={...N,outline_history:N.outline_history||[],script_history:N.script_history||[]};return t(_=>[C,..._]),o({title:"Success",description:"Script saved successfully"}),C}catch(S){return console.error("Error creating script:",S),o({title:"Error",description:"Failed to save script",variant:"destructive"}),null}},updateScript:async(w,S)=>{try{const N={...S,outline_history:S.outline_history?S.outline_history:void 0,script_history:S.script_history?S.script_history:void 0},{data:j,error:C}=await ze.from("scripts").update(N).eq("id",w).select().single();if(C)throw C;const _={...j,outline_history:j.outline_history||[],script_history:j.script_history||[]};return t(T=>T.map(A=>A.id===w?_:A)),o({title:"Success",description:"Script updated successfully"}),_}catch(N){return console.error("Error updating script:",N),o({title:"Error",description:"Failed to update script",variant:"destructive"}),null}},deleteScript:async w=>{try{const{error:S}=await ze.from("scripts").delete().eq("id",w);if(S)throw S;return t(N=>N.filter(j=>j.id!==w)),o({title:"Success",description:"Script deleted successfully"}),!0}catch(S){return console.error("Error deleting script:",S),o({title:"Error",description:"Failed to delete script",variant:"destructive"}),!1}},refetch:l,suggestUniqueAngle:async(w,S,N,j)=>{const C=i==null?void 0:i.openrouter_api_key;if(!C)return o({title:"Error",description:"API Key not configured.",variant:"destructive"}),[];try{return await yF(w,S,N,C,j)}catch(_){return console.error("Error suggesting angles:",_),o({title:"Error",description:"Failed to suggest angles",variant:"destructive"}),[]}},rewriteSection:async(w,S,N,j,C)=>{const _=i==null?void 0:i.openrouter_api_key;if(!_)return o({title:"Error",description:"API Key not configured.",variant:"destructive"}),null;try{return await xF(w,S,N,j,_,C)}catch(T){return console.error("Error rewriting section:",T),o({title:"Error",description:"Failed to rewrite section",variant:"destructive"}),null}},generateSEO:async(w,S,N,j)=>{const C=i==null?void 0:i.openrouter_api_key;if(!C)return o({title:"Error",description:"API Key not configured.",variant:"destructive"}),null;try{return await wF(w,S,N,C,j)}catch(_){return console.error("Error generating SEO:",_),o({title:"Error",description:"Failed to generate SEO",variant:"destructive"}),null}}}}const bF="modulepreload",SF=function(e){return"/"+e},a0={},NF=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=SF(c),c in a0)return;a0[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":bF,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,g)=>{f.addEventListener("load",m),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},jF=`You are an expert viral content DNA analyst using the "LOG" (Law of Gravity) methodology. 

Your Logic:
1.  **Analyze Viral Content**: Identify what consistently grabs attention and retains viewers.
2.  **Analyze Flop Content**: Identify why similar content failed (boring hooks, bad pacing, lack of payoff).
3.  **Contrast & Extract**: The "DNA" is the difference between the two. The X-Factors are elements present in Viral but absent or done poorly in Flop.

CONTEXT: The output script is for a VOICEOVER (Audio/Text only). **Pacing refers to the linguistic rhythm (sentence length, breath patterns, speed of delivery), NOT visual editing.**

Extract the complete "DNA" from the provided content (transcript, comments, title, etc).

Analyze and output a JSON with this EXACT structure:

{
  "name": "Suggested DNA name (e.g., 'The Financial Realist's Method')",
  "niche": "Content niche/category (e.g., Health & Fitness, Crypto, Gaming)",
  "targetWordCount": 3316,
  
  "audiencePsychology": "2-3 sentences describing the audience's emotional state, fears, desires...",
  
  "linguisticFingerprint": {
    "personaRole": "The persona/role the speaker adopts",
    "toneAnalysis": "Detailed tone analysis",
    "signatureKeywords": ["keyword1", "keyword2"]
  },
  
  "hookAngle": {
    "angleCategory": "Hook angle type",
    "deconstruction": "Psychological explanation"
  },
  
  "pacingAndTone": {
    "pacing": "Global detailed pacing analysis (sentence rhythm, delivery speed)"  },
  
  "structuralSkeleton": [
    {
      "title": "Section Name (e.g., Hook)",
      "wordCount": 150, // Approx words in this section
      "tone": "Specific tone for this section (e.g. Urgent, Inquisitive)",
      "pacing": "LINGUISTIC PACING & CONTRAST: Describe the mix of sentence lengths. NEVER be monotone. (e.g. 'Staccato short sentences [90%] ending with one long flow sentence [10%] for impact', or 'Long lyrical sentences broken by a single word punch').",
// ... (previous prompt content)
120:       "contentFocus": "ABSTRACT FORMULA of what happens here (e.g., 'Describe a catastrophic failure' NOT 'Describe John crashing his car'). GENERALIZE the events into a reusable formula.",
// ... (rest of prompt)
      "microHook": "Strategies for first 5s of this section (Optional)",
      "openLoop": "Curiosity gap opened here (Optional)",
      "viralTriggers": "Specific element causing engagement (Optional)",
      "mustInclude": ["Sound effect", "Visual metaphor"],
      "audienceInteraction": "CTA or engagement prompt (Optional)",
      "audienceValue": "What value does the viewer get? (Mandatory)",
      "transitionOut": "How to transition to next section (Optional)"
    }
  ],
  
  "highDopamine": ["Element 1"],
  "confusionPoints": ["Point 1"],
  "objections": ["Objection 1"],
  "corePatterns": ["Pattern 1"],
  "viralXFactors": ["X-Factor 1"],
  "flopAvoidance": ["Avoid 1"]
}

IMPORTANT:
- Analyze ALL provided inputs (transcript, comments, title, notes)
- Use comments to understand what resonated with audience
- Be specific and actionable in your analysis
- Keep descriptions detailed but concise
- For structuralSkeleton: Extract the ACTUAL structure from the transcript. Calculate the "wordCount" based on the actual transcript length. Pacing must be about WRITING STYLE and DELIVERY SPEED, not video editing.
- Global tone is in linguisticFingerprint.toneAnalysis. Section-specific tone goes in structuralSkeleton[i].tone.`,CF=`You are a Content Auditor. Scan the following video transcripts/comments.
For EACH video, determine:
1. Topic/Niche (1-2 words)
2. Primary Tone (1 adjective)
3. Quality Score (0-100 based on clarity and value)
4. Is it an "Outlier"? (True if it deviates significantly in Topic or Tone from the majority of the group)

Output JSON array:
[
  { "index": 0, "type": "viral", "topic": "...", "tone": "...", "qualityScore": 85, "isOutlier": false, "reason": "..." }
]`,_F=async(e,t,n="google/gemini-3-flash-preview")=>{if(!t)throw new Error("API Key required");const r=e.viralVideos.map((u,h)=>{var f;return`VIDEO #${h} (VIRAL): Title: ${u.title}. Transcript: ${(f=u.transcript)==null?void 0:f.substring(0,500)}...`}).join(`

`),s=e.flopVideos.map((u,h)=>{var f;return`VIDEO #${h} (FLOP): Title: ${u.title}. Transcript: ${(f=u.transcript)==null?void 0:f.substring(0,500)}...`}).join(`

`),o=[r,s].filter(Boolean).join(`

---

`),l=await Kn([{role:"system",content:CF},{role:"user",content:o}],t,n);return so(l).map(u=>{var m,g;const h=((m=u.type)==null?void 0:m.toLowerCase())==="viral"||!u.type&&u.index<e.viralVideos.length,f=h?e.viralVideos[u.index]:e.flopVideos[u.index];return{...u,type:h?"viral":"flop",title:f==null?void 0:f.title,wordCount:((g=f==null?void 0:f.transcript)==null?void 0:g.split(/\s+/).length)||0}})},Rv=async(e,t,n="google/gemini-3-flash-preview")=>{var h,f,m,g,b,p;if(!t)throw new Error("OpenRouter API Key cha c cu hnh.");const r=e.viralVideos.filter(x=>x.transcript),s=r.reduce((x,y)=>{var v;return x+(((v=y.transcript)==null?void 0:v.split(/\s+/).length)||0)},0),o=r.length>0?Math.round(s/r.length):0,i=3,l=[];for(let x=0;x<e.viralVideos.length;x+=i)l.push(e.viralVideos.slice(x,x+i));const c=[];for(const x of l){let y=[];x.forEach((j,C)=>{y.push(`=== VIRAL VIDEO ${C+1}: ${j.title||"Untitled"} ===`),j.transcript&&y.push(`TRANSCRIPT:
${j.transcript}`),j.comments&&y.push(`COMMENTS:
${j.comments}`)}),c.length===0&&e.flopVideos.length>0&&e.flopVideos.forEach((j,C)=>{y.push(`=== FLOP (AVOID) ${C+1}: ${j.title} ===`),y.push(`TRANSCRIPT:
${j.transcript}`)});const v=y.join(`

`);let w=jF.replace("Extract the complete",`AVERAGE WORD COUNT: ${o} words.
Extract the complete`);e.overrideLogic&&(w+=`

ADDITIONAL: ${e.overrideLogic}`);const S=[{role:"system",content:w},{role:"user",content:`Analyze batch and extract DNA:

${v}`}],N=await Kn(S,t,n);c.push(so(N))}const u=c.reduce((x,y)=>{var v,w;return(((v=y.structuralSkeleton)==null?void 0:v.length)||0)>(((w=x.structuralSkeleton)==null?void 0:w.length)||0)?y:x},c[0]);return u.targetWordCount=o,{name:u.name||"Extracted DNA",niche:u.niche||"",targetWordCount:u.targetWordCount,audiencePsychology:u.audiencePsychology||"",linguisticFingerprint:u.linguisticFingerprint||{personaRole:"",toneAnalysis:"",signatureKeywords:[]},hookAngle:u.hookAngle||{angleCategory:"",deconstruction:""},pacingAndTone:u.pacingAndTone||{pacing:"",tone:""},structuralSkeleton:u.structuralSkeleton||[],highDopamine:u.highDopamine||[],confusionPoints:u.confusionPoints||[],objections:u.objections||[],corePatterns:u.corePatterns||[],viralXFactors:u.viralXFactors||[],flopAvoidance:u.flopAvoidance||[],tone:((h=u.pacingAndTone)==null?void 0:h.tone)||"",patterns:u.corePatterns||[],vocabulary:((m=(f=u.linguisticFingerprint)==null?void 0:f.signatureKeywords)==null?void 0:m.join(", "))||"",hook_type:((g=u.hookAngle)==null?void 0:g.angleCategory)||"",hook_examples:[],structure:((b=u.structuralSkeleton)==null?void 0:b.map(x=>x.title))||[],pacing:((p=u.pacingAndTone)==null?void 0:p.pacing)||"",retention_tactics:u.highDopamine||[],x_factors:u.viralXFactors||[]}},EF=async(e,t,n="google/gemini-3-flash-preview",r)=>Rv({viralVideos:[{title:"",transcript:e,comments:"",notes:r?`Source: ${r}`:""}],flopVideos:[]},t,n),kF=`You are a DNA Evolution AI. Your job is to REFINE an existing Content DNA by learning from new video content.

You are NOT simply adding new items to lists. You are LEARNING and GENERALIZING.

CRITICAL RULES:
1. LEARN new patterns, hooks, tactics from viral videos
2. LEARN what to avoid from flop videos
3. COMPARE new insights with existing DNA patterns
4. MERGE similar patterns (don't create duplicates)
5. REPLACE weak/specific patterns with stronger/general ones
6. REMOVE redundant or conflicting patterns
7. **NO HARD LIMITS** - Keep what's valuable, quality over quantity
8. GENERALIZE - Extract principles, not just copy specific examples
9. If new content contradicts existing DNA, evaluate which is stronger and keep that

EVOLUTION LOGIC:
- If a new pattern is similar to an existing one  MERGE into one stronger pattern
- If a new pattern is clearly better  REPLACE the weak one
- If a new pattern is unique and valuable  ADD it  
- If existing patterns are now redundant  REMOVE them
- Hook examples: Prioritize newer ones but max 4-5 total (quality over quantity)

OUTPUT must be valid JSON:
{
  "evolvedDna": {
    // Complete updated DNA with all fields
  },
  "changesSummary": [
    // List of changes made, e.g.:
    // "Merged 'X pattern' and 'Y pattern' into 'Z pattern'",
    // "Replaced weak hook example with stronger one from viral #2",
    // "Added 'new insight' to flopAvoidance",
    // "Removed redundant item from corePatterns"
  ]
}`,pC=async(e,t,n,r="google/gemini-3-flash-preview")=>{var u,h,f,m,g,b,p,x,y,v,w,S,N,j,C,_,T,A,O,M,L,D,ee;if(!n)throw new Error("OpenRouter API Key cha c cu hnh.");let s=`EXISTING DNA TO EVOLVE:
\`\`\`json
${JSON.stringify(e,null,2)}
\`\`\`

`;t.viralVideos&&t.viralVideos.length>0&&(s+=`NEW VIRAL VIDEOS TO LEARN FROM:
`,t.viralVideos.forEach((B,se)=>{s+=`
--- VIRAL VIDEO ${se+1} ${B.url?`(${B.url})`:""} ---
`,s+=B.transcript.substring(0,4e3),s+=`
`}),s+=`
`),t.flopVideos&&t.flopVideos.length>0&&(s+=`NEW FLOP VIDEOS TO LEARN MISTAKES FROM:
`,t.flopVideos.forEach((B,se)=>{s+=`
--- FLOP VIDEO ${se+1} ${B.url?`(${B.url})`:""} ---
`,s+=B.transcript.substring(0,4e3),s+=`
`}),s+=`
`),s+=`
Analyze the new content, learn from it, and EVOLVE the DNA. Return the complete evolved DNA and a summary of changes.`;const i=await Kn([{role:"system",content:kF},{role:"user",content:s}],n,r),l=so(i);return{evolvedDna:{name:((u=l.evolvedDna)==null?void 0:u.name)||e.name,niche:((h=l.evolvedDna)==null?void 0:h.niche)||e.niche,targetWordCount:((f=l.evolvedDna)==null?void 0:f.targetWordCount)||e.targetWordCount,audiencePsychology:((m=l.evolvedDna)==null?void 0:m.audiencePsychology)||e.audiencePsychology,linguisticFingerprint:((g=l.evolvedDna)==null?void 0:g.linguisticFingerprint)||e.linguisticFingerprint,hookAngle:((b=l.evolvedDna)==null?void 0:b.hookAngle)||e.hookAngle,pacingAndTone:((p=l.evolvedDna)==null?void 0:p.pacingAndTone)||e.pacingAndTone,structuralSkeleton:((x=l.evolvedDna)==null?void 0:x.structuralSkeleton)||e.structuralSkeleton,highDopamine:((y=l.evolvedDna)==null?void 0:y.highDopamine)||e.highDopamine,confusionPoints:((v=l.evolvedDna)==null?void 0:v.confusionPoints)||e.confusionPoints,objections:((w=l.evolvedDna)==null?void 0:w.objections)||e.objections,corePatterns:((S=l.evolvedDna)==null?void 0:S.corePatterns)||e.corePatterns,viralXFactors:((N=l.evolvedDna)==null?void 0:N.viralXFactors)||e.viralXFactors,flopAvoidance:((j=l.evolvedDna)==null?void 0:j.flopAvoidance)||e.flopAvoidance,hook_examples:((C=l.evolvedDna)==null?void 0:C.hook_examples)||e.hook_examples||[],tone:((_=l.evolvedDna)==null?void 0:_.tone)||e.tone,patterns:((T=l.evolvedDna)==null?void 0:T.patterns)||e.patterns,vocabulary:((A=l.evolvedDna)==null?void 0:A.vocabulary)||e.vocabulary,hook_type:((O=l.evolvedDna)==null?void 0:O.hook_type)||e.hook_type,structure:((M=l.evolvedDna)==null?void 0:M.structure)||e.structure,pacing:((L=l.evolvedDna)==null?void 0:L.pacing)||e.pacing,retention_tactics:((D=l.evolvedDna)==null?void 0:D.retention_tactics)||e.retention_tactics,x_factors:((ee=l.evolvedDna)==null?void 0:ee.x_factors)||e.x_factors},changesSummary:l.changesSummary||["Evolution completed without detailed changes"]}},TF=Object.freeze(Object.defineProperty({__proto__:null,evolveDna:pC,extractDnaFromContent:Rv,extractDnaFromTranscript:EF,scanContent:_F},Symbol.toStringTag,{value:"Module"}));function Av(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),{user:s}=Hn(),{toast:o}=An(),{settings:i}=Tc(),l=d.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:p,error:x}=await ze.from("dnas").select("*").order("created_at",{ascending:!1});if(x)throw x;const y=(p||[]).map(v=>({...v,vocabulary:Array.isArray(v.vocabulary)?v.vocabulary.join(", "):v.vocabulary,analysis_data:v.analysis_data}));t(y)}catch(p){console.error("Error fetching DNAs:",p),o({title:"Error",description:"Failed to fetch DNA patterns",variant:"destructive"})}finally{r(!1)}},[s,o]);return d.useEffect(()=>{l()},[l]),{dnas:e,loading:n,scanDnaContent:async p=>{const x=i==null?void 0:i.openrouter_api_key;if(!x)return o({title:"Error",description:"OpenRouter API Key required. Please configure in Settings.",variant:"destructive"}),null;try{return await NF(()=>Promise.resolve().then(()=>TF),void 0).then(v=>v.scanContent(p,x))}catch(y){return console.error("Error scanning content:",y),o({title:"Error",description:"Failed to scan content: "+(y instanceof Error?y.message:"Unknown error"),variant:"destructive"}),null}},extractDna:async(p,x)=>{const y=i==null?void 0:i.openrouter_api_key;if(!y)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await Rv(p,y,x||"google/gemini-3-flash-preview")}catch(v){console.error("Error extracting DNA:",v);const w=v instanceof Error?v.message:"Failed to extract DNA patterns";return o({title:"Error",description:w,variant:"destructive"}),null}},createDna:async p=>{if(!s)return null;try{const x={name:p.name||"New DNA",user_id:s.id,niche:p.niche,source_url:p.source_url,source_transcript:p.source_transcript,hook_type:p.hook_type,hook_examples:p.hook_examples,structure:p.structure,pacing:p.pacing,retention_tactics:p.retention_tactics,x_factors:p.x_factors,tone:p.tone,vocabulary:p.vocabulary?p.vocabulary.split(",").map(S=>S.trim()).filter(Boolean):[],patterns:p.patterns},{data:y,error:v}=await ze.from("dnas").insert(x).select().single();if(v)throw v;const w={...y,vocabulary:Array.isArray(y.vocabulary)?y.vocabulary.join(", "):y.vocabulary,analysis_data:y.analysis_data};return t(S=>[w,...S]),o({title:"Success",description:"DNA pattern saved successfully"}),w}catch(x){return console.error("Error creating DNA:",x),o({title:"Error",description:"Failed to save DNA pattern",variant:"destructive"}),null}},createDnaFromExtracted:async(p,x,y)=>{var v,w,S,N,j;if(!s)return null;try{const C={audiencePsychology:p.audiencePsychology,linguisticFingerprint:p.linguisticFingerprint,hookAngle:p.hookAngle,pacingAndTone:p.pacingAndTone,structuralSkeleton:p.structuralSkeleton,targetWordCount:p.targetWordCount,highDopamine:p.highDopamine,confusionPoints:p.confusionPoints,objections:p.objections,corePatterns:p.corePatterns,viralXFactors:p.viralXFactors,flopAvoidance:p.flopAvoidance},_={name:p.name,user_id:s.id,niche:p.niche,source_url:y||null,source_transcript:x||null,hook_type:p.hook_type||((v=p.hookAngle)==null?void 0:v.angleCategory),hook_examples:p.hook_examples||[],structure:p.structure||((w=p.structuralSkeleton)==null?void 0:w.map(M=>M.title)),pacing:p.pacing||((S=p.pacingAndTone)==null?void 0:S.pacing),retention_tactics:p.retention_tactics||p.highDopamine,x_factors:p.x_factors||p.viralXFactors,tone:p.tone||((N=p.linguisticFingerprint)==null?void 0:N.toneAnalysis),vocabulary:p.vocabulary?p.vocabulary.split(",").map(M=>M.trim()).filter(Boolean):((j=p.linguisticFingerprint)==null?void 0:j.signatureKeywords)||[],patterns:p.patterns||p.corePatterns,analysis_data:C},{data:T,error:A}=await ze.from("dnas").insert(_).select().single();if(A)throw A;const O={...T,vocabulary:Array.isArray(T.vocabulary)?T.vocabulary.join(", "):T.vocabulary,analysis_data:T.analysis_data};return t(M=>[O,...M]),o({title:"Success",description:"DNA pattern saved successfully"}),O}catch(C){return console.error("Error creating DNA:",C),o({title:"Error",description:"Failed to save DNA pattern: "+C.message,variant:"destructive"}),null}},updateDna:async(p,x)=>{try{const y={...x,vocabulary:x.vocabulary?x.vocabulary.split(",").map(N=>N.trim()).filter(Boolean):void 0,analysis_data:x.analysis_data},{data:v,error:w}=await ze.from("dnas").update(y).eq("id",p).select().single();if(w)throw w;const S={...v,vocabulary:Array.isArray(v.vocabulary)?v.vocabulary.join(", "):v.vocabulary,analysis_data:v.analysis_data};return t(N=>N.map(j=>j.id===p?S:j)),o({title:"Success",description:"DNA pattern updated successfully"}),S}catch(y){return console.error("Error updating DNA:",y),o({title:"Error",description:"Failed to update DNA pattern",variant:"destructive"}),null}},deleteDna:async p=>{try{const{error:x}=await ze.from("dnas").delete().eq("id",p);if(x)throw x;return t(y=>y.filter(v=>v.id!==p)),o({title:"Success",description:"DNA pattern deleted successfully"}),!0}catch(x){return console.error("Error deleting DNA:",x),o({title:"Error",description:"Failed to delete DNA pattern: "+(x instanceof Error?x.message:"Unknown error"),variant:"destructive"}),!1}},evolveDna:async(p,x)=>{var w,S,N,j,C,_,T,A,O,M,L,D,ee,B,se,I,P,V;const y=i==null?void 0:i.openrouter_api_key;if(!y)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh.",variant:"destructive"}),{success:!1};const v=e.find(Z=>Z.id===p);if(!v||!v.analysis_data)return o({title:"Error",description:"DNA not found or has no analysis data.",variant:"destructive"}),{success:!1};try{const Z="google/gemini-3-flash-preview",re={name:v.name,niche:v.niche||"",targetWordCount:(w=v.analysis_data)==null?void 0:w.targetWordCount,audiencePsychology:((S=v.analysis_data)==null?void 0:S.audiencePsychology)||"",linguisticFingerprint:((N=v.analysis_data)==null?void 0:N.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]},hookAngle:((j=v.analysis_data)==null?void 0:j.hookAngle)||{angleCategory:"",deconstruction:""},pacingAndTone:((C=v.analysis_data)==null?void 0:C.pacingAndTone)||{pacing:""},structuralSkeleton:((_=v.analysis_data)==null?void 0:_.structuralSkeleton)||[],highDopamine:((T=v.analysis_data)==null?void 0:T.highDopamine)||[],confusionPoints:((A=v.analysis_data)==null?void 0:A.confusionPoints)||[],objections:((O=v.analysis_data)==null?void 0:O.objections)||[],corePatterns:((M=v.analysis_data)==null?void 0:M.corePatterns)||[],viralXFactors:((L=v.analysis_data)==null?void 0:L.viralXFactors)||[],flopAvoidance:((D=v.analysis_data)==null?void 0:D.flopAvoidance)||[],hook_examples:v.hook_examples||[]},ae=await pC(re,x,y,Z),me={id:crypto.randomUUID(),timestamp:new Date().toISOString(),input_type:x.viralVideos&&x.flopVideos?"mixed":x.viralVideos?"viral":"flop",source_urls:[...((ee=x.viralVideos)==null?void 0:ee.map(ke=>ke.url).filter(Boolean))||[],...((B=x.flopVideos)==null?void 0:B.map(ke=>ke.url).filter(Boolean))||[]],transcript_preview:(((I=(se=x.viralVideos)==null?void 0:se[0])==null?void 0:I.transcript)||((V=(P=x.flopVideos)==null?void 0:P[0])==null?void 0:V.transcript)||"").substring(0,200)+"...",changes_made:ae.changesSummary},ge=[...v.learning_history||[],me],G={analysis_data:{...v.analysis_data,targetWordCount:ae.evolvedDna.targetWordCount,audiencePsychology:ae.evolvedDna.audiencePsychology,linguisticFingerprint:ae.evolvedDna.linguisticFingerprint,hookAngle:ae.evolvedDna.hookAngle,pacingAndTone:ae.evolvedDna.pacingAndTone,structuralSkeleton:ae.evolvedDna.structuralSkeleton,highDopamine:ae.evolvedDna.highDopamine,confusionPoints:ae.evolvedDna.confusionPoints,objections:ae.evolvedDna.objections,corePatterns:ae.evolvedDna.corePatterns,viralXFactors:ae.evolvedDna.viralXFactors,flopAvoidance:ae.evolvedDna.flopAvoidance},hook_examples:ae.evolvedDna.hook_examples,learning_history:ge},{error:Pe}=await ze.from("dnas").update(G).eq("id",p);if(Pe)throw Pe;return t(ke=>ke.map(be=>be.id===p?{...be,...G}:be)),o({title:"DNA Evolved!",description:`${ae.changesSummary.length} changes made to your DNA.`}),{success:!0,changesSummary:ae.changesSummary}}catch(Z){return console.error("Error evolving DNA:",Z),o({title:"Error",description:"Failed to evolve DNA: "+(Z instanceof Error?Z.message:"Unknown error"),variant:"destructive"}),{success:!1}}},refetch:l}}function PF(){const{user:e}=Hn(),{toast:t}=An(),n=iv(),{data:r=[],isLoading:s}=fD({queryKey:["folders",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:c,error:u}=await ze.from("folders").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(u)throw u;return c},enabled:!!e}),o=bf({mutationFn:async c=>{if(!e)throw new Error("Not authenticated");const{data:u,error:h}=await ze.from("folders").insert({name:c,user_id:e.id}).select().single();if(h)throw h;return u},onSuccess:()=>{n.invalidateQueries({queryKey:["folders"]}),t({title:"Folder created"})},onError:c=>{t({title:"Error",description:c.message,variant:"destructive"})}}),i=bf({mutationFn:async({id:c,name:u})=>{const{error:h}=await ze.from("folders").update({name:u}).eq("id",c);if(h)throw h},onSuccess:()=>{n.invalidateQueries({queryKey:["folders"]})}}),l=bf({mutationFn:async c=>{const{error:u}=await ze.from("folders").delete().eq("id",c);if(u)throw u},onSuccess:()=>{n.invalidateQueries({queryKey:["folders"]}),t({title:"Folder deleted"})}});return{folders:r,loading:s,createFolder:c=>o.mutateAsync(c),updateFolder:(c,u)=>i.mutateAsync({id:c,name:u}),deleteFolder:c=>l.mutateAsync(c)}}const i0=1e3;function RF(){const[e,t]=d.useState(null),[n,r]=d.useState(!0),[s,o]=d.useState(null),{user:i}=Hn(),l=d.useCallback(async()=>{var u,h;if(!i){t(null),r(!1);return}r(!0),o(null);try{const{data:f,error:m}=await ze.from("user_settings").select("openrouter_api_key").eq("user_id",i.id).single();if(m||!(f!=null&&f.openrouter_api_key)){o("No API key configured"),t(null),r(!1);return}const g=await fetch("https://openrouter.ai/api/v1/auth/key",{method:"GET",headers:{Authorization:`Bearer ${f.openrouter_api_key}`}});if(!g.ok)throw new Error("Failed to fetch key info from OpenRouter");const b=await g.json();t({total_credits:(((u=b.data)==null?void 0:u.limit)||0)*i0,total_usage:(((h=b.data)==null?void 0:h.usage)||0)*i0})}catch(f){console.error("Error fetching OpenRouter credits:",f),o(f instanceof Error?f.message:"Failed to fetch credits")}finally{r(!1)}},[i]);d.useEffect(()=>{l()},[l]);const c=e?e.total_credits-e.total_usage:null;return{credits:e,remaining:c,loading:n,error:s,refetch:l}}var AF=d.createContext(void 0);function Fi(e){const t=d.useContext(AF);return e||t||"ltr"}var Bf="rovingFocusGroup.onEntryFocus",OF={bubbles:!1,cancelable:!0},Pc="RovingFocusGroup",[Tm,mC,IF]=vc(Pc),[DF,gC]=Vt(Pc,[IF]),[MF,$F]=DF(Pc),vC=d.forwardRef((e,t)=>a.jsx(Tm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Tm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(LF,{...e,ref:t})})}));vC.displayName=Pc;var LF=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),g=Re(t,m),b=Fi(o),[p,x]=Wn({prop:i,defaultProp:l??null,onChange:c,caller:Pc}),[y,v]=d.useState(!1),w=lt(u),S=mC(n),N=d.useRef(!1),[j,C]=d.useState(0);return d.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(Bf,w),()=>_.removeEventListener(Bf,w)},[w]),a.jsx(MF,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:d.useCallback(_=>x(_),[x]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:d.useCallback(()=>C(_=>_-1),[]),children:a.jsx(pe.div,{tabIndex:y||j===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:ne(e.onMouseDown,()=>{N.current=!0}),onFocus:ne(e.onFocus,_=>{const T=!N.current;if(_.target===_.currentTarget&&T&&!y){const A=new CustomEvent(Bf,OF);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=S().filter(B=>B.focusable),M=O.find(B=>B.active),L=O.find(B=>B.id===p),ee=[M,L,...O].filter(Boolean).map(B=>B.ref.current);wC(ee,h)}}N.current=!1}),onBlur:ne(e.onBlur,()=>v(!1))})})}),yC="RovingFocusGroupItem",xC=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=rn(),u=o||c,h=$F(yC,n),f=h.currentTabStopId===u,m=mC(n),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:p}=h;return d.useEffect(()=>{if(r)return g(),()=>b()},[r,g,b]),a.jsx(Tm.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(pe.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:ne(e.onMouseDown,x=>{r?h.onItemFocus(u):x.preventDefault()}),onFocus:ne(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:ne(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=zF(x,h.orientation,h.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=m().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const S=w.indexOf(x.currentTarget);w=h.loop?BF(w,S+1):w.slice(S+1)}setTimeout(()=>wC(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});xC.displayName=yC;var FF={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UF(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function zF(e,t,n){const r=UF(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return FF[r]}function wC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function BF(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var VF=vC,WF=xC,Pm=["Enter"," "],HF=["ArrowDown","PageUp","Home"],bC=["ArrowUp","PageDown","End"],KF=[...HF,...bC],GF={ltr:[...Pm,"ArrowRight"],rtl:[...Pm,"ArrowLeft"]},qF={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rc="Menu",[sc,YF,QF]=vc(Rc),[Zo,SC]=Vt(Rc,[QF,Ii,gC]),Ac=Ii(),NC=gC(),[jC,oo]=Zo(Rc),[JF,Oc]=Zo(Rc),CC=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,l=Ac(t),[c,u]=d.useState(null),h=d.useRef(!1),f=lt(o),m=Fi(s);return d.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(dh,{...l,children:a.jsx(jC,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(JF,{scope:t,onClose:d.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:i,children:r})})})};CC.displayName=Rc;var XF="MenuAnchor",Ov=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Ac(n);return a.jsx(Zg,{...s,...r,ref:t})});Ov.displayName=XF;var Iv="MenuPortal",[ZF,_C]=Zo(Iv,{forceMount:void 0}),EC=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=oo(Iv,t);return a.jsx(ZF,{scope:t,forceMount:n,children:a.jsx(Yt,{present:n||o.open,children:a.jsx(yc,{asChild:!0,container:s,children:r})})})};EC.displayName=Iv;var zn="MenuContent",[eU,Dv]=Zo(zn),kC=d.forwardRef((e,t)=>{const n=_C(zn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=oo(zn,e.__scopeMenu),i=Oc(zn,e.__scopeMenu);return a.jsx(sc.Provider,{scope:e.__scopeMenu,children:a.jsx(Yt,{present:r||o.open,children:a.jsx(sc.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(tU,{...s,ref:t}):a.jsx(nU,{...s,ref:t})})})})}),tU=d.forwardRef((e,t)=>{const n=oo(zn,e.__scopeMenu),r=d.useRef(null),s=Re(t,r);return d.useEffect(()=>{const o=r.current;if(o)return vv(o)},[]),a.jsx(Mv,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ne(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),nU=d.forwardRef((e,t)=>{const n=oo(zn,e.__scopeMenu);return a.jsx(Mv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),rU=Uo("MenuContent.ScrollLock"),Mv=d.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:b,...p}=e,x=oo(zn,n),y=Oc(zn,n),v=Ac(n),w=NC(n),S=YF(n),[N,j]=d.useState(null),C=d.useRef(null),_=Re(t,C,x.onContentChange),T=d.useRef(0),A=d.useRef(""),O=d.useRef(0),M=d.useRef(null),L=d.useRef("right"),D=d.useRef(0),ee=b?Sh:d.Fragment,B=b?{as:rU,allowPinchZoom:!0}:void 0,se=P=>{var G,Pe;const V=A.current+P,Z=S().filter(ke=>!ke.disabled),re=document.activeElement,ae=(G=Z.find(ke=>ke.ref.current===re))==null?void 0:G.textValue,me=Z.map(ke=>ke.textValue),K=mU(me,V,ae),ge=(Pe=Z.find(ke=>ke.textValue===K))==null?void 0:Pe.ref.current;(function ke(be){A.current=be,window.clearTimeout(T.current),be!==""&&(T.current=window.setTimeout(()=>ke(""),1e3))})(V),ge&&setTimeout(()=>ge.focus())};d.useEffect(()=>()=>window.clearTimeout(T.current),[]),gv();const I=d.useCallback(P=>{var Z,re;return L.current===((Z=M.current)==null?void 0:Z.side)&&vU(P,(re=M.current)==null?void 0:re.area)},[]);return a.jsx(eU,{scope:n,searchRef:A,onItemEnter:d.useCallback(P=>{I(P)&&P.preventDefault()},[I]),onItemLeave:d.useCallback(P=>{var V;I(P)||((V=C.current)==null||V.focus(),j(null))},[I]),onTriggerLeave:d.useCallback(P=>{I(P)&&P.preventDefault()},[I]),pointerGraceTimerRef:O,onPointerGraceIntentChange:d.useCallback(P=>{M.current=P},[]),children:a.jsx(ee,{...B,children:a.jsx(wh,{asChild:!0,trapped:s,onMountAutoFocus:ne(o,P=>{var V;P.preventDefault(),(V=C.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(ki,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:a.jsx(VF,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:j,onEntryFocus:ne(c,P=>{y.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(ev,{role:"menu","aria-orientation":"vertical","data-state":HC(x.open),"data-radix-menu-content":"",dir:y.dir,...v,...p,ref:_,style:{outline:"none",...p.style},onKeyDown:ne(p.onKeyDown,P=>{const Z=P.target.closest("[data-radix-menu-content]")===P.currentTarget,re=P.ctrlKey||P.altKey||P.metaKey,ae=P.key.length===1;Z&&(P.key==="Tab"&&P.preventDefault(),!re&&ae&&se(P.key));const me=C.current;if(P.target!==me||!KF.includes(P.key))return;P.preventDefault();const ge=S().filter(G=>!G.disabled).map(G=>G.ref.current);bC.includes(P.key)&&ge.reverse(),fU(ge)}),onBlur:ne(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(T.current),A.current="")}),onPointerMove:ne(e.onPointerMove,oc(P=>{const V=P.target,Z=D.current!==P.clientX;if(P.currentTarget.contains(V)&&Z){const re=P.clientX>D.current?"right":"left";L.current=re,D.current=P.clientX}}))})})})})})})});kC.displayName=zn;var sU="MenuGroup",$v=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(pe.div,{role:"group",...r,ref:t})});$v.displayName=sU;var oU="MenuLabel",TC=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(pe.div,{...r,ref:t})});TC.displayName=oU;var Ad="MenuItem",l0="menu.itemSelect",_h=d.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=d.useRef(null),i=Oc(Ad,e.__scopeMenu),l=Dv(Ad,e.__scopeMenu),c=Re(t,o),u=d.useRef(!1),h=()=>{const f=o.current;if(!n&&f){const m=new CustomEvent(l0,{bubbles:!0,cancelable:!0});f.addEventListener(l0,g=>r==null?void 0:r(g),{once:!0}),Dg(f,m),m.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(PC,{...s,ref:c,disabled:n,onClick:ne(e.onClick,h),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:ne(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ne(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||Pm.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});_h.displayName=Ad;var PC=d.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=Dv(Ad,n),l=NC(n),c=d.useRef(null),u=Re(t,c),[h,f]=d.useState(!1),[m,g]=d.useState("");return d.useEffect(()=>{const b=c.current;b&&g((b.textContent??"").trim())},[o.children]),a.jsx(sc.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:a.jsx(WF,{asChild:!0,...l,focusable:!r,children:a.jsx(pe.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:ne(e.onPointerMove,oc(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(e.onPointerLeave,oc(b=>i.onItemLeave(b))),onFocus:ne(e.onFocus,()=>f(!0)),onBlur:ne(e.onBlur,()=>f(!1))})})})}),aU="MenuCheckboxItem",RC=d.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(MC,{scope:e.__scopeMenu,checked:n,children:a.jsx(_h,{role:"menuitemcheckbox","aria-checked":Od(n)?"mixed":n,...s,ref:t,"data-state":Uv(n),onSelect:ne(s.onSelect,()=>r==null?void 0:r(Od(n)?!0:!n),{checkForDefaultPrevented:!1})})})});RC.displayName=aU;var AC="MenuRadioGroup",[iU,lU]=Zo(AC,{value:void 0,onValueChange:()=>{}}),OC=d.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=lt(r);return a.jsx(iU,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx($v,{...s,ref:t})})});OC.displayName=AC;var IC="MenuRadioItem",DC=d.forwardRef((e,t)=>{const{value:n,...r}=e,s=lU(IC,e.__scopeMenu),o=n===s.value;return a.jsx(MC,{scope:e.__scopeMenu,checked:o,children:a.jsx(_h,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":Uv(o),onSelect:ne(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});DC.displayName=IC;var Lv="MenuItemIndicator",[MC,cU]=Zo(Lv,{checked:!1}),$C=d.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=cU(Lv,n);return a.jsx(Yt,{present:r||Od(o.checked)||o.checked===!0,children:a.jsx(pe.span,{...s,ref:t,"data-state":Uv(o.checked)})})});$C.displayName=Lv;var uU="MenuSeparator",LC=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(pe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});LC.displayName=uU;var dU="MenuArrow",FC=d.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Ac(n);return a.jsx(tv,{...s,...r,ref:t})});FC.displayName=dU;var Fv="MenuSub",[hU,UC]=Zo(Fv),zC=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:s}=e,o=oo(Fv,t),i=Ac(t),[l,c]=d.useState(null),[u,h]=d.useState(null),f=lt(s);return d.useEffect(()=>(o.open===!1&&f(!1),()=>f(!1)),[o.open,f]),a.jsx(dh,{...i,children:a.jsx(jC,{scope:t,open:r,onOpenChange:f,content:u,onContentChange:h,children:a.jsx(hU,{scope:t,contentId:rn(),triggerId:rn(),trigger:l,onTriggerChange:c,children:n})})})};zC.displayName=Fv;var hl="MenuSubTrigger",BC=d.forwardRef((e,t)=>{const n=oo(hl,e.__scopeMenu),r=Oc(hl,e.__scopeMenu),s=UC(hl,e.__scopeMenu),o=Dv(hl,e.__scopeMenu),i=d.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},h=d.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return d.useEffect(()=>h,[h]),d.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(Ov,{asChild:!0,...u,children:a.jsx(PC,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":HC(n.open),...e,ref:rh(t,s.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ne(e.onPointerMove,oc(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ne(e.onPointerLeave,oc(f=>{var g,b;h();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const p=(b=n.content)==null?void 0:b.dataset.side,x=p==="right",y=x?-5:5,v=m[x?"left":"right"],w=m[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+y,y:f.clientY},{x:v,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:v,y:m.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:ne(e.onKeyDown,f=>{var g;const m=o.searchRef.current!=="";e.disabled||m&&f.key===" "||GF[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});BC.displayName=hl;var VC="MenuSubContent",WC=d.forwardRef((e,t)=>{const n=_C(zn,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=oo(zn,e.__scopeMenu),i=Oc(zn,e.__scopeMenu),l=UC(VC,e.__scopeMenu),c=d.useRef(null),u=Re(t,c);return a.jsx(sc.Provider,{scope:e.__scopeMenu,children:a.jsx(Yt,{present:r||o.open,children:a.jsx(sc.Slot,{scope:e.__scopeMenu,children:a.jsx(Mv,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ne(e.onFocusOutside,h=>{h.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:ne(e.onEscapeKeyDown,h=>{i.onClose(),h.preventDefault()}),onKeyDown:ne(e.onKeyDown,h=>{var g;const f=h.currentTarget.contains(h.target),m=qF[i.dir].includes(h.key);f&&m&&(o.onOpenChange(!1),(g=l.trigger)==null||g.focus(),h.preventDefault())})})})})})});WC.displayName=VC;function HC(e){return e?"open":"closed"}function Od(e){return e==="indeterminate"}function Uv(e){return Od(e)?"indeterminate":e?"checked":"unchecked"}function fU(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function pU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function mU(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=pU(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function gU(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,h=l.y,f=c.x,m=c.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(s=!s)}return s}function vU(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return gU(n,t)}function oc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var yU=CC,xU=Ov,wU=EC,bU=kC,SU=$v,NU=TC,jU=_h,CU=RC,_U=OC,EU=DC,kU=$C,TU=LC,PU=FC,RU=zC,AU=BC,OU=WC,Eh="DropdownMenu",[IU,v8]=Vt(Eh,[SC]),Qt=SC(),[DU,KC]=IU(Eh),GC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=Qt(t),u=d.useRef(null),[h,f]=Wn({prop:s,defaultProp:o??!1,onChange:i,caller:Eh});return a.jsx(DU,{scope:t,triggerId:rn(),triggerRef:u,contentId:rn(),open:h,onOpenChange:f,onOpenToggle:d.useCallback(()=>f(m=>!m),[f]),modal:l,children:a.jsx(yU,{...c,open:h,onOpenChange:f,dir:r,modal:l,children:n})})};GC.displayName=Eh;var qC="DropdownMenuTrigger",YC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=KC(qC,n),i=Qt(n);return a.jsx(xU,{asChild:!0,...i,children:a.jsx(pe.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:rh(t,o.triggerRef),onPointerDown:ne(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:ne(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});YC.displayName=qC;var MU="DropdownMenuPortal",QC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Qt(t);return a.jsx(wU,{...r,...n})};QC.displayName=MU;var JC="DropdownMenuContent",XC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=KC(JC,n),o=Qt(n),i=d.useRef(!1);return a.jsx(bU,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:ne(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:ne(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!s.modal||h)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XC.displayName=JC;var $U="DropdownMenuGroup",LU=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(SU,{...s,...r,ref:t})});LU.displayName=$U;var FU="DropdownMenuLabel",ZC=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(NU,{...s,...r,ref:t})});ZC.displayName=FU;var UU="DropdownMenuItem",e_=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(jU,{...s,...r,ref:t})});e_.displayName=UU;var zU="DropdownMenuCheckboxItem",t_=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(CU,{...s,...r,ref:t})});t_.displayName=zU;var BU="DropdownMenuRadioGroup",VU=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(_U,{...s,...r,ref:t})});VU.displayName=BU;var WU="DropdownMenuRadioItem",n_=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(EU,{...s,...r,ref:t})});n_.displayName=WU;var HU="DropdownMenuItemIndicator",r_=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(kU,{...s,...r,ref:t})});r_.displayName=HU;var KU="DropdownMenuSeparator",s_=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(TU,{...s,...r,ref:t})});s_.displayName=KU;var GU="DropdownMenuArrow",qU=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(PU,{...s,...r,ref:t})});qU.displayName=GU;var YU=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:s,defaultOpen:o}=e,i=Qt(t),[l,c]=Wn({prop:r,defaultProp:o??!1,onChange:s,caller:"DropdownMenuSub"});return a.jsx(RU,{...i,open:l,onOpenChange:c,children:n})},QU="DropdownMenuSubTrigger",o_=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(AU,{...s,...r,ref:t})});o_.displayName=QU;var JU="DropdownMenuSubContent",a_=d.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Qt(n);return a.jsx(OU,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});a_.displayName=JU;var XU=GC,ZU=YC,e6=QC,i_=XC,l_=ZC,c_=e_,u_=t_,d_=n_,h_=r_,f_=s_,t6=YU,p_=o_,m_=a_;const c0=XU,u0=ZU,n6=t6,g_=d.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(p_,{ref:s,className:Q("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(Kr,{className:"ml-auto h-4 w-4"})]}));g_.displayName=p_.displayName;const v_=d.forwardRef(({className:e,...t},n)=>a.jsx(m_,{ref:n,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));v_.displayName=m_.displayName;const Rm=d.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(e6,{children:a.jsx(i_,{ref:r,sideOffset:t,className:Q("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Rm.displayName=i_.displayName;const Sa=d.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(c_,{ref:r,className:Q("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));Sa.displayName=c_.displayName;const r6=d.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(u_,{ref:s,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(h_,{children:a.jsx(Jo,{className:"h-4 w-4"})})}),t]}));r6.displayName=u_.displayName;const s6=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(d_,{ref:r,className:Q("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(h_,{children:a.jsx(dR,{className:"h-2 w-2 fill-current"})})}),t]}));s6.displayName=d_.displayName;const o6=d.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(l_,{ref:r,className:Q("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));o6.displayName=l_.displayName;const y_=d.forwardRef(({className:e,...t},n)=>a.jsx(f_,{ref:n,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));y_.displayName=f_.displayName;const ac=bv,a6=Sv,i6=Nv,x_=d.forwardRef(({className:e,...t},n)=>a.jsx(jc,{ref:n,className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));x_.displayName=jc.displayName;const xi=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(i6,{children:[a.jsx(x_,{}),a.jsxs(Cc,{ref:r,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(jh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(ro,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xi.displayName=Cc.displayName;const wi=({className:e,...t})=>a.jsx("div",{className:Q("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});wi.displayName="DialogHeader";const Id=({className:e,...t})=>a.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Id.displayName="DialogFooter";const bi=d.forwardRef(({className:e,...t},n)=>a.jsx(_c,{ref:n,className:Q("text-lg font-semibold leading-none tracking-tight",e),...t}));bi.displayName=_c.displayName;const w_=d.forwardRef(({className:e,...t},n)=>a.jsx(Ec,{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));w_.displayName=Ec.displayName;var l6="Label",b_=d.forwardRef((e,t)=>a.jsx(pe.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));b_.displayName=l6;var S_=b_;const c6=Ti("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),F=d.forwardRef(({className:e,...t},n)=>a.jsx(S_,{ref:n,className:Q(c6(),e),...t}));F.displayName=S_.displayName;const u6=[{title:"Extract DNA",description:"Analyze viral content patterns",icon:no,to:"/dna-lab"},{title:"New Script",description:"Create content with AI",icon:pi,to:"/writer"}];function d6(){const e=Sc(),{toast:t}=An(),{scripts:n,loading:r,updateScript:s,deleteScript:o}=fC(),{dnas:i,loading:l}=Av(),{folders:c,loading:u,createFolder:h,deleteFolder:f}=PF(),{credits:m,loading:g,error:b,refetch:p}=RF(),[x,y]=d.useState(""),[v,w]=d.useState(!1),[S,N]=d.useState(""),[j,C]=d.useState(null),[_,T]=d.useState(!1),[A,O]=d.useState(null),[M,L]=d.useState(""),D=n.length,ee=i.length,B=()=>g?"Loading...":b?b.includes("No API key")?"No API Key":"Error":(m==null?void 0:m.total_usage)!==void 0?`$${m.total_usage.toFixed(2)}`:"N/A",se=n.filter(K=>{const ge=K.title.toLowerCase().includes(x.toLowerCase())||K.topic&&K.topic.toLowerCase().includes(x.toLowerCase());return j?ge&&K.folder_id===j:ge}),I=n.filter(K=>!K.folder_id),P=async()=>{S.trim()&&(await h(S),N(""),w(!1))},V=async()=>{!A||!M.trim()||(await s(A,{title:M}),T(!1),O(null),L(""))},Z=async K=>{await o(K)},re=async(K,ge)=>{await s(K,{folder_id:ge}),t({title:ge?"Moved to folder":"Removed from folder",description:ge?"Script has been moved to the folder":"Script has been moved to root"})},ae=(K,ge)=>{O(K),L(ge),T(!0)},me=c.find(K=>K.id===j);return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"grid gap-3 grid-cols-2 lg:grid-cols-4",children:[a.jsx(Zw,{title:"Total Projects",value:D,icon:cR,iconColor:"text-blue-500"}),a.jsx(Zw,{title:"DNA Templates",value:ee,icon:It,iconColor:"text-purple-500"}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl border border-border/50 bg-card/80",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-xl bg-emerald-500/10 p-2.5",children:a.jsx(fR,{className:"h-5 w-5 text-emerald-500"})}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Credits Used"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold",children:B()}),a.jsx($,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>p(),disabled:g,children:a.jsx(Vr,{className:`h-4 w-4 ${g?"animate-spin":""}`})})]})]}),a.jsxs("a",{href:"https://www.facebook.com/logdd.pitre",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 rounded-2xl border border-border/50 bg-card/80 hover:border-primary/50 hover:bg-card transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-xl bg-blue-500/10 p-2.5",children:a.jsx(vR,{className:"h-5 w-5 text-blue-500"})}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Contact"})]}),a.jsx("span",{className:"text-lg font-semibold",children:"LONG"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsx("div",{children:me?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($,{variant:"ghost",size:"sm",onClick:()=>C(null),children:" Back"}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(yR,{className:"h-6 w-6 text-primary"}),me.name]}),a.jsxs("p",{className:"text-muted-foreground",children:[se.length," scripts in this folder"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your viral engineering projects."})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs($,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>w(!0),children:[a.jsx(xR,{className:"h-4 w-4"}),"New Folder"]}),a.jsx($,{size:"sm",className:"gap-2",asChild:!0,children:a.jsxs(Ql,{to:"/writer",children:[a.jsx(He,{className:"h-4 w-4"}),"New Project"]})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ih,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search projects and folders...",value:x,onChange:K=>y(K.target.value),className:"pl-10"})]}),!j&&a.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:u6.map(K=>a.jsx(iF,{...K},K.title))}),!j&&c.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Folders"}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:c.map(K=>{const ge=n.filter(G=>G.folder_id===K.id).length;return a.jsxs("div",{className:"relative group p-4 rounded-2xl border border-border/50 bg-card/80 hover:border-primary/50 transition-all cursor-pointer",onClick:()=>C(K.id),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(gf,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium truncate",children:K.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ge," items"]})]})]}),a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs(c0,{children:[a.jsx(u0,{asChild:!0,onClick:G=>G.stopPropagation(),children:a.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-background/80 backdrop-blur-sm",children:a.jsx(Mx,{className:"h-4 w-4"})})}),a.jsx(Rm,{align:"end",children:a.jsxs(Sa,{onClick:G=>{G.stopPropagation(),f(K.id)},className:"text-destructive focus:text-destructive",children:[a.jsx(qe,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})})]},K.id)})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:j?"Scripts":"Recent Projects"}),r?a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[1,2,3,4].map(K=>a.jsx("div",{className:"h-32 animate-pulse rounded-2xl bg-muted/50"},K))}):(j?se:I.filter(K=>K.title.toLowerCase().includes(x.toLowerCase())||K.topic&&K.topic.toLowerCase().includes(x.toLowerCase()))).length>0?a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:(j?se:I.filter(K=>K.title.toLowerCase().includes(x.toLowerCase())||K.topic&&K.topic.toLowerCase().includes(x.toLowerCase()))).map(K=>a.jsxs("div",{className:"relative group",children:[a.jsx(aF,{title:K.title,status:K.status||"draft",mode:K.generation_mode||void 0,date:K.created_at,onClick:()=>e(`/writer/${K.id}`)}),a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs(c0,{children:[a.jsx(u0,{asChild:!0,children:a.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-background/80 backdrop-blur-sm",children:a.jsx(Mx,{className:"h-4 w-4"})})}),a.jsxs(Rm,{align:"end",children:[a.jsxs(Sa,{onClick:()=>ae(K.id,K.title),children:[a.jsx(ER,{className:"h-4 w-4 mr-2"}),"Rename"]}),c.length>0&&a.jsxs(n6,{children:[a.jsxs(g_,{children:[a.jsx(Fg,{className:"h-4 w-4 mr-2"}),"Move to folder"]}),a.jsxs(v_,{children:[K.folder_id&&a.jsxs(Sa,{onClick:()=>re(K.id,null),children:[a.jsx(gf,{className:"h-4 w-4 mr-2"}),"Remove from folder"]}),c.filter(ge=>ge.id!==K.folder_id).map(ge=>a.jsxs(Sa,{onClick:()=>re(K.id,ge.id),children:[a.jsx(gf,{className:"h-4 w-4 mr-2"}),ge.name]},ge.id))]})]}),a.jsx(y_,{}),a.jsxs(Sa,{onClick:()=>Z(K.id),className:"text-destructive focus:text-destructive",children:[a.jsx(qe,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},K.id))}):a.jsxs("div",{className:"rounded-2xl border border-dashed border-border/50 p-12 text-center",children:[a.jsx("p",{className:"text-muted-foreground",children:x?"No projects found matching your search.":j?"No scripts in this folder yet.":"No projects yet. Create your first script!"}),a.jsx($,{className:"mt-4",asChild:!0,children:a.jsxs(Ql,{to:"/writer",children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Create Script"]})})]})]}),a.jsx(ac,{open:v,onOpenChange:w,children:a.jsxs(xi,{children:[a.jsx(wi,{children:a.jsx(bi,{children:"Create New Folder"})}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Folder Name"}),a.jsx(ie,{value:S,onChange:K=>N(K.target.value),placeholder:"My folder...",onKeyDown:K=>K.key==="Enter"&&P()})]})}),a.jsxs(Id,{children:[a.jsx($,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx($,{onClick:P,children:"Create"})]})]})}),a.jsx(ac,{open:_,onOpenChange:T,children:a.jsxs(xi,{children:[a.jsx(wi,{children:a.jsx(bi,{children:"Rename Project"})}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Project Name"}),a.jsx(ie,{value:M,onChange:K=>L(K.target.value),placeholder:"Project name...",onKeyDown:K=>K.key==="Enter"&&V()})]})}),a.jsxs(Id,{children:[a.jsx($,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),a.jsx($,{onClick:V,children:"Save"})]})]})})]})}const h6=()=>a.jsx(d6,{});function f6(){const[e,t]=d.useState(!0),[n,r]=d.useState(""),[s,o]=d.useState(""),[i,l]=d.useState(""),[c,u]=d.useState(!1),[h,f]=d.useState(!1),[m,g]=d.useState(!1),{user:b,signIn:p,signUp:x}=Hn(),{toast:y}=An();if(b)return a.jsx(IN,{to:"/",replace:!0});const v=async()=>{g(!0);try{const{error:N}=await ze.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});N&&y({title:"Error",description:N.message,variant:"destructive"})}finally{g(!1)}},w=async N=>{if(N.preventDefault(),s.length<6){y({title:"Password too short",description:"Password must be at least 6 characters",variant:"destructive"});return}f(!0);try{const{error:j}=e?await p(n,s):await x(n,s);if(j){let C=j.message;j.message.includes("Invalid login credentials")?C="Invalid email or password. Please try again.":j.message.includes("User already registered")&&(C="This email is already registered. Please sign in instead."),y({title:"Error",description:C,variant:"destructive"})}else e||(y({title:"Account created!",description:"You can now sign in with your credentials."}),t(!0),o(""))}finally{f(!1)}},S=[{icon:no,text:"Extract viral DNA patterns",description:"Analyze top-performing videos"},{icon:It,text:"AI-powered generation",description:"Create scripts in seconds"},{icon:Pi,text:"Audience personas",description:"Understand your viewers"},{icon:ir,text:"Rapid iteration",description:"Test and refine faster"}];return a.jsxs("div",{className:"min-h-screen flex overflow-hidden",children:[a.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative p-12 flex-col justify-between",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-background to-accent/30"}),a.jsxs("div",{className:"absolute inset-0 opacity-30",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-primary/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),a.jsx("div",{className:"relative z-10",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-2xl bg-primary/20 backdrop-blur-sm p-3 border border-primary/20",children:a.jsx(It,{className:"h-7 w-7 text-primary"})}),a.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Viral DNA"})]})}),a.jsxs("div",{className:"relative z-10 space-y-10",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-5xl font-bold tracking-tight leading-tight",children:["Unlock the secrets",a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"of viral content"})]}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground max-w-md leading-relaxed",children:"Extract patterns from successful videos, generate scripts that resonate, and build your audience faster than ever before."})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:S.map((N,j)=>a.jsxs("div",{className:"group p-4 rounded-2xl bg-card/50 backdrop-blur-sm border border-border/50 hover:border-primary/30 hover:bg-card/80 transition-all duration-300",children:[a.jsx("div",{className:"rounded-xl bg-primary/10 p-2.5 w-fit mb-3 group-hover:bg-primary/20 transition-colors",children:a.jsx(N.icon,{className:"h-5 w-5 text-primary"})}),a.jsx("p",{className:"font-medium text-sm",children:N.text}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:N.description})]},j))})]}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between text-sm text-muted-foreground",children:[a.jsx("span",{children:" 2026 logdd. All rights reserved."}),a.jsx(Ql,{to:"/pricing",className:"text-primary hover:underline",children:"View Pricing"})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-12 bg-background",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"lg:hidden flex items-center gap-3 mb-8 justify-center",children:[a.jsx("div",{className:"rounded-2xl bg-primary/20 p-3",children:a.jsx(It,{className:"h-7 w-7 text-primary"})}),a.jsx("span",{className:"text-2xl font-bold",children:"Viral DNA"})]}),a.jsxs(ve,{className:"border-0 shadow-2xl",children:[a.jsxs(fn,{className:"text-center pb-2",children:[a.jsx(Sn,{className:"text-2xl",children:e?"Welcome back":"Create your account"}),a.jsx(Gs,{children:e?"Enter your credentials to continue":"Start creating viral content today"})]}),a.jsxs(ye,{className:"pt-4 space-y-6",children:[a.jsx($,{type:"button",variant:"outline",className:"w-full rounded-xl h-12 gap-3 font-medium hover:bg-accent/50 transition-all",onClick:v,disabled:m,children:m?a.jsx(wt,{className:"h-5 w-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-3 text-muted-foreground",children:"or continue with email"})})]}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!e&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{htmlFor:"name",children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(OR,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{id:"name",type:"text",placeholder:"Your name",value:i,onChange:N=>l(N.target.value),className:"pl-10 rounded-xl h-12"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(NR,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:N=>r(N.target.value),className:"pl-10 rounded-xl h-12",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(bR,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{id:"password",type:c?"text":"password",placeholder:"",value:s,onChange:N=>o(N.target.value),className:"pl-10 pr-10 rounded-xl h-12",required:!0,minLength:6}),a.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?a.jsx(mR,{className:"h-4 w-4"}):a.jsx(gR,{className:"h-4 w-4"})})]}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters"})]}),e&&a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",children:"Forgot password?"})}),a.jsx($,{type:"submit",className:"w-full rounded-xl h-12 gap-2 font-medium",disabled:h,children:h?a.jsx(wt,{className:"h-4 w-4 animate-spin"}):a.jsxs(a.Fragment,{children:[e?"Sign In":"Create Account",a.jsx(Fg,{className:"h-4 w-4"})]})})]}),a.jsxs("div",{className:"text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e?"Don't have an account? ":"Already have an account? "}),a.jsx("button",{type:"button",onClick:()=>{t(!e),o("")},className:"font-semibold text-primary hover:underline",children:e?"Sign up":"Sign in"})]}),!e&&a.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By creating an account, you agree to our"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]})]})})]})}const we=d.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:Q("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));we.displayName="Textarea";function qr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var Vf="rovingFocusGroup.onEntryFocus",p6={bubbles:!1,cancelable:!0},Ic="RovingFocusGroup",[Am,N_,m6]=vc(Ic),[g6,j_]=Vt(Ic,[m6]),[v6,y6]=g6(Ic),C_=d.forwardRef((e,t)=>a.jsx(Am.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Am.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(x6,{...e,ref:t})})}));C_.displayName=Ic;var x6=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=d.useRef(null),g=Re(t,m),b=Fi(o),[p,x]=Wn({prop:i,defaultProp:l??null,onChange:c,caller:Ic}),[y,v]=d.useState(!1),w=lt(u),S=N_(n),N=d.useRef(!1),[j,C]=d.useState(0);return d.useEffect(()=>{const _=m.current;if(_)return _.addEventListener(Vf,w),()=>_.removeEventListener(Vf,w)},[w]),a.jsx(v6,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:d.useCallback(_=>x(_),[x]),onItemShiftTab:d.useCallback(()=>v(!0),[]),onFocusableItemAdd:d.useCallback(()=>C(_=>_+1),[]),onFocusableItemRemove:d.useCallback(()=>C(_=>_-1),[]),children:a.jsx(pe.div,{tabIndex:y||j===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...e.style},onMouseDown:qr(e.onMouseDown,()=>{N.current=!0}),onFocus:qr(e.onFocus,_=>{const T=!N.current;if(_.target===_.currentTarget&&T&&!y){const A=new CustomEvent(Vf,p6);if(_.currentTarget.dispatchEvent(A),!A.defaultPrevented){const O=S().filter(B=>B.focusable),M=O.find(B=>B.active),L=O.find(B=>B.id===p),ee=[M,L,...O].filter(Boolean).map(B=>B.ref.current);k_(ee,h)}}N.current=!1}),onBlur:qr(e.onBlur,()=>v(!1))})})}),__="RovingFocusGroupItem",E_=d.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=rn(),u=o||c,h=y6(__,n),f=h.currentTabStopId===u,m=N_(n),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:p}=h;return d.useEffect(()=>{if(r)return g(),()=>b()},[r,g,b]),a.jsx(Am.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(pe.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:qr(e.onMouseDown,x=>{r?h.onItemFocus(u):x.preventDefault()}),onFocus:qr(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:qr(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const y=S6(x,h.orientation,h.dir);if(y!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=m().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const S=w.indexOf(x.currentTarget);w=h.loop?N6(w,S+1):w.slice(S+1)}setTimeout(()=>k_(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});E_.displayName=__;var w6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function b6(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function S6(e,t,n){const r=b6(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return w6[r]}function k_(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function N6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var j6=C_,C6=E_;function _6(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var T_=e=>{const{present:t,children:n}=e,r=E6(t),s=typeof n=="function"?n({present:r.isPresent}):d.Children.only(n),o=Re(r.ref,k6(s));return typeof n=="function"||r.isPresent?d.cloneElement(s,{ref:o}):null};T_.displayName="Presence";function E6(e){const[t,n]=d.useState(),r=d.useRef(null),s=d.useRef(e),o=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=_6(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const u=bu(r.current);o.current=l==="mounted"?u:"none"},[l]),ct(()=>{const u=r.current,h=s.current;if(h!==e){const m=o.current,g=bu(u);e?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ct(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,f=g=>{const p=bu(r.current).includes(CSS.escape(g.animationName));if(g.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=g=>{g.target===t&&(o.current=bu(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function bu(e){return(e==null?void 0:e.animationName)||"none"}function k6(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kh="Tabs",[T6,y8]=Vt(kh,[j_]),P_=j_(),[P6,zv]=T6(kh),R_=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Fi(l),[f,m]=Wn({prop:r,onChange:s,defaultProp:o??"",caller:kh});return a.jsx(P6,{scope:n,baseId:rn(),value:f,onValueChange:m,orientation:i,dir:h,activationMode:c,children:a.jsx(pe.div,{dir:h,"data-orientation":i,...u,ref:t})})});R_.displayName=kh;var A_="TabsList",O_=d.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=zv(A_,n),i=P_(n);return a.jsx(j6,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(pe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});O_.displayName=A_;var I_="TabsTrigger",D_=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=zv(I_,n),l=P_(n),c=L_(i.baseId,r),u=F_(i.baseId,r),h=r===i.value;return a.jsx(C6,{asChild:!0,...l,focusable:!s,active:h,children:a.jsx(pe.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:qr(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:qr(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:qr(e.onFocus,()=>{const f=i.activationMode!=="manual";!h&&!s&&f&&i.onValueChange(r)})})})});D_.displayName=I_;var M_="TabsContent",$_=d.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=zv(M_,n),c=L_(l.baseId,r),u=F_(l.baseId,r),h=r===l.value,f=d.useRef(h);return d.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),a.jsx(T_,{present:s||h,children:({present:m})=>a.jsx(pe.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&o})})});$_.displayName=M_;function L_(e,t){return`${e}-trigger-${t}`}function F_(e,t){return`${e}-content-${t}`}var R6=R_,U_=O_,z_=D_,B_=$_;const ic=R6,Si=d.forwardRef(({className:e,...t},n)=>a.jsx(U_,{ref:n,className:Q("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Si.displayName=U_.displayName;const lr=d.forwardRef(({className:e,...t},n)=>a.jsx(z_,{ref:n,className:Q("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));lr.displayName=z_.displayName;const cr=d.forwardRef(({className:e,...t},n)=>a.jsx(B_,{ref:n,className:Q("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));cr.displayName=B_.displayName;function Om(e,[t,n]){return Math.min(n,Math.max(t,e))}function V_(e){const t=d.useRef({value:e,previous:e});return d.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var A6=[" ","Enter","ArrowUp","ArrowDown"],O6=[" ","Enter"],Ko="Select",[Th,Ph,I6]=vc(Ko),[Ui,x8]=Vt(Ko,[I6,Ii]),Rh=Ii(),[D6,ao]=Ui(Ko),[M6,$6]=Ui(Ko),W_=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:f,disabled:m,required:g,form:b}=e,p=Rh(t),[x,y]=d.useState(null),[v,w]=d.useState(null),[S,N]=d.useState(!1),j=Fi(u),[C,_]=Wn({prop:r,defaultProp:s??!1,onChange:o,caller:Ko}),[T,A]=Wn({prop:i,defaultProp:l,onChange:c,caller:Ko}),O=d.useRef(null),M=x?b||!!x.closest("form"):!0,[L,D]=d.useState(new Set),ee=Array.from(L).map(B=>B.props.value).join(";");return a.jsx(dh,{...p,children:a.jsxs(D6,{required:g,scope:t,trigger:x,onTriggerChange:y,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:N,contentId:rn(),value:T,onValueChange:A,open:C,onOpenChange:_,dir:j,triggerPointerDownPosRef:O,disabled:m,children:[a.jsx(Th.Provider,{scope:t,children:a.jsx(M6,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(B=>{D(se=>new Set(se).add(B))},[]),onNativeOptionRemove:d.useCallback(B=>{D(se=>{const I=new Set(se);return I.delete(B),I})},[]),children:n})}),M?a.jsxs(pE,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:T,onChange:B=>A(B.target.value),disabled:m,form:b,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(L)]},ee):null]})})};W_.displayName=Ko;var H_="SelectTrigger",K_=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Rh(n),i=ao(H_,n),l=i.disabled||r,c=Re(t,i.onTriggerChange),u=Ph(n),h=d.useRef("touch"),[f,m,g]=gE(p=>{const x=u().filter(w=>!w.disabled),y=x.find(w=>w.value===i.value),v=vE(x,p,y);v!==void 0&&i.onValueChange(v.value)}),b=p=>{l||(i.onOpenChange(!0),g()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(Zg,{asChild:!0,...o,children:a.jsx(pe.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":mE(i.value)?"":void 0,...s,ref:c,onClick:ne(s.onClick,p=>{p.currentTarget.focus(),h.current!=="mouse"&&b(p)}),onPointerDown:ne(s.onPointerDown,p=>{h.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:ne(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(x&&p.key===" ")&&A6.includes(p.key)&&(b(),p.preventDefault())})})})});K_.displayName=H_;var G_="SelectValue",q_=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=ao(G_,n),{onValueNodeHasChildrenChange:u}=c,h=o!==void 0,f=Re(t,c.onValueNodeChange);return ct(()=>{u(h)},[u,h]),a.jsx(pe.span,{...l,ref:f,style:{pointerEvents:"none"},children:mE(c.value)?a.jsx(a.Fragment,{children:i}):o})});q_.displayName=G_;var L6="SelectIcon",Y_=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(pe.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});Y_.displayName=L6;var F6="SelectPortal",Q_=e=>a.jsx(yc,{asChild:!0,...e});Q_.displayName=F6;var Go="SelectContent",J_=d.forwardRef((e,t)=>{const n=ao(Go,e.__scopeSelect),[r,s]=d.useState();if(ct(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Qo.createPortal(a.jsx(X_,{scope:e.__scopeSelect,children:a.jsx(Th.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(Z_,{...e,ref:t})});J_.displayName=Go;var Zn=10,[X_,io]=Ui(Go),U6="SelectContentImpl",z6=Uo("SelectContent.RemoveScroll"),Z_=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:b,hideWhenDetached:p,avoidCollisions:x,...y}=e,v=ao(Go,n),[w,S]=d.useState(null),[N,j]=d.useState(null),C=Re(t,G=>S(G)),[_,T]=d.useState(null),[A,O]=d.useState(null),M=Ph(n),[L,D]=d.useState(!1),ee=d.useRef(!1);d.useEffect(()=>{if(w)return vv(w)},[w]),gv();const B=d.useCallback(G=>{const[Pe,...ke]=M().map(Oe=>Oe.ref.current),[be]=ke.slice(-1),_e=document.activeElement;for(const Oe of G)if(Oe===_e||(Oe==null||Oe.scrollIntoView({block:"nearest"}),Oe===Pe&&N&&(N.scrollTop=0),Oe===be&&N&&(N.scrollTop=N.scrollHeight),Oe==null||Oe.focus(),document.activeElement!==_e))return},[M,N]),se=d.useCallback(()=>B([_,w]),[B,_,w]);d.useEffect(()=>{L&&se()},[L,se]);const{onOpenChange:I,triggerPointerDownPosRef:P}=v;d.useEffect(()=>{if(w){let G={x:0,y:0};const Pe=be=>{var _e,Oe;G={x:Math.abs(Math.round(be.pageX)-(((_e=P.current)==null?void 0:_e.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Oe=P.current)==null?void 0:Oe.y)??0))}},ke=be=>{G.x<=10&&G.y<=10?be.preventDefault():w.contains(be.target)||I(!1),document.removeEventListener("pointermove",Pe),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",Pe),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Pe),document.removeEventListener("pointerup",ke,{capture:!0})}}},[w,I,P]),d.useEffect(()=>{const G=()=>I(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[I]);const[V,Z]=gE(G=>{const Pe=M().filter(_e=>!_e.disabled),ke=Pe.find(_e=>_e.ref.current===document.activeElement),be=vE(Pe,G,ke);be&&setTimeout(()=>be.ref.current.focus())}),re=d.useCallback((G,Pe,ke)=>{const be=!ee.current&&!ke;(v.value!==void 0&&v.value===Pe||be)&&(T(G),be&&(ee.current=!0))},[v.value]),ae=d.useCallback(()=>w==null?void 0:w.focus(),[w]),me=d.useCallback((G,Pe,ke)=>{const be=!ee.current&&!ke;(v.value!==void 0&&v.value===Pe||be)&&O(G)},[v.value]),K=r==="popper"?Im:eE,ge=K===Im?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:b,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(X_,{scope:n,content:w,viewport:N,onViewportChange:j,itemRefCallback:re,selectedItem:_,onItemLeave:ae,itemTextRefCallback:me,focusSelectedItem:se,selectedItemText:A,position:r,isPositioned:L,searchRef:V,children:a.jsx(Sh,{as:z6,allowPinchZoom:!0,children:a.jsx(wh,{asChild:!0,trapped:v.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:ne(s,G=>{var Pe;(Pe=v.trigger)==null||Pe.focus({preventScroll:!0}),G.preventDefault()}),children:a.jsx(ki,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(K,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:G=>G.preventDefault(),...y,...ge,onPlaced:()=>D(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ne(y.onKeyDown,G=>{const Pe=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!Pe&&G.key.length===1&&Z(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let be=M().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(G.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const _e=G.target,Oe=be.indexOf(_e);be=be.slice(Oe+1)}setTimeout(()=>B(be)),G.preventDefault()}})})})})})})});Z_.displayName=U6;var B6="SelectItemAlignedPosition",eE=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=ao(Go,n),i=io(Go,n),[l,c]=d.useState(null),[u,h]=d.useState(null),f=Re(t,C=>h(C)),m=Ph(n),g=d.useRef(!1),b=d.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:y,focusSelectedItem:v}=i,w=d.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&x&&y){const C=o.trigger.getBoundingClientRect(),_=u.getBoundingClientRect(),T=o.valueNode.getBoundingClientRect(),A=y.getBoundingClientRect();if(o.dir!=="rtl"){const _e=A.left-_.left,Oe=T.left-_e,Ve=C.left-Oe,tt=C.width+Ve,ut=Math.max(tt,_.width),_t=window.innerWidth-Zn,Mt=Om(Oe,[Zn,Math.max(Zn,_t-ut)]);l.style.minWidth=tt+"px",l.style.left=Mt+"px"}else{const _e=_.right-A.right,Oe=window.innerWidth-T.right-_e,Ve=window.innerWidth-C.right-Oe,tt=C.width+Ve,ut=Math.max(tt,_.width),_t=window.innerWidth-Zn,Mt=Om(Oe,[Zn,Math.max(Zn,_t-ut)]);l.style.minWidth=tt+"px",l.style.right=Mt+"px"}const O=m(),M=window.innerHeight-Zn*2,L=p.scrollHeight,D=window.getComputedStyle(u),ee=parseInt(D.borderTopWidth,10),B=parseInt(D.paddingTop,10),se=parseInt(D.borderBottomWidth,10),I=parseInt(D.paddingBottom,10),P=ee+B+L+I+se,V=Math.min(x.offsetHeight*5,P),Z=window.getComputedStyle(p),re=parseInt(Z.paddingTop,10),ae=parseInt(Z.paddingBottom,10),me=C.top+C.height/2-Zn,K=M-me,ge=x.offsetHeight/2,G=x.offsetTop+ge,Pe=ee+B+G,ke=P-Pe;if(Pe<=me){const _e=O.length>0&&x===O[O.length-1].ref.current;l.style.bottom="0px";const Oe=u.clientHeight-p.offsetTop-p.offsetHeight,Ve=Math.max(K,ge+(_e?ae:0)+Oe+se),tt=Pe+Ve;l.style.height=tt+"px"}else{const _e=O.length>0&&x===O[0].ref.current;l.style.top="0px";const Ve=Math.max(me,ee+p.offsetTop+(_e?re:0)+ge)+ke;l.style.height=Ve+"px",p.scrollTop=Pe-me+p.offsetTop}l.style.margin=`${Zn}px 0`,l.style.minHeight=V+"px",l.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,o.trigger,o.valueNode,l,u,p,x,y,o.dir,r]);ct(()=>w(),[w]);const[S,N]=d.useState();ct(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const j=d.useCallback(C=>{C&&b.current===!0&&(w(),v==null||v(),b.current=!1)},[w,v]);return a.jsx(W6,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:g,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(pe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});eE.displayName=B6;var V6="SelectPopperPosition",Im=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Zn,...o}=e,i=Rh(n);return a.jsx(ev,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Im.displayName=V6;var[W6,Bv]=Ui(Go,{}),Dm="SelectViewport",tE=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=io(Dm,n),i=Bv(Dm,n),l=Re(t,o.onViewportChange),c=d.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Th.Slot,{scope:n,children:a.jsx(pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=i;if(m!=null&&m.current&&f){const g=Math.abs(c.current-h.scrollTop);if(g>0){const b=window.innerHeight-Zn*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(p,x);if(y<b){const v=y+g,w=Math.min(b,v),S=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(h.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});tE.displayName=Dm;var nE="SelectGroup",[H6,K6]=Ui(nE),G6=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=rn();return a.jsx(H6,{scope:n,id:s,children:a.jsx(pe.div,{role:"group","aria-labelledby":s,...r,ref:t})})});G6.displayName=nE;var rE="SelectLabel",sE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=K6(rE,n);return a.jsx(pe.div,{id:s.id,...r,ref:t})});sE.displayName=rE;var Dd="SelectItem",[q6,oE]=Ui(Dd),aE=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=ao(Dd,n),c=io(Dd,n),u=l.value===r,[h,f]=d.useState(o??""),[m,g]=d.useState(!1),b=Re(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,r,s)}),p=rn(),x=d.useRef("touch"),y=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(q6,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:d.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Th.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:a.jsx(pe.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:ne(i.onFocus,()=>g(!0)),onBlur:ne(i.onBlur,()=>g(!1)),onClick:ne(i.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ne(i.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ne(i.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:ne(i.onPointerMove,v=>{var w;x.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(i.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ne(i.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(O6.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})})})})});aE.displayName=Dd;var fl="SelectItemText",iE=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=ao(fl,n),l=io(fl,n),c=oE(fl,n),u=$6(fl,n),[h,f]=d.useState(null),m=Re(t,y=>f(y),c.onItemTextChange,y=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,y,c.value,c.disabled)}),g=h==null?void 0:h.textContent,b=d.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:g},c.value),[c.disabled,c.value,g]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return ct(()=>(p(b),()=>x(b)),[p,x,b]),a.jsxs(a.Fragment,{children:[a.jsx(pe.span,{id:c.textId,...o,ref:m}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Qo.createPortal(o.children,i.valueNode):null]})});iE.displayName=fl;var lE="SelectItemIndicator",cE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return oE(lE,n).isSelected?a.jsx(pe.span,{"aria-hidden":!0,...r,ref:t}):null});cE.displayName=lE;var Mm="SelectScrollUpButton",uE=d.forwardRef((e,t)=>{const n=io(Mm,e.__scopeSelect),r=Bv(Mm,e.__scopeSelect),[s,o]=d.useState(!1),i=Re(t,r.onScrollButtonChange);return ct(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(hE,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});uE.displayName=Mm;var $m="SelectScrollDownButton",dE=d.forwardRef((e,t)=>{const n=io($m,e.__scopeSelect),r=Bv($m,e.__scopeSelect),[s,o]=d.useState(!1),i=Re(t,r.onScrollButtonChange);return ct(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;o(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(hE,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});dE.displayName=$m;var hE=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=io("SelectScrollButton",n),i=d.useRef(null),l=Ph(n),c=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>c(),[c]),ct(()=>{var h;const u=l().find(f=>f.ref.current===document.activeElement);(h=u==null?void 0:u.ref.current)==null||h.scrollIntoView({block:"nearest"})},[l]),a.jsx(pe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:ne(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:ne(s.onPointerLeave,()=>{c()})})}),Y6="SelectSeparator",fE=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(pe.div,{"aria-hidden":!0,...r,ref:t})});fE.displayName=Y6;var Lm="SelectArrow",Q6=d.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Rh(n),o=ao(Lm,n),i=io(Lm,n);return o.open&&i.position==="popper"?a.jsx(tv,{...s,...r,ref:t}):null});Q6.displayName=Lm;var J6="SelectBubbleInput",pE=d.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=d.useRef(null),o=Re(r,s),i=V_(t);return d.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&h){const f=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(pe.select,{...n,style:{...qS,...n.style},ref:o,defaultValue:t})});pE.displayName=J6;function mE(e){return e===""||e===void 0}function gE(e){const t=lt(e),n=d.useRef(""),r=d.useRef(0),s=d.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=d.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function vE(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=X6(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function X6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Z6=W_,yE=K_,ez=q_,tz=Y_,nz=Q_,xE=J_,rz=tE,wE=sE,bE=aE,sz=iE,oz=cE,SE=uE,NE=dE,jE=fE;const Yr=Z6,Qr=ez,Pr=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(yE,{ref:r,className:Q("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(tz,{asChild:!0,children:a.jsx(hi,{className:"h-4 w-4 opacity-50"})})]}));Pr.displayName=yE.displayName;const CE=d.forwardRef(({className:e,...t},n)=>a.jsx(SE,{ref:n,className:Q("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(zp,{className:"h-4 w-4"})}));CE.displayName=SE.displayName;const _E=d.forwardRef(({className:e,...t},n)=>a.jsx(NE,{ref:n,className:Q("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(hi,{className:"h-4 w-4"})}));_E.displayName=NE.displayName;const Rr=d.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(nz,{children:a.jsxs(xE,{ref:s,className:Q("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(CE,{}),a.jsx(rz,{className:Q("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(_E,{})]})}));Rr.displayName=xE.displayName;const az=d.forwardRef(({className:e,...t},n)=>a.jsx(wE,{ref:n,className:Q("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));az.displayName=wE.displayName;const Qe=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(bE,{ref:r,className:Q("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(oz,{children:a.jsx(Jo,{className:"h-4 w-4"})})}),a.jsx(sz,{children:t})]}));Qe.displayName=bE.displayName;const iz=d.forwardRef(({className:e,...t},n)=>a.jsx(jE,{ref:n,className:Q("-mx-1 my-1 h-px bg-muted",e),...t}));iz.displayName=jE.displayName;const lz=e=>{try{const t=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,n=e.match(t);return n?n[1]:null}catch{return null}},cz=async(e,t,n=200)=>{var s;if(!t)throw new Error("YouTube API Key not configured. Please enter your key in Settings.");const r=lz(e);if(!r)throw new Error("Invalid YouTube URL.");try{let o=[],i;const l=Math.ceil(n/100);for(let c=0;c<l&&o.length<n;c++){const u=new URLSearchParams({part:"snippet",videoId:r,key:t,maxResults:"100",order:"relevance",textFormat:"plainText"});i&&u.append("pageToken",i);const h=await fetch(`https://www.googleapis.com/youtube/v3/commentThreads?${u.toString()}`),f=await h.json();if(!h.ok){const m=((s=f.error)==null?void 0:s.message)||"Unknown YouTube API error";throw m.includes("disabled")?new Error("Comments are disabled for this video."):m.includes("API key not valid")?new Error("Invalid API Key. Please check your Settings."):m.includes("commentsDisabled")?new Error("Comments are disabled for this video."):new Error(m)}if(f.items){const m=f.items.map(g=>{const b=g.snippet.topLevelComment.snippet;return{author:b.authorDisplayName,text:b.textDisplay,likeCount:b.likeCount,authorProfileImageUrl:b.authorProfileImageUrl,publishedAt:b.publishedAt}});o=o.concat(m)}if(i=f.nextPageToken,!i)break}return o.sort((c,u)=>u.likeCount-c.likeCount).slice(0,n)}catch(o){throw console.error("YouTube Fetch Error:",o),new Error(o.message||"Could not fetch comments.")}};function EE(){const[e,t]=d.useState(!1),{toast:n}=An(),{settings:r}=Tc();return{fetchComments:async(o,i=200)=>{if(!o)return n({title:"Error",description:"Please enter a video URL",variant:"destructive"}),[];const l=r==null?void 0:r.youtube_api_key;if(!l)return n({title:"Error",description:"YouTube API Key not configured. Please enter your key in Settings.",variant:"destructive"}),[];t(!0);try{const c=await cz(o,l,i);return n({title:"Success",description:`Fetched ${c.length} comments`}),c}catch(c){console.error("Error fetching YouTube comments:",c);const u=c instanceof Error?c.message:"Could not fetch comments";return n({title:"Error",description:u,variant:"destructive"}),[]}finally{t(!1)}},loading:e}}var Ah="Collapsible",[uz,w8]=Vt(Ah),[dz,Vv]=uz(Ah),kE=d.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c,u]=Wn({prop:r,defaultProp:s??!1,onChange:i,caller:Ah});return a.jsx(dz,{scope:n,disabled:o,contentId:rn(),open:c,onOpenToggle:d.useCallback(()=>u(h=>!h),[u]),children:a.jsx(pe.div,{"data-state":Hv(c),"data-disabled":o?"":void 0,...l,ref:t})})});kE.displayName=Ah;var TE="CollapsibleTrigger",PE=d.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=Vv(TE,n);return a.jsx(pe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Hv(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:ne(e.onClick,s.onOpenToggle)})});PE.displayName=TE;var Wv="CollapsibleContent",RE=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Vv(Wv,e.__scopeCollapsible);return a.jsx(Yt,{present:n||s.open,children:({present:o})=>a.jsx(hz,{...r,ref:t,present:o})})});RE.displayName=Wv;var hz=d.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,i=Vv(Wv,n),[l,c]=d.useState(r),u=d.useRef(null),h=Re(t,u),f=d.useRef(0),m=f.current,g=d.useRef(0),b=g.current,p=i.open||l,x=d.useRef(p),y=d.useRef(void 0);return d.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),ct(()=>{const v=u.current;if(v){y.current=y.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();f.current=w.height,g.current=w.width,x.current||(v.style.transitionDuration=y.current.transitionDuration,v.style.animationName=y.current.animationName),c(r)}},[i.open,r]),a.jsx(pe.div,{"data-state":Hv(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...o,ref:h,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:p&&s})});function Hv(e){return e?"open":"closed"}var fz=kE;const Md=fz,$d=PE,Ld=RE;function pz({dna:e,onSave:t,onCancel:n,saving:r}){const[s,o]=d.useState(e),[i,l]=d.useState({}),c=(p,x)=>{o(y=>({...y,[p]:x}))},u=(p,x,y)=>{o(v=>({...v,[p]:{...v[p],[x]:y}}))},h=(p,x="")=>{const y=s[p];c(p,[...y,x])},f=(p,x,y)=>{const v=[...s[p]];v[x]=y,c(p,v)},m=(p,x)=>{const y=s[p].filter((v,w)=>w!==x);c(p,y)},g=p=>{l(x=>({...x,[p]:!x[p]}))},b=s.structuralSkeleton.reduce((p,x)=>p+(x.wordCount||0),0);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b",children:a.jsxs("div",{className:"flex items-center justify-between p-4 max-w-[1600px] mx-auto",children:[a.jsxs($,{variant:"ghost",onClick:n,className:"gap-2",children:[a.jsx(ro,{className:"h-4 w-4"}),"Cancel"]}),a.jsx(ie,{value:s.name,onChange:p=>c("name",p.target.value),className:"max-w-md text-center text-lg font-semibold bg-transparent border-none focus-visible:ring-1",placeholder:"DNA Name"}),a.jsxs($,{onClick:()=>t(s),disabled:r,className:"gap-2",children:[a.jsx(ah,{className:"h-4 w-4"}),"Save DNA"]})]})}),a.jsx("div",{className:"max-w-[1600px] mx-auto p-4 md:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Fn,{className:"h-3 w-3 text-primary"})," My Notes / Constraints"]}),a.jsx(we,{placeholder:"Add your own mandatory elements or notes here (optional)...",className:"min-h-[80px] bg-muted/50 resize-none"})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(Pi,{className:"h-3 w-3"})," Niche / Category"]}),a.jsx(ie,{value:s.niche,onChange:p=>c("niche",p.target.value),placeholder:"e.g., Health & Fitness, Crypto, Gaming...",className:"bg-muted/50"})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(Fn,{className:"h-3 w-3"})," Target Word Count"]}),a.jsx(ie,{type:"number",value:s.targetWordCount||"",onChange:p=>c("targetWordCount",parseInt(p.target.value)||0),placeholder:"e.g., 3316",className:"bg-muted/50"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Calculated from viral scripts. Scripts generated will aim for this range."})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-4",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(x1,{className:"h-3 w-3"})," Linguistic Fingerprint (The Voice)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Persona / Role"}),a.jsx(ie,{value:s.linguisticFingerprint.personaRole,onChange:p=>u("linguisticFingerprint","personaRole",p.target.value),placeholder:"e.g., The Financial Realist Mentor",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Tone Analysis"}),a.jsx(we,{value:s.linguisticFingerprint.toneAnalysis,onChange:p=>u("linguisticFingerprint","toneAnalysis",p.target.value),placeholder:"Describe the tone...",className:"min-h-[80px] bg-muted/50 resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Signature Keywords"}),a.jsx(ie,{value:s.linguisticFingerprint.signatureKeywords.join(", "),onChange:p=>u("linguisticFingerprint","signatureKeywords",p.target.value.split(",").map(x=>x.trim())),placeholder:"e.g., Trap, Survival Mode, Freedom, System...",className:"bg-muted/50"})]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-4",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(ir,{className:"h-3 w-3 text-green-500"})," Hook Angle (Psychology)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Angle / Category"}),a.jsx(ie,{value:s.hookAngle.angleCategory,onChange:p=>u("hookAngle","angleCategory",p.target.value),placeholder:"e.g., Negative, Curiosity, Paradox...",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Deconstruction"}),a.jsx(we,{value:s.hookAngle.deconstruction,onChange:p=>u("hookAngle","deconstruction",p.target.value),placeholder:"How the hook works psychologically...",className:"min-h-[80px] bg-muted/50 resize-none"})]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-4",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(w1,{className:"h-3 w-3"})," Pacing (Linguistic Rhythm)"]}),a.jsx(we,{value:s.pacingAndTone.pacing,onChange:p=>u("pacingAndTone","pacing",p.target.value),placeholder:"Describe the pacing...",className:"min-h-[100px] bg-muted/50 resize-none"})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(F,{className:"text-xs uppercase text-blue-500 flex items-center gap-1.5",children:[a.jsx(Fn,{className:"h-3 w-3"})," Structural Skeleton (Advanced)"]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Est. Total: ",a.jsxs("span",{className:"text-foreground font-medium",children:[b," words"]})]})]}),a.jsx("div",{className:"space-y-2",children:s.structuralSkeleton.map((p,x)=>a.jsxs(Md,{open:!!i[x],onOpenChange:()=>g(x),children:[a.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-2",children:[a.jsx($d,{asChild:!0,children:a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",children:i[x]?a.jsx(hi,{className:"h-4 w-4"}):a.jsx(Kr,{className:"h-4 w-4"})})}),a.jsx(ie,{value:p.title,onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,title:y.target.value},c("structuralSkeleton",v)},className:"flex-1 h-8 bg-transparent border-none",placeholder:"Section title..."}),a.jsx(ie,{type:"number",value:p.wordCount||0,onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,wordCount:parseInt(y.target.value)||0},c("structuralSkeleton",v)},className:"w-24 h-8 text-xs text-center bg-muted",placeholder:"Words"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{const y=s.structuralSkeleton.filter((v,w)=>w!==x);c("structuralSkeleton",y)},children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]}),a.jsxs(Ld,{className:"pt-4 pl-4 space-y-4 border-l-2 border-muted ml-3 mb-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Section Tone"}),a.jsx(ie,{value:p.tone||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,tone:y.target.value},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"e.g. Urgent, Inquisitive, Calm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Linguistic Pacing (Rhythm/Speed)"}),a.jsx(we,{value:p.pacing||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,pacing:y.target.value},c("structuralSkeleton",v)},className:"min-h-[60px] bg-muted/30 text-xs resize-none",placeholder:"Detailed pacing instructions (e.g. Fast cuts every 2s...)"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Content Focus"}),a.jsx(we,{value:p.contentFocus||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,contentFocus:y.target.value},c("structuralSkeleton",v)},className:"min-h-[80px] bg-muted/30 text-xs resize-none",placeholder:"What happens here? Main objective..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Micro Hook (First 5s)"}),a.jsx(ie,{value:p.microHook||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,microHook:y.target.value},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"Mini-hook strategy..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Open Loop (Optional)"}),a.jsx(ie,{value:p.openLoop||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,openLoop:y.target.value},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"Curiosity gap..."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Viral Trigger (Optional)"}),a.jsx(ie,{value:p.viralTriggers||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,viralTriggers:y.target.value},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"Specific element..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Must Include Elements (Comma Separated)"}),a.jsx(ie,{value:(p.mustInclude||[]).join(", "),onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,mustInclude:y.target.value.split(",").map(w=>w.trim())},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"e.g. Sound effect, Visual metaphor"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Audience Interaction / CTA (Optional)"}),a.jsx(ie,{value:p.audienceInteraction||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,audienceInteraction:y.target.value},c("structuralSkeleton",v)},className:"h-8 bg-muted/30 text-xs",placeholder:"Specific CTA or engagement prompt..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-orange-500",children:"Audience Value (Takeaway) *"}),a.jsx(we,{value:p.audienceValue||"",onChange:y=>{const v=[...s.structuralSkeleton];v[x]={...p,audienceValue:y.target.value},c("structuralSkeleton",v)},className:"min-h-[60px] bg-muted/30 text-xs resize-none border-orange-500/30 focus:border-orange-500/50",placeholder:"What value does the viewer get? (Mandatory)"})]})]})]})]},x))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{c("structuralSkeleton",[...s.structuralSkeleton,{title:"",wordCount:100}])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Detailed Section"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-yellow-500 flex items-center gap-1.5",children:[a.jsx(ir,{className:"h-3 w-3"})," High Dopamine (Keep)"]}),a.jsx("div",{className:"space-y-2",children:s.highDopamine.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:p,onChange:y=>f("highDopamine",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>m("highDopamine",x),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>h("highDopamine"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add High"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-orange-500 flex items-center gap-1.5",children:[a.jsx(N1,{className:"h-3 w-3"})," Confusion Points (Fix)"]}),a.jsx("div",{className:"space-y-2",children:s.confusionPoints.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:p,onChange:y=>f("confusionPoints",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>m("confusionPoints",x),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>h("confusionPoints"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Confusion"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(fi,{className:"h-3 w-3"})," Objections (Address)"]}),a.jsx("div",{className:"space-y-2",children:s.objections.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:p,onChange:y=>f("objections",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>m("objections",x),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>h("objections"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Objections"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(b1,{className:"h-3 w-3"})," Core Patterns (70% Safe)"]}),a.jsx("div",{className:"space-y-2",children:s.corePatterns.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:p,onChange:y=>f("corePatterns",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>m("corePatterns",x),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>h("corePatterns"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Core"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-purple-500 flex items-center gap-1.5",children:[a.jsx(It,{className:"h-3 w-3"})," Viral X-Factors (30% Magic)"]}),a.jsx("div",{className:"space-y-2",children:s.viralXFactors.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:p,onChange:y=>f("viralXFactors",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>m("viralXFactors",x),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>h("viralXFactors"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Viral"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-red-400 flex items-center gap-1.5",children:[a.jsx(v1,{className:"h-3 w-3"})," Flop Avoidance"]}),a.jsx("div",{className:"space-y-2",children:s.flopAvoidance.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:p,onChange:y=>f("flopAvoidance",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>m("flopAvoidance",x),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>h("flopAvoidance"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Flop"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(ir,{className:"h-3 w-3"})," Hook Examples"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"AI learns from these patterns. DO NOT copy exact wording."}),a.jsx("div",{className:"space-y-2",children:(s.hook_examples||[]).map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:p,onChange:y=>f("hook_examples",x,y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>m("hook_examples",x),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>h("hook_examples"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Example"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-purple-500 flex items-center gap-1.5",children:[a.jsx(Ug,{className:"h-3 w-3"})," Audience Psychology"]}),a.jsx(we,{value:s.audiencePsychology,onChange:p=>c("audiencePsychology",p.target.value),placeholder:"Describe the audience's emotional state, fears, desires...",className:"min-h-[120px] bg-muted/50 resize-none"})]})})]})]})]})})]})}function mz({dna:e,onBack:t,onUpdate:n,onExport:r,onEvolve:s}){var I,P,V,Z,re,ae,me,K,ge,G,Pe,ke,be,_e,Oe,Ve,tt,ut,_t,Mt,an,W,Me;const[o,i]=d.useState(e),[l,c]=d.useState({}),[u,h]=d.useState(!1),[f,m]=d.useState(!1),[g,b]=d.useState(!1),[p,x]=d.useState(!1),[y,v]=d.useState([]),[w,S]=d.useState(""),[N,j]=d.useState(""),[C,_]=d.useState(""),[T,A]=d.useState(""),O=(R,U)=>{i(Y=>({...Y,[R]:U})),m(!0)},M=R=>{c(U=>({...U,[R]:!U[R]}))},L=async()=>{h(!0);try{await n({name:o.name,niche:o.niche,tone:o.tone,pacing:o.pacing,vocabulary:o.vocabulary,hook_type:o.hook_type,hook_examples:o.hook_examples,structure:o.structure,patterns:o.patterns,retention_tactics:o.retention_tactics,x_factors:o.x_factors,analysis_data:o.analysis_data}),m(!1)}finally{h(!1)}},D=(R,U)=>{i(Y=>({...Y,analysis_data:{...Y.analysis_data||{},[R]:U}})),m(!0)},ee=R=>{const U=o[R]||[];O(R,[...U,""])},B=(R,U,Y)=>{const J=[...o[R]||[]];J[U]=Y,O(R,J)},se=(R,U)=>{const Y=(o[R]||[]).filter((J,oe)=>oe!==U);O(R,Y)};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b",children:a.jsxs("div",{className:"flex items-center justify-between p-4 max-w-[1600px] mx-auto",children:[a.jsxs($,{variant:"ghost",onClick:t,className:"gap-2",children:[a.jsx(lR,{className:"h-4 w-4"}),"Back"]}),a.jsx(ie,{value:o.name,onChange:R=>O("name",R.target.value),className:"max-w-md text-center text-lg font-semibold bg-transparent border-none focus-visible:ring-1",placeholder:"DNA Name"}),a.jsxs("div",{className:"flex gap-2",children:[s&&a.jsxs($,{variant:"outline",onClick:()=>b(!g),className:"gap-2 border-green-500/50 text-green-500 hover:bg-green-500/10",children:[a.jsx(Vr,{className:"h-4 w-4"}),"Evolve DNA"]}),a.jsxs($,{variant:"outline",onClick:()=>r(o),className:"gap-2",children:[a.jsx(zg,{className:"h-4 w-4"}),"Export"]}),f&&a.jsxs($,{onClick:L,disabled:u,className:"gap-2",children:[a.jsx(ah,{className:"h-4 w-4"}),"Save"]})]})]})}),g&&s&&a.jsx("div",{className:"max-w-[1600px] mx-auto p-4 border-b bg-green-500/5",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(F,{className:"text-sm font-semibold flex items-center gap-2 text-green-500",children:[a.jsx(Vr,{className:"h-4 w-4"}),"DNA Evolution - Learn from New Content"]}),a.jsx($,{variant:"ghost",size:"sm",onClick:()=>{b(!1),v([])},children:" Close"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsx(F,{className:"text-xs uppercase text-green-500",children:" Viral Video (to learn from)"}),a.jsx(ie,{value:N,onChange:R=>j(R.target.value),placeholder:"Video URL (optional)",className:"bg-muted/50"}),a.jsx(we,{value:w,onChange:R=>S(R.target.value),placeholder:"Paste viral video transcript here...",className:"min-h-[120px] bg-muted/50 resize-none"})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsx(F,{className:"text-xs uppercase text-red-400",children:" Flop Video (to learn mistakes)"}),a.jsx(ie,{value:T,onChange:R=>A(R.target.value),placeholder:"Video URL (optional)",className:"bg-muted/50"}),a.jsx(we,{value:C,onChange:R=>_(R.target.value),placeholder:"Paste flop video transcript here...",className:"min-h-[120px] bg-muted/50 resize-none"})]})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx($,{onClick:async()=>{if(!w&&!C)return;x(!0),v([]);const R=await s({viralVideos:w?[{transcript:w,url:N}]:void 0,flopVideos:C?[{transcript:C,url:T}]:void 0});x(!1),R.success&&R.changesSummary&&(v(R.changesSummary),S(""),j(""),_(""),A(""),i({...e}))},disabled:p||!w&&!C,className:"gap-2 bg-green-600 hover:bg-green-700",children:p?a.jsxs(a.Fragment,{children:[a.jsx(wt,{className:"h-4 w-4 animate-spin"}),"Evolving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(It,{className:"h-4 w-4"}),"Evolve Now"]})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"AI will learn from new content and refine your DNA patterns."})]}),y.length>0&&a.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[a.jsxs(F,{className:"text-sm font-semibold text-green-500 mb-2 block",children:[" Evolution Complete - ",y.length," Changes Made:"]}),a.jsx("ul",{className:"space-y-1",children:y.map((R,U)=>a.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[a.jsx("span",{className:"text-green-500",children:""}),R]},U))})]})]})}),a.jsx("div",{className:"max-w-[1600px] mx-auto p-4 md:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Fn,{className:"h-3 w-3 text-primary"})," My Notes / Constraints"]}),a.jsx(we,{placeholder:"Add your own mandatory elements or notes here (optional)...",className:"min-h-[80px] bg-muted/50 resize-none"})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(Pi,{className:"h-3 w-3"})," Niche / Category"]}),a.jsx(ie,{value:o.niche||"",onChange:R=>O("niche",R.target.value),placeholder:"e.g., Health & Fitness, Crypto, Gaming...",className:"bg-muted/50"})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(Fn,{className:"h-3 w-3"})," Target Word Count"]}),a.jsx(ie,{type:"number",value:((I=o.analysis_data)==null?void 0:I.targetWordCount)||"",onChange:R=>D("targetWordCount",parseInt(R.target.value)||0),placeholder:"e.g., 3316",className:"bg-muted/50"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Calculated from viral scripts. Scripts generated will aim for this range."})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-4",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(x1,{className:"h-3 w-3"})," Linguistic Fingerprint (The Voice)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Persona / Role"}),a.jsx(ie,{value:((V=(P=o.analysis_data)==null?void 0:P.linguisticFingerprint)==null?void 0:V.personaRole)||"",onChange:R=>{var Y;const U=((Y=o.analysis_data)==null?void 0:Y.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]};D("linguisticFingerprint",{...U,personaRole:R.target.value})},placeholder:"e.g., The Financial Realist Mentor",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Tone Analysis"}),a.jsx(we,{value:((re=(Z=o.analysis_data)==null?void 0:Z.linguisticFingerprint)==null?void 0:re.toneAnalysis)||"",onChange:R=>{var Y;const U=((Y=o.analysis_data)==null?void 0:Y.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]};D("linguisticFingerprint",{...U,toneAnalysis:R.target.value})},placeholder:"Describe the tone...",className:"min-h-[80px] bg-muted/50 resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Signature Keywords"}),a.jsx(ie,{value:((K=(me=(ae=o.analysis_data)==null?void 0:ae.linguisticFingerprint)==null?void 0:me.signatureKeywords)==null?void 0:K.join(", "))||"",onChange:R=>{var Y;const U=((Y=o.analysis_data)==null?void 0:Y.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]};D("linguisticFingerprint",{...U,signatureKeywords:R.target.value.split(",").map(J=>J.trim())})},placeholder:"e.g., Trap, Survival Mode, Freedom, System...",className:"bg-muted/50"})]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-4",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(ir,{className:"h-3 w-3 text-green-500"})," Hook Angle (Psychology)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Angle / Category"}),a.jsx(ie,{value:((G=(ge=o.analysis_data)==null?void 0:ge.hookAngle)==null?void 0:G.angleCategory)||o.hook_type||"",onChange:R=>{var Y;const U=((Y=o.analysis_data)==null?void 0:Y.hookAngle)||{angleCategory:"",deconstruction:""};D("hookAngle",{...U,angleCategory:R.target.value})},placeholder:"e.g., Negative, Curiosity, Paradox...",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Deconstruction"}),a.jsx(we,{value:((ke=(Pe=o.analysis_data)==null?void 0:Pe.hookAngle)==null?void 0:ke.deconstruction)||"",onChange:R=>{var Y;const U=((Y=o.analysis_data)==null?void 0:Y.hookAngle)||{angleCategory:"",deconstruction:""};D("hookAngle",{...U,deconstruction:R.target.value})},placeholder:"How the hook works psychologically...",className:"min-h-[80px] bg-muted/50 resize-none"})]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-4",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(w1,{className:"h-3 w-3"})," Pacing"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Pacing"}),a.jsx(we,{value:((_e=(be=o.analysis_data)==null?void 0:be.pacingAndTone)==null?void 0:_e.pacing)||o.pacing||"",onChange:R=>{var Y;const U=((Y=o.analysis_data)==null?void 0:Y.pacingAndTone)||{pacing:""};D("pacingAndTone",{...U,pacing:R.target.value})},placeholder:"Describe the pacing...",className:"min-h-[80px] bg-muted/50 resize-none"})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(F,{className:"text-xs uppercase text-blue-500 flex items-center gap-1.5",children:[a.jsx(Fn,{className:"h-3 w-3"})," Structural Skeleton (Advanced)"]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Est. Total: ",a.jsxs("span",{className:"text-foreground font-medium",children:[(((Oe=o.analysis_data)==null?void 0:Oe.structuralSkeleton)||[]).reduce((R,U)=>R+(U.wordCount||0),0)," words"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[(((Ve=o.analysis_data)==null?void 0:Ve.structuralSkeleton)||[]).map((R,U)=>a.jsxs(Md,{open:!!l[U],onOpenChange:()=>M(U),children:[a.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-2",children:[a.jsx($d,{asChild:!0,children:a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",children:l[U]?a.jsx(hi,{className:"h-4 w-4"}):a.jsx(Kr,{className:"h-4 w-4"})})}),a.jsx(ie,{value:R.title,onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,title:Y.target.value},D("structuralSkeleton",J)},className:"flex-1 h-8 bg-transparent border-none",placeholder:"Section title..."}),a.jsx(ie,{type:"number",value:R.wordCount||0,onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,wordCount:parseInt(Y.target.value)||0},D("structuralSkeleton",J)},className:"w-24 h-8 text-xs text-center bg-muted",placeholder:"Words"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var J;const Y=(((J=o.analysis_data)==null?void 0:J.structuralSkeleton)||[]).filter((oe,Ue)=>Ue!==U);D("structuralSkeleton",Y)},children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]}),a.jsxs(Ld,{className:"pt-4 pl-4 space-y-4 border-l-2 border-muted ml-3 mb-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Section Tone"}),a.jsx(ie,{value:R.tone||"",onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,tone:Y.target.value},D("structuralSkeleton",J)},className:"h-8 bg-muted/30 text-xs",placeholder:"e.g. Urgent, Inquisitive, Calm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Linguistic Pacing (Rhythm/Speed)"}),a.jsx(we,{value:R.pacing||"",onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,pacing:Y.target.value},D("structuralSkeleton",J)},className:"min-h-[60px] bg-muted/30 text-xs resize-none",placeholder:"Detailed pacing instructions (e.g. Fast cuts every 2s...)"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Content Focus"}),a.jsx(we,{value:R.contentFocus||"",onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,contentFocus:Y.target.value},D("structuralSkeleton",J)},className:"min-h-[80px] bg-muted/30 text-xs resize-none",placeholder:"What happens here? Main objective..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Micro Hook (First 5s)"}),a.jsx(ie,{value:R.microHook||"",onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,microHook:Y.target.value},D("structuralSkeleton",J)},className:"h-8 bg-muted/30 text-xs",placeholder:"Mini-hook strategy..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Open Loop (Optional)"}),a.jsx(ie,{value:R.openLoop||"",onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,openLoop:Y.target.value},D("structuralSkeleton",J)},className:"h-8 bg-muted/30 text-xs",placeholder:"Curiosity gap..."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Viral Trigger (Optional)"}),a.jsx(ie,{value:R.viralTriggers||"",onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,viralTriggers:Y.target.value},D("structuralSkeleton",J)},className:"h-8 bg-muted/30 text-xs",placeholder:"Specific element..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Must Include Elements (Comma Separated)"}),a.jsx(ie,{value:(R.mustInclude||[]).join(", "),onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,mustInclude:Y.target.value.split(",").map(Ue=>Ue.trim())},D("structuralSkeleton",J)},className:"h-8 bg-muted/30 text-xs",placeholder:"e.g. Sound effect, Visual metaphor"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-muted-foreground",children:"Audience Interaction / CTA (Optional)"}),a.jsx(ie,{value:R.audienceInteraction||"",onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,audienceInteraction:Y.target.value},D("structuralSkeleton",J)},className:"h-8 bg-muted/30 text-xs",placeholder:"Specific CTA or engagement prompt..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(F,{className:"text-[10px] uppercase text-orange-500",children:"Audience Value (Takeaway) *"}),a.jsx(we,{value:R.audienceValue||"",onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.structuralSkeleton)||[]];J[U]={...R,audienceValue:Y.target.value},D("structuralSkeleton",J)},className:"min-h-[60px] bg-muted/30 text-xs resize-none border-orange-500/30 focus:border-orange-500/50",placeholder:"What value does the viewer get? (Mandatory)"})]})]})]})]},U)),(!((tt=o.analysis_data)!=null&&tt.structuralSkeleton)||o.analysis_data.structuralSkeleton.length===0)&&(o.structure||[]).length>0&&a.jsxs("div",{className:"space-y-2 mt-4",children:[a.jsx(F,{className:"text-xs text-muted-foreground block mb-2",children:"Legacy Structure View"}),(ut=o.structure)==null?void 0:ut.map((R,U)=>a.jsxs("div",{className:"flex gap-2 items-center bg-muted/30 p-2 rounded",children:[a.jsx(Tt,{variant:"secondary",className:"shrink-0",children:U+1}),a.jsx("span",{className:"text-sm flex-1",children:R})]},U)),a.jsx($,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{const R=(o.structure||[]).map(U=>({title:U,wordCount:100,percentage:10,wordRange:"0-0"}));D("structuralSkeleton",R)},children:"Convert to Advanced Structure"})]})]}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{var U;const R=((U=o.analysis_data)==null?void 0:U.structuralSkeleton)||[];D("structuralSkeleton",[...R,{title:"",wordCount:100}])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Detailed Section"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-purple-500 flex items-center gap-1.5",children:[a.jsx(It,{className:"h-3 w-3"})," Core Patterns"]}),a.jsx("div",{className:"space-y-2",children:(o.patterns||[]).map((R,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:R,onChange:Y=>B("patterns",U,Y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter pattern..."}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>se("patterns",U),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>ee("patterns"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Pattern"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-yellow-500 flex items-center gap-1.5",children:[a.jsx(ir,{className:"h-3 w-3"})," Retention Tactics"]}),a.jsx("div",{className:"space-y-2",children:(o.retention_tactics||[]).map((R,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:R,onChange:Y=>B("retention_tactics",U,Y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter tactic..."}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>se("retention_tactics",U),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>ee("retention_tactics"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Tactic"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-pink-500 flex items-center gap-1.5",children:[a.jsx(b1,{className:"h-3 w-3"})," Viral X-Factors"]}),a.jsx("div",{className:"space-y-2",children:(o.x_factors||[]).map((R,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:R,onChange:Y=>B("x_factors",U,Y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter x-factor..."}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>se("x_factors",U),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>ee("x_factors"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add X-Factor"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-yellow-500 flex items-center gap-1.5",children:[a.jsx(ir,{className:"h-3 w-3"})," High Dopamine (Keep)"]}),a.jsx("div",{className:"space-y-2",children:(((_t=o.analysis_data)==null?void 0:_t.highDopamine)||[]).map((R,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:R,onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.highDopamine)||[]];J[U]=Y.target.value,D("highDopamine",J)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"High dopamine element..."}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var J;const Y=(((J=o.analysis_data)==null?void 0:J.highDopamine)||[]).filter((oe,Ue)=>Ue!==U);D("highDopamine",Y)},children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{var R;return D("highDopamine",[...((R=o.analysis_data)==null?void 0:R.highDopamine)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add High"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-orange-500 flex items-center gap-1.5",children:[a.jsx(N1,{className:"h-3 w-3"})," Confusion Points (Fix)"]}),a.jsx("div",{className:"space-y-2",children:(((Mt=o.analysis_data)==null?void 0:Mt.confusionPoints)||[]).map((R,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:R,onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.confusionPoints)||[]];J[U]=Y.target.value,D("confusionPoints",J)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Confusion point..."}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var J;const Y=(((J=o.analysis_data)==null?void 0:J.confusionPoints)||[]).filter((oe,Ue)=>Ue!==U);D("confusionPoints",Y)},children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{var R;return D("confusionPoints",[...((R=o.analysis_data)==null?void 0:R.confusionPoints)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Confusion"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(fi,{className:"h-3 w-3"})," Objections (Address)"]}),a.jsx("div",{className:"space-y-2",children:(((an=o.analysis_data)==null?void 0:an.objections)||[]).map((R,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:R,onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.objections)||[]];J[U]=Y.target.value,D("objections",J)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Objection to address..."}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var J;const Y=(((J=o.analysis_data)==null?void 0:J.objections)||[]).filter((oe,Ue)=>Ue!==U);D("objections",Y)},children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{var R;return D("objections",[...((R=o.analysis_data)==null?void 0:R.objections)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Objection"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(v1,{className:"h-3 w-3"})," Flop Avoidance"]}),a.jsx("div",{className:"space-y-2",children:(((W=o.analysis_data)==null?void 0:W.flopAvoidance)||[]).map((R,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:R,onChange:Y=>{var oe;const J=[...((oe=o.analysis_data)==null?void 0:oe.flopAvoidance)||[]];J[U]=Y.target.value,D("flopAvoidance",J)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"What to avoid..."}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var J;const Y=(((J=o.analysis_data)==null?void 0:J.flopAvoidance)||[]).filter((oe,Ue)=>Ue!==U);D("flopAvoidance",Y)},children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{var R;return D("flopAvoidance",[...((R=o.analysis_data)==null?void 0:R.flopAvoidance)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Flop"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(ir,{className:"h-3 w-3"})," Hook Examples"]}),a.jsx("div",{className:"space-y-2",children:(o.hook_examples||[]).map((R,U)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{value:R,onChange:Y=>B("hook_examples",U,Y.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter hook example..."}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>se("hook_examples",U),children:a.jsx(qe,{className:"h-3 w-3 text-destructive"})})]},U))}),a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>ee("hook_examples"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Example"]})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[a.jsxs(F,{className:"text-xs uppercase text-blue-500 flex items-center gap-1.5",children:[a.jsx(Ug,{className:"h-3 w-3"})," Audience Psychology"]}),a.jsx(we,{value:((Me=o.analysis_data)==null?void 0:Me.audiencePsychology)||"",onChange:R=>D("audiencePsychology",R.target.value),className:"min-h-[100px] bg-muted/50 resize-none text-sm",placeholder:"Describe audience psychology..."})]})})]}),o.source_url&&a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-2",children:[a.jsx(F,{className:"text-xs uppercase text-muted-foreground",children:"Source URL"}),a.jsx("p",{className:"text-sm text-muted-foreground break-all",children:o.source_url})]})}),o.source_transcript&&a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-2",children:[a.jsx(F,{className:"text-xs uppercase text-muted-foreground",children:"Source Transcript"}),a.jsx(we,{value:o.source_transcript,readOnly:!0,className:"min-h-[200px] bg-muted/50 resize-none text-sm"})]})})]})]})})]})}const d0=[{value:"google/gemini-3-flash-preview",label:"Gemini 3 Flash",description:"Next-Gen Fast"},{value:"google/gemini-3-pro-preview",label:"Gemini 3 Pro",description:"Next-Gen Quality"},{value:"anthropic/claude-sonnet-4.5",label:"Claude 4.5 Sonnet",description:"Adv. Reasoning"},{value:"openai/gpt-5.2",label:"GPT-5.2",description:"State of the Art"},{value:"openai/gpt-oss-120b:free",label:"GPT-OSS 120B",description:"Open Source"}];function Uu({value:e,onChange:t,label:n,compact:r=!1}){return r?a.jsxs("div",{className:"flex items-center gap-2",children:[n&&a.jsxs(F,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(It,{className:"h-3 w-3"}),n,":"]}),a.jsxs(Yr,{value:e,onValueChange:t,children:[a.jsx(Pr,{className:"h-8 rounded-lg text-xs w-[160px]",children:a.jsx(Qr,{})}),a.jsx(Rr,{children:d0.map(s=>a.jsxs(Qe,{value:s.value,className:"text-xs",children:[s.label," (",s.description,")"]},s.value))})]})]}):a.jsxs("div",{className:"space-y-2",children:[n&&a.jsxs(F,{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-4 w-4 text-primary"}),n]}),a.jsxs(Yr,{value:e,onValueChange:t,children:[a.jsx(Pr,{className:"rounded-xl",children:a.jsx(Qr,{})}),a.jsx(Rr,{children:d0.map(s=>a.jsxs(Qe,{value:s.value,children:[s.label," (",s.description,")"]},s.value))})]})]})}var Oh="Checkbox",[gz,b8]=Vt(Oh),[vz,Kv]=gz(Oh);function yz(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:f}=e,[m,g]=Wn({prop:n,defaultProp:s??!1,onChange:c,caller:Oh}),[b,p]=d.useState(null),[x,y]=d.useState(null),v=d.useRef(!1),w=b?!!i||!!b.closest("form"):!0,S={checked:m,disabled:o,setChecked:g,control:b,setControl:p,name:l,form:i,value:h,hasConsumerStoppedPropagationRef:v,required:u,defaultChecked:qs(s)?!1:s,isFormControl:w,bubbleInput:x,setBubbleInput:y};return a.jsx(vz,{scope:t,...S,children:xz(f)?f(S):r})}var AE="CheckboxTrigger",OE=d.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:b}=Kv(AE,e),p=Re(s,h),x=d.useRef(c);return d.useEffect(()=>{const y=o==null?void 0:o.form;if(y){const v=()=>f(x.current);return y.addEventListener("reset",v),()=>y.removeEventListener("reset",v)}},[o,f]),a.jsx(pe.button,{type:"button",role:"checkbox","aria-checked":qs(c)?"mixed":c,"aria-required":u,"data-state":LE(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:p,onKeyDown:ne(t,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:ne(n,y=>{f(v=>qs(v)?!0:!v),b&&g&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});OE.displayName=AE;var Gv=d.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:h,...f}=e;return a.jsx(yz,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:m})=>a.jsxs(a.Fragment,{children:[a.jsx(OE,{...f,ref:t,__scopeCheckbox:n}),m&&a.jsx($E,{__scopeCheckbox:n})]})})});Gv.displayName=Oh;var IE="CheckboxIndicator",DE=d.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=Kv(IE,n);return a.jsx(Yt,{present:r||qs(o.checked)||o.checked===!0,children:a.jsx(pe.span,{"data-state":LE(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});DE.displayName=IE;var ME="CheckboxBubbleInput",$E=d.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:h,form:f,bubbleInput:m,setBubbleInput:g}=Kv(ME,e),b=Re(n,g),p=V_(o),x=K1(r);d.useEffect(()=>{const v=m;if(!v)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,j=!s.current;if(p!==o&&N){const C=new Event("click",{bubbles:j});v.indeterminate=qs(o),N.call(v,qs(o)?!1:o),v.dispatchEvent(C)}},[m,p,o,s]);const y=d.useRef(qs(o)?!1:o);return a.jsx(pe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??y.current,required:l,disabled:c,name:u,value:h,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});$E.displayName=ME;function xz(e){return typeof e=="function"}function qs(e){return e==="indeterminate"}function LE(e){return qs(e)?"indeterminate":e?"checked":"unchecked"}const qv=d.forwardRef(({className:e,...t},n)=>a.jsx(Gv,{ref:n,className:Q("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(DE,{className:Q("flex items-center justify-center text-current"),children:a.jsx(Jo,{className:"h-4 w-4"})})}));qv.displayName=Gv.displayName;function wz({dna:e,onView:t,onExport:n,onDelete:r}){return a.jsxs(ve,{variant:"elevated",className:"group cursor-pointer",onClick:()=>t(e),children:[a.jsxs(fn,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"rounded-xl bg-primary/10 p-2.5",children:a.jsx(no,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s=>{s.stopPropagation(),n(e)},children:a.jsx(zg,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx($,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s=>{s.stopPropagation(),r(e.id)},children:a.jsx(qe,{className:"h-4 w-4 text-destructive"})}),a.jsx(Kr,{className:"h-5 w-5 text-muted-foreground opacity-0 transition-all group-hover:opacity-100 group-hover:translate-x-1"})]})]}),a.jsx(Sn,{className:"mt-3",children:e.name}),a.jsxs(Gs,{children:[e.niche||"No niche","  ",e.source_url?"1 source":"Manual"]})]}),a.jsx(ye,{className:"pt-0"})]})}function bz({dnas:e,loading:t,searchQuery:n,onSearchChange:r,onView:s,onExport:o,onDelete:i}){const l=e.filter(c=>{var u;return c.name.toLowerCase().includes(n.toLowerCase())||((u=c.niche)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ih,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search DNA patterns...",value:n,onChange:c=>r(c.target.value),className:"pl-10 rounded-xl bg-card/50"})]}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(wt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(no,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No DNA patterns found. Extract your first one!"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4",children:l.map(c=>a.jsx(wz,{dna:c,onView:s,onExport:o,onDelete:i},c.id))})]})}const va=()=>({id:crypto.randomUUID(),title:"",url:"",transcript:"",comments:"",notes:"",activeTab:"transcript"});function Sz(){const[e,t]=d.useState(""),[n,r]=d.useState("library"),[s,o]=d.useState(null),i=d.useRef(null),[l,c]=d.useState([va()]),[u,h]=d.useState([va()]),[f,m]=d.useState(""),[g,b]=d.useState("en"),[p,x]=d.useState(!1),[y,v]=d.useState(!1),[w,S]=d.useState(null),[N,j]=d.useState(!1),[C,_]=d.useState("google/gemini-3-flash-preview"),[T,A]=d.useState(!1),[O,M]=d.useState(null),[L,D]=d.useState(!1),[ee,B]=d.useState([]),[se,I]=d.useState(!1),[P,V]=d.useState({name:"",niche:"",tone:"",patterns:"",hookType:"",structure:"",pacing:""}),{dnas:Z,loading:re,extractDna:ae,createDna:me,createDnaFromExtracted:K,updateDna:ge,deleteDna:G,scanDnaContent:Pe,evolveDna:ke}=Av(),{toast:be}=An(),{fetchComments:_e,loading:Oe}=EE(),[Ve,tt]=d.useState(null);Tc(),Z.filter(H=>{var ce;return H.name.toLowerCase().includes(e.toLowerCase())||((ce=H.niche)==null?void 0:ce.toLowerCase().includes(e.toLowerCase()))});const ut=H=>{const ce={name:H.name,niche:H.niche,hook_type:H.hook_type,hook_examples:H.hook_examples,structure:H.structure,pacing:H.pacing,retention_tactics:H.retention_tactics,x_factors:H.x_factors,tone:H.tone,vocabulary:H.vocabulary,patterns:H.patterns,source_url:H.source_url},Ee=new Blob([JSON.stringify(ce,null,2)],{type:"application/json"}),he=URL.createObjectURL(Ee),Ie=document.createElement("a");Ie.href=he,Ie.download=`${H.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_dna.json`,document.body.appendChild(Ie),Ie.click(),document.body.removeChild(Ie),URL.revokeObjectURL(he),be({title:"Exported",description:"DNA exported successfully"})},_t=()=>{var H;(H=i.current)==null||H.click()},Mt=async H=>{var Ee;const ce=(Ee=H.target.files)==null?void 0:Ee[0];if(ce){try{const he=await ce.text(),Ie=JSON.parse(he);if(!Ie.name)throw new Error("Invalid DNA file: missing name");await me({name:Ie.name,niche:Ie.niche||null,hook_type:Ie.hook_type||null,hook_examples:Ie.hook_examples||null,structure:Ie.structure||null,pacing:Ie.pacing||null,retention_tactics:Ie.retention_tactics||null,x_factors:Ie.x_factors||null,tone:Ie.tone||null,vocabulary:Ie.vocabulary||null,patterns:Ie.patterns||null,source_url:Ie.source_url||null}),be({title:"Imported",description:`DNA "${Ie.name}" imported successfully`})}catch(he){console.error("Import error:",he),be({title:"Import Failed",description:he instanceof Error?he.message:"Failed to import DNA file",variant:"destructive"})}i.current&&(i.current.value="")}},an=()=>{c(H=>[...H,va()])},W=()=>{h(H=>[...H,va()])},Me=(H,ce,Ee,he)=>{(H==="viral"?c:h)(We=>We.map(St=>St.id===ce?{...St,[Ee]:he}:St))},R=(H,ce)=>{(H==="viral"?c:h)(he=>he.filter(Ie=>Ie.id!==ce))},U=async(H,ce,Ee)=>{if(!Ee){be({title:"Error",description:"Please enter a YouTube URL first",variant:"destructive"});return}tt(ce);try{const he=await _e(Ee);if(he&&he.length>0){const Ie=he.map((We,St)=>`${St+1}. [${We.likeCount} likes] ${We.author}: ${We.text}`).join(`

`);Me(H,ce,"comments",Ie),Me(H,ce,"activeTab","comments")}}finally{tt(null)}},Y=async()=>{if(!(l.some(ce=>ce.transcript||ce.comments)||u.some(ce=>ce.transcript||ce.comments))){be({title:"Error",description:"Please add at least one video (viral or flop) with transcript or comments",variant:"destructive"});return}A(!0);try{const ce={viralVideos:l.map(he=>({title:he.title,transcript:he.transcript,comments:he.comments,notes:he.notes})),flopVideos:u.map(he=>({title:he.title,transcript:he.transcript,comments:he.comments,notes:he.notes})),language:g},Ee=await Pe(ce);Ee&&(M(Ee),B(Ee.filter(he=>!he.isOutlier).map(he=>`${he.type}-${he.index}`)),D(!0))}finally{A(!1)}},J=async()=>{if(ee.length===0){be({title:"Error",description:"Please select at least one video to analyze",variant:"destructive"});return}D(!1),x(!0);try{const H=O==null?void 0:O.filter(We=>ee.includes(`${We.type}-${We.index}`)),ce=l.filter((We,St)=>H==null?void 0:H.some(Jt=>Jt.type==="viral"&&Jt.index===St)),Ee=u.filter((We,St)=>H==null?void 0:H.some(Jt=>Jt.type==="flop"&&Jt.index===St)),he={viralVideos:ce.map(We=>({title:We.title,transcript:We.transcript,comments:We.comments,notes:We.notes})),flopVideos:Ee.map(We=>({title:We.title,transcript:We.transcript,comments:We.comments,notes:We.notes})),overrideLogic:f,language:g},Ie=await ae(he,C);Ie&&(S(Ie),v(!0))}catch(H){console.error("Analysis error:",H)}finally{x(!1)}},oe=async H=>{var ce,Ee;j(!0);try{const he=l.filter(St=>St.transcript).map(St=>St.transcript).join(`

---

`),Ie=((ce=l[0])==null?void 0:ce.url)||((Ee=u[0])==null?void 0:Ee.url);await K(H,he,Ie)&&(c([va()]),h([va()]),m(""),v(!1),S(null),r("library"))}finally{j(!1)}},Ue=()=>{v(!1),S(null)},Et=async()=>{if(!P.name){be({title:"Error",description:"Please enter a name for the DNA",variant:"destructive"});return}await me({name:P.name,niche:P.niche,tone:P.tone,patterns:P.patterns?P.patterns.split(",").map(H=>H.trim()):null,hook_type:P.hookType,structure:P.structure?P.structure.split(",").map(H=>H.trim()):null,pacing:P.pacing}),V({name:"",niche:"",tone:"",patterns:"",hookType:"",structure:"",pacing:""}),I(!1)},ea=(H,ce,Ee)=>a.jsxs("div",{className:"relative bg-muted/50 rounded-2xl p-4 space-y-4",children:[a.jsxs(Tt,{className:`absolute -top-2 -left-2 ${ce==="viral"?"bg-green-500":"bg-red-500"} text-white`,children:["#",Ee+1]}),(ce==="viral"?l:u).length>1&&a.jsx($,{variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>R(ce,H.id),children:a.jsx(qe,{className:"h-3 w-3"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx($x,{className:"h-3 w-3"})," Title"]}),a.jsx(ie,{placeholder:"e.g., How I built a SaaS in 2 days",value:H.title,onChange:he=>Me(ce,H.id,"title",he.target.value),className:"rounded-xl bg-background"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Bp,{className:"h-3 w-3"})," YouTube URL"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{placeholder:"https://youtube.com/",value:H.url,onChange:he=>Me(ce,H.id,"url",he.target.value),className:"rounded-xl bg-background flex-1"}),a.jsx($,{variant:"secondary",size:"sm",className:"rounded-xl",onClick:()=>U(ce,H.id,H.url),disabled:Ve===H.id,children:Ve===H.id?a.jsx(wt,{className:"h-4 w-4 animate-spin"}):"Get"})]})]})]}),a.jsxs(ic,{value:H.activeTab,onValueChange:he=>Me(ce,H.id,"activeTab",he),className:"w-full",children:[a.jsxs(Si,{className:"bg-background/50 w-full justify-start",children:[a.jsxs(lr,{value:"transcript",className:"flex items-center gap-1.5",children:[a.jsx(Fn,{className:"h-3 w-3"})," Script / Transcript"]}),a.jsxs(lr,{value:"comments",className:"flex items-center gap-1.5",children:[a.jsx(fi,{className:"h-3 w-3"})," Comments / Feedback"]})]}),a.jsx(cr,{value:"transcript",className:"mt-2",children:a.jsx(we,{placeholder:"Paste content here...",value:H.transcript,onChange:he=>Me(ce,H.id,"transcript",he.target.value),className:"min-h-[120px] rounded-xl bg-background resize-none"})}),a.jsx(cr,{value:"comments",className:"mt-2",children:a.jsx(we,{placeholder:"Paste comments or feedback here...",value:H.comments,onChange:he=>Me(ce,H.id,"comments",he.target.value),className:"min-h-[120px] rounded-xl bg-background resize-none"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(F,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Fn,{className:"h-3 w-3"})," Description / Notes"]}),a.jsx(we,{placeholder:"e.g., A quick breakdown of the tech stack...",value:H.notes,onChange:he=>Me(ce,H.id,"notes",he.target.value),className:"min-h-[80px] rounded-xl bg-background resize-none"})]})]},H.id);return s?a.jsx(mz,{dna:s,onBack:()=>o(null),onUpdate:H=>ge(s.id,H),onExport:ut,onEvolve:H=>ke(s.id,H)}):y&&w?a.jsx(pz,{dna:w,onSave:oe,onCancel:Ue,saving:N}):a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"DNA Lab"}),a.jsx("p",{className:"text-muted-foreground",children:"Extract viral patterns from successful content"})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("input",{type:"file",ref:i,onChange:Mt,accept:".json",className:"hidden"}),a.jsxs($,{variant:"outline",className:"gap-2 rounded-xl",onClick:_t,children:[a.jsx(AR,{className:"h-4 w-4"}),"Import"]}),a.jsxs(ac,{open:se,onOpenChange:I,children:[a.jsx(a6,{asChild:!0,children:a.jsxs($,{variant:"outline",className:"gap-2 rounded-xl",children:[a.jsx($x,{className:"h-4 w-4"}),"Write"]})}),a.jsxs(xi,{className:"max-w-lg",children:[a.jsx(wi,{children:a.jsx(bi,{children:"Create DNA Manually"})}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Name *"}),a.jsx(ie,{placeholder:"e.g., Storytelling Master",value:P.name,onChange:H=>V(ce=>({...ce,name:H.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Niche"}),a.jsx(ie,{placeholder:"e.g., Technology",value:P.niche,onChange:H=>V(ce=>({...ce,niche:H.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Tone"}),a.jsx(ie,{placeholder:"e.g., Energetic",value:P.tone,onChange:H=>V(ce=>({...ce,tone:H.target.value})),className:"rounded-xl"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Hook Type"}),a.jsx(ie,{placeholder:"e.g., Question, Story, Statistic",value:P.hookType,onChange:H=>V(ce=>({...ce,hookType:H.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Patterns (comma separated)"}),a.jsx(ie,{placeholder:"e.g., Emotional Hook, Three-Act Structure",value:P.patterns,onChange:H=>V(ce=>({...ce,patterns:H.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Structure (comma separated)"}),a.jsx(ie,{placeholder:"e.g., Hook, Problem, Solution, CTA",value:P.structure,onChange:H=>V(ce=>({...ce,structure:H.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Pacing"}),a.jsx(ie,{placeholder:"e.g., Fast-paced with quick cuts",value:P.pacing,onChange:H=>V(ce=>({...ce,pacing:H.target.value})),className:"rounded-xl"})]}),a.jsx($,{onClick:Et,className:"w-full rounded-xl",children:"Create DNA"})]})]})]}),a.jsxs($,{className:"gap-2 rounded-xl shadow-lg shadow-primary/20",onClick:()=>r("extract"),children:[a.jsx(He,{className:"h-4 w-4"}),"Extract New DNA"]})]})]}),a.jsxs(ic,{value:n,onValueChange:r,className:"space-y-6",children:[a.jsxs(Si,{className:"bg-muted/50 p-1 rounded-xl",children:[a.jsx(lr,{value:"library",className:"rounded-lg data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Library"}),a.jsx(lr,{value:"extract",className:"rounded-lg data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Extract"})]}),a.jsx(cr,{value:"library",className:"space-y-4",children:a.jsx(bz,{dnas:Z,loading:re,searchQuery:e,onSearchChange:t,onView:o,onExport:ut,onDelete:G})}),a.jsxs(cr,{value:"extract",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-500",children:[a.jsx(Jo,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold text-lg",children:"Virals"})]}),a.jsx("div",{className:"space-y-6",children:l.map((H,ce)=>ea(H,"viral",ce))}),a.jsxs($,{variant:"secondary",className:"w-full rounded-xl gap-2",onClick:an,children:[a.jsx(He,{className:"h-4 w-4"}),"Add Viral"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[a.jsx(qe,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold text-lg",children:"Flops"})]}),a.jsx("div",{className:"space-y-6",children:u.map((H,ce)=>ea(H,"flop",ce))}),a.jsxs($,{variant:"secondary",className:"w-full rounded-xl gap-2",onClick:W,children:[a.jsx(He,{className:"h-4 w-4"}),"Add Flop"]})]})]}),a.jsx(ve,{className:"sticky bottom-4",children:a.jsx(ye,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 space-y-2 w-full",children:[a.jsx(F,{className:"text-xs uppercase text-muted-foreground",children:"Override Logic"}),a.jsx(ie,{placeholder:"Override default analysis logic...",value:f,onChange:H=>m(H.target.value),className:"rounded-xl bg-muted"})]}),a.jsxs("div",{className:"flex gap-4 w-full lg:w-auto items-end",children:[a.jsx("div",{className:"space-y-2 flex-1 lg:flex-none",children:a.jsx(Uu,{value:C,onChange:_,label:"AI Model",compact:!1})}),a.jsxs("div",{className:"space-y-2 flex-1 lg:flex-none",children:[a.jsxs(F,{className:"flex items-center gap-2",children:[a.jsx(Bp,{className:"h-4 w-4 text-primary"}),"Language"]}),a.jsxs(Yr,{value:g,onValueChange:b,children:[a.jsx(Pr,{className:"w-full lg:w-[140px] rounded-xl",children:a.jsx(Qr,{})}),a.jsxs(Rr,{children:[a.jsx(Qe,{value:"en",children:"English"}),a.jsx(Qe,{value:"vi",children:"Ting Vit"}),a.jsx(Qe,{value:"es",children:"Espaol"}),a.jsx(Qe,{value:"fr",children:"Franais"}),a.jsx(Qe,{value:"ja",children:" (Japanese)"}),a.jsx(Qe,{value:"ko",children:" (Korean)"})]})]})]}),a.jsxs($,{onClick:Y,disabled:T||p,className:"gap-2 rounded-xl px-6 h-10",children:[T?a.jsx(wt,{className:"h-4 w-4 animate-spin"}):a.jsx(Lx,{className:"h-4 w-4"}),T?"Scanning...":"Analyze & Extract DNA"]})]})]})})})]})]}),a.jsx(ac,{open:L,onOpenChange:D,children:a.jsxs(xi,{className:"max-w-3xl",children:[a.jsx(wi,{children:a.jsx(bi,{children:"Content Pre-Scan Results"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-500/10 text-blue-500 rounded-lg border border-blue-500/20",children:[a.jsx(Lx,{className:"h-5 w-5"}),a.jsx("p",{className:"text-sm",children:"We scanned your inputs. Review and uncheck any outliers (e.g., wrong niche/tone) before deep analysis."})]}),a.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:O==null?void 0:O.map(H=>{const ce=`${H.type}-${H.index}`;return a.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border ${H.isOutlier?"bg-red-500/5 border-red-500/20":"bg-card border-border"}`,children:[a.jsx(qv,{checked:ee.includes(ce),onCheckedChange:Ee=>{B(Ee?he=>[...he,ce]:he=>he.filter(Ie=>Ie!==ce))},className:"mt-1"}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:H.title||`${H.type==="viral"?"Viral":"Flop"} Video #${H.index+1}`}),H.isOutlier&&a.jsx(Tt,{variant:"destructive",className:"text-[10px] h-5",children:"Outlier"})]}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-foreground",children:"Topic:"})," ",H.topic]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-foreground",children:"Tone:"})," ",H.tone]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-foreground",children:"Quality:"})," ",H.qualityScore,"/100"]})]}),H.reason&&a.jsxs("p",{className:"text-xs text-red-500 italic mt-1",children:[" ",H.reason]})]})]},ce)})}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx($,{variant:"ghost",onClick:()=>D(!1),children:"Cancel"}),a.jsxs($,{onClick:J,disabled:ee.length===0,children:["Proceed with ",ee.length," Videos"]})]})]})]})})]})}const Nz=`You are an expert audience researcher and psychologist. Your job is to "Reverse Engineer" a target audience persona based on the content they consume (Transcript) and the feedback they provide (Comments).

If provided with a Manual Description, use it as the base.
If provided with Transcript/Comments, deduce the persona from the data:
- Analyze the Transcript to understand the complexity, tone, and subject matter they are interested in.
- Analyze the Comments to identify their *real* pain points, objections, questions, and what resonates with them.
- Look for patterns in the comments: Do they complain about something specific? (Pain Points). Do they ask beginner or advanced questions? (Knowledge Level).

OUTPUT FORMAT:
{
  "name": "Descriptive persona name (e.g., 'Frustrated Beginner Investor', 'Skeptical Bio-Hacker')",
  "ageRange": "e.g., 22-35",
  "knowledgeLevel": "beginner|intermediate|advanced",
  "painPoints": ["specific pain point 1", "specific pain point 2 (derived from complaints)", "specific pain point 3"],
  "preferredTone": "casual|formal|inspirational|educational|humorous|direct|empathetic",
  "vocabulary": "Description of vocabulary style and level",
  "platform": "Primary platform (YouTube, TikTok, Instagram, etc.)",
  "description": "2-3 sentence summary of this persona, focusing on their psychology",
  "contentPreferences": ["what type of content they engage with"],
  "motivations": ["what drives them to watch (deduced from positive comments)"],
  "objections": ["what might prevent them from engaging (deduced from negative/skeptical comments)"]
}`,jz=async(e,t="google/gemini-3-flash-preview",n,r,s)=>{if(!e)throw new Error("OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.");if(!n&&!r&&!s)throw new Error("Cn c description, transcript hoc comments  phn tch.");let o="";n&&(o+=`MANUAL DESCRIPTION:
${n}

`),r&&(o+=`CONTENT TRANSCRIPT (What they watch):
${r}

`),s&&(o+=`COMMUNITY COMMENTS (What they say):
${s}

`);const i=`Analyze the following data to reverse-engineer the target audience persona:

${o}`,c=await Kn([{role:"system",content:Nz},{role:"user",content:i}],e,t);return so(c)};function FE(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),{user:s}=Hn(),{toast:o}=An(),{settings:i}=Tc(),l=d.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:m,error:g}=await ze.from("personas").select("*").order("created_at",{ascending:!1});if(g)throw g;t(m||[])}catch(m){console.error("Error fetching personas:",m),o({title:"Error",description:"Failed to fetch personas",variant:"destructive"})}finally{r(!1)}},[s,o]);return d.useEffect(()=>{l()},[l]),{personas:e,loading:n,createPersona:async m=>{if(!s)return null;try{const g={name:m.name||"New Persona",user_id:s.id,age_range:m.age_range,knowledge_level:m.knowledge_level,pain_points:m.pain_points,preferred_tone:m.preferred_tone,vocabulary:m.vocabulary,platform:m.platform,description:m.description,motivations:m.motivations,objections:m.objections,content_sources:m.content_sources},{data:b,error:p}=await ze.from("personas").insert(g).select().single();if(p)throw p;return t(x=>[b,...x]),o({title:"Success",description:"Persona created successfully"}),b}catch(g){return console.error("Error creating persona:",g),o({title:"Error",description:"Failed to create persona",variant:"destructive"}),null}},updatePersona:async(m,g)=>{try{const{data:b,error:p}=await ze.from("personas").update(g).eq("id",m).select().single();if(p)throw p;return t(x=>x.map(y=>y.id===m?b:y)),o({title:"Success",description:"Persona updated successfully"}),b}catch(b){return console.error("Error updating persona:",b),o({title:"Error",description:"Failed to update persona",variant:"destructive"}),null}},deletePersona:async m=>{try{const{error:g}=await ze.from("personas").delete().eq("id",m);if(g)throw g;return t(b=>b.filter(p=>p.id!==m)),o({title:"Success",description:"Persona deleted successfully"}),!0}catch(g){return console.error("Error deleting persona:",g),o({title:"Error",description:"Failed to delete persona",variant:"destructive"}),!1}},analyzePersona:async(m,g,b,p)=>{const x=i==null?void 0:i.openrouter_api_key;if(!x)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await jz(x,p||"google/gemini-3-flash-preview",m,g,b)}catch(y){console.error("Error analyzing persona:",y);const v=y instanceof Error?y.message:"Failed to analyze persona";return o({title:"Error",description:v,variant:"destructive"}),null}},refetch:l}}const h0=["bg-violet-500","bg-sky-500","bg-pink-500","bg-emerald-500","bg-amber-500","bg-rose-500"],f0=[{value:"google/gemini-3-flash-preview",label:"Gemini 3 Flash (Fast)"},{value:"google/gemini-3-pro-preview",label:"Gemini 3 Pro (Quality)"},{value:"anthropic/claude-sonnet-4.5",label:"Claude 4.5 Sonnet (Reasoning)"},{value:"openai/gpt-5.2",label:"GPT-5.2 (SOTA)"},{value:"openai/gpt-oss-120b:free",label:"GPT-OSS 120B (Free)"}];function Cz(){const{personas:e,loading:t,createPersona:n,updatePersona:r,deletePersona:s,analyzePersona:o}=FE(),[i,l]=d.useState(""),[c,u]=d.useState(!1),[h,f]=d.useState(null),[m,g]=d.useState(!1),[b,p]=d.useState(!1),[x,y]=d.useState(""),[v,w]=d.useState(""),[S,N]=d.useState("intermediate"),[j,C]=d.useState(""),[_,T]=d.useState(""),[A,O]=d.useState(""),[M,L]=d.useState(""),[D,ee]=d.useState([{id:"1",script:"",youtubeUrl:"",comments:""}]),[B,se]=d.useState(""),[I,P]=d.useState(""),[V,Z]=d.useState(200),[re,ae]=d.useState(f0[0].value),{fetchComments:me,loading:K}=EE(),ge=e.filter(W=>W.name.toLowerCase().includes(i.toLowerCase())),G=()=>{y(""),w(""),N("intermediate"),C(""),T(""),O(""),L(""),ee([{id:crypto.randomUUID(),script:"",youtubeUrl:"",comments:""}]),se(""),P(""),f(null)},Pe=()=>{G(),u(!0)},ke=W=>{var Me,R,U;f(W),y(W.name),w(W.age_range||""),N(W.knowledge_level||"intermediate"),C(((Me=W.pain_points)==null?void 0:Me.join(", "))||""),T(W.preferred_tone||""),O(W.platform||""),L(W.description||""),se(((R=W.motivations)==null?void 0:R.join(", "))||""),P(((U=W.objections)==null?void 0:U.join(", "))||""),W.content_sources&&Array.isArray(W.content_sources)&&W.content_sources.length>0?ee(W.content_sources):ee([{id:crypto.randomUUID(),script:"",youtubeUrl:"",comments:""}]),u(!0)},be=(W,Me,R)=>{ee(U=>U.map(Y=>Y.id===W?{...Y,[Me]:R}:Y))},_e=()=>{ee(W=>[...W,{id:crypto.randomUUID(),script:"",youtubeUrl:"",comments:""}])},Oe=W=>{D.length>1&&ee(Me=>Me.filter(R=>R.id!==W))},Ve=async(W,Me,R)=>{if(!Me)return;const U=await me(Me,R);if(U&&U.length>0){const Y=U.map(J=>`- ${J.author}: ${J.text} (${J.likeCount} likes)`).join(`
`);ee(J=>J.map(oe=>{if(oe.id===W){const Ue=oe.comments?`${oe.comments}

${Y}`:Y;return{...oe,comments:Ue,fetchedCommentsCount:U.length}}return oe}))}},tt=async()=>{var R,U,Y;const W=D.map(J=>J.script).filter(Boolean).join(`

-- NEXT SOURCE --

`),Me=D.map(J=>J.comments).filter(Boolean).join(`

-- NEXT SOURCE --

`);if(!(!W&&!Me)){p(!0);try{const J=await o(void 0,W,Me,re);J&&(y(J.name||x),w(J.ageRange||v),N(J.knowledgeLevel||S),C(((R=J.painPoints)==null?void 0:R.join(", "))||j),T(J.preferredTone||_),O(J.platform||A),se(((U=J.motivations)==null?void 0:U.join(", "))||B),P(((Y=J.objections)==null?void 0:Y.join(", "))||I))}finally{p(!1)}}},ut=async()=>{const W={name:x,age_range:v||null,knowledge_level:S||null,pain_points:j?j.split(",").map(Me=>Me.trim()).filter(Boolean):null,preferred_tone:_||null,platform:A||null,description:M||null,motivations:B?B.split(",").map(Me=>Me.trim()).filter(Boolean):null,objections:I?I.split(",").map(Me=>Me.trim()).filter(Boolean):null,content_sources:D};h?await r(h.id,W):await n(W),g(!1),u(!1),G()},_t=async W=>{await s(W)},Mt=W=>{switch(W){case"beginner":return 33;case"intermediate":return 66;case"advanced":return 100;default:return 50}},an=W=>h0[W%h0.length];return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Audience Personas"}),a.jsx("p",{className:"text-muted-foreground",children:"Define and manage your target audiences (Manual or AI Analyzed)"})]}),a.jsxs($,{onClick:Pe,className:"gap-2 rounded-xl shadow-lg shadow-primary/20",children:[a.jsx(He,{className:"h-4 w-4"}),"Create Persona"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(ih,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search personas...",value:i,onChange:W=>l(W.target.value),className:"pl-10 rounded-xl bg-card/50"})]}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(wt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):ge.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(wc,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No personas yet. Create your first one!"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:ge.map((W,Me)=>a.jsxs(ve,{variant:"elevated",className:"group",children:[a.jsxs(fn,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx(_v,{className:"h-12 w-12",children:a.jsx(Ev,{className:`${an(Me)} text-primary-foreground font-semibold`,children:W.name.split(" ").map(R=>R[0]).join("").slice(0,2)})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx($,{variant:"ghost",size:"icon",onClick:()=>ke(W),children:a.jsx(TR,{className:"h-4 w-4"})}),a.jsx($,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>_t(W.id),children:a.jsx(qe,{className:"h-4 w-4"})})]})]}),a.jsx(Sn,{className:"mt-3",children:W.name}),a.jsxs(Gs,{children:[W.age_range&&`Age ${W.age_range}`,W.age_range&&W.platform&&"  ",W.platform]})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Ug,{className:"h-4 w-4"}),"Knowledge"]}),a.jsx("span",{className:"font-medium capitalize",children:W.knowledge_level||"Intermediate"})]}),a.jsx(Pv,{value:Mt(W.knowledge_level),className:"h-1.5"})]}),W.pain_points&&W.pain_points.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Pi,{className:"h-4 w-4"}),"Pain Points"]}),a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[W.pain_points.slice(0,2).map(R=>a.jsx("span",{className:"rounded-lg bg-accent px-2 py-1 text-xs font-medium text-accent-foreground",children:R},R)),W.pain_points.length>2&&a.jsxs("span",{className:"rounded-lg bg-muted px-2 py-1 text-xs text-muted-foreground",children:["+",W.pain_points.length-2]})]})]}),W.motivations&&W.motivations.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(ir,{className:"h-4 w-4"}),"Motivations"]}),a.jsx("p",{className:"text-xs text-foreground/80 line-clamp-1",children:W.motivations.join(", ")})]}),W.preferred_tone&&a.jsxs("div",{className:"flex items-center gap-2 text-sm pt-2 border-t border-border/50",children:[a.jsx(jR,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Tone:"}),a.jsx("span",{className:"font-medium",children:W.preferred_tone})]})]})]},W.id))}),a.jsx(ac,{open:c,onOpenChange:u,children:a.jsxs(xi,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(wi,{children:[a.jsx(bi,{children:h?"Edit Persona":"Create Audience Persona"}),a.jsx(w_,{children:"Define your target audience manually or analyze content to reverse-engineer them."})]}),a.jsxs(ic,{defaultValue:"analyze",className:"w-full",children:[a.jsxs(Si,{className:"grid w-full grid-cols-2",children:[a.jsx(lr,{value:"manual",children:"Manual Description"}),a.jsx(lr,{value:"analyze",children:"Analyze Content (AI)"})]}),a.jsx(cr,{value:"manual",className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Description"}),a.jsx(we,{value:M,onChange:W=>L(W.target.value),placeholder:"Describe your target audience... e.g., Young professionals aged 25-35...",className:"min-h-[80px]"}),a.jsxs($,{variant:"outline",size:"sm",onClick:tt,disabled:b||!M,className:"w-full",children:[b?a.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(It,{className:"mr-2 h-4 w-4"}),"Format Description with AI"]})]})}),a.jsxs(cr,{value:"analyze",className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[D.map((W,Me)=>a.jsxs("div",{className:"relative rounded-xl border border-border bg-muted/10 p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold text-sm flex items-center gap-2",children:a.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs border border-primary/20",children:["Source #",Me+1]})}),D.length>1&&a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>Oe(W.id),children:a.jsx(qe,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Script / Transcript"}),a.jsx(we,{value:W.script,onChange:R=>be(W.id,"script",R.target.value),placeholder:"Paste video transcript here...",className:"min-h-[120px] resize-none"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Import from YouTube (Optional)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(wR,{className:"absolute left-2.5 top-2.5 h-3.5 w-3.5 text-muted-foreground"}),a.jsx(ie,{value:W.youtubeUrl,onChange:R=>be(W.id,"youtubeUrl",R.target.value),placeholder:"https://youtube.com/...",className:"pl-8 h-8 text-xs"})]}),a.jsx($,{size:"sm",variant:"secondary",className:"h-8 px-2",onClick:()=>Ve(W.id,W.youtubeUrl,V),disabled:K||!W.youtubeUrl,children:K?a.jsx(wt,{className:"h-3 w-3 animate-spin"}):a.jsx(zg,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:50,max:500,step:50,value:V,onChange:R=>Z(Number(R.target.value)),className:"flex-1 h-1.5 bg-muted rounded-full appearance-none cursor-pointer accent-primary"}),a.jsxs("span",{className:"text-xs text-muted-foreground w-16 text-right",children:[V," max"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(F,{children:"Comments"}),W.fetchedCommentsCount?a.jsxs("span",{className:"text-[10px] text-green-600 font-medium",children:[W.fetchedCommentsCount," fetched"]}):null]}),a.jsx(we,{value:W.comments,onChange:R=>be(W.id,"comments",R.target.value),placeholder:"Community comments...",className:"min-h-[80px] resize-none"})]})]})]})]},W.id)),a.jsxs($,{variant:"outline",className:"w-full border-dashed text-muted-foreground hover:text-foreground hover:border-primary/50",onClick:_e,children:[a.jsx(He,{className:"mr-2 h-4 w-4"})," Add Another Source"]})]}),a.jsx("div",{className:"pt-2",children:a.jsxs($,{variant:"default",size:"default",onClick:tt,disabled:b,className:"w-full bg-violet-600 hover:bg-violet-700 h-10 text-md shadow-lg shadow-violet-500/20",children:[b?a.jsx(wt,{className:"mr-2 h-5 w-5 animate-spin"}):a.jsx(It,{className:"mr-2 h-5 w-5"}),"Reverse-Engineer Audience with AI"]})})]})]}),a.jsxs("div",{className:"grid gap-4 py-4 border-t border-border",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Name *"}),a.jsx(ie,{value:x,onChange:W=>y(W.target.value),placeholder:"e.g., Tech Enthusiast"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Age Range"}),a.jsx(ie,{value:v,onChange:W=>w(W.target.value),placeholder:"e.g., 25-35"})]})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Knowledge Level"}),a.jsxs(Yr,{value:S,onValueChange:N,children:[a.jsx(Pr,{children:a.jsx(Qr,{})}),a.jsxs(Rr,{children:[a.jsx(Qe,{value:"beginner",children:"Beginner"}),a.jsx(Qe,{value:"intermediate",children:"Intermediate"}),a.jsx(Qe,{value:"advanced",children:"Advanced"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Platform"}),a.jsxs(Yr,{value:A,onValueChange:O,children:[a.jsx(Pr,{children:a.jsx(Qr,{placeholder:"Select platform"})}),a.jsxs(Rr,{children:[a.jsx(Qe,{value:"YouTube",children:"YouTube"}),a.jsx(Qe,{value:"TikTok",children:"TikTok"}),a.jsx(Qe,{value:"Instagram",children:"Instagram"}),a.jsx(Qe,{value:"Twitter",children:"Twitter"}),a.jsx(Qe,{value:"LinkedIn",children:"LinkedIn"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Pain Points"}),a.jsx(ie,{value:j,onChange:W=>C(W.target.value),placeholder:"Time management, Career growth..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Motivations (Why they watch)"}),a.jsx(ie,{value:B,onChange:W=>se(W.target.value),placeholder:"To get rich quick, To feel validated..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Objections (Why they skip)"}),a.jsx(ie,{value:I,onChange:W=>P(W.target.value),placeholder:"Too complicated, Fake guru vibes..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(F,{children:"Preferred Tone"}),a.jsx(ie,{value:_,onChange:W=>T(W.target.value),placeholder:"Casual & Direct, Motivational"})]})]}),a.jsxs(Id,{className:"flex items-center justify-between sm:justify-between w-full",children:[a.jsx("div",{className:"w-[200px]",children:a.jsxs(Yr,{value:re,onValueChange:ae,children:[a.jsx(Pr,{className:"h-8 text-xs",children:a.jsx(Qr,{placeholder:"Select AI Model"})}),a.jsx(Rr,{children:f0.map(W=>a.jsx(Qe,{value:W.value,children:W.label},W.value))})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),a.jsxs($,{onClick:ut,disabled:m||!x.trim(),children:[m?a.jsx(wt,{className:"mr-2 h-4 w-4 animate-spin"}):null,h?"Update":"Create"]})]})]})]})})]})}const _z=[{name:"Starter",description:"Perfect for beginners exploring content creation",price:"$20",period:"forever",icon:It,popular:!1,features:[{name:"3 DNA extractions/month",included:!0},{name:"5 script generations/month",included:!0},{name:"2 personas",included:!0},{name:"Basic templates",included:!0},{name:"Community support",included:!0},{name:"Version history (7 days)",included:!0},{name:"Priority support",included:!1},{name:"Advanced analytics",included:!1},{name:"Team collaboration",included:!1}]},{name:"Pro",description:"For serious content creators who want more power",price:"$59",period:"/month",icon:ir,popular:!0,features:[{name:"Unlimited DNA extractions",included:!0},{name:"Unlimited script generations",included:!0},{name:"Unlimited personas",included:!0},{name:"Premium templates",included:!0},{name:"Priority email support",included:!0},{name:"Version history (unlimited)",included:!0},{name:"Priority support",included:!0},{name:"Advanced analytics",included:!0},{name:"Team collaboration",included:!1}]},{name:"Enterprise",description:"For teams and agencies scaling content production",price:"$419",period:"/month",icon:pR,popular:!1,features:[{name:"Everything in Pro",included:!0},{name:"Team workspaces",included:!0},{name:"Unlimited team members",included:!0},{name:"Custom templates",included:!0},{name:"Dedicated account manager",included:!0},{name:"Version history (unlimited)",included:!0},{name:"Priority support (24/7)",included:!0},{name:"Advanced analytics + reports",included:!0},{name:"Team collaboration",included:!0},{name:"API access",included:!0}]}],Ez=[{name:"DNA Extractions",starter:"3/month",pro:"Unlimited",enterprise:"Unlimited"},{name:"Script Generations",starter:"5/month",pro:"Unlimited",enterprise:"Unlimited"},{name:"Personas",starter:"2",pro:"Unlimited",enterprise:"Unlimited"},{name:"Templates",starter:"Basic",pro:"Premium",enterprise:"Custom"},{name:"Version History",starter:"7 days",pro:"Unlimited",enterprise:"Unlimited"},{name:"Support",starter:"Community",pro:"Priority Email",enterprise:"24/7 Dedicated"},{name:"Analytics",starter:"Basic",pro:"Advanced",enterprise:"Advanced + Reports"},{name:"Team Members",starter:"1",pro:"1",enterprise:"Unlimited"},{name:"API Access",starter:"",pro:"",enterprise:"Full Access"}];function kz(){const e=Sc();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b border-border/50 bg-card/50 backdrop-blur-xl",children:a.jsxs("div",{className:"container mx-auto flex items-center justify-between px-4 py-4",children:[a.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:a.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"L"})}),a.jsx("span",{className:"text-lg font-semibold",children:"LOG"})]}),a.jsx($,{variant:"outline",onClick:()=>e("/auth"),children:"Sign In"})]})}),a.jsx("section",{className:"py-16 text-center",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx(Tt,{variant:"secondary",className:"mb-4",children:"Simple, transparent pricing"}),a.jsx("h1",{className:"mb-4 text-4xl font-bold md:text-5xl",children:"Choose your plan"}),a.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Start for free and upgrade as you grow. All plans include our core features to help you create viral content."})]})}),a.jsx("section",{className:"pb-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:_z.map(t=>a.jsxs(kd,{className:`relative flex flex-col ${t.popular?"border-primary shadow-lg shadow-primary/20":"border-border/50"}`,children:[t.popular&&a.jsx(Tt,{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:"Most Popular"}),a.jsxs(Em,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:a.jsx(t.icon,{className:"h-6 w-6 text-primary"})}),a.jsx(km,{className:"text-2xl",children:t.name}),a.jsx(tC,{children:t.description})]}),a.jsxs(Td,{className:"flex-1",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("span",{className:"text-4xl font-bold",children:t.price}),a.jsx("span",{className:"text-muted-foreground",children:t.period})]}),a.jsx("ul",{className:"space-y-3",children:t.features.map(n=>a.jsxs("li",{className:"flex items-center gap-3",children:[n.included?a.jsx(Jo,{className:"h-4 w-4 text-primary"}):a.jsx(ro,{className:"h-4 w-4 text-muted-foreground/50"}),a.jsx("span",{className:n.included?"":"text-muted-foreground/50",children:n.name})]},n.name))})]}),a.jsx(nC,{children:a.jsx($,{className:"w-full",variant:t.popular?"default":"outline",onClick:()=>e("/auth"),children:t.price==="$0"?"Get Started Free":"Start Free Trial"})})]},t.name))})})}),a.jsx("section",{className:"border-t border-border/50 bg-card/30 py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h2",{className:"mb-8 text-center text-3xl font-bold",children:"Compare Plans"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border/50",children:[a.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Feature"}),a.jsx("th",{className:"px-4 py-3 text-center font-medium",children:"Starter"}),a.jsx("th",{className:"px-4 py-3 text-center font-medium text-primary",children:"Pro"}),a.jsx("th",{className:"px-4 py-3 text-center font-medium",children:"Enterprise"})]})}),a.jsx("tbody",{children:Ez.map(t=>a.jsxs("tr",{className:"border-b border-border/30",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:t.name}),a.jsx("td",{className:"px-4 py-3 text-center text-muted-foreground",children:t.starter}),a.jsx("td",{className:"px-4 py-3 text-center",children:t.pro}),a.jsx("td",{className:"px-4 py-3 text-center",children:t.enterprise})]},t.name))})]})})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h2",{className:"mb-8 text-center text-3xl font-bold",children:"Frequently Asked Questions"}),a.jsx("div",{className:"mx-auto grid max-w-3xl gap-4",children:[{q:"Can I switch plans anytime?",a:"Yes, you can upgrade or downgrade your plan at any time. Changes take effect immediately."},{q:"Is there a free trial for paid plans?",a:"Yes, all paid plans come with a 14-day free trial. No credit card required to start."},{q:"What happens to my data if I downgrade?",a:"Your data is always safe. If you downgrade, you'll keep access to your existing work but new creation limits will apply."},{q:"Do you offer refunds?",a:"Yes, we offer a 30-day money-back guarantee if you're not satisfied with your purchase."}].map(t=>a.jsxs(kd,{className:"border-border/50",children:[a.jsx(Em,{className:"pb-2",children:a.jsx(km,{className:"text-lg",children:t.q})}),a.jsx(Td,{children:a.jsx("p",{className:"text-muted-foreground",children:t.a})})]},t.q))})]})}),a.jsx("section",{className:"border-t border-border/50 bg-primary/5 py-16",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h2",{className:"mb-4 text-3xl font-bold",children:"Ready to create viral content?"}),a.jsx("p",{className:"mb-6 text-muted-foreground",children:"Join thousands of creators already using ScriptLab"}),a.jsx($,{size:"lg",onClick:()=>e("/auth"),children:"Start Free Today"})]})})]})}function ho({text:e,className:t="",showCharacters:n=!1}){const r=d.useMemo(()=>{const s=e.trim();if(!s)return{words:0,characters:0};const o=s.split(/\s+/).filter(Boolean).length,i=s.length;return{words:o,characters:i}},[e]);return a.jsxs("span",{className:`text-xs text-muted-foreground ${t}`,children:[r.words," words",n&&`  ${r.characters} chars`]})}function Tz({score:e}){const t=s=>s>=80?"text-green-500":s>=60?"text-yellow-500":"text-red-500",n=s=>s>=80?"bg-green-500":s>=60?"bg-yellow-500":"bg-red-500",r=[{key:"hook",label:"Hook",icon:ir,value:e.breakdown.hook},{key:"structure",label:"Structure",icon:Pi,value:e.breakdown.structure},{key:"engagement",label:"Engagement",icon:S1,value:e.breakdown.engagement},{key:"clarity",label:"Clarity",icon:fi,value:e.breakdown.clarity},{key:"callToAction",label:"CTA",icon:hd,value:e.breakdown.callToAction}];return a.jsxs(ve,{children:[a.jsx(fn,{children:a.jsxs(Sn,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hd,{className:"h-5 w-5 text-primary"}),"Script Score"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-3xl font-bold ${t(e.score)}`,children:e.score}),a.jsx("span",{className:"text-muted-foreground",children:"/100"})]})]})}),a.jsxs(ye,{className:"space-y-4",children:[a.jsx("div",{className:"grid gap-3",children:r.map(({key:s,label:o,icon:i,value:l})=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(i,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:o})]}),a.jsx("span",{className:`font-medium ${t(l)}`,children:l})]}),a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all ${n(l)}`,style:{width:`${l}%`}})})]},s))}),e.suggestions&&e.suggestions.length>0&&a.jsxs("div",{className:"pt-3 border-t border-border/50 space-y-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Suggestions"}),a.jsx("ul",{className:"space-y-1",children:e.suggestions.map((s,o)=>a.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[a.jsx("span",{className:"text-primary mt-1",children:""}),s]},o))})]})]})]})}function Pz(e,t){return d.useReducer((n,r)=>t[n][r]??n,e)}var Yv="ScrollArea",[UE,S8]=Vt(Yv),[Rz,Gn]=UE(Yv),zE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=d.useState(null),[u,h]=d.useState(null),[f,m]=d.useState(null),[g,b]=d.useState(null),[p,x]=d.useState(null),[y,v]=d.useState(0),[w,S]=d.useState(0),[N,j]=d.useState(!1),[C,_]=d.useState(!1),T=Re(t,O=>c(O)),A=Fi(s);return a.jsx(Rz,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:N,onScrollbarXEnabledChange:j,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:C,onScrollbarYEnabledChange:_,onCornerWidthChange:v,onCornerHeightChange:S,children:a.jsx(pe.div,{dir:A,...i,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});zE.displayName=Yv;var BE="ScrollAreaViewport",VE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=Gn(BE,n),l=d.useRef(null),c=Re(t,l,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(pe.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});VE.displayName=BE;var Ir="ScrollAreaScrollbar",Qv=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Gn(Ir,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return d.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(Az,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(Oz,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(WE,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(Jv,{...r,ref:t}):null});Qv.displayName=Ir;var Az=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Gn(Ir,e.__scopeScrollArea),[o,i]=d.useState(!1);return d.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},h=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",h),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",h)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Yt,{present:n||o,children:a.jsx(WE,{"data-state":o?"visible":"hidden",...r,ref:t})})}),Oz=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Gn(Ir,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Dh(()=>c("SCROLL_END"),100),[l,c]=Pz("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return d.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),d.useEffect(()=>{const u=s.viewport,h=o?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const g=u[h];f!==g&&(c("SCROLL"),i()),f=g};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,o,c,i]),a.jsx(Yt,{present:n||l!=="hidden",children:a.jsx(Jv,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ne(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ne(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),WE=d.forwardRef((e,t)=>{const n=Gn(Ir,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=d.useState(!1),l=e.orientation==="horizontal",c=Dh(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:h)}},10);return Ni(n.viewport,c),Ni(n.content,c),a.jsx(Yt,{present:r||o,children:a.jsx(Jv,{"data-state":o?"visible":"hidden",...s,ref:t})})}),Jv=d.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=Gn(Ir,e.__scopeScrollArea),o=d.useRef(null),i=d.useRef(0),[l,c]=d.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=YE(l.viewport,l.content),h={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>o.current=m,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:m=>i.current=m};function f(m,g){return Fz(m,i.current,l,g)}return n==="horizontal"?a.jsx(Iz,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollLeft,g=p0(m,l,s.dir);o.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):n==="vertical"?a.jsx(Dz,{...h,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const m=s.viewport.scrollTop,g=p0(m,l);o.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),Iz=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Gn(Ir,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Re(t,c,o.onScrollbarXChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(KE,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ih(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(o.viewport){const m=o.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),JE(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Ud(i.paddingLeft),paddingEnd:Ud(i.paddingRight)}})}})}),Dz=d.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=Gn(Ir,e.__scopeScrollArea),[i,l]=d.useState(),c=d.useRef(null),u=Re(t,c,o.onScrollbarYChange);return d.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(KE,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ih(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(o.viewport){const m=o.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),JE(m,f)&&h.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Ud(i.paddingTop),paddingEnd:Ud(i.paddingBottom)}})}})}),[Mz,HE]=UE(Ir),KE=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,g=Gn(Ir,n),[b,p]=d.useState(null),x=Re(t,T=>p(T)),y=d.useRef(null),v=d.useRef(""),w=g.viewport,S=r.content-r.viewport,N=lt(h),j=lt(c),C=Dh(f,10);function _(T){if(y.current){const A=T.clientX-y.current.left,O=T.clientY-y.current.top;u({x:A,y:O})}}return d.useEffect(()=>{const T=A=>{const O=A.target;(b==null?void 0:b.contains(O))&&N(A,S)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[w,b,S,N]),d.useEffect(j,[r,j]),Ni(b,C),Ni(g.content,C),a.jsx(Mz,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:lt(o),onThumbPointerUp:lt(i),onThumbPositionChange:j,onThumbPointerDown:lt(l),children:a.jsx(pe.div,{...m,ref:x,style:{position:"absolute",...m.style},onPointerDown:ne(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),y.current=b.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),_(T))}),onPointerMove:ne(e.onPointerMove,_),onPointerUp:ne(e.onPointerUp,T=>{const A=T.target;A.hasPointerCapture(T.pointerId)&&A.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=v.current,g.viewport&&(g.viewport.style.scrollBehavior=""),y.current=null})})})}),Fd="ScrollAreaThumb",GE=d.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=HE(Fd,e.__scopeScrollArea);return a.jsx(Yt,{present:n||s.hasThumb,children:a.jsx($z,{ref:t,...r})})}),$z=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=Gn(Fd,n),i=HE(Fd,n),{onThumbPositionChange:l}=i,c=Re(t,f=>i.onThumbChange(f)),u=d.useRef(void 0),h=Dh(()=>{u.current&&(u.current(),u.current=void 0)},100);return d.useEffect(()=>{const f=o.viewport;if(f){const m=()=>{if(h(),!u.current){const g=Uz(f,l);u.current=g,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[o.viewport,h,l]),a.jsx(pe.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ne(e.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),b=f.clientX-g.left,p=f.clientY-g.top;i.onThumbPointerDown({x:b,y:p})}),onPointerUp:ne(e.onPointerUp,i.onThumbPointerUp)})});GE.displayName=Fd;var Xv="ScrollAreaCorner",qE=d.forwardRef((e,t)=>{const n=Gn(Xv,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(Lz,{...e,ref:t}):null});qE.displayName=Xv;var Lz=d.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=Gn(Xv,n),[o,i]=d.useState(0),[l,c]=d.useState(0),u=!!(o&&l);return Ni(s.scrollbarX,()=>{var f;const h=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(h),c(h)}),Ni(s.scrollbarY,()=>{var f;const h=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(h),i(h)}),u?a.jsx(pe.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ud(e){return e?parseInt(e,10):0}function YE(e,t){const n=e/t;return isNaN(n)?0:n}function Ih(e){const t=YE(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Fz(e,t,n,r="ltr"){const s=Ih(n),o=s/2,i=t||o,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return QE([c,u],f)(e)}function p0(e,t,n="ltr"){const r=Ih(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Om(e,c);return QE([0,i],[0,l])(u)}function QE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function JE(e,t){return e>0&&e<t}var Uz=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,l=n.top!==o.top;(i||l)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Dh(e,t){const n=lt(e),r=d.useRef(0);return d.useEffect(()=>()=>window.clearTimeout(r.current),[]),d.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Ni(e,t){const n=lt(t);ct(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var XE=zE,zz=VE,Bz=qE;const Fm=d.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(XE,{ref:r,className:Q("relative overflow-hidden",e),...n,children:[a.jsx(zz,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(ZE,{}),a.jsx(Bz,{})]}));Fm.displayName=XE.displayName;const ZE=d.forwardRef(({className:e,orientation:t="vertical",...n},r)=>a.jsx(Qv,{ref:r,orientation:t,className:Q("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(GE,{className:"relative flex-1 rounded-full bg-border"})}));ZE.displayName=Qv.displayName;var ek="AlertDialog",[Vz,N8]=Vt(ek,[hj]),ls=hj(),tk=e=>{const{__scopeAlertDialog:t,...n}=e,r=ls(t);return a.jsx(bv,{...r,...n,modal:!0})};tk.displayName=ek;var Wz="AlertDialogTrigger",Hz=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ls(n);return a.jsx(Sv,{...s,...r,ref:t})});Hz.displayName=Wz;var Kz="AlertDialogPortal",nk=e=>{const{__scopeAlertDialog:t,...n}=e,r=ls(t);return a.jsx(Nv,{...r,...n})};nk.displayName=Kz;var Gz="AlertDialogOverlay",rk=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ls(n);return a.jsx(jc,{...s,...r,ref:t})});rk.displayName=Gz;var Ka="AlertDialogContent",[qz,Yz]=Vz(Ka),Qz=WS("AlertDialogContent"),sk=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=ls(n),i=d.useRef(null),l=Re(t,i),c=d.useRef(null);return a.jsx(e$,{contentName:Ka,titleName:ok,docsSlug:"alert-dialog",children:a.jsx(qz,{scope:n,cancelRef:c,children:a.jsxs(Cc,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:ne(s.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=c.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(Qz,{children:r}),a.jsx(Xz,{contentRef:i})]})})})});sk.displayName=Ka;var ok="AlertDialogTitle",ak=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ls(n);return a.jsx(_c,{...s,...r,ref:t})});ak.displayName=ok;var ik="AlertDialogDescription",lk=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ls(n);return a.jsx(Ec,{...s,...r,ref:t})});lk.displayName=ik;var Jz="AlertDialogAction",ck=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ls(n);return a.jsx(jh,{...s,...r,ref:t})});ck.displayName=Jz;var uk="AlertDialogCancel",dk=d.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=Yz(uk,n),o=ls(n),i=Re(t,s);return a.jsx(jh,{...o,...r,ref:i})});dk.displayName=uk;var Xz=({contentRef:e})=>{const t=`\`${Ka}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ka}\` by passing a \`${ik}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ka}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return d.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Zz=tk,e8=nk,hk=rk,fk=sk,pk=ck,mk=dk,gk=ak,vk=lk;const t8=Zz,n8=e8,yk=d.forwardRef(({className:e,...t},n)=>a.jsx(hk,{className:Q("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));yk.displayName=hk.displayName;const xk=d.forwardRef(({className:e,...t},n)=>a.jsxs(n8,{children:[a.jsx(yk,{}),a.jsx(fk,{ref:n,className:Q("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));xk.displayName=fk.displayName;const wk=({className:e,...t})=>a.jsx("div",{className:Q("flex flex-col space-y-2 text-center sm:text-left",e),...t});wk.displayName="AlertDialogHeader";const bk=({className:e,...t})=>a.jsx("div",{className:Q("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});bk.displayName="AlertDialogFooter";const Sk=d.forwardRef(({className:e,...t},n)=>a.jsx(gk,{ref:n,className:Q("text-lg font-semibold",e),...t}));Sk.displayName=gk.displayName;const Nk=d.forwardRef(({className:e,...t},n)=>a.jsx(vk,{ref:n,className:Q("text-sm text-muted-foreground",e),...t}));Nk.displayName=vk.displayName;const jk=d.forwardRef(({className:e,...t},n)=>a.jsx(pk,{ref:n,className:Q(mv(),e),...t}));jk.displayName=pk.displayName;const Ck=d.forwardRef(({className:e,...t},n)=>a.jsx(mk,{ref:n,className:Q(mv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ck.displayName=mk.displayName;function m0({versions:e,type:t,onRestore:n,onUpdateName:r,onDelete:s,renderInfo:o,disabled:i}){const{toast:l}=An(),[c,u]=d.useState(!1),[h,f]=d.useState(null),[m,g]=d.useState(null),[b,p]=d.useState(""),[x,y]=d.useState(null),v=O=>{n(O),u(!1),f(null),l({title:"Restored",description:`${t==="outline"?"Outline":"Script"} version loaded to editor`})},w=(O,M)=>{M.stopPropagation(),s&&y(O)},S=()=>{x&&s&&(s(x),h!==null&&f(null),y(null),l({title:"Deleted",description:"Version removed from history"}))},N=(O,M)=>{g(O),p(M)},j=(O,M,L)=>{L.stopPropagation(),r&&b.trim()&&(r(M,b),g(null))},C=O=>{O.stopPropagation(),g(null),p("")},_=async O=>{try{await navigator.clipboard.writeText(O),l({title:"Copied",description:"Content copied to clipboard"})}catch{l({title:"Error",description:"Could not copy content",variant:"destructive"})}},T=(O,M)=>{f(h===O?null:O)},A=[...e].sort((O,M)=>new Date(M.timestamp).getTime()-new Date(O.timestamp).getTime());return a.jsxs(kj,{open:c,onOpenChange:O=>{u(O),O||(f(null),g(null))},children:[a.jsx(s$,{asChild:!0,children:a.jsxs($,{variant:"outline",size:"sm",disabled:i||e.length===0,className:"gap-2",children:[a.jsx(Vp,{className:"h-4 w-4"}),"History (",e.length,")"]})}),a.jsxs(jv,{className:"w-[400px] sm:w-[600px]",children:[a.jsx(Pj,{children:a.jsxs(Rj,{className:"flex items-center gap-2",children:[a.jsx(Vp,{className:"h-5 w-5"}),t==="outline"?"Outline":"Script"," History"]})}),a.jsx(Fm,{className:"h-[calc(100vh-120px)] mt-4",children:a.jsx("div",{className:"space-y-3 pr-4",children:A.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No versions saved yet"}):A.map((O,M)=>a.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${h===M?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>T(M,O.content),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex items-center gap-2 text-sm font-medium",children:m===M?a.jsxs("div",{className:"flex items-center gap-1",onClick:L=>L.stopPropagation(),children:[a.jsx(ie,{value:b,onChange:L=>p(L.target.value),className:"h-7 w-32 text-xs",autoFocus:!0,onClick:L=>L.stopPropagation(),onKeyDown:L=>{L.key==="Enter"&&j(M,O,L),L.key==="Escape"&&C(L)}}),a.jsx($,{size:"icon",variant:"ghost",className:"h-7 w-7 text-green-600 hover:text-green-700 hover:bg-green-50",onClick:L=>j(M,O,L),children:a.jsx(Jo,{className:"h-3 w-3"})}),a.jsx($,{size:"icon",variant:"ghost",className:"h-7 w-7 text-destructive hover:text-destructive hover:bg-red-50",onClick:C,children:a.jsx(ro,{className:"h-3 w-3"})})]}):a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsx("span",{className:"text-foreground/90 font-semibold",children:O.name||`Draft ${M+1}`}),r&&a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:L=>{L.stopPropagation(),N(M,O.name||`Draft ${M+1}`)},children:a.jsx(jl,{className:"h-3 w-3 text-muted-foreground"})})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[o&&o(O),O.score&&a.jsx("div",{className:`text-[10px] px-1.5 py-0.5 rounded-full font-bold ${O.score.score>=90?"bg-green-100 text-green-700":O.score.score>=80?"bg-blue-100 text-blue-700":O.score.score>=70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:O.score.score}),a.jsx("span",{className:"text-xs text-muted-foreground",children:hC(new Date(O.timestamp),"HH:mm")})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[O.wordCount||0," words"]}),s&&a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:L=>w(O,L),children:a.jsx(qe,{className:"h-3 w-3"})})]}),a.jsxs("p",{className:"text-sm line-clamp-3 text-foreground/80",children:[O.content.substring(0,200),O.content.length>200?"...":""]}),h===M&&a.jsxs("div",{className:"mt-3 pt-3 border-t space-y-3",children:[a.jsx(Fm,{className:"h-[250px]",children:a.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono text-foreground/70 leading-relaxed",children:O.content})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs($,{size:"sm",onClick:L=>{L.stopPropagation(),v(O)},className:"flex-1 gap-2",children:[a.jsx(jl,{className:"h-4 w-4"}),"Edit in Main Editor"]}),a.jsxs($,{size:"sm",variant:"outline",onClick:L=>{L.stopPropagation(),_(O.content)},className:"gap-2",children:[a.jsx(ya,{className:"h-4 w-4"}),"Copy"]})]})]})]},M))})}),a.jsx(t8,{open:!!x,onOpenChange:O=>!O&&y(null),children:a.jsxs(xk,{children:[a.jsxs(wk,{children:[a.jsx(Sk,{children:"Are you sure?"}),a.jsx(Nk,{children:"This action cannot be undone. This will permanently delete this version from history."})]}),a.jsxs(bk,{children:[a.jsx(Ck,{children:"Cancel"}),a.jsx(jk,{onClick:S,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})]})}const g0=()=>({id:crypto.randomUUID(),title:"",url:"",transcript:"",comments:"",notes:"",activeTab:"transcript"});function v0(){const e=Sc(),{id:t}=zD(),{toast:n}=An(),{personas:r}=FE(),{dnas:s}=Av(),{scripts:o,generateOutline:i,generateScriptFromOutline:l,generateScriptSectionBySection:c,scoreScript:u,createScript:h,updateScript:f,suggestUniqueAngle:m,rewriteSection:g,generateSEO:b}=fC(),[p,x]=d.useState("select"),[y,v]=d.useState("input"),[w,S]=d.useState("google/gemini-3-flash-preview"),[N,j]=d.useState("google/gemini-3-flash-preview"),[C,_]=d.useState(""),[T,A]=d.useState(""),[O,M]=d.useState("en"),[L,D]=d.useState(null),[ee,B]=d.useState("New Script"),[se,I]=d.useState(!1),[P,V]=d.useState(""),[Z,re]=d.useState(""),[ae,me]=d.useState(""),[K,ge]=d.useState(""),[G,Pe]=d.useState(1e3),[ke,be]=d.useState(!1),[_e,Oe]=d.useState(""),[Ve,tt]=d.useState([]),[ut,_t]=d.useState([]),[Mt,an]=d.useState(!1),[W,Me]=d.useState(!1),[R,U]=d.useState(null),[Y,J]=d.useState([]),[oe,Ue]=d.useState(null),[Et,ea]=d.useState(!1),[H,ce]=d.useState(!1),[Ee,he]=d.useState(""),[Ie,We]=d.useState(""),[St,Jt]=d.useState(""),[zi,Dc]=d.useState(""),[Mc,ta]=d.useState(null),[vr,Dr]=d.useState([]),[Nt,cs]=d.useState([]),[Te,$e]=d.useState(null),[Je,ln]=d.useState(!1),[$t,qn]=d.useState(!1),[On,cn]=d.useState(!1),[yr,Zv]=d.useState(""),[$c,Lc]=d.useState(!1),[Fc,Uc]=d.useState(null),[ey,ty]=d.useState(!1),[zc,ny]=d.useState({}),[us,ds]=d.useState(["input"]),ry=d.useRef(!1);d.useEffect(()=>{if(t){const k=o.find(q=>q.id===t);if(k){D(k.id),B(k.title||"New Script"),re(k.topic||""),me(k.key_points||""),ge(k.unique_angle||""),A(k.dna_id||"none"),_(k.persona_id||"none"),he(k.full_script||"");const q=(k.outline_history||[]).map(Se=>({...Se,id:Se.id||crypto.randomUUID()})),z=(k.script_history||[]).map(Se=>({...Se,id:Se.id||crypto.randomUUID()}));if(Dr(q),cs(z),k.score_breakdown&&$e(k.score_breakdown),k.blueprint_content){const Se=k.blueprint_content;U(Se);let nt=crypto.randomUUID();const gt=q.find(at=>at.content===JSON.stringify(Se))||q[q.length-1];gt&&(nt=gt.id),J([{id:nt,outline:Se,createdAt:new Date(k.created_at),script:k.full_script||void 0}]),Ue(nt)}x("new-idea");const ue=["input"];if(k.blueprint_content&&ue.push("outline"),k.full_script&&ue.push("script"),ds(ue),!ry.current)if(ry.current=!0,k.full_script){v("script");const Se=z.find(nt=>nt.content===k.full_script)||z[z.length-1];Se&&Se.id&&ta(Se.id)}else k.blueprint_content?v("outline"):v("input")}}},[t,o]),d.useEffect(()=>{Z&&ee==="New Script"&&B(Z.slice(0,50)+(Z.length>50?"...":""))},[Z,ee]);const sy=k=>{const q=T&&T!=="none"?s.find(Xe=>Xe.id===T):null,z=C&&C!=="none"?r.find(Xe=>Xe.id===C):null,ue=q&&z?"hybrid":q?"dna":"persona",Se=Xe=>{const lo=[];return Xe.title&&lo.push(`Title: ${Xe.title}`),Xe.transcript&&lo.push(`Script: ${Xe.transcript}`),Xe.comments&&lo.push(`Comments: ${Xe.comments}`),Xe.notes&&lo.push(`Notes: ${Xe.notes}`),lo.join(`
`)},nt=Ve.filter(Xe=>Xe.transcript||Xe.comments),gt=ut.filter(Xe=>Xe.transcript||Xe.comments),at=nt.length>0?`

Viral References (learn from these):
${nt.map(Se).join(`
---
`)}`:"",xn=gt.length>0?`

Flop References (avoid these patterns):
${gt.map(Se).join(`
---
`)}`:"";return{topic:p==="new-idea"?Z:"Rewrite competitor script",keyPoints:(p==="new-idea"?ae:_e)+at+xn,uniqueAngle:K,mode:ue,dna:q||void 0,persona:z||void 0,model:k,language:O,targetWordCount:G||void 0,allowStructureInnovation:ke}},_k=()=>tt([...Ve,g0()]),na=(k,q,z)=>{tt(ue=>ue.map(Se=>Se.id===k?{...Se,[q]:z}:Se))},Ek=k=>{tt(Ve.filter(q=>q.id!==k))},kk=()=>_t([...ut,g0()]),ra=(k,q,z)=>{_t(ue=>ue.map(Se=>Se.id===k?{...Se,[q]:z}:Se))},Tk=k=>{_t(ut.filter(q=>q.id!==k))},oy=()=>{V(ee),I(!0)},ay=async()=>{B(P),I(!1),L&&await f(L,{title:P})},iy=()=>{I(!1)},ly=async k=>{x(k);const q=await h({title:"New Script",topic:"",status:"draft",generation_mode:k});q&&D(q.id)},Bc=k=>k.trim().split(/\s+/).filter(Boolean).length,Bi=async(k,q)=>{try{await navigator.clipboard.writeText(k),n({title:"Copied",description:`${q} copied to clipboard`})}catch{n({title:"Error",description:"Could not copy content",variant:"destructive"})}},cy=async()=>{qn(!0);let k=[...vr];const q=R?JSON.stringify(R):null;if(q&&L){const z={id:oe||crypto.randomUUID(),content:q,timestamp:new Date().toISOString(),wordCount:Bc(q)};k=[...vr,z],Dr(k)}try{const z=await i(sy(w));if(z){const ue=crypto.randomUUID(),Se={id:ue,outline:z,createdAt:new Date};J(at=>[...at,Se]),Ue(ue),U(z),he(""),$e(null),v("outline");const nt={id:ue,name:`Draft ${k.length+1}`,content:JSON.stringify(z),timestamp:new Date().toISOString(),wordCount:Bc(JSON.stringify(z))},gt=[...k,nt];if(Dr(gt),us.includes("outline")||ds(at=>[...at,"outline"]),ds(at=>at.filter(xn=>xn!=="script")),L){const at=T&&T!=="none"?s.find(Xe=>Xe.id===T):null,xn=C&&C!=="none"?r.find(Xe=>Xe.id===C):null;await f(L,{title:ee,topic:Z,key_points:ae,unique_angle:K,dna_id:(at==null?void 0:at.id)||null,persona_id:(xn==null?void 0:xn.id)||null,blueprint_content:z,status:"outline",full_script:null,score:null,score_breakdown:null,outline_history:gt})}}}finally{qn(!1)}},uy=async()=>{if(!R)return;cn(!0),$e(null);let k=[...Nt];const q=Nt.some(z=>z.content===Ee);if(Ee&&L&&!q){const z={id:crypto.randomUUID(),content:Ee,timestamp:new Date().toISOString(),wordCount:Bc(Ee),outlineVersionId:oe||void 0};k=[...Nt,z],cs(k)}try{const z=await c(R,sy(N),(ue,Se,nt)=>{Zv(`[${ue}/${Se}] ${nt}`)});if(Zv(""),z){he(z),v("script"),us.includes("script")||ds(gt=>[...gt,"script"]),oe&&J(gt=>gt.map(at=>at.id===oe?{...at,script:z}:at));const ue=`Draft ${k.filter(gt=>!oe||gt.outlineVersionId===oe).length+1}`,Se={id:crypto.randomUUID(),name:ue,content:z,timestamp:new Date().toISOString(),wordCount:Bc(z),outlineVersionId:oe||void 0},nt=[...k,Se];cs(nt),ta(Se.id),L&&(await f(L,{title:ee,full_script:z,status:"done",script_history:nt,blueprint_content:R}),n({title:"Script Complete",description:"Your script has been saved"}))}}finally{cn(!1)}},Pk=async()=>{if(Ee){ln(!0);try{const k=T&&T!=="none"?s.find(ue=>ue.id===T):null,q=C&&C!=="none"?r.find(ue=>ue.id===C):null,z=await u(Ee,k,q);if(z){$e(z);const ue=Nt.map(Se=>Se.content===Ee?{...Se,score:z}:Se);cs(ue),L&&await f(L,{score:z.score,score_breakdown:z,script_history:ue}),n({title:"Script Scored",description:`Your script scored ${z.score}/100`})}}finally{ln(!1)}}},Rk=async()=>{L&&(y==="outline"&&R?(await f(L,{title:ee,blueprint_content:R,status:"draft"}),n({title:"Saved",description:"Outline saved successfully"})):y==="script"&&(await f(L,{title:ee,full_script:Ee,status:"done"}),n({title:"Saved",description:"Script saved successfully"})))},Ak=()=>{y==="script"?v("outline"):y==="outline"?v("input"):(x("select"),U(null),J([]),Ue(null),he(""),$e(null),v("input"),ds(["input"]),D(null),B("New Script"),e("/writer"))},Mh=k=>{(k==="input"||us.includes(k))&&v(k)},Ok=k=>{U(k.outline),Ue(k.id),he(k.script||""),ce(!1),k.script?us.includes("script")||ds(q=>[...q,"script"]):ds(q=>q.filter(z=>z!=="script"))},dy=k=>{try{k.id&&Ue(k.id);const q=JSON.parse(k.content);U(q),k.script?(he(k.script),$e(null),n({title:"Restored",description:"Outline and associated script restored"})):(he(""),$e(null),n({title:"Restored",description:"Outline restored (no linked script found)"}))}catch{n({title:"Error",description:"Could not restore outline",variant:"destructive"})}},hy=async(k,q)=>{const z=vr.map(ue=>ue.id===k.id||ue.timestamp===k.timestamp&&ue.content===k.content?{...ue,name:q}:ue);Dr(z),L&&await f(L,{outline_history:z})},fy=async(k,q)=>{const z=Nt.map(ue=>ue.id===k.id||ue.timestamp===k.timestamp&&ue.content===k.content?{...ue,name:q}:ue);cs(z),L&&await f(L,{script_history:z})},Ik=async k=>{const q=vr.filter(z=>z.id!==k.id);if(Dr(q),q.length===0){v("input"),U(null),ds(z=>z.filter(ue=>ue!=="outline"&&ue!=="script")),n({title:"History Cleared",description:"Returned to input step"}),L&&await f(L,{outline_history:q,blueprint_content:null,status:"idea"});return}if(k.id===oe){const ue=[...q].sort((Se,nt)=>new Date(nt.timestamp).getTime()-new Date(Se.timestamp).getTime())[0];ue&&(dy(ue),n({title:"Switched Version",description:"Switched to latest available outline"}))}L&&await f(L,{outline_history:q})},Dk=async k=>{const q=Nt.filter(z=>z.id!==k.id);cs(q),L&&await f(L,{script_history:q})},[Mk,Vi]=d.useState(!1),[Vc,$h]=d.useState(""),sa=vr.find(k=>k.id===oe),py=(sa==null?void 0:sa.name)||(vr.length>0?`Draft ${vr.length}`:"New Draft"),oa=Nt.find(k=>k.id===Mc),my=(oa==null?void 0:oa.name)||(Nt.filter(k=>!oe||k.outlineVersionId===oe).length>0?`Draft ${Nt.filter(k=>!oe||k.outlineVersionId===oe).length}`:"New Script"),gy=async()=>{if(!Vc.trim()){Vi(!1);return}y==="outline"&&sa?await hy(sa,Vc):y==="script"&&oa&&await fy(oa,Vc),Vi(!1)},$k=k=>{he(k.content),k.id&&ta(k.id),k.score?$e(k.score):$e(null),n({title:"Restored",description:"Script restored from history"})},Wi=(k,q,z)=>{if(!R)return;const ue=[...R.sections];ue[k]={...ue[k],[q]:z},U({...R,sections:ue})},vy=()=>{if(!R)return;const k={title:"New Section",content:"",wordCount:100,notes:""};U({...R,sections:[...R.sections,k]})},Lk=k=>{R&&U({...R,sections:R.sections.filter((q,z)=>z!==k)})};return p==="select"&&!t?a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"AI Writer"}),a.jsx("p",{className:"text-muted-foreground",children:"Generate unique, viral-ready scripts"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2 max-w-3xl",children:[a.jsx(ve,{variant:"elevated",className:"cursor-pointer group hover:ring-2 hover:ring-primary transition-all",onClick:()=>ly("new-idea"),children:a.jsxs(ye,{className:"p-8 text-center space-y-4",children:[a.jsx("div",{className:"mx-auto rounded-2xl bg-primary/10 p-6 w-fit group-hover:bg-primary/20 transition-colors",children:a.jsx(Bg,{className:"h-12 w-12 text-primary"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"New Idea"}),a.jsx("p",{className:"text-muted-foreground",children:"Start fresh with your own topic and create an original script"})]}),a.jsx(Tt,{className:"bg-primary/10 text-primary",children:"Most Popular"})]})}),a.jsx(ve,{variant:"elevated",className:"cursor-pointer group hover:ring-2 hover:ring-primary transition-all",onClick:()=>ly("rewrite"),children:a.jsxs(ye,{className:"p-8 text-center space-y-4",children:[a.jsx("div",{className:"mx-auto rounded-2xl bg-accent/50 p-6 w-fit group-hover:bg-accent transition-colors",children:a.jsx(Vr,{className:"h-12 w-12 text-accent-foreground"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Rewrite"}),a.jsx("p",{className:"text-muted-foreground",children:"Transform a competitor's script using your unique DNA pattern"})]})]})})]})]}):a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx($,{variant:"ghost",size:"sm",onClick:Ak,children:" Back"}),a.jsxs("div",{className:"flex-1",children:[se?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ie,{value:P,onChange:k=>V(k.target.value),className:"text-xl font-bold h-9 max-w-md",autoFocus:!0,onKeyDown:k=>{k.key==="Enter"&&ay(),k.key==="Escape"&&iy()}}),a.jsx($,{size:"icon",variant:"ghost",onClick:ay,children:a.jsx(Jo,{className:"h-4 w-4"})}),a.jsx($,{size:"icon",variant:"ghost",onClick:iy,children:a.jsx(ro,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight cursor-pointer hover:text-primary transition-colors",onClick:oy,children:ee}),a.jsx($,{size:"icon",variant:"ghost",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:oy,children:a.jsx(jl,{className:"h-3 w-3"})})]}),a.jsxs("p",{className:"text-muted-foreground",children:[y==="input"&&"Step 1: Enter your inputs",y==="outline"&&"Step 2: Review and edit outline",y==="script"&&"Step 3: Your generated script"]})]}),(y==="script"||y==="outline")&&a.jsxs("div",{className:"flex items-center gap-3 bg-muted/30 p-1 rounded-full border border-border/50",children:[a.jsxs($,{onClick:Rk,size:"sm",className:"gap-2 shadow-sm h-8 rounded-full",children:[a.jsx(ah,{className:"h-4 w-4"}),"Save"]}),a.jsx("div",{className:"flex items-center justify-center min-w-[150px] px-2 border-l border-r border-border/50 h-6",children:Mk?a.jsx("div",{className:"flex items-center gap-1",children:a.jsx(ie,{value:Vc,onChange:k=>$h(k.target.value),className:"h-6 w-32 text-xs text-center",autoFocus:!0,onKeyDown:k=>{k.key==="Enter"&&gy(),k.key==="Escape"&&Vi(!1)},onBlur:gy})}):a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 px-2 py-1 rounded transition-colors group",onClick:()=>{y==="outline"&&sa?($h(py),Vi(!0)):y==="script"&&oa&&($h(my),Vi(!0))},children:[a.jsx("span",{className:"text-sm font-medium text-foreground/80",children:y==="outline"?py:my}),(y==="outline"||y==="script")&&a.jsx(jl,{className:"h-3 w-3 text-muted-foreground opacity-0 group-hover:opacity-100"})]})}),y==="outline"&&a.jsxs($,{variant:Et?"secondary":"ghost",size:"sm",onClick:()=>ea(!Et),className:"h-8 gap-2",children:[a.jsx(jl,{className:"h-3 w-3"}),Et?"Done":"Edit"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>Mh("input"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors cursor-pointer ${y==="input"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center text-xs",children:"1"}),"Input"]}),a.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("button",{onClick:()=>Mh("outline"),disabled:!us.includes("outline"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${y==="outline"?"bg-primary text-primary-foreground cursor-pointer":us.includes("outline")?"bg-muted text-muted-foreground hover:bg-muted/80 cursor-pointer":"bg-muted/50 text-muted-foreground/50 cursor-not-allowed"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center text-xs",children:"2"}),"Outline"]}),a.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("button",{onClick:()=>Mh("script"),disabled:!us.includes("script"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${y==="script"?"bg-primary text-primary-foreground cursor-pointer":us.includes("script")?"bg-muted text-muted-foreground hover:bg-muted/80 cursor-pointer":"bg-muted/50 text-muted-foreground/50 cursor-not-allowed"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center text-xs",children:"3"}),"Script"]})]})]}),y==="input"&&a.jsxs("div",{className:"grid gap-6 lg:grid-cols-5",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(ve,{children:[a.jsx(fn,{children:a.jsxs(Sn,{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-5 w-5 text-primary"}),"AI Model (Outline)"]})}),a.jsx(ye,{children:a.jsx(Uu,{value:w,onChange:S})})]}),a.jsxs(ve,{children:[a.jsxs(fn,{children:[a.jsx(Sn,{children:"Configure Generation"}),a.jsx(Gs,{children:"Select DNA pattern and/or audience persona to guide the script"})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(F,{className:"flex items-center gap-2",children:[a.jsx(no,{className:"h-4 w-4 text-primary"}),"DNA Pattern"]}),a.jsxs(Yr,{value:T,onValueChange:A,children:[a.jsx(Pr,{className:"rounded-xl",children:a.jsx(Qr,{placeholder:"Select DNA (optional)..."})}),a.jsxs(Rr,{children:[a.jsx(Qe,{value:"none",children:"No DNA"}),s.map(k=>a.jsx(Qe,{value:k.id,children:k.name},k.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(F,{className:"flex items-center gap-2",children:[a.jsx(wc,{className:"h-4 w-4 text-primary"}),"Audience Persona"]}),a.jsxs(Yr,{value:C,onValueChange:_,children:[a.jsx(Pr,{className:"rounded-xl",children:a.jsx(Qr,{placeholder:"Select persona (optional)..."})}),a.jsxs(Rr,{children:[a.jsx(Qe,{value:"none",children:"No Persona"}),r.map(k=>a.jsx(Qe,{value:k.id,children:k.name},k.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(F,{className:"flex items-center gap-2",children:[a.jsx(Bp,{className:"h-4 w-4 text-primary"}),"Language"]}),a.jsxs(Yr,{value:O,onValueChange:M,children:[a.jsx(Pr,{className:"rounded-xl",children:a.jsx(Qr,{placeholder:"Select language..."})}),a.jsxs(Rr,{children:[a.jsx(Qe,{value:"en",children:"English"}),a.jsx(Qe,{value:"vi",children:"Ting Vit"}),a.jsx(Qe,{value:"es",children:"Espaol"}),a.jsx(Qe,{value:"fr",children:"Franais"}),a.jsx(Qe,{value:"ja",children:" (Japanese)"}),a.jsx(Qe,{value:"ko",children:" (Korean)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(F,{className:"flex items-center gap-2",children:[a.jsx(Fn,{className:"h-4 w-4 text-primary"}),"Target Word Count"]}),a.jsx(ie,{type:"number",value:G,onChange:k=>Pe(parseInt(k.target.value)||0),className:"rounded-xl",placeholder:"e.g. 1000"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Approximate length for scaling sections"})]}),a.jsxs("div",{className:"flex items-start space-x-3 pt-2 p-3 bg-muted/30 rounded-xl border border-border/50",children:[a.jsx(qv,{id:"innovation",checked:ke,onCheckedChange:k=>be(k),className:"mt-1"}),a.jsxs("div",{className:"grid gap-1.5 leading-none",children:[a.jsx(F,{htmlFor:"innovation",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Allow Structure Innovation"}),a.jsx("p",{className:"text-xs text-muted-foreground leading-snug",children:"Allow AI to vary the structure by 15-25% for novelty while keeping core DNA elements."})]})]})]})]})]}),a.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[a.jsxs(ve,{children:[a.jsxs(fn,{children:[a.jsx(Sn,{children:p==="new-idea"?"Your Idea":"Competitor Script"}),a.jsx(Gs,{children:p==="new-idea"?"What topic do you want to create content about?":"Paste the competitor's script to rewrite"})]}),a.jsx(ye,{className:"space-y-4",children:p==="new-idea"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(F,{children:"Topic *"}),a.jsx(ho,{text:Z})]}),a.jsx(ie,{value:Z,onChange:k=>re(k.target.value),placeholder:"e.g., How to build a morning routine...",className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(F,{children:"Key Points (Optional)"}),a.jsx(ho,{text:ae})]}),a.jsx(we,{value:ae,onChange:k=>me(k.target.value),placeholder:"Main points you want to cover...",className:"rounded-xl resize-none min-h-[100px]"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(F,{children:"Your Unique Angle"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs($,{variant:"ghost",size:"sm",onClick:async()=>{if(!Z){n({title:"Enter a topic first",variant:"destructive"});return}Lc(!0);const k=T&&T!=="none"?s.find(ue=>ue.id===T):null,q=C&&C!=="none"?r.find(ue=>ue.id===C):null,z=await m(Z,k,q,w);z.length>0&&(ge(z.map((ue,Se)=>`${Se+1}. ${ue.angle}`).join(`

`)),n({title:`${z.length} angles suggested!`})),Lc(!1)},disabled:$c||!Z,className:"h-7 text-xs gap-1",children:[$c?a.jsx(wt,{className:"h-3 w-3 animate-spin"}):a.jsx(It,{className:"h-3 w-3"}),"AI Suggest"]}),a.jsx(ho,{text:K})]})]}),a.jsx(we,{value:K,onChange:k=>ge(k.target.value),placeholder:"What makes your perspective different? Click 'AI Suggest' for ideas...",className:"rounded-xl resize-none min-h-[80px]"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(F,{children:"Competitor Script *"}),a.jsx(ho,{text:_e})]}),a.jsx(we,{value:_e,onChange:k=>Oe(k.target.value),placeholder:"Paste the competitor's script here...",className:"rounded-xl resize-none min-h-[200px]"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(F,{children:"Your Unique Angle (Optional)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs($,{variant:"ghost",size:"sm",onClick:async()=>{if(!_e){n({title:"Paste competitor script first",variant:"destructive"});return}Lc(!0);const k=T&&T!=="none"?s.find(Se=>Se.id===T):null,q=C&&C!=="none"?r.find(Se=>Se.id===C):null,z=_e.substring(0,200),ue=await m(z,k,q,w);ue.length>0&&(ge(ue.map((Se,nt)=>`${nt+1}. ${Se.angle}`).join(`

`)),n({title:`${ue.length} angles suggested!`})),Lc(!1)},disabled:$c||!_e,className:"h-7 text-xs gap-1",children:[$c?a.jsx(wt,{className:"h-3 w-3 animate-spin"}):a.jsx(It,{className:"h-3 w-3"}),"AI Suggest"]}),a.jsx(ho,{text:K})]})]}),a.jsx(we,{value:K,onChange:k=>ge(k.target.value),placeholder:"What makes your version different? Click 'AI Suggest' for ideas...",className:"rounded-xl resize-none min-h-[80px]"})]})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Md,{open:Mt,onOpenChange:an,children:a.jsxs(ve,{className:"overflow-hidden",children:[a.jsx($d,{asChild:!0,children:a.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:a.jsx(S1,{className:"h-4 w-4 text-green-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-green-600",children:"Viral References"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Add successful content examples to learn from"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[Ve.length>0&&a.jsx(Tt,{variant:"secondary",className:"text-xs",children:Ve.length}),Mt?a.jsx(zp,{className:"h-4 w-4"}):a.jsx(hi,{className:"h-4 w-4"})]})]})}),a.jsx(Ld,{children:a.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[Ve.map((k,q)=>a.jsxs("div",{className:"relative bg-muted/30 rounded-xl p-4 space-y-3",children:[a.jsxs(Tt,{className:"absolute -top-2 -left-2 bg-green-500 text-white text-xs",children:["#",q+1]}),Ve.length>0&&a.jsx($,{variant:"ghost",size:"icon",onClick:()=>Ek(k.id),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a.jsx(qe,{className:"h-3 w-3"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Title"}),a.jsx(ie,{placeholder:"e.g., How I built a SaaS in 2 days",value:k.title,onChange:z=>na(k.id,"title",z.target.value),className:"h-8 text-sm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"YouTube URL"}),a.jsx(ie,{placeholder:"https://youtube.com/",value:k.url,onChange:z=>na(k.id,"url",z.target.value),className:"h-8 text-sm"})]})]}),a.jsxs(ic,{value:k.activeTab,onValueChange:z=>na(k.id,"activeTab",z),children:[a.jsxs(Si,{className:"h-8 bg-background/50",children:[a.jsxs(lr,{value:"transcript",className:"text-xs h-6 gap-1",children:[a.jsx(Fn,{className:"h-3 w-3"})," Script / Transcript"]}),a.jsxs(lr,{value:"comments",className:"text-xs h-6 gap-1",children:[a.jsx(fi,{className:"h-3 w-3"})," Comments / Feedback"]})]}),a.jsx(cr,{value:"transcript",className:"mt-2",children:a.jsx(we,{placeholder:"Paste content here...",value:k.transcript,onChange:z=>na(k.id,"transcript",z.target.value),className:"min-h-[80px] text-sm resize-none"})}),a.jsx(cr,{value:"comments",className:"mt-2",children:a.jsx(we,{placeholder:"Paste comments or feedback here...",value:k.comments,onChange:z=>na(k.id,"comments",z.target.value),className:"min-h-[80px] text-sm resize-none"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Description / Notes"}),a.jsx(we,{placeholder:"e.g., A quick breakdown of the tech stack...",value:k.notes,onChange:z=>na(k.id,"notes",z.target.value),className:"min-h-[60px] text-sm resize-none"})]})]},k.id)),a.jsxs($,{variant:"outline",size:"sm",onClick:_k,className:"w-full gap-2 border-dashed border-green-500/50 text-green-600 hover:bg-green-500/5",children:[a.jsx(He,{className:"h-4 w-4"}),"Add Viral Reference"]})]})})]})}),a.jsx(Md,{open:W,onOpenChange:Me,children:a.jsxs(ve,{className:"overflow-hidden",children:[a.jsx($d,{asChild:!0,children:a.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-red-500/10",children:a.jsx(RR,{className:"h-4 w-4 text-red-500"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-red-500",children:"Flop References"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Add examples of what to avoid"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[ut.length>0&&a.jsx(Tt,{variant:"secondary",className:"text-xs",children:ut.length}),W?a.jsx(zp,{className:"h-4 w-4"}):a.jsx(hi,{className:"h-4 w-4"})]})]})}),a.jsx(Ld,{children:a.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[ut.map((k,q)=>a.jsxs("div",{className:"relative bg-muted/30 rounded-xl p-4 space-y-3",children:[a.jsxs(Tt,{className:"absolute -top-2 -left-2 bg-red-500 text-white text-xs",children:["#",q+1]}),ut.length>0&&a.jsx($,{variant:"ghost",size:"icon",onClick:()=>Tk(k.id),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a.jsx(qe,{className:"h-3 w-3"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Title"}),a.jsx(ie,{placeholder:"e.g., Why my video flopped",value:k.title,onChange:z=>ra(k.id,"title",z.target.value),className:"h-8 text-sm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"YouTube URL"}),a.jsx(ie,{placeholder:"https://youtube.com/",value:k.url,onChange:z=>ra(k.id,"url",z.target.value),className:"h-8 text-sm"})]})]}),a.jsxs(ic,{value:k.activeTab,onValueChange:z=>ra(k.id,"activeTab",z),children:[a.jsxs(Si,{className:"h-8 bg-background/50",children:[a.jsxs(lr,{value:"transcript",className:"text-xs h-6 gap-1",children:[a.jsx(Fn,{className:"h-3 w-3"})," Script / Transcript"]}),a.jsxs(lr,{value:"comments",className:"text-xs h-6 gap-1",children:[a.jsx(fi,{className:"h-3 w-3"})," Comments / Feedback"]})]}),a.jsx(cr,{value:"transcript",className:"mt-2",children:a.jsx(we,{placeholder:"Paste content here...",value:k.transcript,onChange:z=>ra(k.id,"transcript",z.target.value),className:"min-h-[80px] text-sm resize-none"})}),a.jsx(cr,{value:"comments",className:"mt-2",children:a.jsx(we,{placeholder:"Paste comments or feedback here...",value:k.comments,onChange:z=>ra(k.id,"comments",z.target.value),className:"min-h-[80px] text-sm resize-none"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(F,{className:"text-xs text-muted-foreground",children:"Description / Notes"}),a.jsx(we,{placeholder:"e.g., Why this didn't work...",value:k.notes,onChange:z=>ra(k.id,"notes",z.target.value),className:"min-h-[60px] text-sm resize-none"})]})]},k.id)),a.jsxs($,{variant:"outline",size:"sm",onClick:kk,className:"w-full gap-2 border-dashed border-red-500/50 text-red-500 hover:bg-red-500/5",children:[a.jsx(He,{className:"h-4 w-4"}),"Add Flop Reference"]})]})})]})})]}),a.jsx($,{className:"w-full gap-2 rounded-xl h-12 shadow-lg shadow-primary/20",onClick:cy,disabled:$t||(p==="new-idea"?!Z:!_e),children:$t?a.jsxs(a.Fragment,{children:[a.jsx(wt,{className:"h-5 w-5 animate-spin"}),"Generating Outline..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fn,{className:"h-5 w-5"}),"Generate Outline",a.jsx(Kr,{className:"h-4 w-4"})]})})]})]}),y==="outline"&&R&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(dd,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("span",{className:"text-muted-foreground",children:["Est. Words: ",R.totalWordCount]})]}),a.jsx(m0,{versions:vr,type:"outline",onRestore:dy,onUpdateName:hy,onDelete:Ik,renderInfo:k=>{const q=Nt.filter(z=>z.outlineVersionId===k.id).length;return q>0?a.jsxs(Tt,{variant:"secondary",className:"text-[10px] h-5 px-1 bg-blue-100 text-blue-700 hover:bg-blue-200 border-none",children:[q," scripts"]}):null},disabled:$t}),a.jsx(Uu,{value:N,onChange:j,label:"Script Model",compact:!0})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs($,{variant:"outline",size:"sm",onClick:cy,disabled:$t,children:[a.jsx(Vr,{className:`h-4 w-4 mr-2 ${$t?"animate-spin":""}`}),"Regenerate"]})})]}),H&&a.jsxs(ve,{children:[a.jsx(fn,{children:a.jsxs(Sn,{className:"flex items-center gap-2",children:[a.jsx(Vp,{className:"h-5 w-5"}),"Outline Versions"]})}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-2",children:Y.map((k,q)=>a.jsxs("div",{onClick:()=>Ok(k),className:`p-3 rounded-lg cursor-pointer transition-colors flex items-center justify-between ${k.id===oe?"bg-primary/10 border border-primary/30":"bg-muted/50 hover:bg-muted"}`,children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:["Version ",q+1]}),a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:k.createdAt.toLocaleTimeString()})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[k.script&&a.jsx(Tt,{variant:"secondary",className:"text-xs",children:"Has Script"}),k.id===oe&&a.jsx(Tt,{className:"text-xs",children:"Current"})]})]},k.id))})})]}),a.jsxs(ve,{children:[a.jsx(fn,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Sn,{children:"Content Sections"}),a.jsxs(Gs,{children:[R.sections.length," sections in your script"]})]}),Et&&a.jsxs($,{variant:"outline",size:"sm",onClick:vy,children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})}),a.jsxs(ye,{className:"space-y-4",children:[R.sections.map((k,q)=>a.jsxs("div",{children:[Et&&a.jsx("div",{className:"flex justify-center py-1",children:a.jsxs($,{variant:"ghost",size:"sm",onClick:()=>{const z={title:"New Section",wordCount:100,content:"",notes:""},ue=[...R.sections];ue.splice(q,0,z),U({...R,sections:ue})},className:"h-6 text-xs gap-1 text-muted-foreground hover:text-primary",children:[a.jsx(He,{className:"h-3 w-3"}),"Insert Section"]})}),a.jsxs("div",{className:"p-4 rounded-xl bg-muted/50 space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between gap-2",children:Et?a.jsxs(a.Fragment,{children:[a.jsx(ie,{value:k.title,onChange:z=>Wi(q,"title",z.target.value),className:"rounded-lg font-medium flex-1",placeholder:"Section title..."}),a.jsx(ie,{type:"number",value:k.wordCount,onChange:z=>Wi(q,"wordCount",parseInt(z.target.value)||0),className:"rounded-lg w-24",placeholder:"Words"}),a.jsx($,{variant:"ghost",size:"icon",onClick:()=>Lk(q),className:"h-8 w-8 text-destructive",children:a.jsx(qe,{className:"h-4 w-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h4",{className:"font-medium",children:[q+1,". ",k.title]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Tt,{variant:"outline",children:[k.wordCount," words"]})})]})}),Et?a.jsxs("div",{className:"space-y-1",children:[a.jsx(we,{value:k.content,onChange:z=>Wi(q,"content",z.target.value),className:"rounded-lg resize-none min-h-[80px]",placeholder:"Section content..."}),a.jsx(ho,{text:k.content})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:k.content}),Et?a.jsx(ie,{value:k.notes||"",onChange:z=>Wi(q,"notes",z.target.value),className:"rounded-lg text-sm",placeholder:"Notes (optional)..."}):k.notes&&a.jsxs("p",{className:"text-xs text-muted-foreground italic",children:[" ",k.notes]}),!Et&&a.jsxs("div",{className:"pt-2 border-t border-border/50 flex items-center gap-2",children:[a.jsx(ie,{value:zc[q]||"",onChange:z=>ny(ue=>({...ue,[q]:z.target.value})),placeholder:"Add ideas to improve this section...",className:"rounded-lg text-sm flex-1 h-8"}),a.jsxs($,{variant:"outline",size:"sm",onClick:async()=>{Uc(q);const z=T&&T!=="none"?s.find(nt=>nt.id===T):null,ue=C&&C!=="none"?r.find(nt=>nt.id===C):null,Se=await g(k.title,k.content,zc[q]||"",{dna:z,persona:ue,targetWordCount:k.wordCount},w);Se&&(Wi(q,"content",Se),n({title:`Section "${k.title}" rewritten!`})),Uc(null)},disabled:Fc===q,className:"h-8 gap-1",children:[Fc===q?a.jsx(wt,{className:"h-3 w-3 animate-spin"}):a.jsx(Vr,{className:"h-3 w-3"}),"Rewrite"]})]})]})]},q)),Et&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsxs($,{variant:"outline",size:"sm",onClick:vy,className:"h-8 gap-1",children:[a.jsx(He,{className:"h-4 w-4"}),"Add Section at End"]})})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx($,{variant:"outline",className:"flex-1 rounded-xl h-12",onClick:()=>v("input"),children:" Back to Input"}),a.jsx($,{className:"flex-1 gap-2 rounded-xl h-12 shadow-lg shadow-primary/20",onClick:uy,disabled:On,children:On?a.jsxs(a.Fragment,{children:[a.jsx(wt,{className:"h-5 w-5 animate-spin"}),yr||"Starting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(pi,{className:"h-5 w-5"}),"Write Full Script",a.jsx(Kr,{className:"h-4 w-4"})]})})]})]}),y==="script"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs(ve,{children:[a.jsx(fn,{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Sn,{className:"text-sm",children:"SEO Metadata"}),a.jsxs($,{variant:"outline",size:"sm",onClick:async()=>{if(!Ee){n({title:"Generate script first",variant:"destructive"});return}ty(!0);const k=T&&T!=="none"?s.find(ue=>ue.id===T):null,q=C&&C!=="none"?r.find(ue=>ue.id===C):null,z=await b(Ee,k,q,N);z&&(We(z.title),Jt(z.description),Dc(z.tags.join(", ")),n({title:"SEO metadata generated!"})),ty(!1)},disabled:ey||!Ee,className:"h-7 gap-1",children:[ey?a.jsx(wt,{className:"h-3 w-3 animate-spin"}):a.jsx(It,{className:"h-3 w-3"}),"Generate SEO"]})]})}),a.jsxs(ye,{className:"p-4 space-y-4 pt-0",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(F,{className:"text-sm font-medium",children:"Title"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Bi(Ie,"title"),disabled:!Ie,children:a.jsx(ya,{className:"h-3 w-3"})})]}),a.jsx(ie,{value:Ie,onChange:k=>We(k.target.value),placeholder:"Enter video title...",className:"bg-background/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(F,{className:"text-sm font-medium",children:"Description"}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Bi(St,"description"),disabled:!St,children:a.jsx(ya,{className:"h-3 w-3"})})]}),a.jsx(we,{value:St,onChange:k=>Jt(k.target.value),placeholder:"Enter video description...",className:"min-h-[80px] resize-none bg-background/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(F,{className:"text-sm font-medium flex items-center gap-1",children:[a.jsx(PR,{className:"h-3 w-3"}),"Tags"]}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Bi(zi,"tags"),disabled:!zi,children:a.jsx(ya,{className:"h-3 w-3"})})]}),a.jsx(ie,{value:zi,onChange:k=>Dc(k.target.value),placeholder:"Enter tags (comma separated)...",className:"bg-background/50"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsx(fn,{className:"border-b border-border/50 py-3",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(Sn,{className:"flex items-center gap-2 text-base",children:[a.jsx(pi,{className:"h-4 w-4 text-primary"}),"Script"]}),a.jsx(Tt,{className:"bg-green-500/10 text-green-600 text-xs",children:"Done"}),a.jsx(ho,{text:Ee,showCharacters:!0})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs($,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>Bi(Ee,"kch bn"),disabled:!Ee,children:[a.jsx(ya,{className:"h-3 w-3"}),"Copy All"]}),a.jsx(Uu,{value:N,onChange:j,label:"Model",compact:!0}),a.jsx(m0,{versions:Nt.filter(k=>!oe||k.outlineVersionId===oe),type:"script",onRestore:$k,onUpdateName:fy,onDelete:Dk,disabled:On}),a.jsxs($,{variant:"outline",size:"sm",onClick:Pk,disabled:Je||!Ee,className:"gap-1 h-8 text-xs",children:[Je?a.jsx(wt,{className:"h-3 w-3 animate-spin"}):a.jsx(hd,{className:"h-3 w-3"}),"Score"]})]})]})})}),R&&Ee?a.jsx("div",{className:"space-y-3",children:R.sections.map((k,q)=>{const z=Ee.includes("|||SECTION|||")?"|||SECTION|||":`

`,Se=Ee.split(z)[q]||"",nt=Se.trim().split(/\s+/).filter(gt=>gt.length>0).length;return a.jsxs(ve,{children:[a.jsx(fn,{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center text-xs font-medium",children:q+1}),a.jsx("span",{className:"font-medium text-sm",children:k.title}),a.jsxs(Tt,{variant:"outline",className:"text-xs",children:[nt," words"]})]}),a.jsx($,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>Bi(Se,k.title),children:a.jsx(ya,{className:"h-3 w-3"})})]})}),a.jsxs(ye,{className:"px-4 pb-4 pt-0 space-y-2",children:[a.jsx(we,{value:Se,onChange:gt=>{const at=Ee.includes("|||SECTION|||")?"|||SECTION|||":`

`,xn=Ee.split(at);xn[q]=gt.target.value,he(xn.join(at))},className:"resize-none text-sm leading-relaxed min-h-[100px]"}),a.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[a.jsx(ie,{value:zc[q+1e3]||"",onChange:gt=>ny(at=>({...at,[q+1e3]:gt.target.value})),placeholder:"Ideas to improve this section...",className:"text-sm flex-1 h-8"}),a.jsxs($,{variant:"outline",size:"sm",onClick:async()=>{Uc(q+1e3);const gt=T&&T!=="none"?s.find(Lh=>Lh.id===T):null,at=C&&C!=="none"?r.find(Lh=>Lh.id===C):null,xn=Ee.includes("|||SECTION|||")?"|||SECTION|||":`

`,Xe=Ee.split(xn),lo=Xe.slice(0,q),yy=await g(k.title,Se,zc[q+1e3]||"",{previousSections:lo,dna:gt,persona:at,targetWordCount:k.wordCount},N);yy&&(Xe[q]=yy,he(Xe.join(xn)),n({title:`Section "${k.title}" rewritten!`})),Uc(null)},disabled:Fc===q+1e3,className:"h-8 gap-1",children:[Fc===q+1e3?a.jsx(wt,{className:"h-3 w-3 animate-spin"}):a.jsx(Vr,{className:"h-3 w-3"}),"Rewrite"]})]})]})]},q)})}):a.jsx(ve,{children:a.jsx(ye,{className:"p-4",children:a.jsx(we,{value:Ee,onChange:k=>he(k.target.value),className:"min-h-[400px] resize-none text-sm leading-relaxed",placeholder:"Your script will appear here..."})})})]})]}),a.jsx("div",{className:"lg:col-span-1",children:Te?a.jsx(Tz,{score:Te}):a.jsx(ve,{children:a.jsxs(ye,{className:"p-8 text-center space-y-4",children:[a.jsx(hd,{className:"h-12 w-12 text-muted-foreground/30 mx-auto"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium text-muted-foreground",children:"No Score Yet"}),a.jsx("p",{className:"text-sm text-muted-foreground/70",children:`Click "Score Script" to analyze your script's viral potential`})]})]})})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx($,{variant:"outline",className:"flex-1 rounded-xl h-12",onClick:()=>v("outline"),children:" Back to Outline"}),a.jsxs($,{variant:"outline",className:"flex-1 gap-2 rounded-xl h-12",onClick:uy,disabled:On,children:[a.jsx(Vr,{className:"h-5 w-5"}),"Regenerate Script"]}),a.jsx($,{className:"flex-1 gap-2 rounded-xl h-12",onClick:()=>e("/"),children:"Go to Dashboard"})]})]})]})}function r8(){const[e,t]=d.useState([]),[n,r]=d.useState(!0),{user:s}=Hn(),{toast:o}=An(),i=d.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:h,error:f}=await ze.from("notes").select("*").order("updated_at",{ascending:!1});if(f)throw f;t(h||[])}catch(h){console.error("Error fetching notes:",h),o({title:"Error",description:"Failed to fetch notes",variant:"destructive"})}finally{r(!1)}},[s,o]);return d.useEffect(()=>{i()},[i]),{notes:e,loading:n,createNote:async h=>{if(!s)return null;try{const{data:f,error:m}=await ze.from("notes").insert({...h,user_id:s.id,title:h.title||"Untitled"}).select().single();if(m)throw m;return t(g=>[f,...g]),f}catch(f){return console.error("Error creating note:",f),o({title:"Error",description:"Failed to create note",variant:"destructive"}),null}},updateNote:async(h,f)=>{try{const{data:m,error:g}=await ze.from("notes").update(f).eq("id",h).select().single();if(g)throw g;return t(b=>b.map(p=>p.id===h?m:p)),m}catch(m){return console.error("Error updating note:",m),o({title:"Error",description:"Failed to update note",variant:"destructive"}),null}},deleteNote:async h=>{try{const{error:f}=await ze.from("notes").delete().eq("id",h);if(f)throw f;return t(m=>m.filter(g=>g.id!==h)),o({title:"Success",description:"Note deleted successfully"}),!0}catch(f){return console.error("Error deleting note:",f),o({title:"Error",description:"Failed to delete note",variant:"destructive"}),!1}},refetch:i}}const Wf=["bg-violet-100 dark:bg-violet-900/20","bg-sky-100 dark:bg-sky-900/20","bg-amber-100 dark:bg-amber-900/20","bg-emerald-100 dark:bg-emerald-900/20","bg-pink-100 dark:bg-pink-900/20","bg-rose-100 dark:bg-rose-900/20"];function s8(){const{notes:e,loading:t,createNote:n,updateNote:r,deleteNote:s}=r8(),[o,i]=d.useState(""),[l,c]=d.useState(null),[u,h]=d.useState(""),[f,m]=d.useState(""),[g,b]=d.useState(!1),p=e.filter(N=>N.title.toLowerCase().includes(o.toLowerCase())||N.content&&N.content.toLowerCase().includes(o.toLowerCase()));d.useEffect(()=>{l&&(h(l.title),m(l.content||""))},[l]);const x=async()=>{const N=Wf[Math.floor(Math.random()*Wf.length)],j=await n({title:"Untitled Note",content:"",color:N});j&&(c(j),h(j.title),m(j.content||""))},y=async()=>{if(!l)return;b(!0);const N=await r(l.id,{title:u||"Untitled",content:f});N&&c(N),b(!1)},v=async N=>{if(!l)return;const j=await r(l.id,{color:N});j&&c(j)},w=async()=>{if(!l)return;await s(l.id)&&(c(null),h(""),m(""))},S=N=>{const j=new Date(N),_=new Date().getTime()-j.getTime(),T=Math.floor(_/6e4),A=Math.floor(_/36e5),O=Math.floor(_/864e5);return T<1?"Just now":T<60?`${T} min ago`:A<24?`${A} hour${A>1?"s":""} ago`:O<7?`${O} day${O>1?"s":""} ago`:j.toLocaleDateString()};return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Quick Notes"}),a.jsx("p",{className:"text-muted-foreground",children:"Capture ideas and insights"})]}),a.jsxs($,{onClick:x,className:"gap-2 rounded-xl shadow-lg shadow-primary/20",children:[a.jsx(He,{className:"h-4 w-4"}),"New Note"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ih,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search notes...",value:o,onChange:N=>i(N.target.value),className:"pl-10 rounded-xl bg-card/50"})]}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(wt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):p.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Wp,{className:"h-10 w-10 mx-auto text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No notes yet"})]}):a.jsx("div",{className:"space-y-3",children:p.map(N=>a.jsx(ve,{variant:"elevated",className:`cursor-pointer transition-all ${(l==null?void 0:l.id)===N.id?"ring-2 ring-primary":""}`,onClick:()=>c(N),children:a.jsxs(ye,{className:"p-4",children:[a.jsx("div",{className:`mb-3 h-2 w-12 rounded-full ${N.color||"bg-violet-100 dark:bg-violet-900/20"}`}),a.jsx("h3",{className:"font-medium line-clamp-1",children:N.title}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:N.content||"No content"}),a.jsxs("div",{className:"mt-3 flex items-center gap-1.5 text-xs text-muted-foreground",children:[a.jsx(dd,{className:"h-3 w-3"}),S(N.updated_at)]})]})},N.id))})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx(ve,{className:"h-full min-h-[500px]",children:l?a.jsxs(ye,{className:"p-6 space-y-4 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsx(ie,{value:u,onChange:N=>h(N.target.value),className:"text-lg font-semibold border-0 p-0 h-auto focus-visible:ring-0 bg-transparent",placeholder:"Note title..."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx($,{variant:"outline",size:"sm",onClick:y,disabled:g,children:g?a.jsx(wt,{className:"h-4 w-4 animate-spin"}):a.jsx(ah,{className:"h-4 w-4"})}),a.jsx($,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:w,children:a.jsx(qe,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Color:"}),a.jsx("div",{className:"flex gap-1.5",children:Wf.map(N=>a.jsx("button",{onClick:()=>v(N),className:`h-6 w-6 rounded-full transition-all hover:scale-110 ${N} ${l.color===N?"ring-2 ring-primary ring-offset-2 ring-offset-background":"ring-1 ring-border/50"}`,title:"Select color"},N))})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(dd,{className:"h-4 w-4"}),S(l.updated_at)]}),a.jsx(we,{value:f,onChange:N=>m(N.target.value),className:"flex-1 resize-none border-0 p-0 pl-1 pt-2 focus-visible:ring-0 bg-transparent text-base leading-relaxed",placeholder:"Write your note..."})]}):a.jsx(ye,{className:"p-6 h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-sm space-y-4",children:[a.jsx("div",{className:"mx-auto rounded-2xl bg-muted/50 p-6 w-fit",children:a.jsx(Wp,{className:"h-12 w-12 text-muted-foreground/50"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-lg font-medium",children:"Select a Note"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a note from the list to view and edit, or create a new one."})]})]})})})})]})]})}function o8(){return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6 max-w-xl",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Configure your preferences"})]}),a.jsxs(ve,{children:[a.jsxs(fn,{children:[a.jsxs(Sn,{className:"flex items-center gap-2",children:[a.jsx(It,{className:"h-5 w-5 text-primary"}),"AI Model",a.jsxs(Tt,{variant:"secondary",className:"ml-2",children:[a.jsx(dd,{className:"h-3 w-3 mr-1"}),"Coming Soon"]})]}),a.jsx(Gs,{children:"Model selection is now available at each step (DNA extraction, Outline, Script generation)"})]}),a.jsx(ye,{children:a.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 rounded-xl p-4",children:[a.jsx("p",{className:"font-medium mb-2",children:" Per-step model selection"}),a.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"DNA Lab: Select model when extracting DNA"}),a.jsx("li",{children:"Writer Input: Select model for outline generation"}),a.jsx("li",{children:"Writer Outline: Select model for script writing"}),a.jsx("li",{children:"Persona: Select model for persona generation"})]})]})})]})]})}const a8=()=>{const e=Xo();return d.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},i8=new QI,fo=({children:e})=>{const{user:t,loading:n}=Hn(),{showOnboarding:r,completeOnboarding:s,skipOnboarding:o}=Z$();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?a.jsxs(W$,{children:[r&&a.jsx(X$,{onComplete:s,onSkip:o}),e]}):a.jsx(IN,{to:"/auth",replace:!0})},l8=()=>a.jsxs(nM,{children:[a.jsx(Jn,{path:"/auth",element:a.jsx(f6,{})}),a.jsx(Jn,{path:"/pricing",element:a.jsx(kz,{})}),a.jsx(Jn,{path:"/",element:a.jsx(fo,{children:a.jsx(h6,{})})}),a.jsx(Jn,{path:"/dna-lab",element:a.jsx(fo,{children:a.jsx(Sz,{})})}),a.jsx(Jn,{path:"/personas",element:a.jsx(fo,{children:a.jsx(Cz,{})})}),a.jsx(Jn,{path:"/writer",element:a.jsx(fo,{children:a.jsx(v0,{})})}),a.jsx(Jn,{path:"/writer/:id",element:a.jsx(fo,{children:a.jsx(v0,{})})}),a.jsx(Jn,{path:"/notes",element:a.jsx(fo,{children:a.jsx(s8,{})})}),a.jsx(Jn,{path:"/settings",element:a.jsx(fo,{children:a.jsx(o8,{})})}),a.jsx(Jn,{path:"*",element:a.jsx(a8,{})})]}),c8=()=>a.jsx(tD,{client:i8,children:a.jsxs(uN,{children:[a.jsx(mA,{}),a.jsx(GA,{}),a.jsx(uM,{children:a.jsx(X5,{children:a.jsx(l8,{})})})]})});BS(document.getElementById("root")).render(a.jsx(c8,{}));
