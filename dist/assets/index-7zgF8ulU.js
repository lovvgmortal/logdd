var ex=e=>{throw TypeError(e)};var cf=(e,t,n)=>t.has(e)||ex("Cannot "+n);var k=(e,t,n)=>(cf(e,t,"read from private field"),n?n.call(e):t.get(e)),Ce=(e,t,n)=>t.has(e)?ex("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),de=(e,t,n,r)=>(cf(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Fe=(e,t,n)=>(cf(e,t,"access private method"),n);var au=(e,t,n,r)=>({set _(s){de(e,t,s,n)},get _(){return k(e,t,r)}});function HT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function fb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pb={exports:{}},rh={},mb={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=Symbol.for("react.element"),KT=Symbol.for("react.portal"),qT=Symbol.for("react.fragment"),GT=Symbol.for("react.strict_mode"),YT=Symbol.for("react.profiler"),QT=Symbol.for("react.provider"),JT=Symbol.for("react.context"),XT=Symbol.for("react.forward_ref"),ZT=Symbol.for("react.suspense"),e2=Symbol.for("react.memo"),t2=Symbol.for("react.lazy"),tx=Symbol.iterator;function n2(e){return e===null||typeof e!="object"?null:(e=tx&&e[tx]||e["@@iterator"],typeof e=="function"?e:null)}var gb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vb=Object.assign,yb={};function Ui(e,t,n){this.props=e,this.context=t,this.refs=yb,this.updater=n||gb}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xb(){}xb.prototype=Ui.prototype;function hg(e,t,n){this.props=e,this.context=t,this.refs=yb,this.updater=n||gb}var fg=hg.prototype=new xb;fg.constructor=hg;vb(fg,Ui.prototype);fg.isPureReactComponent=!0;var nx=Array.isArray,wb=Object.prototype.hasOwnProperty,pg={current:null},bb={key:!0,ref:!0,__self:!0,__source:!0};function Nb(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)wb.call(t,r)&&!bb.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Rc,type:e,key:o,ref:i,props:s,_owner:pg.current}}function r2(e,t){return{$$typeof:Rc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mg(e){return typeof e=="object"&&e!==null&&e.$$typeof===Rc}function s2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rx=/\/+/g;function uf(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s2(""+e.key):t.toString(36)}function $u(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Rc:case KT:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+uf(i,0):r,nx(s)?(n="",e!=null&&(n=e.replace(rx,"$&/")+"/"),$u(s,t,n,"",function(u){return u})):s!=null&&(mg(s)&&(s=r2(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(rx,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",nx(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+uf(o,l);i+=$u(o,t,n,c,s)}else if(c=n2(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+uf(o,l++),i+=$u(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ou(e,t,n){if(e==null)return e;var r=[],s=0;return $u(e,r,"","",function(o){return t.call(n,o,s++)}),r}function a2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var un={current:null},Fu={transition:null},o2={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:pg};function Sb(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:ou,forEach:function(e,t,n){ou(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ou(e,function(){t++}),t},toArray:function(e){return ou(e,function(t){return t})||[]},only:function(e){if(!mg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ue.Component=Ui;Ue.Fragment=qT;Ue.Profiler=YT;Ue.PureComponent=hg;Ue.StrictMode=GT;Ue.Suspense=ZT;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o2;Ue.act=Sb;Ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vb({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=pg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wb.call(t,c)&&!bb.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Rc,type:e.type,key:s,ref:o,props:r,_owner:i}};Ue.createContext=function(e){return e={$$typeof:JT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QT,_context:e},e.Consumer=e};Ue.createElement=Nb;Ue.createFactory=function(e){var t=Nb.bind(null,e);return t.type=e,t};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(e){return{$$typeof:XT,render:e}};Ue.isValidElement=mg;Ue.lazy=function(e){return{$$typeof:t2,_payload:{_status:-1,_result:e},_init:a2}};Ue.memo=function(e,t){return{$$typeof:e2,type:e,compare:t===void 0?null:t}};Ue.startTransition=function(e){var t=Fu.transition;Fu.transition={};try{e()}finally{Fu.transition=t}};Ue.unstable_act=Sb;Ue.useCallback=function(e,t){return un.current.useCallback(e,t)};Ue.useContext=function(e){return un.current.useContext(e)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(e){return un.current.useDeferredValue(e)};Ue.useEffect=function(e,t){return un.current.useEffect(e,t)};Ue.useId=function(){return un.current.useId()};Ue.useImperativeHandle=function(e,t,n){return un.current.useImperativeHandle(e,t,n)};Ue.useInsertionEffect=function(e,t){return un.current.useInsertionEffect(e,t)};Ue.useLayoutEffect=function(e,t){return un.current.useLayoutEffect(e,t)};Ue.useMemo=function(e,t){return un.current.useMemo(e,t)};Ue.useReducer=function(e,t,n){return un.current.useReducer(e,t,n)};Ue.useRef=function(e){return un.current.useRef(e)};Ue.useState=function(e){return un.current.useState(e)};Ue.useSyncExternalStore=function(e,t,n){return un.current.useSyncExternalStore(e,t,n)};Ue.useTransition=function(){return un.current.useTransition()};Ue.version="18.3.1";mb.exports=Ue;var h=mb.exports;const ae=fb(h),gg=HT({__proto__:null,default:ae},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2=h,l2=Symbol.for("react.element"),c2=Symbol.for("react.fragment"),u2=Object.prototype.hasOwnProperty,d2=i2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h2={key:!0,ref:!0,__self:!0,__source:!0};function jb(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)u2.call(t,r)&&!h2.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:l2,type:e,key:o,ref:i,props:s,_owner:d2.current}}rh.Fragment=c2;rh.jsx=jb;rh.jsxs=jb;pb.exports=rh;var a=pb.exports,_b={exports:{}},Fn={},Cb={exports:{}},Eb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,A){var $=I.length;I.push(A);e:for(;0<$;){var Z=$-1>>>1,ne=I[Z];if(0<s(ne,A))I[Z]=A,I[$]=ne,$=Z;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var A=I[0],$=I.pop();if($!==A){I[0]=$;e:for(var Z=0,ne=I.length,re=ne>>>1;Z<re;){var ge=2*(Z+1)-1,Q=I[ge],ye=ge+1,G=I[ye];if(0>s(Q,$))ye<ne&&0>s(G,Q)?(I[Z]=G,I[ye]=$,Z=ye):(I[Z]=Q,I[ge]=$,Z=ge);else if(ye<ne&&0>s(G,$))I[Z]=G,I[ye]=$,Z=ye;else break e}}return A}function s(I,A){var $=I.sortIndex-A.sortIndex;return $!==0?$:I.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,g=3,m=!1,b=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=I)r(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=n(u)}}function N(I){if(p=!1,w(I),!b)if(n(c)!==null)b=!0,V(S);else{var A=n(u);A!==null&&Y(N,A.startTime-I)}}function S(I,A){b=!1,p&&(p=!1,v(E),E=-1),m=!0;var $=g;try{for(w(A),f=n(c);f!==null&&(!(f.expirationTime>A)||I&&!R());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,g=f.priorityLevel;var ne=Z(f.expirationTime<=A);A=e.unstable_now(),typeof ne=="function"?f.callback=ne:f===n(c)&&r(c),w(A)}else r(c);f=n(c)}if(f!==null)var re=!0;else{var ge=n(u);ge!==null&&Y(N,ge.startTime-A),re=!1}return re}finally{f=null,g=$,m=!1}}var j=!1,_=null,E=-1,C=5,P=-1;function R(){return!(e.unstable_now()-P<C)}function L(){if(_!==null){var I=e.unstable_now();P=I;var A=!0;try{A=_(!0,I)}finally{A?B():(j=!1,_=null)}}else j=!1}var B;if(typeof y=="function")B=function(){y(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,H=M.port2;M.port1.onmessage=L,B=function(){H.postMessage(null)}}else B=function(){x(L,0)};function V(I){_=I,j||(j=!0,B())}function Y(I,A){E=x(function(){I(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,V(S))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(g){case 1:case 2:case 3:var A=3;break;default:A=g}var $=g;g=A;try{return I()}finally{g=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,A){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var $=g;g=I;try{return A()}finally{g=$}},e.unstable_scheduleCallback=function(I,A,$){var Z=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Z+$:Z):$=Z,I){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=$+ne,I={id:d++,callback:A,priorityLevel:I,startTime:$,expirationTime:ne,sortIndex:-1},$>Z?(I.sortIndex=$,t(u,I),n(c)===null&&I===n(u)&&(p?(v(E),E=-1):p=!0,Y(N,$-Z))):(I.sortIndex=ne,t(c,I),b||m||(b=!0,V(S))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var A=g;return function(){var $=g;g=A;try{return I.apply(this,arguments)}finally{g=$}}}})(Eb);Cb.exports=Eb;var f2=Cb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p2=h,Ln=f2;function ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kb=new Set,ql={};function co(e,t){Si(e,t),Si(e+"Capture",t)}function Si(e,t){for(ql[e]=t,e=0;e<t.length;e++)kb.add(t[e])}var ns=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,m2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sx={},ax={};function g2(e){return mp.call(ax,e)?!0:mp.call(sx,e)?!1:m2.test(e)?ax[e]=!0:(sx[e]=!0,!1)}function v2(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function y2(e,t,n,r){if(t===null||typeof t>"u"||v2(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dn(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ht[e]=new dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ht[t]=new dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ht[e]=new dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ht[e]=new dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ht[e]=new dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ht[e]=new dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ht[e]=new dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ht[e]=new dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ht[e]=new dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var vg=/[\-:]([a-z])/g;function yg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vg,yg);Ht[t]=new dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vg,yg);Ht[t]=new dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vg,yg);Ht[t]=new dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ht[e]=new dn(e,1,!1,e.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ht[e]=new dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function xg(e,t,n,r){var s=Ht.hasOwnProperty(t)?Ht[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(y2(t,n,s,r)&&(n=null),r||s===null?g2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ls=p2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,iu=Symbol.for("react.element"),Uo=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),Tb=Symbol.for("react.provider"),Pb=Symbol.for("react.context"),bg=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),Ng=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),Ab=Symbol.for("react.offscreen"),ox=Symbol.iterator;function cl(e){return e===null||typeof e!="object"?null:(e=ox&&e[ox]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Object.assign,df;function Nl(e){if(df===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);df=t&&t[1]||""}return`
`+df+e}var hf=!1;function ff(e,t){if(!e||hf)return"";hf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,l=o.length-1;1<=i&&0<=l&&s[i]!==o[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==o[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==o[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{hf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Nl(e):""}function x2(e){switch(e.tag){case 5:return Nl(e.type);case 16:return Nl("Lazy");case 13:return Nl("Suspense");case 19:return Nl("SuspenseList");case 0:case 2:case 15:return e=ff(e.type,!1),e;case 11:return e=ff(e.type.render,!1),e;case 1:return e=ff(e.type,!0),e;default:return""}}function xp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zo:return"Fragment";case Uo:return"Portal";case gp:return"Profiler";case wg:return"StrictMode";case vp:return"Suspense";case yp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pb:return(e.displayName||"Context")+".Consumer";case Tb:return(e._context.displayName||"Context")+".Provider";case bg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ng:return t=e.displayName||null,t!==null?t:xp(e.type)||"Memo";case _s:t=e._payload,e=e._init;try{return xp(e(t))}catch{}}return null}function w2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xp(t);case 8:return t===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function na(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Rb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function b2(e){var t=Rb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function lu(e){e._valueTracker||(e._valueTracker=b2(e))}function Ob(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Rb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function nd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wp(e,t){var n=t.checked;return vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ix(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=na(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ib(e,t){t=t.checked,t!=null&&xg(e,"checked",t,!1)}function bp(e,t){Ib(e,t);var n=na(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Np(e,t.type,n):t.hasOwnProperty("defaultValue")&&Np(e,t.type,na(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Np(e,t,n){(t!=="number"||nd(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Sl=Array.isArray;function ei(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+na(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Sp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ee(91));return vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ee(92));if(Sl(n)){if(1<n.length)throw Error(ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:na(n)}}function Db(e,t){var n=na(t.value),r=na(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ux(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var cu,Lb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(cu=cu||document.createElement("div"),cu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=cu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N2=["Webkit","ms","Moz","O"];Object.keys(Ol).forEach(function(e){N2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ol[t]=Ol[e]})});function $b(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ol.hasOwnProperty(e)&&Ol[e]?(""+t).trim():t+"px"}function Fb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$b(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var S2=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _p(e,t){if(t){if(S2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ee(62))}}function Cp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=null;function Sg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kp=null,ti=null,ni=null;function dx(e){if(e=Dc(e)){if(typeof kp!="function")throw Error(ee(280));var t=e.stateNode;t&&(t=lh(t),kp(e.stateNode,e.type,t))}}function Ub(e){ti?ni?ni.push(e):ni=[e]:ti=e}function zb(){if(ti){var e=ti,t=ni;if(ni=ti=null,dx(e),t)for(e=0;e<t.length;e++)dx(t[e])}}function Bb(e,t){return e(t)}function Vb(){}var pf=!1;function Wb(e,t,n){if(pf)return e(t,n);pf=!0;try{return Bb(e,t,n)}finally{pf=!1,(ti!==null||ni!==null)&&(Vb(),zb())}}function Yl(e,t){var n=e.stateNode;if(n===null)return null;var r=lh(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ee(231,t,typeof n));return n}var Tp=!1;if(ns)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){Tp=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{Tp=!1}function j2(e,t,n,r,s,o,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Il=!1,rd=null,sd=!1,Pp=null,_2={onError:function(e){Il=!0,rd=e}};function C2(e,t,n,r,s,o,i,l,c){Il=!1,rd=null,j2.apply(_2,arguments)}function E2(e,t,n,r,s,o,i,l,c){if(C2.apply(this,arguments),Il){if(Il){var u=rd;Il=!1,rd=null}else throw Error(ee(198));sd||(sd=!0,Pp=u)}}function uo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hb(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hx(e){if(uo(e)!==e)throw Error(ee(188))}function k2(e){var t=e.alternate;if(!t){if(t=uo(e),t===null)throw Error(ee(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return hx(s),e;if(o===r)return hx(s),t;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,l=s.child;l;){if(l===n){i=!0,n=s,r=o;break}if(l===r){i=!0,r=s,n=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===n){i=!0,n=o,r=s;break}if(l===r){i=!0,r=o,n=s;break}l=l.sibling}if(!i)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?e:t}function Kb(e){return e=k2(e),e!==null?qb(e):null}function qb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qb(e);if(t!==null)return t;e=e.sibling}return null}var Gb=Ln.unstable_scheduleCallback,fx=Ln.unstable_cancelCallback,T2=Ln.unstable_shouldYield,P2=Ln.unstable_requestPaint,Ct=Ln.unstable_now,A2=Ln.unstable_getCurrentPriorityLevel,jg=Ln.unstable_ImmediatePriority,Yb=Ln.unstable_UserBlockingPriority,ad=Ln.unstable_NormalPriority,R2=Ln.unstable_LowPriority,Qb=Ln.unstable_IdlePriority,sh=null,Mr=null;function O2(e){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(sh,e,void 0,(e.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:M2,I2=Math.log,D2=Math.LN2;function M2(e){return e>>>=0,e===0?32:31-(I2(e)/D2|0)|0}var uu=64,du=4194304;function jl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function od(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var l=i&~s;l!==0?r=jl(l):(o&=i,o!==0&&(r=jl(o)))}else i=n&~s,i!==0?r=jl(i):o!==0&&(r=jl(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-xr(t),s=1<<n,r|=e[n],t&=~s;return r}function L2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $2(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-xr(o),l=1<<i,c=s[i];c===-1?(!(l&n)||l&r)&&(s[i]=L2(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function Ap(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jb(){var e=uu;return uu<<=1,!(uu&4194240)&&(uu=64),e}function mf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Oc(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xr(t),e[t]=n}function F2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-xr(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function _g(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xr(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Qe=0;function Xb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zb,Cg,eN,tN,nN,Rp=!1,hu=[],Hs=null,Ks=null,qs=null,Ql=new Map,Jl=new Map,ks=[],U2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function px(e,t){switch(e){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(t.pointerId)}}function dl(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Dc(t),t!==null&&Cg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function z2(e,t,n,r,s){switch(t){case"focusin":return Hs=dl(Hs,e,t,n,r,s),!0;case"dragenter":return Ks=dl(Ks,e,t,n,r,s),!0;case"mouseover":return qs=dl(qs,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ql.set(o,dl(Ql.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Jl.set(o,dl(Jl.get(o)||null,e,t,n,r,s)),!0}return!1}function rN(e){var t=Aa(e.target);if(t!==null){var n=uo(t);if(n!==null){if(t=n.tag,t===13){if(t=Hb(n),t!==null){e.blockedOn=t,nN(e.priority,function(){eN(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Op(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ep=r,n.target.dispatchEvent(r),Ep=null}else return t=Dc(n),t!==null&&Cg(t),e.blockedOn=n,!1;t.shift()}return!0}function mx(e,t,n){Uu(e)&&n.delete(t)}function B2(){Rp=!1,Hs!==null&&Uu(Hs)&&(Hs=null),Ks!==null&&Uu(Ks)&&(Ks=null),qs!==null&&Uu(qs)&&(qs=null),Ql.forEach(mx),Jl.forEach(mx)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,Rp||(Rp=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,B2)))}function Xl(e){function t(s){return hl(s,e)}if(0<hu.length){hl(hu[0],e);for(var n=1;n<hu.length;n++){var r=hu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Hs!==null&&hl(Hs,e),Ks!==null&&hl(Ks,e),qs!==null&&hl(qs,e),Ql.forEach(t),Jl.forEach(t),n=0;n<ks.length;n++)r=ks[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)rN(n),n.blockedOn===null&&ks.shift()}var ri=ls.ReactCurrentBatchConfig,id=!0;function V2(e,t,n,r){var s=Qe,o=ri.transition;ri.transition=null;try{Qe=1,Eg(e,t,n,r)}finally{Qe=s,ri.transition=o}}function W2(e,t,n,r){var s=Qe,o=ri.transition;ri.transition=null;try{Qe=4,Eg(e,t,n,r)}finally{Qe=s,ri.transition=o}}function Eg(e,t,n,r){if(id){var s=Op(e,t,n,r);if(s===null)_f(e,t,r,ld,n),px(e,r);else if(z2(s,e,t,n,r))r.stopPropagation();else if(px(e,r),t&4&&-1<U2.indexOf(e)){for(;s!==null;){var o=Dc(s);if(o!==null&&Zb(o),o=Op(e,t,n,r),o===null&&_f(e,t,r,ld,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else _f(e,t,r,null,n)}}var ld=null;function Op(e,t,n,r){if(ld=null,e=Sg(r),e=Aa(e),e!==null)if(t=uo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hb(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ld=e,null}function sN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A2()){case jg:return 1;case Yb:return 4;case ad:case R2:return 16;case Qb:return 536870912;default:return 16}default:return 16}}var Bs=null,kg=null,zu=null;function aN(){if(zu)return zu;var e,t=kg,n=t.length,r,s="value"in Bs?Bs.value:Bs.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return zu=s.slice(e,1<r?1-r:void 0)}function Bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fu(){return!0}function gx(){return!1}function Un(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fu:gx,this.isPropagationStopped=gx,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),t}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tg=Un(zi),Ic=vt({},zi,{view:0,detail:0}),H2=Un(Ic),gf,vf,fl,ah=vt({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fl&&(fl&&e.type==="mousemove"?(gf=e.screenX-fl.screenX,vf=e.screenY-fl.screenY):vf=gf=0,fl=e),gf)},movementY:function(e){return"movementY"in e?e.movementY:vf}}),vx=Un(ah),K2=vt({},ah,{dataTransfer:0}),q2=Un(K2),G2=vt({},Ic,{relatedTarget:0}),yf=Un(G2),Y2=vt({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Q2=Un(Y2),J2=vt({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),X2=Un(J2),Z2=vt({},zi,{data:0}),yx=Un(Z2),eP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rP(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nP[e])?!!t[e]:!1}function Pg(){return rP}var sP=vt({},Ic,{key:function(e){if(e.key){var t=eP[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tP[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(e){return e.type==="keypress"?Bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aP=Un(sP),oP=vt({},ah,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xx=Un(oP),iP=vt({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),lP=Un(iP),cP=vt({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),uP=Un(cP),dP=vt({},ah,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hP=Un(dP),fP=[9,13,27,32],Ag=ns&&"CompositionEvent"in window,Dl=null;ns&&"documentMode"in document&&(Dl=document.documentMode);var pP=ns&&"TextEvent"in window&&!Dl,oN=ns&&(!Ag||Dl&&8<Dl&&11>=Dl),wx=" ",bx=!1;function iN(e,t){switch(e){case"keyup":return fP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bo=!1;function mP(e,t){switch(e){case"compositionend":return lN(t);case"keypress":return t.which!==32?null:(bx=!0,wx);case"textInput":return e=t.data,e===wx&&bx?null:e;default:return null}}function gP(e,t){if(Bo)return e==="compositionend"||!Ag&&iN(e,t)?(e=aN(),zu=kg=Bs=null,Bo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oN&&t.locale!=="ko"?null:t.data;default:return null}}var vP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vP[e.type]:t==="textarea"}function cN(e,t,n,r){Ub(r),t=cd(t,"onChange"),0<t.length&&(n=new Tg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ml=null,Zl=null;function yP(e){wN(e,0)}function oh(e){var t=Ho(e);if(Ob(t))return e}function xP(e,t){if(e==="change")return t}var uN=!1;if(ns){var xf;if(ns){var wf="oninput"in document;if(!wf){var Sx=document.createElement("div");Sx.setAttribute("oninput","return;"),wf=typeof Sx.oninput=="function"}xf=wf}else xf=!1;uN=xf&&(!document.documentMode||9<document.documentMode)}function jx(){Ml&&(Ml.detachEvent("onpropertychange",dN),Zl=Ml=null)}function dN(e){if(e.propertyName==="value"&&oh(Zl)){var t=[];cN(t,Zl,e,Sg(e)),Wb(yP,t)}}function wP(e,t,n){e==="focusin"?(jx(),Ml=t,Zl=n,Ml.attachEvent("onpropertychange",dN)):e==="focusout"&&jx()}function bP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return oh(Zl)}function NP(e,t){if(e==="click")return oh(t)}function SP(e,t){if(e==="input"||e==="change")return oh(t)}function jP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var br=typeof Object.is=="function"?Object.is:jP;function ec(e,t){if(br(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mp.call(t,s)||!br(e[s],t[s]))return!1}return!0}function _x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cx(e,t){var n=_x(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_x(n)}}function hN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fN(){for(var e=window,t=nd();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=nd(e.document)}return t}function Rg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _P(e){var t=fN(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hN(n.ownerDocument.documentElement,n)){if(r!==null&&Rg(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Cx(n,o);var i=Cx(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var CP=ns&&"documentMode"in document&&11>=document.documentMode,Vo=null,Ip=null,Ll=null,Dp=!1;function Ex(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dp||Vo==null||Vo!==nd(r)||(r=Vo,"selectionStart"in r&&Rg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ll&&ec(Ll,r)||(Ll=r,r=cd(Ip,"onSelect"),0<r.length&&(t=new Tg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Vo)))}function pu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wo={animationend:pu("Animation","AnimationEnd"),animationiteration:pu("Animation","AnimationIteration"),animationstart:pu("Animation","AnimationStart"),transitionend:pu("Transition","TransitionEnd")},bf={},pN={};ns&&(pN=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function ih(e){if(bf[e])return bf[e];if(!Wo[e])return e;var t=Wo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pN)return bf[e]=t[n];return e}var mN=ih("animationend"),gN=ih("animationiteration"),vN=ih("animationstart"),yN=ih("transitionend"),xN=new Map,kx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(e,t){xN.set(e,t),co(t,[e])}for(var Nf=0;Nf<kx.length;Nf++){var Sf=kx[Nf],EP=Sf.toLowerCase(),kP=Sf[0].toUpperCase()+Sf.slice(1);da(EP,"on"+kP)}da(mN,"onAnimationEnd");da(gN,"onAnimationIteration");da(vN,"onAnimationStart");da("dblclick","onDoubleClick");da("focusin","onFocus");da("focusout","onBlur");da(yN,"onTransitionEnd");Si("onMouseEnter",["mouseout","mouseover"]);Si("onMouseLeave",["mouseout","mouseover"]);Si("onPointerEnter",["pointerout","pointerover"]);Si("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TP=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function Tx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,E2(r,t,void 0,e),e.currentTarget=null}function wN(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Tx(s,l,u),o=c}else for(i=0;i<r.length;i++){if(l=r[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Tx(s,l,u),o=c}}}if(sd)throw e=Pp,sd=!1,Pp=null,e}function st(e,t){var n=t[Up];n===void 0&&(n=t[Up]=new Set);var r=e+"__bubble";n.has(r)||(bN(t,e,2,!1),n.add(r))}function jf(e,t,n){var r=0;t&&(r|=4),bN(n,e,r,t)}var mu="_reactListening"+Math.random().toString(36).slice(2);function tc(e){if(!e[mu]){e[mu]=!0,kb.forEach(function(n){n!=="selectionchange"&&(TP.has(n)||jf(n,!1,e),jf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[mu]||(t[mu]=!0,jf("selectionchange",!1,t))}}function bN(e,t,n,r){switch(sN(t)){case 1:var s=V2;break;case 4:s=W2;break;default:s=Eg}n=s.bind(null,t,n,e),s=void 0,!Tp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function _f(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=Aa(l),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}l=l.parentNode}}r=r.return}Wb(function(){var u=o,d=Sg(n),f=[];e:{var g=xN.get(e);if(g!==void 0){var m=Tg,b=e;switch(e){case"keypress":if(Bu(n)===0)break e;case"keydown":case"keyup":m=aP;break;case"focusin":b="focus",m=yf;break;case"focusout":b="blur",m=yf;break;case"beforeblur":case"afterblur":m=yf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=q2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=lP;break;case mN:case gN:case vN:m=Q2;break;case yN:m=uP;break;case"scroll":m=H2;break;case"wheel":m=hP;break;case"copy":case"cut":case"paste":m=X2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=xx}var p=(t&4)!==0,x=!p&&e==="scroll",v=p?g!==null?g+"Capture":null:g;p=[];for(var y=u,w;y!==null;){w=y;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,v!==null&&(N=Yl(y,v),N!=null&&p.push(nc(y,N,w)))),x)break;y=y.return}0<p.length&&(g=new m(g,b,null,n,d),f.push({event:g,listeners:p}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",g&&n!==Ep&&(b=n.relatedTarget||n.fromElement)&&(Aa(b)||b[rs]))break e;if((m||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,m?(b=n.relatedTarget||n.toElement,m=u,b=b?Aa(b):null,b!==null&&(x=uo(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(m=null,b=u),m!==b)){if(p=vx,N="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=xx,N="onPointerLeave",v="onPointerEnter",y="pointer"),x=m==null?g:Ho(m),w=b==null?g:Ho(b),g=new p(N,y+"leave",m,n,d),g.target=x,g.relatedTarget=w,N=null,Aa(d)===u&&(p=new p(v,y+"enter",b,n,d),p.target=w,p.relatedTarget=x,N=p),x=N,m&&b)t:{for(p=m,v=b,y=0,w=p;w;w=jo(w))y++;for(w=0,N=v;N;N=jo(N))w++;for(;0<y-w;)p=jo(p),y--;for(;0<w-y;)v=jo(v),w--;for(;y--;){if(p===v||v!==null&&p===v.alternate)break t;p=jo(p),v=jo(v)}p=null}else p=null;m!==null&&Px(f,g,m,p,!1),b!==null&&x!==null&&Px(f,x,b,p,!0)}}e:{if(g=u?Ho(u):window,m=g.nodeName&&g.nodeName.toLowerCase(),m==="select"||m==="input"&&g.type==="file")var S=xP;else if(Nx(g))if(uN)S=SP;else{S=bP;var j=wP}else(m=g.nodeName)&&m.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(S=NP);if(S&&(S=S(e,u))){cN(f,S,n,d);break e}j&&j(e,g,u),e==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&Np(g,"number",g.value)}switch(j=u?Ho(u):window,e){case"focusin":(Nx(j)||j.contentEditable==="true")&&(Vo=j,Ip=u,Ll=null);break;case"focusout":Ll=Ip=Vo=null;break;case"mousedown":Dp=!0;break;case"contextmenu":case"mouseup":case"dragend":Dp=!1,Ex(f,n,d);break;case"selectionchange":if(CP)break;case"keydown":case"keyup":Ex(f,n,d)}var _;if(Ag)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Bo?iN(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(oN&&n.locale!=="ko"&&(Bo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Bo&&(_=aN()):(Bs=d,kg="value"in Bs?Bs.value:Bs.textContent,Bo=!0)),j=cd(u,E),0<j.length&&(E=new yx(E,e,null,n,d),f.push({event:E,listeners:j}),_?E.data=_:(_=lN(n),_!==null&&(E.data=_)))),(_=pP?mP(e,n):gP(e,n))&&(u=cd(u,"onBeforeInput"),0<u.length&&(d=new yx("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=_))}wN(f,t)})}function nc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cd(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Yl(e,n),o!=null&&r.unshift(nc(e,o,s)),o=Yl(e,t),o!=null&&r.push(nc(e,o,s))),e=e.return}return r}function jo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Px(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=Yl(n,o),c!=null&&i.unshift(nc(n,c,l))):s||(c=Yl(n,o),c!=null&&i.push(nc(n,c,l)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var PP=/\r\n?/g,AP=/\u0000|\uFFFD/g;function Ax(e){return(typeof e=="string"?e:""+e).replace(PP,`
`).replace(AP,"")}function gu(e,t,n){if(t=Ax(t),Ax(e)!==t&&n)throw Error(ee(425))}function ud(){}var Mp=null,Lp=null;function $p(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fp=typeof setTimeout=="function"?setTimeout:void 0,RP=typeof clearTimeout=="function"?clearTimeout:void 0,Rx=typeof Promise=="function"?Promise:void 0,OP=typeof queueMicrotask=="function"?queueMicrotask:typeof Rx<"u"?function(e){return Rx.resolve(null).then(e).catch(IP)}:Fp;function IP(e){setTimeout(function(){throw e})}function Cf(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Xl(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xl(t)}function Gs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ox(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Bi,rc="__reactProps$"+Bi,rs="__reactContainer$"+Bi,Up="__reactEvents$"+Bi,DP="__reactListeners$"+Bi,MP="__reactHandles$"+Bi;function Aa(e){var t=e[Ar];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rs]||n[Ar]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ox(e);e!==null;){if(n=e[Ar])return n;e=Ox(e)}return t}e=n,n=e.parentNode}return null}function Dc(e){return e=e[Ar]||e[rs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ho(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ee(33))}function lh(e){return e[rc]||null}var zp=[],Ko=-1;function ha(e){return{current:e}}function at(e){0>Ko||(e.current=zp[Ko],zp[Ko]=null,Ko--)}function tt(e,t){Ko++,zp[Ko]=e.current,e.current=t}var ra={},Zt=ha(ra),xn=ha(!1),qa=ra;function ji(e,t){var n=e.type.contextTypes;if(!n)return ra;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function wn(e){return e=e.childContextTypes,e!=null}function dd(){at(xn),at(Zt)}function Ix(e,t,n){if(Zt.current!==ra)throw Error(ee(168));tt(Zt,t),tt(xn,n)}function NN(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(ee(108,w2(e)||"Unknown",s));return vt({},n,r)}function hd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ra,qa=Zt.current,tt(Zt,e),tt(xn,xn.current),!0}function Dx(e,t,n){var r=e.stateNode;if(!r)throw Error(ee(169));n?(e=NN(e,t,qa),r.__reactInternalMemoizedMergedChildContext=e,at(xn),at(Zt),tt(Zt,e)):at(xn),tt(xn,n)}var Kr=null,ch=!1,Ef=!1;function SN(e){Kr===null?Kr=[e]:Kr.push(e)}function LP(e){ch=!0,SN(e)}function fa(){if(!Ef&&Kr!==null){Ef=!0;var e=0,t=Qe;try{var n=Kr;for(Qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kr=null,ch=!1}catch(s){throw Kr!==null&&(Kr=Kr.slice(e+1)),Gb(jg,fa),s}finally{Qe=t,Ef=!1}}return null}var qo=[],Go=0,fd=null,pd=0,Kn=[],qn=0,Ga=null,Qr=1,Jr="";function _a(e,t){qo[Go++]=pd,qo[Go++]=fd,fd=e,pd=t}function jN(e,t,n){Kn[qn++]=Qr,Kn[qn++]=Jr,Kn[qn++]=Ga,Ga=e;var r=Qr;e=Jr;var s=32-xr(r)-1;r&=~(1<<s),n+=1;var o=32-xr(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Qr=1<<32-xr(t)+s|n<<s|r,Jr=o+e}else Qr=1<<o|n<<s|r,Jr=e}function Og(e){e.return!==null&&(_a(e,1),jN(e,1,0))}function Ig(e){for(;e===fd;)fd=qo[--Go],qo[Go]=null,pd=qo[--Go],qo[Go]=null;for(;e===Ga;)Ga=Kn[--qn],Kn[qn]=null,Jr=Kn[--qn],Kn[qn]=null,Qr=Kn[--qn],Kn[qn]=null}var In=null,An=null,it=!1,gr=null;function _N(e,t){var n=Gn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Mx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,In=e,An=Gs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,In=e,An=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ga!==null?{id:Qr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,In=e,An=null,!0):!1;default:return!1}}function Bp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vp(e){if(it){var t=An;if(t){var n=t;if(!Mx(e,t)){if(Bp(e))throw Error(ee(418));t=Gs(n.nextSibling);var r=In;t&&Mx(e,t)?_N(r,n):(e.flags=e.flags&-4097|2,it=!1,In=e)}}else{if(Bp(e))throw Error(ee(418));e.flags=e.flags&-4097|2,it=!1,In=e}}}function Lx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;In=e}function vu(e){if(e!==In)return!1;if(!it)return Lx(e),it=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$p(e.type,e.memoizedProps)),t&&(t=An)){if(Bp(e))throw CN(),Error(ee(418));for(;t;)_N(e,t),t=Gs(t.nextSibling)}if(Lx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){An=Gs(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}An=null}}else An=In?Gs(e.stateNode.nextSibling):null;return!0}function CN(){for(var e=An;e;)e=Gs(e.nextSibling)}function _i(){An=In=null,it=!1}function Dg(e){gr===null?gr=[e]:gr.push(e)}var $P=ls.ReactCurrentBatchConfig;function pl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var l=s.refs;i===null?delete l[o]:l[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,e))}return e}function yu(e,t){throw e=Object.prototype.toString.call(t),Error(ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $x(e){var t=e._init;return t(e._payload)}function EN(e){function t(v,y){if(e){var w=v.deletions;w===null?(v.deletions=[y],v.flags|=16):w.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function s(v,y){return v=Xs(v,y),v.index=0,v.sibling=null,v}function o(v,y,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<y?(v.flags|=2,y):w):(v.flags|=2,y)):(v.flags|=1048576,y)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,y,w,N){return y===null||y.tag!==6?(y=If(w,v.mode,N),y.return=v,y):(y=s(y,w),y.return=v,y)}function c(v,y,w,N){var S=w.type;return S===zo?d(v,y,w.props.children,N,w.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_s&&$x(S)===y.type)?(N=s(y,w.props),N.ref=pl(v,y,w),N.return=v,N):(N=Yu(w.type,w.key,w.props,null,v.mode,N),N.ref=pl(v,y,w),N.return=v,N)}function u(v,y,w,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Df(w,v.mode,N),y.return=v,y):(y=s(y,w.children||[]),y.return=v,y)}function d(v,y,w,N,S){return y===null||y.tag!==7?(y=Ha(w,v.mode,N,S),y.return=v,y):(y=s(y,w),y.return=v,y)}function f(v,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=If(""+y,v.mode,w),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case iu:return w=Yu(y.type,y.key,y.props,null,v.mode,w),w.ref=pl(v,null,y),w.return=v,w;case Uo:return y=Df(y,v.mode,w),y.return=v,y;case _s:var N=y._init;return f(v,N(y._payload),w)}if(Sl(y)||cl(y))return y=Ha(y,v.mode,w,null),y.return=v,y;yu(v,y)}return null}function g(v,y,w,N){var S=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(v,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case iu:return w.key===S?c(v,y,w,N):null;case Uo:return w.key===S?u(v,y,w,N):null;case _s:return S=w._init,g(v,y,S(w._payload),N)}if(Sl(w)||cl(w))return S!==null?null:d(v,y,w,N,null);yu(v,w)}return null}function m(v,y,w,N,S){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(w)||null,l(y,v,""+N,S);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case iu:return v=v.get(N.key===null?w:N.key)||null,c(y,v,N,S);case Uo:return v=v.get(N.key===null?w:N.key)||null,u(y,v,N,S);case _s:var j=N._init;return m(v,y,w,j(N._payload),S)}if(Sl(N)||cl(N))return v=v.get(w)||null,d(y,v,N,S,null);yu(y,N)}return null}function b(v,y,w,N){for(var S=null,j=null,_=y,E=y=0,C=null;_!==null&&E<w.length;E++){_.index>E?(C=_,_=null):C=_.sibling;var P=g(v,_,w[E],N);if(P===null){_===null&&(_=C);break}e&&_&&P.alternate===null&&t(v,_),y=o(P,y,E),j===null?S=P:j.sibling=P,j=P,_=C}if(E===w.length)return n(v,_),it&&_a(v,E),S;if(_===null){for(;E<w.length;E++)_=f(v,w[E],N),_!==null&&(y=o(_,y,E),j===null?S=_:j.sibling=_,j=_);return it&&_a(v,E),S}for(_=r(v,_);E<w.length;E++)C=m(_,v,E,w[E],N),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?E:C.key),y=o(C,y,E),j===null?S=C:j.sibling=C,j=C);return e&&_.forEach(function(R){return t(v,R)}),it&&_a(v,E),S}function p(v,y,w,N){var S=cl(w);if(typeof S!="function")throw Error(ee(150));if(w=S.call(w),w==null)throw Error(ee(151));for(var j=S=null,_=y,E=y=0,C=null,P=w.next();_!==null&&!P.done;E++,P=w.next()){_.index>E?(C=_,_=null):C=_.sibling;var R=g(v,_,P.value,N);if(R===null){_===null&&(_=C);break}e&&_&&R.alternate===null&&t(v,_),y=o(R,y,E),j===null?S=R:j.sibling=R,j=R,_=C}if(P.done)return n(v,_),it&&_a(v,E),S;if(_===null){for(;!P.done;E++,P=w.next())P=f(v,P.value,N),P!==null&&(y=o(P,y,E),j===null?S=P:j.sibling=P,j=P);return it&&_a(v,E),S}for(_=r(v,_);!P.done;E++,P=w.next())P=m(_,v,E,P.value,N),P!==null&&(e&&P.alternate!==null&&_.delete(P.key===null?E:P.key),y=o(P,y,E),j===null?S=P:j.sibling=P,j=P);return e&&_.forEach(function(L){return t(v,L)}),it&&_a(v,E),S}function x(v,y,w,N){if(typeof w=="object"&&w!==null&&w.type===zo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case iu:e:{for(var S=w.key,j=y;j!==null;){if(j.key===S){if(S=w.type,S===zo){if(j.tag===7){n(v,j.sibling),y=s(j,w.props.children),y.return=v,v=y;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_s&&$x(S)===j.type){n(v,j.sibling),y=s(j,w.props),y.ref=pl(v,j,w),y.return=v,v=y;break e}n(v,j);break}else t(v,j);j=j.sibling}w.type===zo?(y=Ha(w.props.children,v.mode,N,w.key),y.return=v,v=y):(N=Yu(w.type,w.key,w.props,null,v.mode,N),N.ref=pl(v,y,w),N.return=v,v=N)}return i(v);case Uo:e:{for(j=w.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(v,y.sibling),y=s(y,w.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=Df(w,v.mode,N),y.return=v,v=y}return i(v);case _s:return j=w._init,x(v,y,j(w._payload),N)}if(Sl(w))return b(v,y,w,N);if(cl(w))return p(v,y,w,N);yu(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(v,y.sibling),y=s(y,w),y.return=v,v=y):(n(v,y),y=If(w,v.mode,N),y.return=v,v=y),i(v)):n(v,y)}return x}var Ci=EN(!0),kN=EN(!1),md=ha(null),gd=null,Yo=null,Mg=null;function Lg(){Mg=Yo=gd=null}function $g(e){var t=md.current;at(md),e._currentValue=t}function Wp(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function si(e,t){gd=e,Mg=Yo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yn=!0),e.firstContext=null)}function tr(e){var t=e._currentValue;if(Mg!==e)if(e={context:e,memoizedValue:t,next:null},Yo===null){if(gd===null)throw Error(ee(308));Yo=e,gd.dependencies={lanes:0,firstContext:e}}else Yo=Yo.next=e;return t}var Ra=null;function Fg(e){Ra===null?Ra=[e]:Ra.push(e)}function TN(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Fg(t)):(n.next=s.next,s.next=n),t.interleaved=n,ss(e,r)}function ss(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Cs=!1;function Ug(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ss(e,n)}return s=r.interleaved,s===null?(t.next=t,Fg(r)):(t.next=s.next,s.next=t),r.interleaved=t,ss(e,n)}function Vu(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}function Fx(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vd(e,t,n,r){var s=e.updateQueue;Cs=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,l=o;do{var g=l.lane,m=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,p=l;switch(g=t,m=n,p.tag){case 1:if(b=p.payload,typeof b=="function"){f=b.call(m,f,g);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=p.payload,g=typeof b=="function"?b.call(m,f,g):b,g==null)break e;f=vt({},f,g);break e;case 2:Cs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else m={eventTime:m,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Qa|=i,e.lanes=i,e.memoizedState=f}}function Ux(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var Mc={},Lr=ha(Mc),sc=ha(Mc),ac=ha(Mc);function Oa(e){if(e===Mc)throw Error(ee(174));return e}function zg(e,t){switch(tt(ac,t),tt(sc,e),tt(Lr,Mc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jp(t,e)}at(Lr),tt(Lr,t)}function Ei(){at(Lr),at(sc),at(ac)}function AN(e){Oa(ac.current);var t=Oa(Lr.current),n=jp(t,e.type);t!==n&&(tt(sc,e),tt(Lr,n))}function Bg(e){sc.current===e&&(at(Lr),at(sc))}var pt=ha(0);function yd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kf=[];function Vg(){for(var e=0;e<kf.length;e++)kf[e]._workInProgressVersionPrimary=null;kf.length=0}var Wu=ls.ReactCurrentDispatcher,Tf=ls.ReactCurrentBatchConfig,Ya=0,mt=null,Rt=null,Mt=null,xd=!1,$l=!1,oc=0,FP=0;function Yt(){throw Error(ee(321))}function Wg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!br(e[n],t[n]))return!1;return!0}function Hg(e,t,n,r,s,o){if(Ya=o,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Wu.current=e===null||e.memoizedState===null?VP:WP,e=n(r,s),$l){o=0;do{if($l=!1,oc=0,25<=o)throw Error(ee(301));o+=1,Mt=Rt=null,t.updateQueue=null,Wu.current=HP,e=n(r,s)}while($l)}if(Wu.current=wd,t=Rt!==null&&Rt.next!==null,Ya=0,Mt=Rt=mt=null,xd=!1,t)throw Error(ee(300));return e}function Kg(){var e=oc!==0;return oc=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?mt.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function nr(){if(Rt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=Mt===null?mt.memoizedState:Mt.next;if(t!==null)Mt=t,Rt=e;else{if(e===null)throw Error(ee(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Mt===null?mt.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function ic(e,t){return typeof t=="function"?t(e):t}function Pf(e){var t=nr(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=Rt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((Ya&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=r):c=c.next=f,mt.lanes|=d,Qa|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=l,br(r,t.memoizedState)||(yn=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,mt.lanes|=o,Qa|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Af(e){var t=nr(),n=t.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);br(o,t.memoizedState)||(yn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function RN(){}function ON(e,t){var n=mt,r=nr(),s=t(),o=!br(r.memoizedState,s);if(o&&(r.memoizedState=s,yn=!0),r=r.queue,qg(MN.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,lc(9,DN.bind(null,n,r,s,t),void 0,null),Lt===null)throw Error(ee(349));Ya&30||IN(n,t,s)}return s}function IN(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function DN(e,t,n,r){t.value=n,t.getSnapshot=r,LN(t)&&$N(e)}function MN(e,t,n){return n(function(){LN(t)&&$N(e)})}function LN(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!br(e,n)}catch{return!0}}function $N(e){var t=ss(e,1);t!==null&&wr(t,e,1,-1)}function zx(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:e},t.queue=e,e=e.dispatch=BP.bind(null,mt,e),[t.memoizedState,e]}function lc(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function FN(){return nr().memoizedState}function Hu(e,t,n,r){var s=Er();mt.flags|=e,s.memoizedState=lc(1|t,n,void 0,r===void 0?null:r)}function uh(e,t,n,r){var s=nr();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var i=Rt.memoizedState;if(o=i.destroy,r!==null&&Wg(r,i.deps)){s.memoizedState=lc(t,n,o,r);return}}mt.flags|=e,s.memoizedState=lc(1|t,n,o,r)}function Bx(e,t){return Hu(8390656,8,e,t)}function qg(e,t){return uh(2048,8,e,t)}function UN(e,t){return uh(4,2,e,t)}function zN(e,t){return uh(4,4,e,t)}function BN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function VN(e,t,n){return n=n!=null?n.concat([e]):null,uh(4,4,BN.bind(null,t,e),n)}function Gg(){}function WN(e,t){var n=nr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function HN(e,t){var n=nr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wg(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function KN(e,t,n){return Ya&21?(br(n,t)||(n=Jb(),mt.lanes|=n,Qa|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yn=!0),e.memoizedState=n)}function UP(e,t){var n=Qe;Qe=n!==0&&4>n?n:4,e(!0);var r=Tf.transition;Tf.transition={};try{e(!1),t()}finally{Qe=n,Tf.transition=r}}function qN(){return nr().memoizedState}function zP(e,t,n){var r=Js(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},GN(e))YN(t,n);else if(n=TN(e,t,n,r),n!==null){var s=ln();wr(n,e,r,s),QN(n,t,r)}}function BP(e,t,n){var r=Js(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(GN(e))YN(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,l=o(i,n);if(s.hasEagerState=!0,s.eagerState=l,br(l,i)){var c=t.interleaved;c===null?(s.next=s,Fg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=TN(e,t,s,r),n!==null&&(s=ln(),wr(n,e,r,s),QN(n,t,r))}}function GN(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function YN(e,t){$l=xd=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function QN(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_g(e,n)}}var wd={readContext:tr,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},VP={readContext:tr,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:tr,useEffect:Bx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hu(4194308,4,BN.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hu(4,2,e,t)},useMemo:function(e,t){var n=Er();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Er();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=zP.bind(null,mt,e),[r.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:zx,useDebugValue:Gg,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=zx(!1),t=e[0];return e=UP.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mt,s=Er();if(it){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=t(),Lt===null)throw Error(ee(349));Ya&30||IN(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Bx(MN.bind(null,r,o,e),[e]),r.flags|=2048,lc(9,DN.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Er(),t=Lt.identifierPrefix;if(it){var n=Jr,r=Qr;n=(r&~(1<<32-xr(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=oc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=FP++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},WP={readContext:tr,useCallback:WN,useContext:tr,useEffect:qg,useImperativeHandle:VN,useInsertionEffect:UN,useLayoutEffect:zN,useMemo:HN,useReducer:Pf,useRef:FN,useState:function(){return Pf(ic)},useDebugValue:Gg,useDeferredValue:function(e){var t=nr();return KN(t,Rt.memoizedState,e)},useTransition:function(){var e=Pf(ic)[0],t=nr().memoizedState;return[e,t]},useMutableSource:RN,useSyncExternalStore:ON,useId:qN,unstable_isNewReconciler:!1},HP={readContext:tr,useCallback:WN,useContext:tr,useEffect:qg,useImperativeHandle:VN,useInsertionEffect:UN,useLayoutEffect:zN,useMemo:HN,useReducer:Af,useRef:FN,useState:function(){return Af(ic)},useDebugValue:Gg,useDeferredValue:function(e){var t=nr();return Rt===null?t.memoizedState=e:KN(t,Rt.memoizedState,e)},useTransition:function(){var e=Af(ic)[0],t=nr().memoizedState;return[e,t]},useMutableSource:RN,useSyncExternalStore:ON,useId:qN,unstable_isNewReconciler:!1};function ur(e,t){if(e&&e.defaultProps){t=vt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Hp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var dh={isMounted:function(e){return(e=e._reactInternals)?uo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ln(),s=Js(e),o=Xr(r,s);o.payload=t,n!=null&&(o.callback=n),t=Ys(e,o,s),t!==null&&(wr(t,e,s,r),Vu(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ln(),s=Js(e),o=Xr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ys(e,o,s),t!==null&&(wr(t,e,s,r),Vu(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ln(),r=Js(e),s=Xr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Ys(e,s,r),t!==null&&(wr(t,e,r,n),Vu(t,e,r))}};function Vx(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!ec(n,r)||!ec(s,o):!0}function JN(e,t,n){var r=!1,s=ra,o=t.contextType;return typeof o=="object"&&o!==null?o=tr(o):(s=wn(t)?qa:Zt.current,r=t.contextTypes,o=(r=r!=null)?ji(e,s):ra),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dh,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wx(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&dh.enqueueReplaceState(t,t.state,null)}function Kp(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ug(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=tr(o):(o=wn(t)?qa:Zt.current,s.context=ji(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Hp(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&dh.enqueueReplaceState(s,s.state,null),vd(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ki(e,t){try{var n="",r=t;do n+=x2(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Rf(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function qp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var KP=typeof WeakMap=="function"?WeakMap:Map;function XN(e,t,n){n=Xr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nd||(Nd=!0,rm=r),qp(e,t)},n}function ZN(e,t,n){n=Xr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){qp(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){qp(e,t),typeof r!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Hx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new KP;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=oA.bind(null,e,t,n),t.then(e,e))}function Kx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qx(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Xr(-1,1),t.tag=2,Ys(n,t,1))),n.lanes|=1),e)}var qP=ls.ReactCurrentOwner,yn=!1;function an(e,t,n,r){t.child=e===null?kN(t,null,n,r):Ci(t,e.child,n,r)}function Gx(e,t,n,r,s){n=n.render;var o=t.ref;return si(t,s),r=Hg(e,t,n,r,o,s),n=Kg(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,as(e,t,s)):(it&&n&&Og(t),t.flags|=1,an(e,t,r,s),t.child)}function Yx(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!nv(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,eS(e,t,o,r,s)):(e=Yu(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:ec,n(i,r)&&e.ref===t.ref)return as(e,t,s)}return t.flags|=1,e=Xs(o,r),e.ref=t.ref,e.return=t,t.child=e}function eS(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(ec(o,r)&&e.ref===t.ref)if(yn=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(yn=!0);else return t.lanes=e.lanes,as(e,t,s)}return Gp(e,t,n,r,s)}function tS(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(Jo,En),En|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,tt(Jo,En),En|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,tt(Jo,En),En|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,tt(Jo,En),En|=r;return an(e,t,s,n),t.child}function nS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Gp(e,t,n,r,s){var o=wn(n)?qa:Zt.current;return o=ji(t,o),si(t,s),n=Hg(e,t,n,r,o,s),r=Kg(),e!==null&&!yn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,as(e,t,s)):(it&&r&&Og(t),t.flags|=1,an(e,t,n,s),t.child)}function Qx(e,t,n,r,s){if(wn(n)){var o=!0;hd(t)}else o=!1;if(si(t,s),t.stateNode===null)Ku(e,t),JN(t,n,r),Kp(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=tr(u):(u=wn(n)?qa:Zt.current,u=ji(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Wx(t,i,r,u),Cs=!1;var g=t.memoizedState;i.state=g,vd(t,r,i,s),c=t.memoizedState,l!==r||g!==c||xn.current||Cs?(typeof d=="function"&&(Hp(t,n,d,r),c=t.memoizedState),(l=Cs||Vx(t,n,l,r,g,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=u,r=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,PN(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ur(t.type,l),i.props=u,f=t.pendingProps,g=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=tr(c):(c=wn(n)?qa:Zt.current,c=ji(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||g!==c)&&Wx(t,i,r,c),Cs=!1,g=t.memoizedState,i.state=g,vd(t,r,i,s);var b=t.memoizedState;l!==f||g!==b||xn.current||Cs?(typeof m=="function"&&(Hp(t,n,m,r),b=t.memoizedState),(u=Cs||Vx(t,n,u,r,g,b,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,b,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,b,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),i.props=r,i.state=b,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Yp(e,t,n,r,o,s)}function Yp(e,t,n,r,s,o){nS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Dx(t,n,!1),as(e,t,o);r=t.stateNode,qP.current=t;var l=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Ci(t,e.child,null,o),t.child=Ci(t,null,l,o)):an(e,t,l,o),t.memoizedState=r.state,s&&Dx(t,n,!0),t.child}function rS(e){var t=e.stateNode;t.pendingContext?Ix(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ix(e,t.context,!1),zg(e,t.containerInfo)}function Jx(e,t,n,r,s){return _i(),Dg(s),t.flags|=256,an(e,t,n,r),t.child}var Qp={dehydrated:null,treeContext:null,retryLane:0};function Jp(e){return{baseLanes:e,cachePool:null,transitions:null}}function sS(e,t,n){var r=t.pendingProps,s=pt.current,o=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),tt(pt,s&1),e===null)return Vp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ph(i,r,0,null),e=Ha(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Jp(n),t.memoizedState=Qp,e):Yg(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return GP(e,t,i,r,l,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Xs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=Xs(l,o):(o=Ha(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Jp(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Qp,r}return o=e.child,e=o.sibling,r=Xs(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Yg(e,t){return t=ph({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xu(e,t,n,r){return r!==null&&Dg(r),Ci(t,e.child,null,n),e=Yg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GP(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Rf(Error(ee(422))),xu(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=ph({mode:"visible",children:r.children},s,0,null),o=Ha(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ci(t,e.child,null,i),t.child.memoizedState=Jp(i),t.memoizedState=Qp,o);if(!(t.mode&1))return xu(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(ee(419)),r=Rf(o,r,void 0),xu(e,t,i,r)}if(l=(i&e.childLanes)!==0,yn||l){if(r=Lt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,ss(e,s),wr(r,e,s,-1))}return tv(),r=Rf(Error(ee(421))),xu(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=iA.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,An=Gs(s.nextSibling),In=t,it=!0,gr=null,e!==null&&(Kn[qn++]=Qr,Kn[qn++]=Jr,Kn[qn++]=Ga,Qr=e.id,Jr=e.overflow,Ga=t),t=Yg(t,r.children),t.flags|=4096,t)}function Xx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wp(e.return,t,n)}function Of(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function aS(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(an(e,t,r.children,n),r=pt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xx(e,n,t);else if(e.tag===19)Xx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(tt(pt,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&yd(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Of(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&yd(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Of(t,!0,n,null,o);break;case"together":Of(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function as(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qa|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ee(153));if(t.child!==null){for(e=t.child,n=Xs(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xs(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function YP(e,t,n){switch(t.tag){case 3:rS(t),_i();break;case 5:AN(t);break;case 1:wn(t.type)&&hd(t);break;case 4:zg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;tt(md,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(tt(pt,pt.current&1),t.flags|=128,null):n&t.child.childLanes?sS(e,t,n):(tt(pt,pt.current&1),e=as(e,t,n),e!==null?e.sibling:null);tt(pt,pt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return aS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),tt(pt,pt.current),r)break;return null;case 22:case 23:return t.lanes=0,tS(e,t,n)}return as(e,t,n)}var oS,Xp,iS,lS;oS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xp=function(){};iS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Oa(Lr.current);var o=null;switch(n){case"input":s=wp(e,s),r=wp(e,r),o=[];break;case"select":s=vt({},s,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":s=Sp(e,s),r=Sp(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ud)}_p(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ql.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ql.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&st("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};lS=function(e,t,n,r){n!==r&&(t.flags|=4)};function ml(e,t){if(!it)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function QP(e,t,n){var r=t.pendingProps;switch(Ig(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(t),null;case 1:return wn(t.type)&&dd(),Qt(t),null;case 3:return r=t.stateNode,Ei(),at(xn),at(Zt),Vg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gr!==null&&(om(gr),gr=null))),Xp(e,t),Qt(t),null;case 5:Bg(t);var s=Oa(ac.current);if(n=t.type,e!==null&&t.stateNode!=null)iS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ee(166));return Qt(t),null}if(e=Oa(Lr.current),vu(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Ar]=t,r[rc]=o,e=(t.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(s=0;s<_l.length;s++)st(_l[s],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":ix(r,o),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},st("invalid",r);break;case"textarea":cx(r,o),st("invalid",r)}_p(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&gu(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&gu(r.textContent,l,e),s=["children",""+l]):ql.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&st("scroll",r)}switch(n){case"input":lu(r),lx(r,o,!0);break;case"textarea":lu(r),ux(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ud)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Ar]=t,e[rc]=r,oS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Cp(n,r),n){case"dialog":st("cancel",e),st("close",e),s=r;break;case"iframe":case"object":case"embed":st("load",e),s=r;break;case"video":case"audio":for(s=0;s<_l.length;s++)st(_l[s],e);s=r;break;case"source":st("error",e),s=r;break;case"img":case"image":case"link":st("error",e),st("load",e),s=r;break;case"details":st("toggle",e),s=r;break;case"input":ix(e,r),s=wp(e,r),st("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=vt({},r,{value:void 0}),st("invalid",e);break;case"textarea":cx(e,r),s=Sp(e,r),st("invalid",e);break;default:s=r}_p(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?Fb(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lb(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gl(e,c):typeof c=="number"&&Gl(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ql.hasOwnProperty(o)?c!=null&&o==="onScroll"&&st("scroll",e):c!=null&&xg(e,o,c,i))}switch(n){case"input":lu(e),lx(e,r,!1);break;case"textarea":lu(e),ux(e);break;case"option":r.value!=null&&e.setAttribute("value",""+na(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ei(e,!!r.multiple,o,!1):r.defaultValue!=null&&ei(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ud)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qt(t),null;case 6:if(e&&t.stateNode!=null)lS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ee(166));if(n=Oa(ac.current),Oa(Lr.current),vu(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ar]=t,(o=r.nodeValue!==n)&&(e=In,e!==null))switch(e.tag){case 3:gu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&gu(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=t,t.stateNode=r}return Qt(t),null;case 13:if(at(pt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(it&&An!==null&&t.mode&1&&!(t.flags&128))CN(),_i(),t.flags|=98560,o=!1;else if(o=vu(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Ar]=t}else _i(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qt(t),o=!1}else gr!==null&&(om(gr),gr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?It===0&&(It=3):tv())),t.updateQueue!==null&&(t.flags|=4),Qt(t),null);case 4:return Ei(),Xp(e,t),e===null&&tc(t.stateNode.containerInfo),Qt(t),null;case 10:return $g(t.type._context),Qt(t),null;case 17:return wn(t.type)&&dd(),Qt(t),null;case 19:if(at(pt),o=t.memoizedState,o===null)return Qt(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)ml(o,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=yd(e),i!==null){for(t.flags|=128,ml(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return tt(pt,pt.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ct()>Ti&&(t.flags|=128,r=!0,ml(o,!1),t.lanes=4194304)}else{if(!r)if(e=yd(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ml(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!it)return Qt(t),null}else 2*Ct()-o.renderingStartTime>Ti&&n!==1073741824&&(t.flags|=128,r=!0,ml(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ct(),t.sibling=null,n=pt.current,tt(pt,r?n&1|2:n&1),t):(Qt(t),null);case 22:case 23:return ev(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?En&1073741824&&(Qt(t),t.subtreeFlags&6&&(t.flags|=8192)):Qt(t),null;case 24:return null;case 25:return null}throw Error(ee(156,t.tag))}function JP(e,t){switch(Ig(t),t.tag){case 1:return wn(t.type)&&dd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ei(),at(xn),at(Zt),Vg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bg(t),null;case 13:if(at(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ee(340));_i()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return at(pt),null;case 4:return Ei(),null;case 10:return $g(t.type._context),null;case 22:case 23:return ev(),null;case 24:return null;default:return null}}var wu=!1,Xt=!1,XP=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Qo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Nt(e,t,r)}else n.current=null}function Zp(e,t,n){try{n()}catch(r){Nt(e,t,r)}}var Zx=!1;function ZP(e,t){if(Mp=id,e=fN(),Rg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,g=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(l=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)g=f,f=m;for(;;){if(f===e)break t;if(g===n&&++u===s&&(l=i),g===o&&++d===r&&(c=i),(m=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lp={focusedElem:e,selectionRange:n},id=!1,ve=t;ve!==null;)if(t=ve,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ve=e;else for(;ve!==null;){t=ve;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var p=b.memoizedProps,x=b.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?p:ur(t.type,p),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(N){Nt(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,ve=e;break}ve=t.return}return b=Zx,Zx=!1,b}function Fl(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Zp(t,n,o)}s=s.next}while(s!==r)}}function hh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function em(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cS(e){var t=e.alternate;t!==null&&(e.alternate=null,cS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ar],delete t[rc],delete t[Up],delete t[DP],delete t[MP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uS(e){return e.tag===5||e.tag===3||e.tag===4}function ew(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ud));else if(r!==4&&(e=e.child,e!==null))for(tm(e,t,n),e=e.sibling;e!==null;)tm(e,t,n),e=e.sibling}function nm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(nm(e,t,n),e=e.sibling;e!==null;)nm(e,t,n),e=e.sibling}var Vt=null,pr=!1;function ys(e,t,n){for(n=n.child;n!==null;)dS(e,t,n),n=n.sibling}function dS(e,t,n){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(sh,n)}catch{}switch(n.tag){case 5:Xt||Qo(n,t);case 6:var r=Vt,s=pr;Vt=null,ys(e,t,n),Vt=r,pr=s,Vt!==null&&(pr?(e=Vt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Vt.removeChild(n.stateNode));break;case 18:Vt!==null&&(pr?(e=Vt,n=n.stateNode,e.nodeType===8?Cf(e.parentNode,n):e.nodeType===1&&Cf(e,n),Xl(e)):Cf(Vt,n.stateNode));break;case 4:r=Vt,s=pr,Vt=n.stateNode.containerInfo,pr=!0,ys(e,t,n),Vt=r,pr=s;break;case 0:case 11:case 14:case 15:if(!Xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Zp(n,t,i),s=s.next}while(s!==r)}ys(e,t,n);break;case 1:if(!Xt&&(Qo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Nt(n,t,l)}ys(e,t,n);break;case 21:ys(e,t,n);break;case 22:n.mode&1?(Xt=(r=Xt)||n.memoizedState!==null,ys(e,t,n),Xt=r):ys(e,t,n);break;default:ys(e,t,n)}}function tw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new XP),t.forEach(function(r){var s=lA.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ar(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Vt=l.stateNode,pr=!1;break e;case 3:Vt=l.stateNode.containerInfo,pr=!0;break e;case 4:Vt=l.stateNode.containerInfo,pr=!0;break e}l=l.return}if(Vt===null)throw Error(ee(160));dS(o,i,s),Vt=null,pr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Nt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hS(t,e),t=t.sibling}function hS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ar(t,e),Cr(e),r&4){try{Fl(3,e,e.return),hh(3,e)}catch(p){Nt(e,e.return,p)}try{Fl(5,e,e.return)}catch(p){Nt(e,e.return,p)}}break;case 1:ar(t,e),Cr(e),r&512&&n!==null&&Qo(n,n.return);break;case 5:if(ar(t,e),Cr(e),r&512&&n!==null&&Qo(n,n.return),e.flags&32){var s=e.stateNode;try{Gl(s,"")}catch(p){Nt(e,e.return,p)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Ib(s,o),Cp(l,i);var u=Cp(l,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?Fb(s,f):d==="dangerouslySetInnerHTML"?Lb(s,f):d==="children"?Gl(s,f):xg(s,d,f,u)}switch(l){case"input":bp(s,o);break;case"textarea":Db(s,o);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?ei(s,!!o.multiple,m,!1):g!==!!o.multiple&&(o.defaultValue!=null?ei(s,!!o.multiple,o.defaultValue,!0):ei(s,!!o.multiple,o.multiple?[]:"",!1))}s[rc]=o}catch(p){Nt(e,e.return,p)}}break;case 6:if(ar(t,e),Cr(e),r&4){if(e.stateNode===null)throw Error(ee(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(p){Nt(e,e.return,p)}}break;case 3:if(ar(t,e),Cr(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(p){Nt(e,e.return,p)}break;case 4:ar(t,e),Cr(e);break;case 13:ar(t,e),Cr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Xg=Ct())),r&4&&tw(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Xt=(u=Xt)||d,ar(t,e),Xt=u):ar(t,e),Cr(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ve=e,d=e.child;d!==null;){for(f=ve=d;ve!==null;){switch(g=ve,m=g.child,g.tag){case 0:case 11:case 14:case 15:Fl(4,g,g.return);break;case 1:Qo(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(p){Nt(r,n,p)}}break;case 5:Qo(g,g.return);break;case 22:if(g.memoizedState!==null){rw(f);continue}}m!==null?(m.return=g,ve=m):rw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$b("display",i))}catch(p){Nt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Nt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ar(t,e),Cr(e),r&4&&tw(e);break;case 21:break;default:ar(t,e),Cr(e)}}function Cr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uS(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gl(s,""),r.flags&=-33);var o=ew(e);nm(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,l=ew(e);tm(e,l,i);break;default:throw Error(ee(161))}}catch(c){Nt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eA(e,t,n){ve=e,fS(e)}function fS(e,t,n){for(var r=(e.mode&1)!==0;ve!==null;){var s=ve,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||wu;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Xt;l=wu;var u=Xt;if(wu=i,(Xt=c)&&!u)for(ve=s;ve!==null;)i=ve,c=i.child,i.tag===22&&i.memoizedState!==null?sw(s):c!==null?(c.return=i,ve=c):sw(s);for(;o!==null;)ve=o,fS(o),o=o.sibling;ve=s,wu=l,Xt=u}nw(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ve=o):nw(e)}}function nw(e){for(;ve!==null;){var t=ve;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xt||hh(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Xt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ur(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Ux(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ux(t,i,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Xl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}Xt||t.flags&512&&em(t)}catch(g){Nt(t,t.return,g)}}if(t===e){ve=null;break}if(n=t.sibling,n!==null){n.return=t.return,ve=n;break}ve=t.return}}function rw(e){for(;ve!==null;){var t=ve;if(t===e){ve=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ve=n;break}ve=t.return}}function sw(e){for(;ve!==null;){var t=ve;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hh(4,t)}catch(c){Nt(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){Nt(t,s,c)}}var o=t.return;try{em(t)}catch(c){Nt(t,o,c)}break;case 5:var i=t.return;try{em(t)}catch(c){Nt(t,i,c)}}}catch(c){Nt(t,t.return,c)}if(t===e){ve=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ve=l;break}ve=t.return}}var tA=Math.ceil,bd=ls.ReactCurrentDispatcher,Qg=ls.ReactCurrentOwner,Zn=ls.ReactCurrentBatchConfig,Ve=0,Lt=null,Pt=null,Wt=0,En=0,Jo=ha(0),It=0,cc=null,Qa=0,fh=0,Jg=0,Ul=null,vn=null,Xg=0,Ti=1/0,Wr=null,Nd=!1,rm=null,Qs=null,bu=!1,Vs=null,Sd=0,zl=0,sm=null,qu=-1,Gu=0;function ln(){return Ve&6?Ct():qu!==-1?qu:qu=Ct()}function Js(e){return e.mode&1?Ve&2&&Wt!==0?Wt&-Wt:$P.transition!==null?(Gu===0&&(Gu=Jb()),Gu):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:sN(e.type)),e):1}function wr(e,t,n,r){if(50<zl)throw zl=0,sm=null,Error(ee(185));Oc(e,n,r),(!(Ve&2)||e!==Lt)&&(e===Lt&&(!(Ve&2)&&(fh|=n),It===4&&Ts(e,Wt)),bn(e,r),n===1&&Ve===0&&!(t.mode&1)&&(Ti=Ct()+500,ch&&fa()))}function bn(e,t){var n=e.callbackNode;$2(e,t);var r=od(e,e===Lt?Wt:0);if(r===0)n!==null&&fx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&fx(n),t===1)e.tag===0?LP(aw.bind(null,e)):SN(aw.bind(null,e)),OP(function(){!(Ve&6)&&fa()}),n=null;else{switch(Xb(r)){case 1:n=jg;break;case 4:n=Yb;break;case 16:n=ad;break;case 536870912:n=Qb;break;default:n=ad}n=bS(n,pS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function pS(e,t){if(qu=-1,Gu=0,Ve&6)throw Error(ee(327));var n=e.callbackNode;if(ai()&&e.callbackNode!==n)return null;var r=od(e,e===Lt?Wt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jd(e,r);else{t=r;var s=Ve;Ve|=2;var o=gS();(Lt!==e||Wt!==t)&&(Wr=null,Ti=Ct()+500,Wa(e,t));do try{sA();break}catch(l){mS(e,l)}while(!0);Lg(),bd.current=o,Ve=s,Pt!==null?t=0:(Lt=null,Wt=0,t=It)}if(t!==0){if(t===2&&(s=Ap(e),s!==0&&(r=s,t=am(e,s))),t===1)throw n=cc,Wa(e,0),Ts(e,r),bn(e,Ct()),n;if(t===6)Ts(e,r);else{if(s=e.current.alternate,!(r&30)&&!nA(s)&&(t=jd(e,r),t===2&&(o=Ap(e),o!==0&&(r=o,t=am(e,o))),t===1))throw n=cc,Wa(e,0),Ts(e,r),bn(e,Ct()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(ee(345));case 2:Ca(e,vn,Wr);break;case 3:if(Ts(e,r),(r&130023424)===r&&(t=Xg+500-Ct(),10<t)){if(od(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){ln(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Fp(Ca.bind(null,e,vn,Wr),t);break}Ca(e,vn,Wr);break;case 4:if(Ts(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-xr(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tA(r/1960))-r,10<r){e.timeoutHandle=Fp(Ca.bind(null,e,vn,Wr),r);break}Ca(e,vn,Wr);break;case 5:Ca(e,vn,Wr);break;default:throw Error(ee(329))}}}return bn(e,Ct()),e.callbackNode===n?pS.bind(null,e):null}function am(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(Wa(e,t).flags|=256),e=jd(e,t),e!==2&&(t=vn,vn=n,t!==null&&om(t)),e}function om(e){vn===null?vn=e:vn.push.apply(vn,e)}function nA(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!br(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ts(e,t){for(t&=~Jg,t&=~fh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xr(t),r=1<<n;e[n]=-1,t&=~r}}function aw(e){if(Ve&6)throw Error(ee(327));ai();var t=od(e,0);if(!(t&1))return bn(e,Ct()),null;var n=jd(e,t);if(e.tag!==0&&n===2){var r=Ap(e);r!==0&&(t=r,n=am(e,r))}if(n===1)throw n=cc,Wa(e,0),Ts(e,t),bn(e,Ct()),n;if(n===6)throw Error(ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ca(e,vn,Wr),bn(e,Ct()),null}function Zg(e,t){var n=Ve;Ve|=1;try{return e(t)}finally{Ve=n,Ve===0&&(Ti=Ct()+500,ch&&fa())}}function Ja(e){Vs!==null&&Vs.tag===0&&!(Ve&6)&&ai();var t=Ve;Ve|=1;var n=Zn.transition,r=Qe;try{if(Zn.transition=null,Qe=1,e)return e()}finally{Qe=r,Zn.transition=n,Ve=t,!(Ve&6)&&fa()}}function ev(){En=Jo.current,at(Jo)}function Wa(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,RP(n)),Pt!==null)for(n=Pt.return;n!==null;){var r=n;switch(Ig(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dd();break;case 3:Ei(),at(xn),at(Zt),Vg();break;case 5:Bg(r);break;case 4:Ei();break;case 13:at(pt);break;case 19:at(pt);break;case 10:$g(r.type._context);break;case 22:case 23:ev()}n=n.return}if(Lt=e,Pt=e=Xs(e.current,null),Wt=En=t,It=0,cc=null,Jg=fh=Qa=0,vn=Ul=null,Ra!==null){for(t=0;t<Ra.length;t++)if(n=Ra[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Ra=null}return e}function mS(e,t){do{var n=Pt;try{if(Lg(),Wu.current=wd,xd){for(var r=mt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}xd=!1}if(Ya=0,Mt=Rt=mt=null,$l=!1,oc=0,Qg.current=null,n===null||n.return===null){It=1,cc=t,Pt=null;break}e:{var o=e,i=n.return,l=n,c=t;if(t=Wt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Kx(i);if(m!==null){m.flags&=-257,qx(m,i,l,o,t),m.mode&1&&Hx(o,u,t),t=m,c=u;var b=t.updateQueue;if(b===null){var p=new Set;p.add(c),t.updateQueue=p}else b.add(c);break e}else{if(!(t&1)){Hx(o,u,t),tv();break e}c=Error(ee(426))}}else if(it&&l.mode&1){var x=Kx(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),qx(x,i,l,o,t),Dg(ki(c,l));break e}}o=c=ki(c,l),It!==4&&(It=2),Ul===null?Ul=[o]:Ul.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=XN(o,c,t);Fx(o,v);break e;case 1:l=c;var y=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Qs===null||!Qs.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var N=ZN(o,l,t);Fx(o,N);break e}}o=o.return}while(o!==null)}yS(n)}catch(S){t=S,Pt===n&&n!==null&&(Pt=n=n.return);continue}break}while(!0)}function gS(){var e=bd.current;return bd.current=wd,e===null?wd:e}function tv(){(It===0||It===3||It===2)&&(It=4),Lt===null||!(Qa&268435455)&&!(fh&268435455)||Ts(Lt,Wt)}function jd(e,t){var n=Ve;Ve|=2;var r=gS();(Lt!==e||Wt!==t)&&(Wr=null,Wa(e,t));do try{rA();break}catch(s){mS(e,s)}while(!0);if(Lg(),Ve=n,bd.current=r,Pt!==null)throw Error(ee(261));return Lt=null,Wt=0,It}function rA(){for(;Pt!==null;)vS(Pt)}function sA(){for(;Pt!==null&&!T2();)vS(Pt)}function vS(e){var t=wS(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?yS(e):Pt=t,Qg.current=null}function yS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=JP(n,t),n!==null){n.flags&=32767,Pt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,Pt=null;return}}else if(n=QP(n,t,En),n!==null){Pt=n;return}if(t=t.sibling,t!==null){Pt=t;return}Pt=t=e}while(t!==null);It===0&&(It=5)}function Ca(e,t,n){var r=Qe,s=Zn.transition;try{Zn.transition=null,Qe=1,aA(e,t,n,r)}finally{Zn.transition=s,Qe=r}return null}function aA(e,t,n,r){do ai();while(Vs!==null);if(Ve&6)throw Error(ee(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ee(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(F2(e,o),e===Lt&&(Pt=Lt=null,Wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bu||(bu=!0,bS(ad,function(){return ai(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Zn.transition,Zn.transition=null;var i=Qe;Qe=1;var l=Ve;Ve|=4,Qg.current=null,ZP(e,n),hS(n,e),_P(Lp),id=!!Mp,Lp=Mp=null,e.current=n,eA(n),P2(),Ve=l,Qe=i,Zn.transition=o}else e.current=n;if(bu&&(bu=!1,Vs=e,Sd=s),o=e.pendingLanes,o===0&&(Qs=null),O2(n.stateNode),bn(e,Ct()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Nd)throw Nd=!1,e=rm,rm=null,e;return Sd&1&&e.tag!==0&&ai(),o=e.pendingLanes,o&1?e===sm?zl++:(zl=0,sm=e):zl=0,fa(),null}function ai(){if(Vs!==null){var e=Xb(Sd),t=Zn.transition,n=Qe;try{if(Zn.transition=null,Qe=16>e?16:e,Vs===null)var r=!1;else{if(e=Vs,Vs=null,Sd=0,Ve&6)throw Error(ee(331));var s=Ve;for(Ve|=4,ve=e.current;ve!==null;){var o=ve,i=o.child;if(ve.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ve=u;ve!==null;){var d=ve;switch(d.tag){case 0:case 11:case 15:Fl(8,d,o)}var f=d.child;if(f!==null)f.return=d,ve=f;else for(;ve!==null;){d=ve;var g=d.sibling,m=d.return;if(cS(d),d===u){ve=null;break}if(g!==null){g.return=m,ve=g;break}ve=m}}}var b=o.alternate;if(b!==null){var p=b.child;if(p!==null){b.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}ve=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,ve=i;else e:for(;ve!==null;){if(o=ve,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fl(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,ve=v;break e}ve=o.return}}var y=e.current;for(ve=y;ve!==null;){i=ve;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,ve=w;else e:for(i=y;ve!==null;){if(l=ve,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hh(9,l)}}catch(S){Nt(l,l.return,S)}if(l===i){ve=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ve=N;break e}ve=l.return}}if(Ve=s,fa(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(sh,e)}catch{}r=!0}return r}finally{Qe=n,Zn.transition=t}}return!1}function ow(e,t,n){t=ki(n,t),t=XN(e,t,1),e=Ys(e,t,1),t=ln(),e!==null&&(Oc(e,1,t),bn(e,t))}function Nt(e,t,n){if(e.tag===3)ow(e,e,n);else for(;t!==null;){if(t.tag===3){ow(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qs===null||!Qs.has(r))){e=ki(n,e),e=ZN(t,e,1),t=Ys(t,e,1),e=ln(),t!==null&&(Oc(t,1,e),bn(t,e));break}}t=t.return}}function oA(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ln(),e.pingedLanes|=e.suspendedLanes&n,Lt===e&&(Wt&n)===n&&(It===4||It===3&&(Wt&130023424)===Wt&&500>Ct()-Xg?Wa(e,0):Jg|=n),bn(e,t)}function xS(e,t){t===0&&(e.mode&1?(t=du,du<<=1,!(du&130023424)&&(du=4194304)):t=1);var n=ln();e=ss(e,t),e!==null&&(Oc(e,t,n),bn(e,n))}function iA(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xS(e,n)}function lA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(t),xS(e,n)}var wS;wS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xn.current)yn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yn=!1,YP(e,t,n);yn=!!(e.flags&131072)}else yn=!1,it&&t.flags&1048576&&jN(t,pd,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ku(e,t),e=t.pendingProps;var s=ji(t,Zt.current);si(t,n),s=Hg(null,t,r,e,s,n);var o=Kg();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wn(r)?(o=!0,hd(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ug(t),s.updater=dh,t.stateNode=s,s._reactInternals=t,Kp(t,r,e,n),t=Yp(null,t,r,!0,o,n)):(t.tag=0,it&&o&&Og(t),an(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=uA(r),e=ur(r,e),s){case 0:t=Gp(null,t,r,e,n);break e;case 1:t=Qx(null,t,r,e,n);break e;case 11:t=Gx(null,t,r,e,n);break e;case 14:t=Yx(null,t,r,ur(r.type,e),n);break e}throw Error(ee(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ur(r,s),Gp(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ur(r,s),Qx(e,t,r,s,n);case 3:e:{if(rS(t),e===null)throw Error(ee(387));r=t.pendingProps,o=t.memoizedState,s=o.element,PN(e,t),vd(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=ki(Error(ee(423)),t),t=Jx(e,t,r,n,s);break e}else if(r!==s){s=ki(Error(ee(424)),t),t=Jx(e,t,r,n,s);break e}else for(An=Gs(t.stateNode.containerInfo.firstChild),In=t,it=!0,gr=null,n=kN(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_i(),r===s){t=as(e,t,n);break e}an(e,t,r,n)}t=t.child}return t;case 5:return AN(t),e===null&&Vp(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,$p(r,s)?i=null:o!==null&&$p(r,o)&&(t.flags|=32),nS(e,t),an(e,t,i,n),t.child;case 6:return e===null&&Vp(t),null;case 13:return sS(e,t,n);case 4:return zg(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ci(t,null,r,n):an(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ur(r,s),Gx(e,t,r,s,n);case 7:return an(e,t,t.pendingProps,n),t.child;case 8:return an(e,t,t.pendingProps.children,n),t.child;case 12:return an(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,tt(md,r._currentValue),r._currentValue=i,o!==null)if(br(o.value,i)){if(o.children===s.children&&!xn.current){t=as(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){i=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Xr(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Wp(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(ee(341));i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Wp(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}an(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,si(t,n),s=tr(s),r=r(s),t.flags|=1,an(e,t,r,n),t.child;case 14:return r=t.type,s=ur(r,t.pendingProps),s=ur(r.type,s),Yx(e,t,r,s,n);case 15:return eS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ur(r,s),Ku(e,t),t.tag=1,wn(r)?(e=!0,hd(t)):e=!1,si(t,n),JN(t,r,s),Kp(t,r,s,n),Yp(null,t,r,!0,e,n);case 19:return aS(e,t,n);case 22:return tS(e,t,n)}throw Error(ee(156,t.tag))};function bS(e,t){return Gb(e,t)}function cA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(e,t,n,r){return new cA(e,t,n,r)}function nv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uA(e){if(typeof e=="function")return nv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bg)return 11;if(e===Ng)return 14}return 2}function Xs(e,t){var n=e.alternate;return n===null?(n=Gn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Yu(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")nv(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zo:return Ha(n.children,s,o,t);case wg:i=8,s|=8;break;case gp:return e=Gn(12,n,t,s|2),e.elementType=gp,e.lanes=o,e;case vp:return e=Gn(13,n,t,s),e.elementType=vp,e.lanes=o,e;case yp:return e=Gn(19,n,t,s),e.elementType=yp,e.lanes=o,e;case Ab:return ph(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tb:i=10;break e;case Pb:i=9;break e;case bg:i=11;break e;case Ng:i=14;break e;case _s:i=16,r=null;break e}throw Error(ee(130,e==null?e:typeof e,""))}return t=Gn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function Ha(e,t,n,r){return e=Gn(7,e,r,t),e.lanes=n,e}function ph(e,t,n,r){return e=Gn(22,e,r,t),e.elementType=Ab,e.lanes=n,e.stateNode={isHidden:!1},e}function If(e,t,n){return e=Gn(6,e,null,t),e.lanes=n,e}function Df(e,t,n){return t=Gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dA(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mf(0),this.expirationTimes=mf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function rv(e,t,n,r,s,o,i,l,c){return e=new dA(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Gn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ug(o),e}function hA(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function NS(e){if(!e)return ra;e=e._reactInternals;e:{if(uo(e)!==e||e.tag!==1)throw Error(ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ee(171))}if(e.tag===1){var n=e.type;if(wn(n))return NN(e,n,t)}return t}function SS(e,t,n,r,s,o,i,l,c){return e=rv(n,r,!0,e,s,o,i,l,c),e.context=NS(null),n=e.current,r=ln(),s=Js(n),o=Xr(r,s),o.callback=t??null,Ys(n,o,s),e.current.lanes=s,Oc(e,s,r),bn(e,r),e}function mh(e,t,n,r){var s=t.current,o=ln(),i=Js(s);return n=NS(n),t.context===null?t.context=n:t.pendingContext=n,t=Xr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ys(s,t,i),e!==null&&(wr(e,s,i,o),Vu(e,s,i)),i}function _d(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function iw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function sv(e,t){iw(e,t),(e=e.alternate)&&iw(e,t)}function fA(){return null}var jS=typeof reportError=="function"?reportError:function(e){console.error(e)};function av(e){this._internalRoot=e}gh.prototype.render=av.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ee(409));mh(e,t,null,null)};gh.prototype.unmount=av.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ja(function(){mh(null,e,null,null)}),t[rs]=null}};function gh(e){this._internalRoot=e}gh.prototype.unstable_scheduleHydration=function(e){if(e){var t=tN();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ks.length&&t!==0&&t<ks[n].priority;n++);ks.splice(n,0,e),n===0&&rN(e)}};function ov(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lw(){}function pA(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=_d(i);o.call(u)}}var i=SS(t,r,e,0,null,!1,!1,"",lw);return e._reactRootContainer=i,e[rs]=i.current,tc(e.nodeType===8?e.parentNode:e),Ja(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=_d(c);l.call(u)}}var c=rv(e,0,!1,null,null,!1,!1,"",lw);return e._reactRootContainer=c,e[rs]=c.current,tc(e.nodeType===8?e.parentNode:e),Ja(function(){mh(t,c,n,r)}),c}function yh(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var l=s;s=function(){var c=_d(i);l.call(c)}}mh(t,i,e,s)}else i=pA(n,t,e,s,r);return _d(i)}Zb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jl(t.pendingLanes);n!==0&&(_g(t,n|1),bn(t,Ct()),!(Ve&6)&&(Ti=Ct()+500,fa()))}break;case 13:Ja(function(){var r=ss(e,1);if(r!==null){var s=ln();wr(r,e,1,s)}}),sv(e,1)}};Cg=function(e){if(e.tag===13){var t=ss(e,134217728);if(t!==null){var n=ln();wr(t,e,134217728,n)}sv(e,134217728)}};eN=function(e){if(e.tag===13){var t=Js(e),n=ss(e,t);if(n!==null){var r=ln();wr(n,e,t,r)}sv(e,t)}};tN=function(){return Qe};nN=function(e,t){var n=Qe;try{return Qe=e,t()}finally{Qe=n}};kp=function(e,t,n){switch(t){case"input":if(bp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=lh(r);if(!s)throw Error(ee(90));Ob(r),bp(r,s)}}}break;case"textarea":Db(e,n);break;case"select":t=n.value,t!=null&&ei(e,!!n.multiple,t,!1)}};Bb=Zg;Vb=Ja;var mA={usingClientEntryPoint:!1,Events:[Dc,Ho,lh,Ub,zb,Zg]},gl={findFiberByHostInstance:Aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gA={bundleType:gl.bundleType,version:gl.version,rendererPackageName:gl.rendererPackageName,rendererConfig:gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kb(e),e===null?null:e.stateNode},findFiberByHostInstance:gl.findFiberByHostInstance||fA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nu.isDisabled&&Nu.supportsFiber)try{sh=Nu.inject(gA),Mr=Nu}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mA;Fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ov(t))throw Error(ee(200));return hA(e,t,null,n)};Fn.createRoot=function(e,t){if(!ov(e))throw Error(ee(299));var n=!1,r="",s=jS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=rv(e,1,!1,null,null,n,!1,r,s),e[rs]=t.current,tc(e.nodeType===8?e.parentNode:e),new av(t)};Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ee(188)):(e=Object.keys(e).join(","),Error(ee(268,e)));return e=Kb(t),e=e===null?null:e.stateNode,e};Fn.flushSync=function(e){return Ja(e)};Fn.hydrate=function(e,t,n){if(!vh(t))throw Error(ee(200));return yh(null,e,t,!0,n)};Fn.hydrateRoot=function(e,t,n){if(!ov(e))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=jS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=SS(t,null,e,1,n??null,s,!1,o,i),e[rs]=t.current,tc(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new gh(t)};Fn.render=function(e,t,n){if(!vh(t))throw Error(ee(200));return yh(null,e,t,!1,n)};Fn.unmountComponentAtNode=function(e){if(!vh(e))throw Error(ee(40));return e._reactRootContainer?(Ja(function(){yh(null,null,e,!1,function(){e._reactRootContainer=null,e[rs]=null})}),!0):!1};Fn.unstable_batchedUpdates=Zg;Fn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vh(n))throw Error(ee(200));if(e==null||e._reactInternals===void 0)throw Error(ee(38));return yh(e,t,n,!1,r)};Fn.version="18.3.1-next-f1338f8080-20240426";function _S(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_S)}catch(e){console.error(e)}}_S(),_b.exports=Fn;var ho=_b.exports;const CS=fb(ho);var ES,cw=ho;ES=cw.createRoot,cw.hydrateRoot;const vA=1,yA=1e6;let Mf=0;function xA(){return Mf=(Mf+1)%Number.MAX_SAFE_INTEGER,Mf.toString()}const Lf=new Map,uw=e=>{if(Lf.has(e))return;const t=setTimeout(()=>{Lf.delete(e),Bl({type:"REMOVE_TOAST",toastId:e})},yA);Lf.set(e,t)},wA=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,vA)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?uw(n):e.toasts.forEach(r=>{uw(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Qu=[];let Ju={toasts:[]};function Bl(e){Ju=wA(Ju,e),Qu.forEach(t=>{t(Ju)})}function bA({...e}){const t=xA(),n=s=>Bl({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>Bl({type:"DISMISS_TOAST",toastId:t});return Bl({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function $t(){const[e,t]=h.useState(Ju);return h.useEffect(()=>(Qu.push(t),()=>{const n=Qu.indexOf(t);n>-1&&Qu.splice(n,1)}),[e]),{...e,toast:bA,dismiss:n=>Bl({type:"DISMISS_TOAST",toastId:n})}}function oe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function dw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function xh(...e){return t=>{let n=!1;const r=e.map(s=>{const o=dw(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():dw(e[s],null)}}}}function Ae(...e){return h.useCallback(xh(...e),e)}function NA(e,t){const n=h.createContext(t),r=o=>{const{children:i,...l}=o,c=h.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:i})};r.displayName=e+"Provider";function s(o){const i=h.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Ft(e,t=[]){let n=[];function r(o,i){const l=h.createContext(i),c=n.length;n=[...n,i];const u=f=>{var v;const{scope:g,children:m,...b}=f,p=((v=g==null?void 0:g[e])==null?void 0:v[c])||l,x=h.useMemo(()=>b,Object.values(b));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=o+"Provider";function d(f,g){var p;const m=((p=g==null?void 0:g[e])==null?void 0:p[c])||l,b=h.useContext(m);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>h.createContext(i));return function(l){const c=(l==null?void 0:l[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[r,SA(s,...t)]}function SA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...l,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Xa(e){const t=jA(e),n=h.forwardRef((r,s)=>{const{children:o,...i}=r,l=h.Children.toArray(o),c=l.find(_A);if(c){const u=c.props.children,d=l.map(f=>f===c?h.Children.count(u)>1?h.Children.only(null):h.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...i,ref:s,children:h.isValidElement(u)?h.cloneElement(u,void 0,d):null})}return a.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var Vi=Xa("Slot");function jA(e){const t=h.forwardRef((n,r)=>{const{children:s,...o}=n;if(h.isValidElement(s)){const i=EA(s),l=CA(o,s.props);return s.type!==h.Fragment&&(l.ref=r?xh(r,i):i),h.cloneElement(s,l)}return h.Children.count(s)>1?h.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var kS=Symbol("radix.slottable");function TS(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=kS,t}function _A(e){return h.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===kS}function CA(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...l)=>{const c=o(...l);return s(...l),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function EA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Wi(e){const t=e+"CollectionProvider",[n,r]=Ft(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=p=>{const{scope:x,children:v}=p,y=ae.useRef(null),w=ae.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:v})};i.displayName=t;const l=e+"CollectionSlot",c=Xa(l),u=ae.forwardRef((p,x)=>{const{scope:v,children:y}=p,w=o(l,v),N=Ae(x,w.collectionRef);return a.jsx(c,{ref:N,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",g=Xa(d),m=ae.forwardRef((p,x)=>{const{scope:v,children:y,...w}=p,N=ae.useRef(null),S=Ae(x,N),j=o(d,v);return ae.useEffect(()=>(j.itemMap.set(N,{ref:N,...w}),()=>void j.itemMap.delete(N))),a.jsx(g,{[f]:"",ref:S,children:y})});m.displayName=d;function b(p){const x=o(e+"CollectionConsumer",p);return ae.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,_)=>w.indexOf(j.ref.current)-w.indexOf(_.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},b,r]}var kA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],he=kA.reduce((e,t)=>{const n=Xa(`Primitive.${t}`),r=h.forwardRef((s,o)=>{const{asChild:i,...l}=s,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function iv(e,t){e&&ho.flushSync(()=>e.dispatchEvent(t))}function lt(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function TA(e,t=globalThis==null?void 0:globalThis.document){const n=lt(e);h.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var PA="DismissableLayer",im="dismissableLayer.update",AA="dismissableLayer.pointerDownOutside",RA="dismissableLayer.focusOutside",hw,PS=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hi=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:l,...c}=e,u=h.useContext(PS),[d,f]=h.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=h.useState({}),b=Ae(t,_=>f(_)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=p.indexOf(x),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,N=y>=v,S=IA(_=>{const E=_.target,C=[...u.branches].some(P=>P.contains(E));!N||C||(s==null||s(_),i==null||i(_),_.defaultPrevented||l==null||l())},g),j=DA(_=>{const E=_.target;[...u.branches].some(P=>P.contains(E))||(o==null||o(_),i==null||i(_),_.defaultPrevented||l==null||l())},g);return TA(_=>{y===u.layers.size-1&&(r==null||r(_),!_.defaultPrevented&&l&&(_.preventDefault(),l()))},g),h.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(hw=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),fw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=hw)}},[d,g,n,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),fw())},[d,u]),h.useEffect(()=>{const _=()=>m({});return document.addEventListener(im,_),()=>document.removeEventListener(im,_)},[]),a.jsx(he.div,{...c,ref:b,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,j.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,S.onPointerDownCapture)})});Hi.displayName=PA;var OA="DismissableLayerBranch",AS=h.forwardRef((e,t)=>{const n=h.useContext(PS),r=h.useRef(null),s=Ae(t,r);return h.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),a.jsx(he.div,{...e,ref:s})});AS.displayName=OA;function IA(e,t=globalThis==null?void 0:globalThis.document){const n=lt(e),r=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=l=>{if(l.target&&!r.current){let c=function(){RS(AA,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function DA(e,t=globalThis==null?void 0:globalThis.document){const n=lt(e),r=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!r.current&&RS(RA,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function fw(){const e=new CustomEvent(im);document.dispatchEvent(e)}function RS(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?iv(s,o):s.dispatchEvent(o)}var MA=Hi,LA=AS,ut=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},$A="Portal",Lc=h.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[s,o]=h.useState(!1);ut(()=>o(!0),[]);const i=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return i?CS.createPortal(a.jsx(he.div,{...r,ref:t}),i):null});Lc.displayName=$A;function FA(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var en=e=>{const{present:t,children:n}=e,r=UA(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=Ae(r.ref,zA(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};en.displayName="Presence";function UA(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=FA(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Su(r.current);o.current=l==="mounted"?u:"none"},[l]),ut(()=>{const u=r.current,d=s.current;if(d!==e){const g=o.current,m=Su(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&g!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ut(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Su(r.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},g=m=>{m.target===t&&(o.current=Su(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Su(e){return(e==null?void 0:e.animationName)||"none"}function zA(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var BA=gg[" useInsertionEffect ".trim().toString()]||ut;function $n({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=VA({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:s;{const d=h.useRef(e!==void 0);h.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=h.useCallback(d=>{var f;if(l){const g=WA(d)?d(e):d;g!==e&&((f=i.current)==null||f.call(i,g))}else o(d)},[l,e,o,i]);return[c,u]}function VA({defaultProp:e,onChange:t}){const[n,r]=h.useState(e),s=h.useRef(n),o=h.useRef(t);return BA(()=>{o.current=t},[t]),h.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function WA(e){return typeof e=="function"}var OS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),HA="VisuallyHidden",wh=h.forwardRef((e,t)=>a.jsx(he.span,{...e,ref:t,style:{...OS,...e.style}}));wh.displayName=HA;var KA=wh,lv="ToastProvider",[cv,qA,GA]=Wi("Toast"),[IS,bV]=Ft("Toast",[GA]),[YA,bh]=IS(lv),DS=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[l,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),g=h.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${lv}\`. Expected non-empty \`string\`.`),a.jsx(cv.Provider,{scope:t,children:a.jsx(YA,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:h.useCallback(()=>d(m=>m+1),[]),onToastRemove:h.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:i})})};DS.displayName=lv;var MS="ToastViewport",QA=["F8"],lm="toast.viewportPause",cm="toast.viewportResume",LS=h.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=QA,label:s="Notifications ({hotkey})",...o}=e,i=bh(MS,n),l=qA(n),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),g=Ae(t,f,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=i.toastCount>0;h.useEffect(()=>{const x=v=>{var w;r.length!==0&&r.every(N=>v[N]||v.code===N)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),h.useEffect(()=>{const x=c.current,v=f.current;if(b&&x&&v){const y=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(lm);v.dispatchEvent(j),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(cm);v.dispatchEvent(j),i.isClosePausedRef.current=!1}},N=j=>{!x.contains(j.relatedTarget)&&w()},S=()=>{x.contains(document.activeElement)||w()};return x.addEventListener("focusin",y),x.addEventListener("focusout",N),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",N),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[b,i.isClosePausedRef]);const p=h.useCallback(({tabbingDirection:x})=>{const y=l().map(w=>{const N=w.ref.current,S=[N,...cR(N)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?y.reverse():y).flat()},[l]);return h.useEffect(()=>{const x=f.current;if(x){const v=y=>{var S,j,_;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const E=document.activeElement,C=y.shiftKey;if(y.target===x&&C){(S=u.current)==null||S.focus();return}const L=p({tabbingDirection:C?"backwards":"forwards"}),B=L.findIndex(M=>M===E);$f(L.slice(B+1))?y.preventDefault():C?(j=u.current)==null||j.focus():(_=d.current)==null||_.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[l,p]),a.jsxs(LA,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(um,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});$f(x)}}),a.jsx(cv.Slot,{scope:n,children:a.jsx(he.ol,{tabIndex:-1,...o,ref:g})}),b&&a.jsx(um,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});$f(x)}})]})});LS.displayName=MS;var $S="ToastFocusProxy",um=h.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=bh($S,n);return a.jsx(wh,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const l=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(l))&&r()}})});um.displayName=$S;var $c="Toast",JA="toast.swipeStart",XA="toast.swipeMove",ZA="toast.swipeCancel",eR="toast.swipeEnd",FS=h.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[l,c]=$n({prop:r,defaultProp:s??!0,onChange:o,caller:$c});return a.jsx(en,{present:n||l,children:a.jsx(rR,{open:l,...i,ref:t,onClose:()=>c(!1),onPause:lt(e.onPause),onResume:lt(e.onResume),onSwipeStart:oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});FS.displayName=$c;var[tR,nR]=IS($c,{onClose(){}}),rR=h.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:m,...b}=e,p=bh($c,n),[x,v]=h.useState(null),y=Ae(t,M=>v(M)),w=h.useRef(null),N=h.useRef(null),S=s||p.duration,j=h.useRef(0),_=h.useRef(S),E=h.useRef(0),{onToastAdd:C,onToastRemove:P}=p,R=lt(()=>{var H;(x==null?void 0:x.contains(document.activeElement))&&((H=p.viewport)==null||H.focus()),i()}),L=h.useCallback(M=>{!M||M===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(R,M))},[R]);h.useEffect(()=>{const M=p.viewport;if(M){const H=()=>{L(_.current),u==null||u()},V=()=>{const Y=new Date().getTime()-j.current;_.current=_.current-Y,window.clearTimeout(E.current),c==null||c()};return M.addEventListener(lm,V),M.addEventListener(cm,H),()=>{M.removeEventListener(lm,V),M.removeEventListener(cm,H)}}},[p.viewport,S,c,u,L]),h.useEffect(()=>{o&&!p.isClosePausedRef.current&&L(S)},[o,S,p.isClosePausedRef,L]),h.useEffect(()=>(C(),()=>P()),[C,P]);const B=h.useMemo(()=>x?KS(x):null,[x]);return p.viewport?a.jsxs(a.Fragment,{children:[B&&a.jsx(sR,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),a.jsx(tR,{scope:n,onClose:R,children:ho.createPortal(a.jsx(cv.ItemSlot,{scope:n,children:a.jsx(MA,{asChild:!0,onEscapeKeyDown:oe(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||R(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":p.swipeDirection,...b,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:oe(e.onPointerDown,M=>{M.button===0&&(w.current={x:M.clientX,y:M.clientY})}),onPointerMove:oe(e.onPointerMove,M=>{if(!w.current)return;const H=M.clientX-w.current.x,V=M.clientY-w.current.y,Y=!!N.current,I=["left","right"].includes(p.swipeDirection),A=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,$=I?A(0,H):0,Z=I?0:A(0,V),ne=M.pointerType==="touch"?10:2,re={x:$,y:Z},ge={originalEvent:M,delta:re};Y?(N.current=re,ju(XA,f,ge,{discrete:!1})):pw(re,p.swipeDirection,ne)?(N.current=re,ju(JA,d,ge,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(H)>ne||Math.abs(V)>ne)&&(w.current=null)}),onPointerUp:oe(e.onPointerUp,M=>{const H=N.current,V=M.target;if(V.hasPointerCapture(M.pointerId)&&V.releasePointerCapture(M.pointerId),N.current=null,w.current=null,H){const Y=M.currentTarget,I={originalEvent:M,delta:H};pw(H,p.swipeDirection,p.swipeThreshold)?ju(eR,m,I,{discrete:!0}):ju(ZA,g,I,{discrete:!0}),Y.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),sR=e=>{const{__scopeToast:t,children:n,...r}=e,s=bh($c,t),[o,i]=h.useState(!1),[l,c]=h.useState(!1);return iR(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(Lc,{asChild:!0,children:a.jsx(wh,{...r,children:o&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},aR="ToastTitle",US=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(he.div,{...r,ref:t})});US.displayName=aR;var oR="ToastDescription",zS=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(he.div,{...r,ref:t})});zS.displayName=oR;var BS="ToastAction",VS=h.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(HS,{altText:n,asChild:!0,children:a.jsx(uv,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${BS}\`. Expected non-empty \`string\`.`),null)});VS.displayName=BS;var WS="ToastClose",uv=h.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=nR(WS,n);return a.jsx(HS,{asChild:!0,children:a.jsx(he.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,s.onClose)})})});uv.displayName=WS;var HS=h.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function KS(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),lR(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...KS(r))}}),t}function ju(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?iv(s,o):s.dispatchEvent(o)}var pw=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function iR(e=()=>{}){const t=lt(e);ut(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function lR(e){return e.nodeType===e.ELEMENT_NODE}function cR(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $f(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var uR=DS,qS=LS,GS=FS,YS=US,QS=zS,JS=VS,XS=uv;function ZS(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=ZS(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ej(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=ZS(e))&&(r&&(r+=" "),r+=t);return r}const mw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gw=ej,Ki=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return gw(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const g=mw(d)||mw(f);return s[u][g]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,g]=d;return g===void 0||(u[f]=g),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:g,...m}=d;return Object.entries(m).every(b=>{let[p,x]=b;return Array.isArray(x)?x.includes({...o,...l}[p]):{...o,...l}[p]===x})?[...u,f,g]:u},[]);return gw(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tj=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...l},c)=>h.createElement("svg",{ref:c,...hR,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:tj("lucide",s),...l},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(e,t)=>{const n=h.forwardRef(({className:r,...s},o)=>h.createElement(fR,{ref:o,iconNode:t,className:tj(`lucide-${dR(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=ce("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ce("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=ce("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=ce("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=ce("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=ce("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=ce("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ce("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=ce("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ce("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=ce("Dna",[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=ce("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=ce("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=ce("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=ce("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=ce("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=ce("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ce("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=ce("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ce("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=ce("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=ce("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=ce("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=ce("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=ce("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=ce("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=ce("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=ce("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=ce("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yw=ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ce("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ce("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=ce("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=ce("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=ce("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ce("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ce("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ce("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ce("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=ce("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=ce("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=ce("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=ce("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=ce("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ce("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),gv="-",DR=e=>{const t=LR(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const l=i.split(gv);return l[0]===""&&l.length!==1&&l.shift(),pj(l,t)||MR(i)},getConflictingClassGroupIds:(i,l)=>{const c=n[i]||[];return l&&r[i]?[...c,...r[i]]:c}}},pj=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?pj(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(gv);return(i=t.validators.find(({validator:l})=>l(o)))==null?void 0:i.classGroupId},ww=/^\[(.+)\]$/,MR=e=>{if(ww.test(e)){const t=ww.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},LR=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return FR(Object.entries(e.classGroups),n).forEach(([o,i])=>{pm(i,r,o,t)}),r},pm=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:bw(t,s);o.classGroupId=n;return}if(typeof s=="function"){if($R(s)){pm(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{pm(i,bw(t,o),n,r)})})},bw=(e,t)=>{let n=e;return t.split(gv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$R=e=>e.isThemeGetter,FR=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,l])=>[t+i,l])):o);return[n,s]}):e,UR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},mj="!",zR=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let v=l[x];if(u===0){if(v===s&&(r||l.slice(x,x+o)===t)){c.push(l.slice(d,x)),d=x+o;continue}if(v==="/"){f=x;continue}}v==="["?u++:v==="]"&&u--}const g=c.length===0?l:l.substring(d),m=g.startsWith(mj),b=m?g.substring(1):g,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:p}};return n?l=>n({className:l,parseClassName:i}):i},BR=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},VR=e=>({cache:UR(e.cacheSize),parseClassName:zR(e),...DR(e)}),WR=/\s+/,HR=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(WR);let l="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}=n(u);let b=!!m,p=r(b?g.substring(0,m):g);if(!p){if(!b){l=u+(l.length>0?" "+l:l);continue}if(p=r(g),!p){l=u+(l.length>0?" "+l:l);continue}b=!1}const x=BR(d).join(":"),v=f?x+mj:x,y=v+p;if(o.includes(y))continue;o.push(y);const w=s(p,b);for(let N=0;N<w.length;++N){const S=w[N];o.push(v+S)}l=u+(l.length>0?" "+l:l)}return l};function KR(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=gj(t))&&(r&&(r+=" "),r+=n);return r}const gj=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=gj(e[r]))&&(n&&(n+=" "),n+=t);return n};function qR(e,...t){let n,r,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=VR(u),r=n.cache.get,s=n.cache.set,o=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=HR(c,n);return s(c,d),d}return function(){return o(KR.apply(null,arguments))}}const rt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},vj=/^\[(?:([a-z-]+):)?(.+)\]$/i,GR=/^\d+\/\d+$/,YR=new Set(["px","full","screen"]),QR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,JR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,XR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ZR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Br=e=>oi(e)||YR.has(e)||GR.test(e),xs=e=>qi(e,"length",lO),oi=e=>!!e&&!Number.isNaN(Number(e)),Uf=e=>qi(e,"number",oi),vl=e=>!!e&&Number.isInteger(Number(e)),tO=e=>e.endsWith("%")&&oi(e.slice(0,-1)),Le=e=>vj.test(e),ws=e=>QR.test(e),nO=new Set(["length","size","percentage"]),rO=e=>qi(e,nO,yj),sO=e=>qi(e,"position",yj),aO=new Set(["image","url"]),oO=e=>qi(e,aO,uO),iO=e=>qi(e,"",cO),yl=()=>!0,qi=(e,t,n)=>{const r=vj.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},lO=e=>JR.test(e)&&!XR.test(e),yj=()=>!1,cO=e=>ZR.test(e),uO=e=>eO.test(e),dO=()=>{const e=rt("colors"),t=rt("spacing"),n=rt("blur"),r=rt("brightness"),s=rt("borderColor"),o=rt("borderRadius"),i=rt("borderSpacing"),l=rt("borderWidth"),c=rt("contrast"),u=rt("grayscale"),d=rt("hueRotate"),f=rt("invert"),g=rt("gap"),m=rt("gradientColorStops"),b=rt("gradientColorStopPositions"),p=rt("inset"),x=rt("margin"),v=rt("opacity"),y=rt("padding"),w=rt("saturate"),N=rt("scale"),S=rt("sepia"),j=rt("skew"),_=rt("space"),E=rt("translate"),C=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",Le,t],L=()=>[Le,t],B=()=>["",Br,xs],M=()=>["auto",oi,Le],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],I=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",Le],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[oi,Le];return{cacheSize:500,separator:":",theme:{colors:[yl],spacing:[Br,xs],blur:["none","",ws,Le],brightness:Z(),borderColor:[e],borderRadius:["none","","full",ws,Le],borderSpacing:L(),borderWidth:B(),contrast:Z(),grayscale:A(),hueRotate:Z(),invert:A(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[tO,xs],inset:R(),margin:R(),opacity:Z(),padding:L(),saturate:Z(),scale:Z(),sepia:A(),skew:Z(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Le]}],container:["container"],columns:[{columns:[ws]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Le]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vl,Le]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Le]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",vl,Le]}],"grid-cols":[{"grid-cols":[yl]}],"col-start-end":[{col:["auto",{span:["full",vl,Le]},Le]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[yl]}],"row-start-end":[{row:["auto",{span:[vl,Le]},Le]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Le]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Le]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...I()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...I(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...I(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Le,t]}],"min-w":[{"min-w":[Le,t,"min","max","fit"]}],"max-w":[{"max-w":[Le,t,"none","full","min","max","fit","prose",{screen:[ws]},ws]}],h:[{h:[Le,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Le,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Le,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Le,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ws,xs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Uf]}],"font-family":[{font:[yl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Le]}],"line-clamp":[{"line-clamp":["none",oi,Uf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Br,Le]}],"list-image":[{"list-image":["none",Le]}],"list-style-type":[{list:["none","disc","decimal",Le]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Br,xs]}],"underline-offset":[{"underline-offset":["auto",Br,Le]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),sO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oO]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Br,Le]}],"outline-w":[{outline:[Br,xs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Br,xs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ws,iO]}],"shadow-color":[{shadow:[yl]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ws,Le]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Le]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Le]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Le]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[vl,Le]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Le]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Br,xs,Uf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hO=qR(dO);function J(...e){return hO(ej(e))}const fO=uR,xj=h.forwardRef(({className:e,...t},n)=>a.jsx(qS,{ref:n,className:J("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));xj.displayName=qS.displayName;const pO=Ki("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wj=h.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(GS,{ref:r,className:J(pO({variant:t}),e),...n}));wj.displayName=GS.displayName;const mO=h.forwardRef(({className:e,...t},n)=>a.jsx(JS,{ref:n,className:J("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));mO.displayName=JS.displayName;const bj=h.forwardRef(({className:e,...t},n)=>a.jsx(XS,{ref:n,className:J("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(us,{className:"h-4 w-4"})}));bj.displayName=XS.displayName;const Nj=h.forwardRef(({className:e,...t},n)=>a.jsx(YS,{ref:n,className:J("text-sm font-semibold",e),...t}));Nj.displayName=YS.displayName;const Sj=h.forwardRef(({className:e,...t},n)=>a.jsx(QS,{ref:n,className:J("text-sm opacity-90",e),...t}));Sj.displayName=QS.displayName;function gO(){const{toasts:e}=$t();return a.jsxs(fO,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return a.jsxs(wj,{...o,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(Nj,{children:n}),r&&a.jsx(Sj,{children:r})]}),s,a.jsx(bj,{})]},t)}),a.jsx(xj,{})]})}var Nw=["light","dark"],vO="(prefers-color-scheme: dark)",yO=h.createContext(void 0),xO={setTheme:e=>{},themes:[]},wO=()=>{var e;return(e=h.useContext(yO))!=null?e:xO};h.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:l,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?Nw.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,p=!1,x=!0)=>{let v=i?i[b]:b,y=p?b+"|| ''":`'${v}'`,w="";return s&&x&&!p&&Nw.includes(b)&&(w+=`d.style.colorScheme = '${b}';`),n==="class"?p||v?w+=`c.add(${y})`:w+="null":v&&(w+=`d[s](n,${y})`),w},m=e?`!function(){${d}${g(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${vO}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}${u?"":"else{"+g(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${g(i?"x[e]":"e",!0)}}else{${g(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var bO=e=>{switch(e){case"success":return jO;case"info":return CO;case"warning":return _O;case"error":return EO;default:return null}},NO=Array(12).fill(0),SO=({visible:e,className:t})=>ae.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ae.createElement("div",{className:"sonner-spinner"},NO.map((n,r)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),jO=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_O=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),CO=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),EO=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),kO=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),TO=()=>{let[e,t]=ae.useState(document.hidden);return ae.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},mm=1,PO=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:mm++,o=this.toasts.find(l=>l.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:i,title:n}):l):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,i=r.then(async c=>{if(o=["resolve",c],ae.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(RO(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async c=>{if(o=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>i.then(()=>o[0]==="reject"?u(o[1]):c(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||mm++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gn=new PO,AO=(e,t)=>{let n=(t==null?void 0:t.id)||mm++;return gn.addToast({title:e,...t,id:n}),n},RO=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",OO=AO,IO=()=>gn.toasts,DO=()=>gn.getActiveToasts();Object.assign(OO,{success:gn.success,info:gn.info,warning:gn.warning,error:gn.error,custom:gn.custom,message:gn.message,promise:gn.promise,dismiss:gn.dismiss,loading:gn.loading},{getHistory:IO,getToasts:DO});function MO(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}MO(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function _u(e){return e.label!==void 0}var LO=3,$O="32px",FO="16px",Sw=4e3,UO=356,zO=14,BO=20,VO=200;function or(...e){return e.filter(Boolean).join(" ")}function WO(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var HO=e=>{var t,n,r,s,o,i,l,c,u,d,f;let{invert:g,toast:m,unstyled:b,interacting:p,setHeights:x,visibleToasts:v,heights:y,index:w,toasts:N,expanded:S,removeToast:j,defaultRichColors:_,closeButton:E,style:C,cancelButtonStyle:P,actionButtonStyle:R,className:L="",descriptionClassName:B="",duration:M,position:H,gap:V,loadingIcon:Y,expandByDefault:I,classNames:A,icons:$,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:ne}=e,[re,ge]=ae.useState(null),[Q,ye]=ae.useState(null),[G,Ee]=ae.useState(!1),[se,xe]=ae.useState(!1),[Re,De]=ae.useState(!1),[We,dt]=ae.useState(!1),[ht,Et]=ae.useState(!1),[yt,qt]=ae.useState(0),[Gt,Dt]=ae.useState(0),U=ae.useRef(m.duration||M||Sw),F=ae.useRef(null),O=ae.useRef(null),q=w===0,te=w+1<=v,le=m.type,Me=m.dismissible!==!1,Bn=m.className||"",W=m.descriptionClassName||"",fe=ae.useMemo(()=>y.findIndex(je=>je.toastId===m.id)||0,[y,m.id]),Je=ae.useMemo(()=>{var je;return(je=m.closeButton)!=null?je:E},[m.closeButton,E]),Se=ae.useMemo(()=>m.duration||M||Sw,[m.duration,M]),we=ae.useRef(0),$e=ae.useRef(0),kt=ae.useRef(0),nn=ae.useRef(null),[sl,Jc]=H.split("-"),xo=ae.useMemo(()=>y.reduce((je,ze,Xe)=>Xe>=fe?je:je+ze.height,0),[y,fe]),al=TO(),rf=m.invert||g,xa=le==="loading";$e.current=ae.useMemo(()=>fe*V+xo,[fe,xo]),ae.useEffect(()=>{U.current=Se},[Se]),ae.useEffect(()=>{Ee(!0)},[]),ae.useEffect(()=>{let je=O.current;if(je){let ze=je.getBoundingClientRect().height;return Dt(ze),x(Xe=>[{toastId:m.id,height:ze,position:m.position},...Xe]),()=>x(Xe=>Xe.filter(jt=>jt.toastId!==m.id))}},[x,m.id]),ae.useLayoutEffect(()=>{if(!G)return;let je=O.current,ze=je.style.height;je.style.height="auto";let Xe=je.getBoundingClientRect().height;je.style.height=ze,Dt(Xe),x(jt=>jt.find(hn=>hn.toastId===m.id)?jt.map(hn=>hn.toastId===m.id?{...hn,height:Xe}:hn):[{toastId:m.id,height:Xe,position:m.position},...jt])},[G,m.title,m.description,x,m.id]);let Ut=ae.useCallback(()=>{xe(!0),qt($e.current),x(je=>je.filter(ze=>ze.toastId!==m.id)),setTimeout(()=>{j(m)},VO)},[m,j,x,$e]);ae.useEffect(()=>{if(m.promise&&le==="loading"||m.duration===1/0||m.type==="loading")return;let je;return S||p||ne&&al?(()=>{if(kt.current<we.current){let ze=new Date().getTime()-we.current;U.current=U.current-ze}kt.current=new Date().getTime()})():U.current!==1/0&&(we.current=new Date().getTime(),je=setTimeout(()=>{var ze;(ze=m.onAutoClose)==null||ze.call(m,m),Ut()},U.current)),()=>clearTimeout(je)},[S,p,m,le,ne,al,Ut]),ae.useEffect(()=>{m.delete&&Ut()},[Ut,m.delete]);function wa(){var je,ze,Xe;return $!=null&&$.loading?ae.createElement("div",{className:or(A==null?void 0:A.loader,(je=m==null?void 0:m.classNames)==null?void 0:je.loader,"sonner-loader"),"data-visible":le==="loading"},$.loading):Y?ae.createElement("div",{className:or(A==null?void 0:A.loader,(ze=m==null?void 0:m.classNames)==null?void 0:ze.loader,"sonner-loader"),"data-visible":le==="loading"},Y):ae.createElement(SO,{className:or(A==null?void 0:A.loader,(Xe=m==null?void 0:m.classNames)==null?void 0:Xe.loader),visible:le==="loading"})}return ae.createElement("li",{tabIndex:0,ref:O,className:or(L,Bn,A==null?void 0:A.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[le],(n=m==null?void 0:m.classNames)==null?void 0:n[le]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:_,"data-styled":!(m.jsx||m.unstyled||b),"data-mounted":G,"data-promise":!!m.promise,"data-swiped":ht,"data-removed":se,"data-visible":te,"data-y-position":sl,"data-x-position":Jc,"data-index":w,"data-front":q,"data-swiping":Re,"data-dismissible":Me,"data-type":le,"data-invert":rf,"data-swipe-out":We,"data-swipe-direction":Q,"data-expanded":!!(S||I&&G),style:{"--index":w,"--toasts-before":w,"--z-index":N.length-w,"--offset":`${se?yt:$e.current}px`,"--initial-height":I?"auto":`${Gt}px`,...C,...m.style},onDragEnd:()=>{De(!1),ge(null),nn.current=null},onPointerDown:je=>{xa||!Me||(F.current=new Date,qt($e.current),je.target.setPointerCapture(je.pointerId),je.target.tagName!=="BUTTON"&&(De(!0),nn.current={x:je.clientX,y:je.clientY}))},onPointerUp:()=>{var je,ze,Xe,jt;if(We||!Me)return;nn.current=null;let hn=Number(((je=O.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),sr=Number(((ze=O.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Sn=new Date().getTime()-((Xe=F.current)==null?void 0:Xe.getTime()),fn=re==="x"?hn:sr,jn=Math.abs(fn)/Sn;if(Math.abs(fn)>=BO||jn>.11){qt($e.current),(jt=m.onDismiss)==null||jt.call(m,m),ye(re==="x"?hn>0?"right":"left":sr>0?"down":"up"),Ut(),dt(!0),Et(!1);return}De(!1),ge(null)},onPointerMove:je=>{var ze,Xe,jt,hn;if(!nn.current||!Me||((ze=window.getSelection())==null?void 0:ze.toString().length)>0)return;let sr=je.clientY-nn.current.y,Sn=je.clientX-nn.current.x,fn=(Xe=e.swipeDirections)!=null?Xe:WO(H);!re&&(Math.abs(Sn)>1||Math.abs(sr)>1)&&ge(Math.abs(Sn)>Math.abs(sr)?"x":"y");let jn={x:0,y:0};re==="y"?(fn.includes("top")||fn.includes("bottom"))&&(fn.includes("top")&&sr<0||fn.includes("bottom")&&sr>0)&&(jn.y=sr):re==="x"&&(fn.includes("left")||fn.includes("right"))&&(fn.includes("left")&&Sn<0||fn.includes("right")&&Sn>0)&&(jn.x=Sn),(Math.abs(jn.x)>0||Math.abs(jn.y)>0)&&Et(!0),(jt=O.current)==null||jt.style.setProperty("--swipe-amount-x",`${jn.x}px`),(hn=O.current)==null||hn.style.setProperty("--swipe-amount-y",`${jn.y}px`)}},Je&&!m.jsx?ae.createElement("button",{"aria-label":Z,"data-disabled":xa,"data-close-button":!0,onClick:xa||!Me?()=>{}:()=>{var je;Ut(),(je=m.onDismiss)==null||je.call(m,m)},className:or(A==null?void 0:A.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(o=$==null?void 0:$.close)!=null?o:kO):null,m.jsx||h.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:ae.createElement(ae.Fragment,null,le||m.icon||m.promise?ae.createElement("div",{"data-icon":"",className:or(A==null?void 0:A.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||wa():null,m.type!=="loading"?m.icon||($==null?void 0:$[le])||bO(le):null):null,ae.createElement("div",{"data-content":"",className:or(A==null?void 0:A.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},ae.createElement("div",{"data-title":"",className:or(A==null?void 0:A.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?ae.createElement("div",{"data-description":"",className:or(B,W,A==null?void 0:A.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),h.isValidElement(m.cancel)?m.cancel:m.cancel&&_u(m.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:je=>{var ze,Xe;_u(m.cancel)&&Me&&((Xe=(ze=m.cancel).onClick)==null||Xe.call(ze,je),Ut())},className:or(A==null?void 0:A.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,h.isValidElement(m.action)?m.action:m.action&&_u(m.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||R,onClick:je=>{var ze,Xe;_u(m.action)&&((Xe=(ze=m.action).onClick)==null||Xe.call(ze,je),!je.defaultPrevented&&Ut())},className:or(A==null?void 0:A.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function jw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function KO(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",l=o?FO:$O;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=l:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var qO=h.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:g,style:m,visibleToasts:b=LO,toastOptions:p,dir:x=jw(),gap:v=zO,loadingIcon:y,icons:w,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:S}=e,[j,_]=ae.useState([]),E=ae.useMemo(()=>Array.from(new Set([r].concat(j.filter(ne=>ne.position).map(ne=>ne.position)))),[j,r]),[C,P]=ae.useState([]),[R,L]=ae.useState(!1),[B,M]=ae.useState(!1),[H,V]=ae.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=ae.useRef(null),I=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=ae.useRef(null),$=ae.useRef(!1),Z=ae.useCallback(ne=>{_(re=>{var ge;return(ge=re.find(Q=>Q.id===ne.id))!=null&&ge.delete||gn.dismiss(ne.id),re.filter(({id:Q})=>Q!==ne.id)})},[]);return ae.useEffect(()=>gn.subscribe(ne=>{if(ne.dismiss){_(re=>re.map(ge=>ge.id===ne.id?{...ge,delete:!0}:ge));return}setTimeout(()=>{CS.flushSync(()=>{_(re=>{let ge=re.findIndex(Q=>Q.id===ne.id);return ge!==-1?[...re.slice(0,ge),{...re[ge],...ne},...re.slice(ge+1)]:[ne,...re]})})})}),[]),ae.useEffect(()=>{if(d!=="system"){V(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let ne=window.matchMedia("(prefers-color-scheme: dark)");try{ne.addEventListener("change",({matches:re})=>{V(re?"dark":"light")})}catch{ne.addListener(({matches:ge})=>{try{V(ge?"dark":"light")}catch(Q){console.error(Q)}})}},[d]),ae.useEffect(()=>{j.length<=1&&L(!1)},[j]),ae.useEffect(()=>{let ne=re=>{var ge,Q;s.every(ye=>re[ye]||re.code===ye)&&(L(!0),(ge=Y.current)==null||ge.focus()),re.code==="Escape"&&(document.activeElement===Y.current||(Q=Y.current)!=null&&Q.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",ne),()=>document.removeEventListener("keydown",ne)},[s]),ae.useEffect(()=>{if(Y.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,$.current=!1)}},[Y.current]),ae.createElement("section",{ref:t,"aria-label":`${N} ${I}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((ne,re)=>{var ge;let[Q,ye]=ne.split("-");return j.length?ae.createElement("ol",{key:ne,dir:x==="auto"?jw():x,tabIndex:-1,ref:Y,className:l,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Q,"data-lifted":R&&j.length>1&&!o,"data-x-position":ye,style:{"--front-toast-height":`${((ge=C[0])==null?void 0:ge.height)||0}px`,"--width":`${UO}px`,"--gap":`${v}px`,...m,...KO(c,u)},onBlur:G=>{$.current&&!G.currentTarget.contains(G.relatedTarget)&&($.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||$.current||($.current=!0,A.current=G.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{B||L(!1)},onDragEnd:()=>L(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},j.filter(G=>!G.position&&re===0||G.position===ne).map((G,Ee)=>{var se,xe;return ae.createElement(HO,{key:G.id,icons:w,index:Ee,toast:G,defaultRichColors:f,duration:(se=p==null?void 0:p.duration)!=null?se:g,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:n,visibleToasts:b,closeButton:(xe=p==null?void 0:p.closeButton)!=null?xe:i,interacting:B,position:ne,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:Z,toasts:j.filter(Re=>Re.position==G.position),heights:C.filter(Re=>Re.position==G.position),setHeights:P,expandByDefault:o,gap:v,loadingIcon:y,expanded:R,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const GO=({...e})=>{const{theme:t="system"}=wO();return a.jsx(qO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var YO=gg[" useId ".trim().toString()]||(()=>{}),QO=0;function cn(e){const[t,n]=h.useState(YO());return ut(()=>{e||n(r=>r??String(QO++))},[e]),e||(t?`radix-${t}`:"")}const JO=["top","right","bottom","left"],oa=Math.min,kn=Math.max,Td=Math.round,Cu=Math.floor,$r=e=>({x:e,y:e}),XO={left:"right",right:"left",bottom:"top",top:"bottom"},ZO={start:"end",end:"start"};function gm(e,t,n){return kn(e,oa(t,n))}function os(e,t){return typeof e=="function"?e(t):e}function is(e){return e.split("-")[0]}function Gi(e){return e.split("-")[1]}function vv(e){return e==="x"?"y":"x"}function yv(e){return e==="y"?"height":"width"}const eI=new Set(["top","bottom"]);function Dr(e){return eI.has(is(e))?"y":"x"}function xv(e){return vv(Dr(e))}function tI(e,t,n){n===void 0&&(n=!1);const r=Gi(e),s=xv(e),o=yv(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=Pd(i)),[i,Pd(i)]}function nI(e){const t=Pd(e);return[vm(e),t,vm(t)]}function vm(e){return e.replace(/start|end/g,t=>ZO[t])}const _w=["left","right"],Cw=["right","left"],rI=["top","bottom"],sI=["bottom","top"];function aI(e,t,n){switch(e){case"top":case"bottom":return n?t?Cw:_w:t?_w:Cw;case"left":case"right":return t?rI:sI;default:return[]}}function oI(e,t,n,r){const s=Gi(e);let o=aI(is(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(vm)))),o}function Pd(e){return e.replace(/left|right|bottom|top/g,t=>XO[t])}function iI(e){return{top:0,right:0,bottom:0,left:0,...e}}function jj(e){return typeof e!="number"?iI(e):{top:e,right:e,bottom:e,left:e}}function Ad(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Ew(e,t,n){let{reference:r,floating:s}=e;const o=Dr(t),i=xv(t),l=yv(i),c=is(t),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,g=r[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Gi(t)){case"start":m[i]-=g*(n&&u?-1:1);break;case"end":m[i]+=g*(n&&u?-1:1);break}return m}const lI=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,l=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=Ew(u,r,c),g=r,m={},b=0;for(let p=0;p<l.length;p++){const{name:x,fn:v}=l[p],{x:y,y:w,data:N,reset:S}=await v({x:d,y:f,initialPlacement:r,placement:g,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:e,floating:t}});d=y??d,f=w??f,m={...m,[x]:{...m[x],...N}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=Ew(u,g,c)),p=-1)}return{x:d,y:f,placement:g,strategy:s,middlewareData:m}};async function uc(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:m=0}=os(t,e),b=jj(m),x=l[g?f==="floating"?"reference":"floating":f],v=Ad(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(l.floating)),N=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=Ad(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(v.top-S.top+b.top)/N.y,bottom:(S.bottom-v.bottom+b.bottom)/N.y,left:(v.left-S.left+b.left)/N.x,right:(S.right-v.right+b.right)/N.x}}const cI=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=os(e,t)||{};if(u==null)return{};const f=jj(d),g={x:n,y:r},m=xv(s),b=yv(m),p=await i.getDimensions(u),x=m==="y",v=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",N=o.reference[b]+o.reference[m]-g[m]-o.floating[b],S=g[m]-o.reference[m],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=j?j[w]:0;(!_||!await(i.isElement==null?void 0:i.isElement(j)))&&(_=l.floating[w]||o.floating[b]);const E=N/2-S/2,C=_/2-p[b]/2-1,P=oa(f[v],C),R=oa(f[y],C),L=P,B=_-p[b]-R,M=_/2-p[b]/2+E,H=gm(L,M,B),V=!c.arrow&&Gi(s)!=null&&M!==H&&o.reference[b]/2-(M<L?P:R)-p[b]/2<0,Y=V?M<L?M-L:M-B:0;return{[m]:g[m]+Y,data:{[m]:H,centerOffset:M-H-Y,...V&&{alignmentOffset:Y}},reset:V}}}),uI=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...x}=os(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=is(s),y=Dr(l),w=is(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=g||(w||!p?[Pd(l)]:nI(l)),j=b!=="none";!g&&j&&S.push(...oI(l,p,b,N));const _=[l,...S],E=await uc(t,x),C=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&C.push(E[v]),f){const M=tI(s,i,N);C.push(E[M[0]],E[M[1]])}if(P=[...P,{placement:s,overflows:C}],!C.every(M=>M<=0)){var R,L;const M=(((R=o.flip)==null?void 0:R.index)||0)+1,H=_[M];if(H&&(!(f==="alignment"?y!==Dr(H):!1)||P.every(I=>I.overflows[0]>0&&Dr(I.placement)===y)))return{data:{index:M,overflows:P},reset:{placement:H}};let V=(L=P.filter(Y=>Y.overflows[0]<=0).sort((Y,I)=>Y.overflows[1]-I.overflows[1])[0])==null?void 0:L.placement;if(!V)switch(m){case"bestFit":{var B;const Y=(B=P.filter(I=>{if(j){const A=Dr(I.placement);return A===y||A==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(A=>A>0).reduce((A,$)=>A+$,0)]).sort((I,A)=>I[1]-A[1])[0])==null?void 0:B[0];Y&&(V=Y);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function kw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Tw(e){return JO.some(t=>e[t]>=0)}const dI=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=os(e,t);switch(r){case"referenceHidden":{const o=await uc(t,{...s,elementContext:"reference"}),i=kw(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Tw(i)}}}case"escaped":{const o=await uc(t,{...s,altBoundary:!0}),i=kw(o,n.floating);return{data:{escapedOffsets:i,escaped:Tw(i)}}}default:return{}}}}},_j=new Set(["left","top"]);async function hI(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=is(n),l=Gi(n),c=Dr(n)==="y",u=_j.has(i)?-1:1,d=o&&c?-1:1,f=os(t,e);let{mainAxis:g,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof b=="number"&&(m=l==="end"?b*-1:b),c?{x:m*d,y:g*u}:{x:g*u,y:m*d}}const fI=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:l}=t,c=await hI(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},pI=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:l={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...c}=os(e,t),u={x:n,y:r},d=await uc(t,c),f=Dr(is(s)),g=vv(f);let m=u[g],b=u[f];if(o){const x=g==="y"?"top":"left",v=g==="y"?"bottom":"right",y=m+d[x],w=m-d[v];m=gm(y,m,w)}if(i){const x=f==="y"?"top":"left",v=f==="y"?"bottom":"right",y=b+d[x],w=b-d[v];b=gm(y,b,w)}const p=l.fn({...t,[g]:m,[f]:b});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[g]:o,[f]:i}}}}}},mI=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=os(e,t),d={x:n,y:r},f=Dr(s),g=vv(f);let m=d[g],b=d[f];const p=os(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=g==="y"?"height":"width",N=o.reference[g]-o.floating[w]+x.mainAxis,S=o.reference[g]+o.reference[w]-x.mainAxis;m<N?m=N:m>S&&(m=S)}if(u){var v,y;const w=g==="y"?"width":"height",N=_j.has(is(s)),S=o.reference[f]-o.floating[w]+(N&&((v=i.offset)==null?void 0:v[f])||0)+(N?0:x.crossAxis),j=o.reference[f]+o.reference[w]+(N?0:((y=i.offset)==null?void 0:y[f])||0)-(N?x.crossAxis:0);b<S?b=S:b>j&&(b=j)}return{[g]:m,[f]:b}}}},gI=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:l}=t,{apply:c=()=>{},...u}=os(e,t),d=await uc(t,u),f=is(s),g=Gi(s),m=Dr(s)==="y",{width:b,height:p}=o.floating;let x,v;f==="top"||f==="bottom"?(x=f,v=g===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(v=f,x=g==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=b-d.left-d.right,N=oa(p-d[x],y),S=oa(b-d[v],w),j=!t.middlewareData.shift;let _=N,E=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(E=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(_=y),j&&!g){const P=kn(d.left,0),R=kn(d.right,0),L=kn(d.top,0),B=kn(d.bottom,0);m?E=b-2*(P!==0||R!==0?P+R:kn(d.left,d.right)):_=p-2*(L!==0||B!==0?L+B:kn(d.top,d.bottom))}await c({...t,availableWidth:E,availableHeight:_});const C=await i.getDimensions(l.floating);return b!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function Ch(){return typeof window<"u"}function Yi(e){return Cj(e)?(e.nodeName||"").toLowerCase():"#document"}function Mn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ur(e){var t;return(t=(Cj(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Cj(e){return Ch()?e instanceof Node||e instanceof Mn(e).Node:!1}function Nr(e){return Ch()?e instanceof Element||e instanceof Mn(e).Element:!1}function Fr(e){return Ch()?e instanceof HTMLElement||e instanceof Mn(e).HTMLElement:!1}function Pw(e){return!Ch()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Mn(e).ShadowRoot}const vI=new Set(["inline","contents"]);function Fc(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Sr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!vI.has(s)}const yI=new Set(["table","td","th"]);function xI(e){return yI.has(Yi(e))}const wI=[":popover-open",":modal"];function Eh(e){return wI.some(t=>{try{return e.matches(t)}catch{return!1}})}const bI=["transform","translate","scale","rotate","perspective"],NI=["transform","translate","scale","rotate","perspective","filter"],SI=["paint","layout","strict","content"];function wv(e){const t=bv(),n=Nr(e)?Sr(e):e;return bI.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||NI.some(r=>(n.willChange||"").includes(r))||SI.some(r=>(n.contain||"").includes(r))}function jI(e){let t=ia(e);for(;Fr(t)&&!Ii(t);){if(wv(t))return t;if(Eh(t))return null;t=ia(t)}return null}function bv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _I=new Set(["html","body","#document"]);function Ii(e){return _I.has(Yi(e))}function Sr(e){return Mn(e).getComputedStyle(e)}function kh(e){return Nr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ia(e){if(Yi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Pw(e)&&e.host||Ur(e);return Pw(t)?t.host:t}function Ej(e){const t=ia(e);return Ii(t)?e.ownerDocument?e.ownerDocument.body:e.body:Fr(t)&&Fc(t)?t:Ej(t)}function dc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Ej(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Mn(s);if(o){const l=ym(i);return t.concat(i,i.visualViewport||[],Fc(s)?s:[],l&&n?dc(l):[])}return t.concat(s,dc(s,[],n))}function ym(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kj(e){const t=Sr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Fr(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,l=Td(n)!==o||Td(r)!==i;return l&&(n=o,r=i),{width:n,height:r,$:l}}function Nv(e){return Nr(e)?e:e.contextElement}function ii(e){const t=Nv(e);if(!Fr(t))return $r(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=kj(t);let i=(o?Td(n.width):n.width)/r,l=(o?Td(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const CI=$r(0);function Tj(e){const t=Mn(e);return!bv()||!t.visualViewport?CI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function EI(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Mn(e)?!1:t}function eo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=Nv(e);let i=$r(1);t&&(r?Nr(r)&&(i=ii(r)):i=ii(e));const l=EI(o,n,r)?Tj(o):$r(0);let c=(s.left+l.x)/i.x,u=(s.top+l.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const g=Mn(o),m=r&&Nr(r)?Mn(r):r;let b=g,p=ym(b);for(;p&&r&&m!==b;){const x=ii(p),v=p.getBoundingClientRect(),y=Sr(p),w=v.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,N=v.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=N,b=Mn(p),p=ym(b)}}return Ad({width:d,height:f,x:c,y:u})}function Sv(e,t){const n=kh(e).scrollLeft;return t?t.left+n:eo(Ur(e)).left+n}function Pj(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),s=r.left+t.scrollLeft-(n?0:Sv(e,r)),o=r.top+t.scrollTop;return{x:s,y:o}}function kI(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Ur(r),l=t?Eh(t.floating):!1;if(r===i||l&&o)return n;let c={scrollLeft:0,scrollTop:0},u=$r(1);const d=$r(0),f=Fr(r);if((f||!f&&!o)&&((Yi(r)!=="body"||Fc(i))&&(c=kh(r)),Fr(r))){const m=eo(r);u=ii(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const g=i&&!f&&!o?Pj(i,c,!0):$r(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-c.scrollTop*u.y+d.y+g.y}}function TI(e){return Array.from(e.getClientRects())}function PI(e){const t=Ur(e),n=kh(e),r=e.ownerDocument.body,s=kn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=kn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Sv(e);const l=-n.scrollTop;return Sr(r).direction==="rtl"&&(i+=kn(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:l}}function AI(e,t){const n=Mn(e),r=Ur(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,l=0,c=0;if(s){o=s.width,i=s.height;const u=bv();(!u||u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:l,y:c}}const RI=new Set(["absolute","fixed"]);function OI(e,t){const n=eo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Fr(e)?ii(e):$r(1),i=e.clientWidth*o.x,l=e.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:l,x:c,y:u}}function Aw(e,t,n){let r;if(t==="viewport")r=AI(e,n);else if(t==="document")r=PI(Ur(e));else if(Nr(t))r=OI(t,n);else{const s=Tj(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Ad(r)}function Aj(e,t){const n=ia(e);return n===t||!Nr(n)||Ii(n)?!1:Sr(n).position==="fixed"||Aj(n,t)}function II(e,t){const n=t.get(e);if(n)return n;let r=dc(e,[],!1).filter(l=>Nr(l)&&Yi(l)!=="body"),s=null;const o=Sr(e).position==="fixed";let i=o?ia(e):e;for(;Nr(i)&&!Ii(i);){const l=Sr(i),c=wv(i);!c&&l.position==="fixed"&&(s=null),(o?!c&&!s:!c&&l.position==="static"&&!!s&&RI.has(s.position)||Fc(i)&&!c&&Aj(e,i))?r=r.filter(d=>d!==i):s=l,i=ia(i)}return t.set(e,r),r}function DI(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Eh(t)?[]:II(t,this._c):[].concat(n),r],l=i[0],c=i.reduce((u,d)=>{const f=Aw(t,d,s);return u.top=kn(f.top,u.top),u.right=oa(f.right,u.right),u.bottom=oa(f.bottom,u.bottom),u.left=kn(f.left,u.left),u},Aw(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function MI(e){const{width:t,height:n}=kj(e);return{width:t,height:n}}function LI(e,t,n){const r=Fr(t),s=Ur(t),o=n==="fixed",i=eo(e,!0,o,t);let l={scrollLeft:0,scrollTop:0};const c=$r(0);function u(){c.x=Sv(s)}if(r||!r&&!o)if((Yi(t)!=="body"||Fc(s))&&(l=kh(t)),r){const m=eo(t,!0,o,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?Pj(s,l):$r(0),f=i.left+l.scrollLeft-c.x-d.x,g=i.top+l.scrollTop-c.y-d.y;return{x:f,y:g,width:i.width,height:i.height}}function zf(e){return Sr(e).position==="static"}function Rw(e,t){if(!Fr(e)||Sr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ur(e)===n&&(n=n.ownerDocument.body),n}function Rj(e,t){const n=Mn(e);if(Eh(e))return n;if(!Fr(e)){let s=ia(e);for(;s&&!Ii(s);){if(Nr(s)&&!zf(s))return s;s=ia(s)}return n}let r=Rw(e,t);for(;r&&xI(r)&&zf(r);)r=Rw(r,t);return r&&Ii(r)&&zf(r)&&!wv(r)?n:r||jI(e)||n}const $I=async function(e){const t=this.getOffsetParent||Rj,n=this.getDimensions,r=await n(e.floating);return{reference:LI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function FI(e){return Sr(e).direction==="rtl"}const UI={convertOffsetParentRelativeRectToViewportRelativeRect:kI,getDocumentElement:Ur,getClippingRect:DI,getOffsetParent:Rj,getElementRects:$I,getClientRects:TI,getDimensions:MI,getScale:ii,isElement:Nr,isRTL:FI};function Oj(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function zI(e,t){let n=null,r;const s=Ur(e);function o(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:g,height:m}=u;if(l||t(),!g||!m)return;const b=Cu(f),p=Cu(s.clientWidth-(d+g)),x=Cu(s.clientHeight-(f+m)),v=Cu(d),w={rootMargin:-b+"px "+-p+"px "+-x+"px "+-v+"px",threshold:kn(0,oa(1,c))||1};let N=!0;function S(j){const _=j[0].intersectionRatio;if(_!==c){if(!N)return i();_?i(!1,_):r=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!Oj(u,e.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return i(!0),o}function BI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Nv(e),d=s||o?[...u?dc(u):[],...dc(t)]:[];d.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const f=u&&l?zI(u,n):null;let g=-1,m=null;i&&(m=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let b,p=c?eo(e):null;c&&x();function x(){const v=eo(e);p&&!Oj(p,v)&&n(),p=v,b=requestAnimationFrame(x)}return n(),()=>{var v;d.forEach(y=>{s&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,c&&cancelAnimationFrame(b)}}const VI=fI,WI=pI,HI=uI,KI=gI,qI=dI,Ow=cI,GI=mI,YI=(e,t,n)=>{const r=new Map,s={platform:UI,...n},o={...s.platform,_c:r};return lI(e,t,{...s,platform:o})};var QI=typeof document<"u",JI=function(){},Xu=QI?h.useLayoutEffect:JI;function Rd(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Rd(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Rd(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ij(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Iw(e,t){const n=Ij(e);return Math.round(t*n)/n}function Bf(e){const t=h.useRef(e);return Xu(()=>{t.current=e}),t}function XI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,m]=h.useState(r);Rd(g,r)||m(r);const[b,p]=h.useState(null),[x,v]=h.useState(null),y=h.useCallback(I=>{I!==j.current&&(j.current=I,p(I))},[]),w=h.useCallback(I=>{I!==_.current&&(_.current=I,v(I))},[]),N=o||b,S=i||x,j=h.useRef(null),_=h.useRef(null),E=h.useRef(d),C=c!=null,P=Bf(c),R=Bf(s),L=Bf(u),B=h.useCallback(()=>{if(!j.current||!_.current)return;const I={placement:t,strategy:n,middleware:g};R.current&&(I.platform=R.current),YI(j.current,_.current,I).then(A=>{const $={...A,isPositioned:L.current!==!1};M.current&&!Rd(E.current,$)&&(E.current=$,ho.flushSync(()=>{f($)}))})},[g,t,n,R,L]);Xu(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(I=>({...I,isPositioned:!1})))},[u]);const M=h.useRef(!1);Xu(()=>(M.current=!0,()=>{M.current=!1}),[]),Xu(()=>{if(N&&(j.current=N),S&&(_.current=S),N&&S){if(P.current)return P.current(N,S,B);B()}},[N,S,B,P,C]);const H=h.useMemo(()=>({reference:j,floating:_,setReference:y,setFloating:w}),[y,w]),V=h.useMemo(()=>({reference:N,floating:S}),[N,S]),Y=h.useMemo(()=>{const I={position:n,left:0,top:0};if(!V.floating)return I;const A=Iw(V.floating,d.x),$=Iw(V.floating,d.y);return l?{...I,transform:"translate("+A+"px, "+$+"px)",...Ij(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:$}},[n,l,V.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:B,refs:H,elements:V,floatingStyles:Y}),[d,B,H,V,Y])}const ZI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Ow({element:r.current,padding:s}).fn(n):{}:r?Ow({element:r,padding:s}).fn(n):{}}}},eD=(e,t)=>({...VI(e),options:[e,t]}),tD=(e,t)=>({...WI(e),options:[e,t]}),nD=(e,t)=>({...GI(e),options:[e,t]}),rD=(e,t)=>({...HI(e),options:[e,t]}),sD=(e,t)=>({...KI(e),options:[e,t]}),aD=(e,t)=>({...qI(e),options:[e,t]}),oD=(e,t)=>({...ZI(e),options:[e,t]});var iD="Arrow",Dj=h.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return a.jsx(he.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Dj.displayName=iD;var lD=Dj;function jv(e){const[t,n]=h.useState(void 0);return ut(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,l;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,l=u.blockSize}else i=e.offsetWidth,l=e.offsetHeight;n({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var _v="Popper",[Mj,Qi]=Ft(_v),[cD,Lj]=Mj(_v),$j=e=>{const{__scopePopper:t,children:n}=e,[r,s]=h.useState(null);return a.jsx(cD,{scope:t,anchor:r,onAnchorChange:s,children:n})};$j.displayName=_v;var Fj="PopperAnchor",Uj=h.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=Lj(Fj,n),i=h.useRef(null),l=Ae(t,i);return h.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||i.current)}),r?null:a.jsx(he.div,{...s,ref:l})});Uj.displayName=Fj;var Cv="PopperContent",[uD,dD]=Mj(Cv),zj=h.forwardRef((e,t)=>{var G,Ee,se,xe,Re,De;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:m="optimized",onPlaced:b,...p}=e,x=Lj(Cv,n),[v,y]=h.useState(null),w=Ae(t,We=>y(We)),[N,S]=h.useState(null),j=jv(N),_=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,C=r+(o!=="center"?"-"+o:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},R=Array.isArray(u)?u:[u],L=R.length>0,B={padding:P,boundary:R.filter(fD),altBoundary:L},{refs:M,floatingStyles:H,placement:V,isPositioned:Y,middlewareData:I}=XI({strategy:"fixed",placement:C,whileElementsMounted:(...We)=>BI(...We,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[eD({mainAxis:s+E,alignmentAxis:i}),c&&tD({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?nD():void 0,...B}),c&&rD({...B}),sD({...B,apply:({elements:We,rects:dt,availableWidth:ht,availableHeight:Et})=>{const{width:yt,height:qt}=dt.reference,Gt=We.floating.style;Gt.setProperty("--radix-popper-available-width",`${ht}px`),Gt.setProperty("--radix-popper-available-height",`${Et}px`),Gt.setProperty("--radix-popper-anchor-width",`${yt}px`),Gt.setProperty("--radix-popper-anchor-height",`${qt}px`)}}),N&&oD({element:N,padding:l}),pD({arrowWidth:_,arrowHeight:E}),g&&aD({strategy:"referenceHidden",...B})]}),[A,$]=Wj(V),Z=lt(b);ut(()=>{Y&&(Z==null||Z())},[Y,Z]);const ne=(G=I.arrow)==null?void 0:G.x,re=(Ee=I.arrow)==null?void 0:Ee.y,ge=((se=I.arrow)==null?void 0:se.centerOffset)!==0,[Q,ye]=h.useState();return ut(()=>{v&&ye(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:Y?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(xe=I.transformOrigin)==null?void 0:xe.x,(Re=I.transformOrigin)==null?void 0:Re.y].join(" "),...((De=I.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(uD,{scope:n,placedSide:A,onArrowChange:S,arrowX:ne,arrowY:re,shouldHideArrow:ge,children:a.jsx(he.div,{"data-side":A,"data-align":$,...p,ref:w,style:{...p.style,animation:Y?void 0:"none"}})})})});zj.displayName=Cv;var Bj="PopperArrow",hD={top:"bottom",right:"left",bottom:"top",left:"right"},Vj=h.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=dD(Bj,r),i=hD[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(lD,{...s,ref:n,style:{...s.style,display:"block"}})})});Vj.displayName=Bj;function fD(e){return e!==null}var pD=e=>({name:"transformOrigin",options:e,fn(t){var x,v,y;const{placement:n,rects:r,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=Wj(n),f={start:"0%",center:"50%",end:"100%"}[d],g=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let b="",p="";return u==="bottom"?(b=i?f:`${g}px`,p=`${-c}px`):u==="top"?(b=i?f:`${g}px`,p=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,p=i?f:`${m}px`):u==="left"&&(b=`${r.floating.width+c}px`,p=i?f:`${m}px`),{data:{x:b,y:p}}}});function Wj(e){const[t,n="center"]=e.split("-");return[t,n]}var Th=$j,Ev=Uj,kv=zj,Tv=Vj,[Ph,NV]=Ft("Tooltip",[Qi]),Ah=Qi(),Hj="TooltipProvider",mD=700,xm="tooltip.open",[gD,Pv]=Ph(Hj),Kj=e=>{const{__scopeTooltip:t,delayDuration:n=mD,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=h.useRef(!0),l=h.useRef(!1),c=h.useRef(0);return h.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(gD,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:h.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:h.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:h.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:o})};Kj.displayName=Hj;var hc="Tooltip",[vD,Rh]=Ph(hc),qj=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:l}=e,c=Pv(hc,e.__scopeTooltip),u=Ah(t),[d,f]=h.useState(null),g=cn(),m=h.useRef(0),b=i??c.disableHoverableContent,p=l??c.delayDuration,x=h.useRef(!1),[v,y]=$n({prop:r,defaultProp:s??!1,onChange:_=>{_?(c.onOpen(),document.dispatchEvent(new CustomEvent(xm))):c.onClose(),o==null||o(_)},caller:hc}),w=h.useMemo(()=>v?x.current?"delayed-open":"instant-open":"closed",[v]),N=h.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,y(!0)},[y]),S=h.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),j=h.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,y(!0),m.current=0},p)},[p,y]);return h.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),a.jsx(Th,{...u,children:a.jsx(vD,{scope:t,contentId:g,open:v,stateAttribute:w,trigger:d,onTriggerChange:f,onTriggerEnter:h.useCallback(()=>{c.isOpenDelayedRef.current?j():N()},[c.isOpenDelayedRef,j,N]),onTriggerLeave:h.useCallback(()=>{b?S():(window.clearTimeout(m.current),m.current=0)},[S,b]),onOpen:N,onClose:S,disableHoverableContent:b,children:n})})};qj.displayName=hc;var wm="TooltipTrigger",Gj=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Rh(wm,n),o=Pv(wm,n),i=Ah(n),l=h.useRef(null),c=Ae(t,l,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(Ev,{asChild:!0,...i,children:a.jsx(he.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:oe(e.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:oe(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:oe(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:oe(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:oe(e.onBlur,s.onClose),onClick:oe(e.onClick,s.onClose)})})});Gj.displayName=wm;var yD="TooltipPortal",[SV,xD]=Ph(yD,{forceMount:void 0}),Di="TooltipContent",Yj=h.forwardRef((e,t)=>{const n=xD(Di,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Rh(Di,e.__scopeTooltip);return a.jsx(en,{present:r||i.open,children:i.disableHoverableContent?a.jsx(Qj,{side:s,...o,ref:t}):a.jsx(wD,{side:s,...o,ref:t})})}),wD=h.forwardRef((e,t)=>{const n=Rh(Di,e.__scopeTooltip),r=Pv(Di,e.__scopeTooltip),s=h.useRef(null),o=Ae(t,s),[i,l]=h.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,g=h.useCallback(()=>{l(null),f(!1)},[f]),m=h.useCallback((b,p)=>{const x=b.currentTarget,v={x:b.clientX,y:b.clientY},y=_D(v,x.getBoundingClientRect()),w=CD(v,y),N=ED(p.getBoundingClientRect()),S=TD([...w,...N]);l(S),f(!0)},[f]);return h.useEffect(()=>()=>g(),[g]),h.useEffect(()=>{if(c&&d){const b=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",b),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",b),d.removeEventListener("pointerleave",p)}}},[c,d,m,g]),h.useEffect(()=>{if(i){const b=p=>{const x=p.target,v={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),w=!kD(v,i);y?g():w&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,d,i,u,g]),a.jsx(Qj,{...e,ref:o})}),[bD,ND]=Ph(hc,{isInside:!1}),SD=TS("TooltipContent"),Qj=h.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...l}=e,c=Rh(Di,n),u=Ah(n),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(xm,d),()=>document.removeEventListener(xm,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=g=>{const m=g.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(Hi,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(kv,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(SD,{children:r}),a.jsx(bD,{scope:n,isInside:!0,children:a.jsx(KA,{id:c.contentId,role:"tooltip",children:s||r})})]})})});Yj.displayName=Di;var Jj="TooltipArrow",jD=h.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ah(n);return ND(Jj,n).isInside?null:a.jsx(Tv,{...s,...r,ref:t})});jD.displayName=Jj;function _D(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function CD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function ED(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function kD(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,g=c.y;d>r!=g>r&&n<(f-u)*(r-d)/(g-d)+u&&(s=!s)}return s}function TD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),PD(t)}function PD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var AD=Kj,RD=qj,OD=Gj,Xj=Yj;const Zj=AD,ID=RD,DD=OD,e1=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(Xj,{ref:r,sideOffset:t,className:J("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));e1.displayName=Xj.displayName;var Ji=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},to=typeof window>"u"||"Deno"in globalThis;function on(){}function MD(e,t){return typeof e=="function"?e(t):e}function bm(e){return typeof e=="number"&&e>=0&&e!==1/0}function t1(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Zs(e,t){return typeof e=="function"?e(t):e}function Hn(e,t){return typeof e=="function"?e(t):e}function Dw(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:l}=e;if(i){if(r){if(t.queryHash!==Av(i,t.options))return!1}else if(!fc(t.queryKey,i))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||o&&!o(t))}function Mw(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(no(t.options.mutationKey)!==no(o))return!1}else if(!fc(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Av(e,t){return((t==null?void 0:t.queryKeyHashFn)||no)(e)}function no(e){return JSON.stringify(e,(t,n)=>Nm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>fc(e[n],t[n])):!1}function n1(e,t){if(e===t)return e;const n=Lw(e)&&Lw(t);if(n||Nm(e)&&Nm(t)){const r=n?e:Object.keys(e),s=r.length,o=n?t:Object.keys(t),i=o.length,l=n?[]:{},c=new Set(r);let u=0;for(let d=0;d<i;d++){const f=n?d:o[d];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=n1(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return s===i&&u===s?e:l}return t}function Od(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Lw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Nm(e){if(!$w(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!$w(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function $w(e){return Object.prototype.toString.call(e)==="[object Object]"}function LD(e){return new Promise(t=>{setTimeout(t,e)})}function Sm(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?n1(e,t):t}function $D(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function FD(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Rv=Symbol();function r1(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Rv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function s1(e,t){return typeof e=="function"?e(...t):!!e}var Da,Rs,di,rb,UD=(rb=class extends Ji{constructor(){super();Ce(this,Da);Ce(this,Rs);Ce(this,di);de(this,di,t=>{if(!to&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){k(this,Rs)||this.setEventListener(k(this,di))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Rs))==null||t.call(this),de(this,Rs,void 0))}setEventListener(t){var n;de(this,di,t),(n=k(this,Rs))==null||n.call(this),de(this,Rs,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){k(this,Da)!==t&&(de(this,Da,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof k(this,Da)=="boolean"?k(this,Da):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Da=new WeakMap,Rs=new WeakMap,di=new WeakMap,rb),Ov=new UD,hi,Os,fi,sb,zD=(sb=class extends Ji{constructor(){super();Ce(this,hi,!0);Ce(this,Os);Ce(this,fi);de(this,fi,t=>{if(!to&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){k(this,Os)||this.setEventListener(k(this,fi))}onUnsubscribe(){var t;this.hasListeners()||((t=k(this,Os))==null||t.call(this),de(this,Os,void 0))}setEventListener(t){var n;de(this,fi,t),(n=k(this,Os))==null||n.call(this),de(this,Os,t(this.setOnline.bind(this)))}setOnline(t){k(this,hi)!==t&&(de(this,hi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return k(this,hi)}},hi=new WeakMap,Os=new WeakMap,fi=new WeakMap,sb),Id=new zD;function jm(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}function BD(e){return Math.min(1e3*2**e,3e4)}function a1(e){return(e??"online")==="online"?Id.isOnline():!0}var o1=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Vf(e){return e instanceof o1}function i1(e){let t=!1,n=0,r=!1,s;const o=jm(),i=p=>{var x;r||(g(new o1(p)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>Ov.isFocused()&&(e.networkMode==="always"||Id.isOnline())&&e.canRun(),d=()=>a1(e.networkMode)&&e.canRun(),f=p=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,p),s==null||s(),o.resolve(p))},g=p=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,p),s==null||s(),o.reject(p))},m=()=>new Promise(p=>{var x;s=v=>{(r||u())&&p(v)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;s=void 0,r||(p=e.onContinue)==null||p.call(e)}),b=()=>{if(r)return;let p;const x=n===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(v){p=Promise.reject(v)}Promise.resolve(p).then(f).catch(v=>{var j;if(r)return;const y=e.retry??(to?0:3),w=e.retryDelay??BD,N=typeof w=="function"?w(n,v):w,S=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,v);if(t||!S){g(v);return}n++,(j=e.onFail)==null||j.call(e,n,v),LD(N).then(()=>u()?void 0:m()).then(()=>{t?g(v):b()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?b():m().then(b),o)}}var VD=e=>setTimeout(e,0);function WD(){let e=[],t=0,n=l=>{l()},r=l=>{l()},s=VD;const o=l=>{t?e.push(l):s(()=>{n(l)})},i=()=>{const l=e;e=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||i()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Ot=WD(),Ma,ab,l1=(ab=class{constructor(){Ce(this,Ma)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bm(this.gcTime)&&de(this,Ma,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(to?1/0:5*60*1e3))}clearGcTimeout(){k(this,Ma)&&(clearTimeout(k(this,Ma)),de(this,Ma,void 0))}},Ma=new WeakMap,ab),pi,La,Wn,$a,Jt,kc,Fa,hr,Vr,ob,HD=(ob=class extends l1{constructor(t){super();Ce(this,hr);Ce(this,pi);Ce(this,La);Ce(this,Wn);Ce(this,$a);Ce(this,Jt);Ce(this,kc);Ce(this,Fa);de(this,Fa,!1),de(this,kc,t.defaultOptions),this.setOptions(t.options),this.observers=[],de(this,$a,t.client),de(this,Wn,k(this,$a).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,de(this,pi,KD(this.options)),this.state=t.state??k(this,pi),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=k(this,Jt))==null?void 0:t.promise}setOptions(t){this.options={...k(this,kc),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,Wn).remove(this)}setData(t,n){const r=Sm(this.state.data,t,this.options);return Fe(this,hr,Vr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Fe(this,hr,Vr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=k(this,Jt))==null?void 0:r.promise;return(s=k(this,Jt))==null||s.cancel(t),n?n.then(on).catch(on):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,pi))}isActive(){return this.observers.some(t=>Hn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Zs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!t1(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=k(this,Jt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=k(this,Jt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),k(this,Wn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(k(this,Jt)&&(k(this,Fa)?k(this,Jt).cancel({revert:!0}):k(this,Jt).cancelRetry()),this.scheduleGc()),k(this,Wn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Fe(this,hr,Vr).call(this,{type:"invalidate"})}fetch(t,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(k(this,Jt))return k(this,Jt).continueRetry(),k(this,Jt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(m=>m.options.queryFn);g&&this.setOptions(g.options)}const r=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(de(this,Fa,!0),r.signal)})},o=()=>{const g=r1(this.options,n),b=(()=>{const p={client:k(this,$a),queryKey:this.queryKey,meta:this.meta};return s(p),p})();return de(this,Fa,!1),this.options.persister?this.options.persister(g,b,this):g(b)},l=(()=>{const g={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:k(this,$a),state:this.state,fetchFn:o};return s(g),g})();(u=this.options.behavior)==null||u.onFetch(l,this),de(this,La,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Fe(this,hr,Vr).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=g=>{var m,b,p,x;Vf(g)&&g.silent||Fe(this,hr,Vr).call(this,{type:"error",error:g}),Vf(g)||((b=(m=k(this,Wn).config).onError)==null||b.call(m,g,this),(x=(p=k(this,Wn).config).onSettled)==null||x.call(p,this.state.data,g,this)),this.scheduleGc()};return de(this,Jt,i1({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:g=>{var m,b,p,x;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(v){c(v);return}(b=(m=k(this,Wn).config).onSuccess)==null||b.call(m,g,this),(x=(p=k(this,Wn).config).onSettled)==null||x.call(p,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,m)=>{Fe(this,hr,Vr).call(this,{type:"failed",failureCount:g,error:m})},onPause:()=>{Fe(this,hr,Vr).call(this,{type:"pause"})},onContinue:()=>{Fe(this,hr,Vr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),k(this,Jt).start()}},pi=new WeakMap,La=new WeakMap,Wn=new WeakMap,$a=new WeakMap,Jt=new WeakMap,kc=new WeakMap,Fa=new WeakMap,hr=new WeakSet,Vr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...c1(r.data,this.options),fetchMeta:t.meta??null};case"success":return de(this,La,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return Vf(s)&&s.revert&&k(this,La)?{...k(this,La),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Ot.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),k(this,Wn).notify({query:this,type:"updated",action:t})})},ob);function c1(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:a1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function KD(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kr,ib,qD=(ib=class extends Ji{constructor(t={}){super();Ce(this,kr);this.config=t,de(this,kr,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Av(s,n);let i=this.get(o);return i||(i=new HD({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){k(this,kr).has(t.queryHash)||(k(this,kr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=k(this,kr).get(t.queryHash);n&&(t.destroy(),n===t&&k(this,kr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ot.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return k(this,kr).get(t)}getAll(){return[...k(this,kr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Dw(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Dw(t,r)):n}notify(t){Ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ot.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},kr=new WeakMap,ib),Tr,rn,Ua,Pr,Ss,lb,GD=(lb=class extends l1{constructor(t){super();Ce(this,Pr);Ce(this,Tr);Ce(this,rn);Ce(this,Ua);this.mutationId=t.mutationId,de(this,rn,t.mutationCache),de(this,Tr,[]),this.state=t.state||u1(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){k(this,Tr).includes(t)||(k(this,Tr).push(t),this.clearGcTimeout(),k(this,rn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){de(this,Tr,k(this,Tr).filter(n=>n!==t)),this.scheduleGc(),k(this,rn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){k(this,Tr).length||(this.state.status==="pending"?this.scheduleGc():k(this,rn).remove(this))}continue(){var t;return((t=k(this,Ua))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,i,l,c,u,d,f,g,m,b,p,x,v,y,w,N,S,j,_,E;const n=()=>{Fe(this,Pr,Ss).call(this,{type:"continue"})};de(this,Ua,i1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{Fe(this,Pr,Ss).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{Fe(this,Pr,Ss).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,rn).canRun(this)}));const r=this.state.status==="pending",s=!k(this,Ua).canStart();try{if(r)n();else{Fe(this,Pr,Ss).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(o=k(this,rn).config).onMutate)==null?void 0:i.call(o,t,this));const P=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));P!==this.state.context&&Fe(this,Pr,Ss).call(this,{type:"pending",context:P,variables:t,isPaused:s})}const C=await k(this,Ua).start();return await((d=(u=k(this,rn).config).onSuccess)==null?void 0:d.call(u,C,t,this.state.context,this)),await((g=(f=this.options).onSuccess)==null?void 0:g.call(f,C,t,this.state.context)),await((b=(m=k(this,rn).config).onSettled)==null?void 0:b.call(m,C,null,this.state.variables,this.state.context,this)),await((x=(p=this.options).onSettled)==null?void 0:x.call(p,C,null,t,this.state.context)),Fe(this,Pr,Ss).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(v=k(this,rn).config).onError)==null?void 0:y.call(v,C,t,this.state.context,this)),await((N=(w=this.options).onError)==null?void 0:N.call(w,C,t,this.state.context)),await((j=(S=k(this,rn).config).onSettled)==null?void 0:j.call(S,void 0,C,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,void 0,C,t,this.state.context)),C}finally{Fe(this,Pr,Ss).call(this,{type:"error",error:C})}}finally{k(this,rn).runNext(this)}}},Tr=new WeakMap,rn=new WeakMap,Ua=new WeakMap,Pr=new WeakSet,Ss=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ot.batch(()=>{k(this,Tr).forEach(r=>{r.onMutationUpdate(t)}),k(this,rn).notify({mutation:this,type:"updated",action:t})})},lb);function u1(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,fr,Tc,cb,YD=(cb=class extends Ji{constructor(t={}){super();Ce(this,qr);Ce(this,fr);Ce(this,Tc);this.config=t,de(this,qr,new Set),de(this,fr,new Map),de(this,Tc,0)}build(t,n,r){const s=new GD({mutationCache:this,mutationId:++au(this,Tc)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){k(this,qr).add(t);const n=Eu(t);if(typeof n=="string"){const r=k(this,fr).get(n);r?r.push(t):k(this,fr).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(k(this,qr).delete(t)){const n=Eu(t);if(typeof n=="string"){const r=k(this,fr).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&k(this,fr).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Eu(t);if(typeof n=="string"){const r=k(this,fr).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=Eu(t);if(typeof n=="string"){const s=(r=k(this,fr).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ot.batch(()=>{k(this,qr).forEach(t=>{this.notify({type:"removed",mutation:t})}),k(this,qr).clear(),k(this,fr).clear()})}getAll(){return Array.from(k(this,qr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Mw(n,r))}findAll(t={}){return this.getAll().filter(n=>Mw(t,n))}notify(t){Ot.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ot.batch(()=>Promise.all(t.map(n=>n.continue().catch(on))))}},qr=new WeakMap,fr=new WeakMap,Tc=new WeakMap,cb);function Eu(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Fw(e){return{onFetch:(t,n)=>{var d,f,g,m,b;const r=t.options,s=(g=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,o=((m=t.state.data)==null?void 0:m.pages)||[],i=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},v=r1(t.options,t.fetchOptions),y=async(w,N,S)=>{if(p)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const _=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:N,direction:S?"backward":"forward",meta:t.options.meta};return x(R),R})(),E=await v(_),{maxPages:C}=t.options,P=S?FD:$D;return{pages:P(w.pages,E,C),pageParams:P(w.pageParams,N,C)}};if(s&&o.length){const w=s==="backward",N=w?QD:Uw,S={pages:o,pageParams:i},j=N(r,S);l=await y(S,j,w)}else{const w=e??o.length;do{const N=c===0?i[0]??r.initialPageParam:Uw(r,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Uw(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function QD(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var wt,Is,Ds,mi,gi,Ms,vi,yi,ub,JD=(ub=class{constructor(e={}){Ce(this,wt);Ce(this,Is);Ce(this,Ds);Ce(this,mi);Ce(this,gi);Ce(this,Ms);Ce(this,vi);Ce(this,yi);de(this,wt,e.queryCache||new qD),de(this,Is,e.mutationCache||new YD),de(this,Ds,e.defaultOptions||{}),de(this,mi,new Map),de(this,gi,new Map),de(this,Ms,0)}mount(){au(this,Ms)._++,k(this,Ms)===1&&(de(this,vi,Ov.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,wt).onFocus())})),de(this,yi,Id.subscribe(async e=>{e&&(await this.resumePausedMutations(),k(this,wt).onOnline())})))}unmount(){var e,t;au(this,Ms)._--,k(this,Ms)===0&&((e=k(this,vi))==null||e.call(this),de(this,vi,void 0),(t=k(this,yi))==null||t.call(this),de(this,yi,void 0))}isFetching(e){return k(this,wt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return k(this,Is).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=k(this,wt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=k(this,wt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Zs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return k(this,wt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=k(this,wt).get(r.queryHash),o=s==null?void 0:s.state.data,i=MD(t,o);if(i!==void 0)return k(this,wt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return Ot.batch(()=>k(this,wt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=k(this,wt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=k(this,wt);Ot.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=k(this,wt);return Ot.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ot.batch(()=>k(this,wt).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(on).catch(on)}invalidateQueries(e,t={}){return Ot.batch(()=>(k(this,wt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ot.batch(()=>k(this,wt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(on)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(on)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=k(this,wt).build(this,t);return n.isStaleByTime(Zs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(on).catch(on)}fetchInfiniteQuery(e){return e.behavior=Fw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(on).catch(on)}ensureInfiniteQueryData(e){return e.behavior=Fw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Id.isOnline()?k(this,Is).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,wt)}getMutationCache(){return k(this,Is)}getDefaultOptions(){return k(this,Ds)}setDefaultOptions(e){de(this,Ds,e)}setQueryDefaults(e,t){k(this,mi).set(no(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...k(this,mi).values()],n={};return t.forEach(r=>{fc(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){k(this,gi).set(no(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...k(this,gi).values()],n={};return t.forEach(r=>{fc(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...k(this,Ds).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Av(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Rv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...k(this,Ds).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){k(this,wt).clear(),k(this,Is).clear()}},wt=new WeakMap,Is=new WeakMap,Ds=new WeakMap,mi=new WeakMap,gi=new WeakMap,Ms=new WeakMap,vi=new WeakMap,yi=new WeakMap,ub),pn,Be,Pc,sn,za,xi,Ls,$s,Ac,wi,bi,Ba,Va,Fs,Ni,Ge,El,_m,Cm,Em,km,Tm,Pm,Am,d1,db,XD=(db=class extends Ji{constructor(t,n){super();Ce(this,Ge);Ce(this,pn);Ce(this,Be);Ce(this,Pc);Ce(this,sn);Ce(this,za);Ce(this,xi);Ce(this,Ls);Ce(this,$s);Ce(this,Ac);Ce(this,wi);Ce(this,bi);Ce(this,Ba);Ce(this,Va);Ce(this,Fs);Ce(this,Ni,new Set);this.options=n,de(this,pn,t),de(this,$s,null),de(this,Ls,jm()),this.options.experimental_prefetchInRender||k(this,Ls).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,Be).addObserver(this),zw(k(this,Be),this.options)?Fe(this,Ge,El).call(this):this.updateResult(),Fe(this,Ge,km).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rm(k(this,Be),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rm(k(this,Be),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Fe(this,Ge,Tm).call(this),Fe(this,Ge,Pm).call(this),k(this,Be).removeObserver(this)}setOptions(t){const n=this.options,r=k(this,Be);if(this.options=k(this,pn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Hn(this.options.enabled,k(this,Be))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Fe(this,Ge,Am).call(this),k(this,Be).setOptions(this.options),n._defaulted&&!Od(this.options,n)&&k(this,pn).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,Be),observer:this});const s=this.hasListeners();s&&Bw(k(this,Be),r,this.options,n)&&Fe(this,Ge,El).call(this),this.updateResult(),s&&(k(this,Be)!==r||Hn(this.options.enabled,k(this,Be))!==Hn(n.enabled,k(this,Be))||Zs(this.options.staleTime,k(this,Be))!==Zs(n.staleTime,k(this,Be)))&&Fe(this,Ge,_m).call(this);const o=Fe(this,Ge,Cm).call(this);s&&(k(this,Be)!==r||Hn(this.options.enabled,k(this,Be))!==Hn(n.enabled,k(this,Be))||o!==k(this,Fs))&&Fe(this,Ge,Em).call(this,o)}getOptimisticResult(t){const n=k(this,pn).getQueryCache().build(k(this,pn),t),r=this.createResult(n,t);return eM(this,r)&&(de(this,sn,r),de(this,xi,this.options),de(this,za,k(this,Be).state)),r}getCurrentResult(){return k(this,sn)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),Reflect.get(r,s))})}trackProp(t){k(this,Ni).add(t)}getCurrentQuery(){return k(this,Be)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=k(this,pn).defaultQueryOptions(t),r=k(this,pn).getQueryCache().build(k(this,pn),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Fe(this,Ge,El).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,sn)))}createResult(t,n){var C;const r=k(this,Be),s=this.options,o=k(this,sn),i=k(this,za),l=k(this,xi),u=t!==r?t.state:k(this,Pc),{state:d}=t;let f={...d},g=!1,m;if(n._optimisticResults){const P=this.hasListeners(),R=!P&&zw(t,n),L=P&&Bw(t,r,n,s);(R||L)&&(f={...f,...c1(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:p,status:x}=f;m=f.data;let v=!1;if(n.placeholderData!==void 0&&m===void 0&&x==="pending"){let P;o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(P=o.data,v=!0):P=typeof n.placeholderData=="function"?n.placeholderData((C=k(this,bi))==null?void 0:C.state.data,k(this,bi)):n.placeholderData,P!==void 0&&(x="success",m=Sm(o==null?void 0:o.data,P,n),g=!0)}if(n.select&&m!==void 0&&!v)if(o&&m===(i==null?void 0:i.data)&&n.select===k(this,Ac))m=k(this,wi);else try{de(this,Ac,n.select),m=n.select(m),m=Sm(o==null?void 0:o.data,m,n),de(this,wi,m),de(this,$s,null)}catch(P){de(this,$s,P)}k(this,$s)&&(b=k(this,$s),m=k(this,wi),p=Date.now(),x="error");const y=f.fetchStatus==="fetching",w=x==="pending",N=x==="error",S=w&&y,j=m!==void 0,E={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:N,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:N&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:N&&j,isStale:Iv(t,n),refetch:this.refetch,promise:k(this,Ls),isEnabled:Hn(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=B=>{E.status==="error"?B.reject(E.error):E.data!==void 0&&B.resolve(E.data)},R=()=>{const B=de(this,Ls,E.promise=jm());P(B)},L=k(this,Ls);switch(L.status){case"pending":t.queryHash===r.queryHash&&P(L);break;case"fulfilled":(E.status==="error"||E.data!==L.value)&&R();break;case"rejected":(E.status!=="error"||E.error!==L.reason)&&R();break}}return E}updateResult(){const t=k(this,sn),n=this.createResult(k(this,Be),this.options);if(de(this,za,k(this,Be).state),de(this,xi,this.options),k(this,za).data!==void 0&&de(this,bi,k(this,Be)),Od(n,t))return;de(this,sn,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!k(this,Ni).size)return!0;const i=new Set(o??k(this,Ni));return this.options.throwOnError&&i.add("error"),Object.keys(k(this,sn)).some(l=>{const c=l;return k(this,sn)[c]!==t[c]&&i.has(c)})};Fe(this,Ge,d1).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Fe(this,Ge,km).call(this)}},pn=new WeakMap,Be=new WeakMap,Pc=new WeakMap,sn=new WeakMap,za=new WeakMap,xi=new WeakMap,Ls=new WeakMap,$s=new WeakMap,Ac=new WeakMap,wi=new WeakMap,bi=new WeakMap,Ba=new WeakMap,Va=new WeakMap,Fs=new WeakMap,Ni=new WeakMap,Ge=new WeakSet,El=function(t){Fe(this,Ge,Am).call(this);let n=k(this,Be).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(on)),n},_m=function(){Fe(this,Ge,Tm).call(this);const t=Zs(this.options.staleTime,k(this,Be));if(to||k(this,sn).isStale||!bm(t))return;const r=t1(k(this,sn).dataUpdatedAt,t)+1;de(this,Ba,setTimeout(()=>{k(this,sn).isStale||this.updateResult()},r))},Cm=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,Be)):this.options.refetchInterval)??!1},Em=function(t){Fe(this,Ge,Pm).call(this),de(this,Fs,t),!(to||Hn(this.options.enabled,k(this,Be))===!1||!bm(k(this,Fs))||k(this,Fs)===0)&&de(this,Va,setInterval(()=>{(this.options.refetchIntervalInBackground||Ov.isFocused())&&Fe(this,Ge,El).call(this)},k(this,Fs)))},km=function(){Fe(this,Ge,_m).call(this),Fe(this,Ge,Em).call(this,Fe(this,Ge,Cm).call(this))},Tm=function(){k(this,Ba)&&(clearTimeout(k(this,Ba)),de(this,Ba,void 0))},Pm=function(){k(this,Va)&&(clearInterval(k(this,Va)),de(this,Va,void 0))},Am=function(){const t=k(this,pn).getQueryCache().build(k(this,pn),this.options);if(t===k(this,Be))return;const n=k(this,Be);de(this,Be,t),de(this,Pc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},d1=function(t){Ot.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(k(this,sn))}),k(this,pn).getQueryCache().notify({query:k(this,Be),type:"observerResultsUpdated"})})},db);function ZD(e,t){return Hn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function zw(e,t){return ZD(e,t)||e.state.data!==void 0&&Rm(e,t,t.refetchOnMount)}function Rm(e,t,n){if(Hn(t.enabled,e)!==!1&&Zs(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Iv(e,t)}return!1}function Bw(e,t,n,r){return(e!==t||Hn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Iv(e,n)}function Iv(e,t){return Hn(t.enabled,e)!==!1&&e.isStaleByTime(Zs(t.staleTime,e))}function eM(e,t){return!Od(e.getCurrentResult(),t)}var Us,zs,mn,Gr,ts,Zu,Om,hb,tM=(hb=class extends Ji{constructor(n,r){super();Ce(this,ts);Ce(this,Us);Ce(this,zs);Ce(this,mn);Ce(this,Gr);de(this,Us,n),this.setOptions(r),this.bindMethods(),Fe(this,ts,Zu).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=k(this,Us).defaultMutationOptions(n),Od(this.options,r)||k(this,Us).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,mn),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&no(r.mutationKey)!==no(this.options.mutationKey)?this.reset():((s=k(this,mn))==null?void 0:s.state.status)==="pending"&&k(this,mn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=k(this,mn))==null||n.removeObserver(this)}onMutationUpdate(n){Fe(this,ts,Zu).call(this),Fe(this,ts,Om).call(this,n)}getCurrentResult(){return k(this,zs)}reset(){var n;(n=k(this,mn))==null||n.removeObserver(this),de(this,mn,void 0),Fe(this,ts,Zu).call(this),Fe(this,ts,Om).call(this)}mutate(n,r){var s;return de(this,Gr,r),(s=k(this,mn))==null||s.removeObserver(this),de(this,mn,k(this,Us).getMutationCache().build(k(this,Us),this.options)),k(this,mn).addObserver(this),k(this,mn).execute(n)}},Us=new WeakMap,zs=new WeakMap,mn=new WeakMap,Gr=new WeakMap,ts=new WeakSet,Zu=function(){var r;const n=((r=k(this,mn))==null?void 0:r.state)??u1();de(this,zs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Om=function(n){Ot.batch(()=>{var r,s,o,i,l,c,u,d;if(k(this,Gr)&&this.hasListeners()){const f=k(this,zs).variables,g=k(this,zs).context;(n==null?void 0:n.type)==="success"?((s=(r=k(this,Gr)).onSuccess)==null||s.call(r,n.data,f,g),(i=(o=k(this,Gr)).onSettled)==null||i.call(o,n.data,null,f,g)):(n==null?void 0:n.type)==="error"&&((c=(l=k(this,Gr)).onError)==null||c.call(l,n.error,f,g),(d=(u=k(this,Gr)).onSettled)==null||d.call(u,void 0,n.error,f,g))}this.listeners.forEach(f=>{f(k(this,zs))})})},hb),h1=h.createContext(void 0),Dv=e=>{const t=h.useContext(h1);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nM=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(h1.Provider,{value:e,children:t})),f1=h.createContext(!1),rM=()=>h.useContext(f1);f1.Provider;function sM(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var aM=h.createContext(sM()),oM=()=>h.useContext(aM),iM=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},lM=e=>{h.useEffect(()=>{e.clearReset()},[e])},cM=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||s1(n,[e.error,r])),uM=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},dM=(e,t)=>e.isLoading&&e.isFetching&&!t,hM=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Vw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function fM(e,t,n){var f,g,m,b,p;const r=rM(),s=oM(),o=Dv(),i=o.defaultQueryOptions(e);(g=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||g.call(f,i),i._optimisticResults=r?"isRestoring":"optimistic",uM(i),iM(i,s),lM(s);const l=!o.getQueryCache().get(i.queryHash),[c]=h.useState(()=>new t(o,i)),u=c.getOptimisticResult(i),d=!r&&e.subscribed!==!1;if(h.useSyncExternalStore(h.useCallback(x=>{const v=d?c.subscribe(Ot.batchCalls(x)):on;return c.updateResult(),v},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),h.useEffect(()=>{c.setOptions(i)},[i,c]),hM(i,u))throw Vw(i,c,s);if(cM({result:u,errorResetBoundary:s,throwOnError:i.throwOnError,query:o.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((b=(m=o.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||b.call(m,i,u),i.experimental_prefetchInRender&&!to&&dM(u,r)){const x=l?Vw(i,c,s):(p=o.getQueryCache().get(i.queryHash))==null?void 0:p.promise;x==null||x.catch(on).finally(()=>{c.updateResult()})}return i.notifyOnChangeProps?u:c.trackResult(u)}function pM(e,t){return fM(e,XD)}function Wf(e,t){const n=Dv(),[r]=h.useState(()=>new tM(n,e));h.useEffect(()=>{r.setOptions(e)},[r,e]);const s=h.useSyncExternalStore(h.useCallback(i=>r.subscribe(Ot.batchCalls(i)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=h.useCallback((i,l)=>{r.mutate(i,l).catch(on)},[r]);if(s.error&&s1(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pc.apply(this,arguments)}var Ws;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ws||(Ws={}));const Ww="popstate";function mM(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:l}=r.location;return Im("",{pathname:o,search:i,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Dd(s)}return vM(t,n,null,e)}function gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p1(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gM(){return Math.random().toString(36).substr(2,8)}function Hw(e,t){return{usr:e.state,key:e.key,idx:t}}function Im(e,t,n,r){return n===void 0&&(n=null),pc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xi(t):t,{state:n,key:t&&t.key||r||gM()})}function Dd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vM(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,l=Ws.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(pc({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){l=Ws.Pop;let x=d(),v=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:v})}function g(x,v){l=Ws.Push;let y=Im(p.location,x,v);u=d()+1;let w=Hw(y,u),N=p.createHref(y);try{i.pushState(w,"",N)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(N)}o&&c&&c({action:l,location:p.location,delta:1})}function m(x,v){l=Ws.Replace;let y=Im(p.location,x,v);u=d();let w=Hw(y,u),N=p.createHref(y);i.replaceState(w,"",N),o&&c&&c({action:l,location:p.location,delta:0})}function b(x){let v=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:Dd(x);return y=y.replace(/ $/,"%20"),gt(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let p={get action(){return l},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Ww,f),c=x,()=>{s.removeEventListener(Ww,f),c=null}},createHref(x){return t(s,x)},createURL:b,encodeLocation(x){let v=b(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:m,go(x){return i.go(x)}};return p}var Kw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kw||(Kw={}));function yM(e,t,n){return n===void 0&&(n="/"),xM(e,t,n,!1)}function xM(e,t,n,r){let s=typeof t=="string"?Xi(t):t,o=Mi(s.pathname||"/",n);if(o==null)return null;let i=m1(e);wM(i);let l=null;for(let c=0;l==null&&c<i.length;++c){let u=AM(o);l=TM(i[c],u,r)}return l}function m1(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(gt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=ea([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(gt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),m1(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:EM(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))s(o,i);else for(let c of g1(o.path))s(o,i,c)}),t}function g1(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=g1(r.join("/")),l=[];return l.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&l.push(...i),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function wM(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:kM(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const bM=/^:[\w-]+$/,NM=3,SM=2,jM=1,_M=10,CM=-2,qw=e=>e==="*";function EM(e,t){let n=e.split("/"),r=n.length;return n.some(qw)&&(r+=CM),t&&(r+=SM),n.filter(s=>!qw(s)).reduce((s,o)=>s+(bM.test(o)?NM:o===""?jM:_M),r)}function kM(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function TM(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=Md({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Md({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:ea([o,f.pathname]),pathnameBase:DM(ea([o,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(o=ea([o,f.pathnameBase]))}return i}function Md(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=PM(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:g,isOptional:m}=d;if(g==="*"){let p=l[f]||"";i=o.slice(0,o.length-p.length).replace(/(.)\/+$/,"$1")}const b=l[f];return m&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function PM(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),p1(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function AM(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return p1(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Mi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function RM(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Xi(e):e;return{pathname:n?n.startsWith("/")?n:OM(n,t):t,search:MM(r),hash:LM(s)}}function OM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hf(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IM(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mv(e,t){let n=IM(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Lv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Xi(e):(s=pc({},e),gt(!s.pathname||!s.pathname.includes("?"),Hf("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Hf("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Hf("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,l;if(i==null)l=n;else{let f=t.length-1;if(!r&&i.startsWith("..")){let g=i.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}l=f>=0?t[f]:"/"}let c=RM(s,l),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const ea=e=>e.join("/").replace(/\/\/+/g,"/"),DM=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),MM=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,LM=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $M(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const v1=["post","put","patch","delete"];new Set(v1);const FM=["get",...v1];new Set(FM);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mc.apply(this,arguments)}const Oh=h.createContext(null),y1=h.createContext(null),ds=h.createContext(null),Ih=h.createContext(null),hs=h.createContext({outlet:null,matches:[],isDataRoute:!1}),x1=h.createContext(null);function UM(e,t){let{relative:n}=t===void 0?{}:t;Zi()||gt(!1);let{basename:r,navigator:s}=h.useContext(ds),{hash:o,pathname:i,search:l}=Dh(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:ea([r,i])),s.createHref({pathname:c,search:l,hash:o})}function Zi(){return h.useContext(Ih)!=null}function po(){return Zi()||gt(!1),h.useContext(Ih).location}function w1(e){h.useContext(ds).static||h.useLayoutEffect(e)}function mo(){let{isDataRoute:e}=h.useContext(hs);return e?e4():zM()}function zM(){Zi()||gt(!1);let e=h.useContext(Oh),{basename:t,future:n,navigator:r}=h.useContext(ds),{matches:s}=h.useContext(hs),{pathname:o}=po(),i=JSON.stringify(Mv(s,n.v7_relativeSplatPath)),l=h.useRef(!1);return w1(()=>{l.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=Lv(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ea([t,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[t,r,i,o,e])}function BM(){let{matches:e}=h.useContext(hs),t=e[e.length-1];return t?t.params:{}}function Dh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(ds),{matches:s}=h.useContext(hs),{pathname:o}=po(),i=JSON.stringify(Mv(s,r.v7_relativeSplatPath));return h.useMemo(()=>Lv(e,JSON.parse(i),o,n==="path"),[e,i,o,n])}function VM(e,t){return WM(e,t)}function WM(e,t,n,r){Zi()||gt(!1);let{navigator:s}=h.useContext(ds),{matches:o}=h.useContext(hs),i=o[o.length-1],l=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=po(),d;if(t){var f;let x=typeof t=="string"?Xi(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||gt(!1),d=x}else d=u;let g=d.pathname||"/",m=g;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+g.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=yM(e,{pathname:m}),p=YM(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:ea([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:ea([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&p?h.createElement(Ih.Provider,{value:{location:mc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ws.Pop}},p):p}function HM(){let e=ZM(),t=$M(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const KM=h.createElement(HM,null);class qM extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(hs.Provider,{value:this.props.routeContext},h.createElement(x1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GM(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(Oh);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(hs.Provider,{value:t},r)}function YM(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=i.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||gt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:m}=n,b=f.route.loader&&g[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let m,b=!1,p=null,x=null;n&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||KM,c&&(u<0&&g===0?(b=!0,x=null):u===g&&(b=!0,x=f.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,g+1)),y=()=>{let w;return m?w=p:b?w=x:f.route.Component?w=h.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,h.createElement(GM,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?h.createElement(qM,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var b1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(b1||{}),Ld=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ld||{});function QM(e){let t=h.useContext(Oh);return t||gt(!1),t}function JM(e){let t=h.useContext(y1);return t||gt(!1),t}function XM(e){let t=h.useContext(hs);return t||gt(!1),t}function N1(e){let t=XM(),n=t.matches[t.matches.length-1];return n.route.id||gt(!1),n.route.id}function ZM(){var e;let t=h.useContext(x1),n=JM(Ld.UseRouteError),r=N1(Ld.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function e4(){let{router:e}=QM(b1.UseNavigateStable),t=N1(Ld.UseNavigateStable),n=h.useRef(!1);return w1(()=>{n.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,mc({fromRouteId:t},o)))},[e,t])}function t4(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function S1(e){let{to:t,replace:n,state:r,relative:s}=e;Zi()||gt(!1);let{future:o,static:i}=h.useContext(ds),{matches:l}=h.useContext(hs),{pathname:c}=po(),u=mo(),d=Lv(t,Mv(l,o.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return h.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:s}),[u,f,s,n,r]),null}function Vn(e){gt(!1)}function n4(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ws.Pop,navigator:o,static:i=!1,future:l}=e;Zi()&&gt(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:mc({v7_relativeSplatPath:!1},l)}),[c,l,o,i]);typeof r=="string"&&(r=Xi(r));let{pathname:d="/",search:f="",hash:g="",state:m=null,key:b="default"}=r,p=h.useMemo(()=>{let x=Mi(d,c);return x==null?null:{location:{pathname:x,search:f,hash:g,state:m,key:b},navigationType:s}},[c,d,f,g,m,b,s]);return p==null?null:h.createElement(ds.Provider,{value:u},h.createElement(Ih.Provider,{children:n,value:p}))}function r4(e){let{children:t,location:n}=e;return VM(Dm(t),n)}new Promise(()=>{});function Dm(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let o=[...t,s];if(r.type===h.Fragment){n.push.apply(n,Dm(r.props.children,o));return}r.type!==Vn&&gt(!1),!r.props.index||!r.props.children||gt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Dm(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$d.apply(this,arguments)}function j1(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,o;for(o=0;o<r.length;o++)s=r[o],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function s4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function a4(e,t){return e.button===0&&(!t||t==="_self")&&!s4(e)}const o4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],i4=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],l4="6";try{window.__reactRouterVersion=l4}catch{}const c4=h.createContext({isTransitioning:!1}),u4="startTransition",Gw=gg[u4];function d4(e){let{basename:t,children:n,future:r,window:s}=e,o=h.useRef();o.current==null&&(o.current=mM({window:s,v5Compat:!0}));let i=o.current,[l,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=h.useCallback(f=>{u&&Gw?Gw(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.useEffect(()=>t4(r),[r]),h.createElement(n4,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:i,future:r})}const h4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gc=h.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,g=j1(t,o4),{basename:m}=h.useContext(ds),b,p=!1;if(typeof u=="string"&&f4.test(u)&&(b=u,h4))try{let w=new URL(window.location.href),N=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Mi(N.pathname,m);N.origin===w.origin&&S!=null?u=S+N.search+N.hash:p=!0}catch{}let x=UM(u,{relative:s}),v=g4(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(w){r&&r(w),w.defaultPrevented||v(w)}return h.createElement("a",$d({},g,{href:b||x,onClick:p||o?r:y,ref:n,target:c}))}),p4=h.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:o="",end:i=!1,style:l,to:c,viewTransition:u,children:d}=t,f=j1(t,i4),g=Dh(c,{relative:f.relative}),m=po(),b=h.useContext(y1),{navigator:p,basename:x}=h.useContext(ds),v=b!=null&&v4(g)&&u===!0,y=p.encodeLocation?p.encodeLocation(g).pathname:g.pathname,w=m.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(w=w.toLowerCase(),N=N?N.toLowerCase():null,y=y.toLowerCase()),N&&x&&(N=Mi(N,x)||N);const S=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let j=w===y||!i&&w.startsWith(y)&&w.charAt(S)==="/",_=N!=null&&(N===y||!i&&N.startsWith(y)&&N.charAt(y.length)==="/"),E={isActive:j,isPending:_,isTransitioning:v},C=j?r:void 0,P;typeof o=="function"?P=o(E):P=[o,j?"active":null,_?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(E):l;return h.createElement(gc,$d({},f,{"aria-current":C,className:P,ref:n,style:R,to:c,viewTransition:u}),typeof d=="function"?d(E):d)});var Mm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Mm||(Mm={}));var Yw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Yw||(Yw={}));function m4(e){let t=h.useContext(Oh);return t||gt(!1),t}function g4(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l}=t===void 0?{}:t,c=mo(),u=po(),d=Dh(e,{relative:i});return h.useCallback(f=>{if(a4(f,n)){f.preventDefault();let g=r!==void 0?r:Dd(u)===Dd(d);c(e,{replace:g,state:s,preventScrollReset:o,relative:i,viewTransition:l})}},[u,c,d,r,s,n,e,o,i,l])}function v4(e,t){t===void 0&&(t={});let n=h.useContext(c4);n==null&&gt(!1);let{basename:r}=m4(Mm.useViewTransitionState),s=Dh(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Mi(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Mi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Md(s.pathname,i)!=null||Md(s.pathname,o)!=null}var Rr=function(){return Rr=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Rr.apply(this,arguments)};function el(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function y4(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function l(d){try{u(r.next(d))}catch(f){i(f)}}function c(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(l,c)}u((r=r.apply(e,t||[])).next())})}function x4(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const w4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class $v extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class b4 extends $v{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Qw extends $v{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Jw extends $v{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Lm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Lm||(Lm={}));class N4{constructor(t,{headers:n={},customFetch:r,region:s=Lm.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=w4(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return y4(this,arguments,void 0,function*(n,r={}){var s;let o,i;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=r;let g={},{region:m}=r;m||(m=this.region);const b=new URL(`${this.url}/${n}`);m&&m!=="any"&&(g["x-region"]=m,b.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(g["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(g["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let x=d;f&&(i=new AbortController,o=setTimeout(()=>i.abort(),f),d?(x=i.signal,d.addEventListener("abort",()=>i.abort())):x=i.signal);const v=yield this.fetch(b.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:p,signal:x}).catch(S=>{throw new b4(S)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new Qw(v);if(!v.ok)throw new Jw(v);let w=((s=v.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return w==="application/json"?N=yield v.json():w==="application/octet-stream"||w==="application/pdf"?N=yield v.blob():w==="text/event-stream"?N=v:w==="multipart/form-data"?N=yield v.formData():N=yield v.text(),{data:N,error:null,response:v}}catch(l){return{data:null,error:l,response:l instanceof Jw||l instanceof Qw?l.context:void 0}}finally{o&&clearTimeout(o)}})}}var S4=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},j4=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,l=null,c=null,u=o.status,d=o.statusText;if(o.ok){var f,g;if(n.method!=="HEAD"){var m;const v=await o.text();v===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=v:l=JSON.parse(v))}const p=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(g=o.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(i={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const p=await o.text();try{i=JSON.parse(p),Array.isArray(i)&&o.status===404&&(l=[],i=null,u=200,d="OK")}catch{o.status===404&&p===""?(u=204,d="No Content"):i={message:p}}if(i&&n.isMaybeSingle&&(!(i==null||(b=i.details)===null||b===void 0)&&b.includes("0 rows"))&&(i=null,u=200,d="OK"),i&&n.shouldThrowOnError)throw new S4(i)}return{error:i,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let l="";const c=o==null?void 0:o.cause;if(c){var u,d,f,g;const b=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=o==null?void 0:o.name)!==null&&f!==void 0?f:"FetchError"}: ${o==null?void 0:o.message}`,l+=`

Caused by: ${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"Error"}: ${b}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=o==null?void 0:o.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},_4=class extends j4{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var i;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Xw=new RegExp("[,()]");var Mo=class extends _4{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Xw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Xw.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},C4=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",i),r&&this.headers.append("Prefer",`count=${r}`),new Mo({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((i,l)=>i.concat(Object.keys(l)),[]);if(o.length>0){const i=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",i.join(","))}}return new Mo({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const i="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),r&&this.headers.append("Prefer",`count=${r}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Mo({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Mo({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Mo({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},E4=class _1{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new C4(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _1(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,g])=>g!==void 0).map(([f,g])=>[f,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([f,g])=>{c.searchParams.append(f,g)})):(l="POST",u=n);const d=new Headers(this.headers);return o&&d.set("Prefer",`count=${o}`),new Mo({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class k4{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const T4="2.89.0",P4=`realtime-js/${T4}`,C1="1.0.0",A4="2.0.0",Zw=C1,$m=1e4,R4=1e3,O4=100;var Es;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Es||(Es={}));var At;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(At||(At={}));var mr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(mr||(mr={}));var Fm;(function(e){e.websocket="websocket"})(Fm||(Fm={}));var Ta;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ta||(Ta={}));class I4{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,n,r){var s,o;const i=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+i.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(m),p=0;b.setUint8(p++,this.KINDS.userBroadcastPush),b.setUint8(p++,c.length),b.setUint8(p++,l.length),b.setUint8(p++,i.length),b.setUint8(p++,u.length),b.setUint8(p++,f.length),b.setUint8(p++,n),Array.from(c,v=>b.setUint8(p++,v.charCodeAt(0))),Array.from(l,v=>b.setUint8(p++,v.charCodeAt(0))),Array.from(i,v=>b.setUint8(p++,v.charCodeAt(0))),Array.from(u,v=>b.setUint8(p++,v.charCodeAt(0))),Array.from(f,v=>b.setUint8(p++,v.charCodeAt(0)));var x=new Uint8Array(m.byteLength+r.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(r),m.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,o,i,l,c]=r;return n({join_ref:s,ref:o,topic:i,event:l,payload:c})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=r.decode(t.slice(c,c+s));c=c+s;const d=r.decode(t.slice(c,c+o));c=c+o;const f=r.decode(t.slice(c,c+i));c=c+i;const g=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,b={type:this.BROADCAST_EVENT,event:d,payload:m};return i>0&&(b.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class E1{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(et||(et={}));const e0=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=D4(i,e,t,s),o),{}):{}},D4=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?k1(o,i):Um(i)},k1=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return F4(t,n)}switch(e){case et.bool:return M4(t);case et.float4:case et.float8:case et.int2:case et.int4:case et.int8:case et.numeric:case et.oid:return L4(t);case et.json:case et.jsonb:return $4(t);case et.timestamp:return U4(t);case et.abstime:case et.date:case et.daterange:case et.int4range:case et.int8range:case et.money:case et.reltime:case et.text:case et.time:case et.timestamptz:case et.timetz:case et.tsrange:case et.tstzrange:return Um(t);default:return Um(t)}},Um=e=>e,M4=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},L4=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$4=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},F4=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(l=>k1(t,l))}return e},U4=e=>typeof e=="string"?e.replace(" ","T"):e,T1=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Kf{constructor(t,n,r={},s=$m){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var t0;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(t0||(t0={}));class Wl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wl.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Wl.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wl.syncDiff(this.state,s,o,i),l())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),l={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const g=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),b=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>g.indexOf(x.presence_ref)<0);b.length>0&&(l[u]=b),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),g=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...g)}r(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var n0;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(n0||(n0={}));var Hl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hl||(Hl={}));var Hr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Hr||(Hr={}));class Xo{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Kf(this,mr.join,this.params,this.timeout),this.rejoinTimer=new E1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mr.reply,{},(i,l)=>{this._trigger(this._replyEventName(l),i)}),this.presence=new Wl(this),this.broadcastEndpointURL=T1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Hl.PRESENCE]&&this.bindings[Hl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},g={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Hr.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Hr.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(Hr.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(b=p==null?void 0:p.length)!==null&&b!==void 0?b:0,v=[];for(let y=0;y<x;y++){const w=p[y],{filter:{event:N,schema:S,table:j,filter:_}}=w,E=m&&m[y];if(E&&E.event===N&&Xo.isFilterValueEqual(E.schema,S)&&Xo.isFilterValueEqual(E.table,j)&&Xo.isFilterValueEqual(E.filter,_))v.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=At.errored,t==null||t(Hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Hr.SUBSCRIBED);return}}).receive("error",m=>{this.state=At.errored,t==null||t(Hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===At.joined&&t===Hl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,l,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=At.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Kf(this,mr.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kf(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>O4){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=mr;if(r&&[l,c,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let g=this._onMessage(i,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var b,p,x;return((b=m.filter)===null||b===void 0?void 0:b.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(m=>m.callback(g,r)):(o=this.bindings[i])===null||o===void 0||o.filter(m=>{var b,p,x,v,y,w;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const N=m.id,S=(b=m.filter)===null||b===void 0?void 0:b.event;return N&&((p=n.ids)===null||p===void 0?void 0:p.includes(N))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const N=(y=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return N==="*"||N===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:p,table:x,commit_timestamp:v,type:y,errors:w}=b;g=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:v,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(b))}m.callback(g,r)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Xo.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mr.close,{},t)}_onError(t){this._on(mr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=e0(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=e0(t.columns,t.old_record)),n}}const qf=()=>{},ku={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},z4=[1e3,2e3,5e3,1e4],B4=1e4,V4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class W4{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$m,this.transport=null,this.heartbeatIntervalMs=ku.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qf,this.ref=0,this.reconnectTimer=null,this.vsn=Zw,this.logger=qf,this.conn=null,this.sendBuffer=[],this.serializer=new I4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Fm.websocket}`,this.httpEndpoint=T1(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=k4.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Es.connecting:return Ta.Connecting;case Es.open:return Ta.Open;case Es.closing:return Ta.Closing;default:return Ta.Closed}}isConnected(){return this.connectionState()===Ta.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Xo(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(R4,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ku.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:i}=n,l=i?`(${i})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Es.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Es.open||this.conn.readyState===Es.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(mr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([V4],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:P4};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(mr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new E1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ku.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,i,l,c,u,d,f,g,m;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:$m,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ku.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:qf,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Zw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>z4[b-1]||B4,this.vsn){case C1:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,p)=>p(JSON.stringify(b)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(b,p)=>p(JSON.parse(b));break;case A4:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var vc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function H4(e,t,n){const r=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function K4(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function q4(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:o,headers:i}){const l=H4(e.baseUrl,r,s),c=await K4(e.auth),u=await t(l,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...c,...i},body:o?JSON.stringify(o):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),g=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?g:void 0,b=m==null?void 0:m.error;throw new vc((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:m})}return{status:u.status,headers:u.headers,data:g}}}}function Tu(e){return e.join("")}var G4=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Tu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tu(e.namespace)}`}),!0}catch(t){if(t instanceof vc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof vc&&n.status===409)return;throw n}}};function _o(e){return e.join("")}var Y4=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_o(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof vc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof vc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Q4=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=q4({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new G4(this.client,t),this.tableOps=new Y4(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Mh=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var J4=class extends Mh{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zm=class extends Mh{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Fv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),X4=()=>Response,Bm=e=>{if(Array.isArray(e))return e.map(n=>Bm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Bm(r)}),t},Z4=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},e5=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function t5(e,t){if(yc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n5(e){var t=t5(e,"string");return yc(t)=="symbol"?t:t+""}function r5(e,t,n){return(t=n5(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r0(Object(n),!0).forEach(function(r){r5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Gf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},s5=async(e,t,n)=>{e instanceof await X4()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,o=(r==null?void 0:r.statusCode)||s+"";t(new J4(Gf(r),s,o))}).catch(r=>{t(new zm(Gf(r),r))}):t(new zm(Gf(e),e))},a5=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(Z4(r)?(s.headers=Pe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Pe(Pe({},s),n))};async function Uc(e,t,n,r,s,o){return new Promise((i,l)=>{e(n,a5(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>s5(c,l,r))})}async function xc(e,t,n,r){return Uc(e,"GET",t,n,r)}async function dr(e,t,n,r,s){return Uc(e,"POST",t,r,s,n)}async function Vm(e,t,n,r,s){return Uc(e,"PUT",t,r,s,n)}async function o5(e,t,n,r){return Uc(e,"HEAD",t,Pe(Pe({},n),{},{noResolveJson:!0}),r)}async function Uv(e,t,n,r,s){return Uc(e,"DELETE",t,r,s,n)}var i5=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}}};let P1;P1=Symbol.toStringTag;var l5=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[P1]="BlobDownloadBuilder",this.promise=null}asStream(){return new i5(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ft(t))return{data:null,error:t};throw t}}};const c5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},s0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var u5=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Fv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let o;const i=Pe(Pe({},s0),r);let l=Pe(Pe({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",s.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),c&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(c))):(o=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),r!=null&&r.headers&&(l=Pe(Pe({},l),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Vm:dr)(s.fetch,`${s.url}/object/${d}`,o,Pe({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(ft(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),l=new URL(s.url+`/object/upload/sign/${i}`);l.searchParams.set("token",t);try{let c;const u=Pe({upsert:s0.upsert},r),d=Pe(Pe({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:o,fullPath:(await Vm(s.fetch,l.toString(),c,{headers:d})).Key},error:null}}catch(c){if(s.shouldThrowOnError)throw c;if(ft(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=Pe({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await dr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(n.url+o.url),l=i.searchParams.get("token");if(!l)throw new Mh("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:l},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await dr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await dr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),o=await dr(r.fetch,`${r.url}/object/sign/${s}`,Pe({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await dr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Pe(Pe({},i),{},{signedUrl:i.signedURL?encodeURI(`${r.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",o=this._getFinalPath(e),i=()=>xc(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new l5(i,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:Bm(await xc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await o5(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ft(r)&&r instanceof zm){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&r.push(i);let l=r.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${l}`)}}}async remove(e){var t=this;try{return{data:await Uv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=Pe(Pe(Pe({},c5),t),{},{prefix:e||""});return{data:await dr(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(ft(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=Pe({},e);return{data:await dr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const A1="2.89.0",R1={"X-Client-Info":`storage-js/${A1}`};var d5=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Pe(Pe({},R1),t),this.fetch=Fv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await xc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await xc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await dr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Vm(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ft(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await dr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Uv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},h5=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Pe(Pe({},R1),t),this.fetch=Fv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await dr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await xc(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Uv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ft(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!e5(e))throw new Mh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Q4({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...l)=>{try{return{data:await i.apply(s,l),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}};const zv={"X-Client-Info":`storage-js/${A1}`,"Content-Type":"application/json"};var O1=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Tn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Yf=class extends O1{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},f5=class extends O1{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Bv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),p5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},a0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),m5=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new Yf(a0(o),r,i))}).catch(()=>{const o=r+"";t(new Yf(s.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new Yf(s.statusText||`HTTP ${r} error`,r,o))}}else t(new f5(a0(e),e))},g5=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(p5(r)?(s.headers=Pe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,Pe(Pe({},s),n)):s};async function v5(e,t,n,r,s,o){return new Promise((i,l)=>{e(n,g5(t,r,s,o)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>i(c)).catch(c=>m5(c,l,r))})}async function Pn(e,t,n,r,s){return v5(e,"POST",t,r,s,n)}var y5=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Pe(Pe({},zv),t),this.fetch=Bv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Pn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Pn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Tn(r))return{data:null,error:r};throw r}}},x5=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Pe(Pe({},zv),t),this.fetch=Bv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Pn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Pn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Pn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}},w5=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Pe(Pe({},zv),t),this.fetch=Bv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Pn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Tn(n))return{data:null,error:n};throw n}}},b5=class extends w5{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new N5(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},N5=class extends y5{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new S5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},S5=class extends x5{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Pe(Pe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},j5=class extends d5{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new u5(this.url,this.headers,e,this.fetch)}get vectors(){return new b5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new h5(this.url+"/iceberg",this.headers,this.fetch)}};const I1="2.89.0",Lo=30*1e3,Wm=3,Qf=Wm*Lo,_5="http://localhost:9999",C5="supabase.auth.token",E5={"X-Client-Info":`gotrue-js/${I1}`},Hm="X-Supabase-Api-Version",D1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},k5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,T5=10*60*1e3;class wc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class P5 extends wc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function A5(e){return be(e)&&e.name==="AuthApiError"}class Pa extends wc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class fs extends wc{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Cn extends fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R5(e){return be(e)&&e.name==="AuthSessionMissingError"}class Co extends fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pu extends fs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Au extends fs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O5(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class o0 extends fs{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class I5 extends fs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Km extends fs{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Jf(e){return be(e)&&e.name==="AuthRetryableFetchError"}class i0 extends fs{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class qm extends fs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),l0=` 	
\r=`.split(""),D5=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<l0.length;t+=1)e[l0[t].charCodeAt(0)]=-2;for(let t=0;t<Fd.length;t+=1)e[Fd[t].charCodeAt(0)]=t;return e})();function c0(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fd[r]),t.queuedBits-=6}}function M1(e,t,n){const r=D5[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function u0(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{$5(i,r,n)};for(let i=0;i<e.length;i+=1)M1(e.charCodeAt(i),s,o);return t.join("")}function M5(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function L5(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}M5(r,t)}}function $5(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function li(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)M1(e.charCodeAt(s),n,r);return new Uint8Array(t)}function F5(e){const t=[];return L5(e,n=>t.push(n)),new Uint8Array(t)}function Ia(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>c0(s,n,r)),c0(null,n,r),t.join("")}function U5(e){return Math.round(Date.now()/1e3)+e}function z5(){return Symbol("auth-callback")}const Bt=()=>typeof window<"u"&&typeof document<"u",Na={tested:!1,writable:!1},L1=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Na.tested)return Na.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Na.tested=!0,Na.writable=!0}catch{Na.tested=!0,Na.writable=!1}return Na.writable};function B5(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const $1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),V5=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$o=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Sa=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},zt=async(e,t)=>{await e.removeItem(t)};class Lh{constructor(){this.promise=new Lh.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Lh.promiseConstructor=Promise;function Xf(e){const t=e.split(".");if(t.length!==3)throw new qm("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!k5.test(t[r]))throw new qm("JWT not in base64url format");return{header:JSON.parse(u0(t[0])),payload:JSON.parse(u0(t[1])),signature:li(t[2]),raw:{header:t[0],payload:t[1]}}}async function W5(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function H5(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function K5(e){return("0"+e.toString(16)).substr(-2)}function q5(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,K5).join("")}async function G5(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function Y5(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await G5(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Eo(e,t,n=!1){const r=q5();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await $o(e,`${t}-code-verifier`,s);const o=await Y5(r);return[o,r===o?"plain":"s256"]}const Q5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function J5(e){const t=e.headers.get(Hm);if(!t||!t.match(Q5))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function X5(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Z5(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const e3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ko(e){if(!e3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function t3(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function d0(e){return JSON.parse(JSON.stringify(e))}const Ea=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n3=[502,503,504];async function h0(e){var t;if(!V5(e))throw new Km(Ea(e),0);if(n3.includes(e.status))throw new Km(Ea(e),e.status);let n;try{n=await e.json()}catch(o){throw new Pa(Ea(o),o)}let r;const s=J5(e);if(s&&s.getTime()>=D1["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new i0(Ea(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Cn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new i0(Ea(n),e.status,n.weak_password.reasons);throw new P5(Ea(n),e.status||500,r)}const r3=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Te(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Hm]||(o[Hm]=D1["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await s3(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function s3(e,t,n,r,s,o){const i=r3(t,r,s,o);let l;try{l=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new Km(Ea(c),0)}if(l.ok||await h0(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await h0(c)}}function lr(e){var t;let n=null;i3(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=U5(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function f0(e){const t=lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function As(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function a3(e){return{data:e,error:null}}function o3(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=el(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function p0(e){return e}function i3(e){return e.access_token&&e.refresh_token&&e.expires_in}const ep=["global","local","others"];class l3{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=$1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ep[0]){if(ep.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ep.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:As})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=el(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:o3,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(be(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:As})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:p0});if(d.error)throw d.error;const f=await d.json(),g=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ko(t);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:As})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ko(t);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:As})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ko(t);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:As})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ko(t.userId);try{const{data:n,error:r}=await Te(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ko(t.userId),ko(t.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:p0});if(d.error)throw d.error;const f=await d.json(),g=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(b=>{const p=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(b.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(be(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(be(n))return{data:null,error:n};throw n}}}function m0(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const To={debug:!!(globalThis&&L1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class F1 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class c3 extends F1{}async function u3(e,t,n){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),To.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){To.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{To.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw To.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new c3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(To.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function d3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function U1(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function h3(e){return parseInt(e,16)}function f3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function p3(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=U1(e.address),b=d?`${d}://${r}`:r,p=e.statement?`${e.statement}
`:"",x=`${b} wants you to sign in with your Ethereum account:
${m}

${p}`;let v=`URI: ${f}
Version: ${g}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(v+=`
Expiration Time: ${s.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),c&&(v+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}v+=y}return`${x}
${v}`}class Tt extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Ud extends Tt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function m3({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(z1(i)){if(o.rp.id!==i)return new Tt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new Tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function g3({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(z1(r)){if(n.rpId!==r)return new Tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class v3{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const y3=new v3;function x3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=el(e,["challenge","user","excludeCredentials"]),o=li(t).buffer,i=Object.assign(Object.assign({},n),{id:li(n.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:o,user:i});if(r&&r.length>0){l.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:li(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function w3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=el(e,["challenge","allowCredentials"]),s=li(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const l=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},l),{id:li(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return o}function b3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ia(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ia(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function N3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ia(new Uint8Array(s.authenticatorData)),clientDataJSON:Ia(new Uint8Array(s.clientDataJSON)),signature:Ia(new Uint8Array(s.signature)),userHandle:s.userHandle?Ia(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function z1(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function g0(){var e,t;return!!(Bt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function S3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ud("Browser returned unexpected credential type",t)}:{data:null,error:new Ud("Empty credential response",t)}}catch(t){return{data:null,error:m3({error:t,options:e})}}}async function j3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ud("Browser returned unexpected credential type",t)}:{data:null,error:new Ud("Empty credential response",t)}}catch(t){return{data:null,error:g3({error:t,options:e})}}}const _3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},C3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zd(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))r[o]=i;else if(n(i))r[o]=i;else if(t(i)){const l=r[o];t(l)?r[o]=zd(l,i):r[o]=zd(i)}else r[o]=i}return r}function E3(e,t){return zd(_3,e,t||{})}function k3(e,t){return zd(C3,e,t||{})}class T3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){try{const{data:i,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!i)return{data:null,error:l};const c=s??y3.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=E3(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:f}=await S3({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=k3(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:f}=await j3(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return be(i)?{data:null,error:i}:{data:null,error:new Pa("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new wc("rpId is required for WebAuthn authentication")};try{if(!g0())return{data:null,error:new Pa("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!i)return{data:null,error:l};const{webauthn:c}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(i){return be(i)?{data:null,error:i}:{data:null,error:new Pa("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new wc("rpId is required for WebAuthn registration")};try{if(!g0())return{data:null,error:new Pa("Browser does not support WebAuthn",null)};const{data:i,error:l}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return c?this._verify({factorId:i.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(i){return be(i)?{data:null,error:i}:{data:null,error:new Pa("Unexpected error in register",i)}}}}d3();const P3={url:_5,storageKey:C5,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:E5,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function v0(e,t,n){return await n()}const Po={};class bc{get jwks(){var t,n;return(n=(t=Po[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Po[this.storageKey]=Object.assign(Object.assign({},Po[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Po[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Po[this.storageKey]=Object.assign(Object.assign({},Po[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},P3),t);if(this.storageKey=o.storageKey,this.instanceID=(n=bc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,bc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&Bt()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new l3({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=$1(o.fetch),this.lock=o.lock||v0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&Bt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=u3:this.lock=v0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new T3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:L1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=m0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=m0(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${I1}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Bt()&&(n=B5(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Bt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),O5(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return be(n)?this._returnResult({error:n}):this._returnResult({error:new Pa("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:lr}),{data:i,error:l}=o;if(l||!i)return this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:f,options:g}=t;let m=null,b=null;this.flowType==="pkce"&&([m,b]=await Eo(this.storage,this.storageKey)),o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:b},xform:lr})}else if("phone"in t){const{phone:d,password:f,options:g}=t;o=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:lr})}else throw new Pu("You must provide either an email or phone number and a password");const{data:i,error:l}=o;if(l||!i)return await zt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(o){if(await zt(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:l}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:f0})}else if("phone"in t){const{phone:o,password:i,options:l}=t;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:f0})}else throw new Pu("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new Co;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,i,l,c,u,d,f,g;let m,b;if("message"in t)m=t.message,b=t.signature;else{const{chain:p,wallet:x,statement:v,options:y}=t;let w;if(Bt())if(typeof x=="object")w=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const N=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=U1(S[0]);let _=(r=y==null?void 0:y.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!_){const C=await w.request({method:"eth_chainId"});_=h3(C)}const E={domain:N.host,address:j,statement:v,uri:N.href,version:"1",chainId:_,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=y==null?void 0:y.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=p3(E),b=await w.request({method:"personal_sign",params:[f3(m),j]})}try{const{data:p,error:x}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:b},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:lr});if(x)throw x;if(!p||!p.session||!p.user){const v=new Co;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(be(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var n,r,s,o,i,l,c,u,d,f,g,m;let b,p;if("message"in t)b=t.message,p=t.signature;else{const{chain:x,wallet:v,statement:y,options:w}=t;let N;if(Bt())if(typeof v=="object")N=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))N=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=v}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const j=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),y?{statement:y}:null));let _;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")_=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)_=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)b=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),p=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${S.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const j=await N.signMessage(new TextEncoder().encode(b),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:x,error:v}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Ia(p)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:lr});if(v)throw v;if(!x||!x.session||!x.user){const y=new Co;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Sa(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new I5;const{data:o,error:i}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:lr});if(await zt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const l=new Co;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await zt(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,l=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:lr}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Co;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Eo(this.storage,this.storageKey));const{error:f}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Pu("You must provide either an email or phone number.")}catch(l){if(await zt(this.storage,`${this.storageKey}-code-verifier`),be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:l}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:lr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,o,i;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Eo(this.storage,this.storageKey));const u=await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:a3});return!((o=u.data)===null||o===void 0)&&o.url&&Bt()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await zt(this.storage,`${this.storageKey}-code-verifier`),be(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Cn;const{error:s}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:l}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l})}throw new Pu("You must provide either an email or phone number and a type")}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Qf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await Sa(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Zf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=t3(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:As}):await this._useSession(async n=>{var r,s,o;const{data:i,error:l}=n;if(l)throw l;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cn}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:As})})}catch(n){if(be(n))return R5(n)&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Cn;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Eo(this.storage,this.storageKey));const{data:u,error:d}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:As});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(r){if(await zt(this.storage,`${this.storageKey}-code-verifier`),be(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cn;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=Xf(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:l}=n;if(l)throw l;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Cn;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(be(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Bt())throw new Au("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Au(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new o0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Au("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new o0("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!o||!l||!i||!u)throw new Au("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let g=d+f;c&&(g=parseInt(c));const m=g-d;m*1e3<=Lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const b=g-f;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,d);const{data:p,error:x}=await this._getUser(o);if(x)throw x;const v={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:g,refresh_token:i,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:t.type},error:null})}catch(r){if(be(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Sa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(A5(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await zt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=z5(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Eo(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await zt(this.storage,`${this.storageKey}-code-verifier`),be(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,l,c,u,d;const{data:f,error:g}=o;if(g)throw g;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Bt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(be(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:i,provider:l,token:c,access_token:u,nonce:d}=t,f=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:lr}),{data:g,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Co}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:m}))}catch(s){if(await zt(this.storage,`${this.storageKey}-code-verifier`),be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await H5(async s=>(s>0&&await W5(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:lr})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Jf(o)&&Date.now()+i-r<Lo})}catch(r){if(this._debug(n,"error",r),be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Bt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Sa(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await $o(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Zf()}else if(s&&!s.user&&!s.user){const i=await Sa(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await zt(this.storage,this.storageKey+"-user"),await $o(this.storage,this.storageKey,s)):s.user=Zf()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Qf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Qf}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Jf(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Cn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Lh;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new Cn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={data:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),be(o)){const i={data:null,error:o};return Jf(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await zt(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await $o(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=d0(s);await $o(this.storage,this.storageKey,o)}else{const s=d0(n);await $o(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await zt(this.storage,this.storageKey),await zt(this.storage,this.storageKey+"-code-verifier"),await zt(this.storage,this.storageKey+"-user"),this.userStorage&&await zt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Lo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Lo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Lo}ms, refresh threshold is ${Wm} ticks`),s<=Wm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof F1)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await Eo(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await Te(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?b3(t.webauthn.credential_response):N3(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=await Te(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(i.error)return i;const{data:l}=i;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:x3(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:w3(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xf(r.access_token);let i=null;o.aal&&(i=o.aal);let l=i;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Cn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Cn});const i=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Bt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new Cn});const i=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return i.data&&i.data.redirect_url&&Bt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Te(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Cn})})}catch(t){if(be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await Te(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Cn})})}catch(n){if(be(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+T5>s)return r;const{data:o,error:i}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:b}=await this.getSession();if(b||!m.session)return this._returnResult({data:null,error:b});r=m.session.access_token}const{header:s,payload:o,signature:i,raw:{header:l,payload:c}}=Xf(r);n!=null&&n.allowExpired||X5(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:o,header:s,signature:i},error:null}}const d=Z5(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,F5(`${l}.${c}`)))throw new qm("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(be(r))return this._returnResult({data:null,error:r});throw r}}}bc.nextInstanceID={};const A3=bc,R3="2.89.0";let kl="";typeof Deno<"u"?kl="deno":typeof document<"u"?kl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kl="react-native":kl="node";const O3={"X-Client-Info":`supabase-js-${kl}/${R3}`},I3={headers:O3},D3={schema:"public"},M3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},L3={};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function $3(e,t){if(Nc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F3(e){var t=$3(e,"string");return Nc(t)=="symbol"?t:t+""}function U3(e,t,n){return(t=F3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y0(Object(n),!0).forEach(function(r){U3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const z3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B3=()=>Headers,V3=(e,t,n)=>{const r=z3(n),s=B3();return async(o,i)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,bt(bt({},i),{},{headers:u}))}};function W3(e){return e.endsWith("/")?e:e+"/"}function H3(e,t){var n,r;const{db:s,auth:o,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,g={db:bt(bt({},c),s),auth:bt(bt({},u),o),realtime:bt(bt({},d),i),storage:{},global:bt(bt(bt({},f),l),{},{headers:bt(bt({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function K3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(W3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var q3=class extends A3{constructor(e){super(e)}},G3=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const o=K3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,l={db:D3,realtime:L3,auth:bt(bt({},M3),{},{storageKey:i}),global:I3},c=H3(n??{},l);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=V3(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(bt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new E4(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new j5(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new N4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:i,lock:l,debug:c,throwOnError:u},d,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new q3({url:this.authUrl.href,headers:bt(bt({},g),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:i,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new W4(this.realtimeUrl.href,bt(bt({},e),{},{params:bt(bt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Y3=(e,t,n)=>new G3(e,t,n);function Q3(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Q3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const J3="https://txoltggjkukflwuigqst.supabase.co",X3="sb_publishable_JEx5V53j31YBi2Lt7Vpiaw_LPAp50aR",Ie=Y3(J3,X3,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),B1=h.createContext(void 0);function Z3({children:e}){const[t,n]=h.useState(null),[r,s]=h.useState(null),[o,i]=h.useState(!0);h.useEffect(()=>{const{data:{subscription:d}}=Ie.auth.onAuthStateChange((f,g)=>{s(g),n((g==null?void 0:g.user)??null),i(!1)});return Ie.auth.getSession().then(({data:{session:f}})=>{s(f),n((f==null?void 0:f.user)??null),i(!1)}),()=>d.unsubscribe()},[]);const l=async(d,f)=>{const{error:g}=await Ie.auth.signInWithPassword({email:d,password:f});return{error:g}},c=async(d,f)=>{const g=`${window.location.origin}/`,{error:m}=await Ie.auth.signUp({email:d,password:f,options:{emailRedirectTo:g}});return{error:m}},u=async()=>{await Ie.auth.signOut(),s(null),n(null)};return a.jsx(B1.Provider,{value:{user:t,session:r,loading:o,signIn:l,signUp:c,signOut:u},children:e})}function Nn(){const e=h.useContext(B1);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const tp=768;function eL(){const[e,t]=h.useState(void 0);return h.useEffect(()=>{const n=window.matchMedia(`(max-width: ${tp-1}px)`),r=()=>{t(window.innerWidth<tp)};return n.addEventListener("change",r),t(window.innerWidth<tp),()=>n.removeEventListener("change",r)},[]),!!e}const Vv=Ki("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=h.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?Vi:"button";return a.jsx(i,{className:J(Vv({variant:t,size:n,className:e})),ref:o,...s})});D.displayName="Button";const ie=h.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ie.displayName="Input";var tL="Separator",x0="horizontal",nL=["horizontal","vertical"],V1=h.forwardRef((e,t)=>{const{decorative:n,orientation:r=x0,...s}=e,o=rL(r)?r:x0,l=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(he.div,{"data-orientation":o,...l,...s,ref:t})});V1.displayName=tL;function rL(e){return nL.includes(e)}var W1=V1;const H1=h.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>a.jsx(W1,{ref:s,decorative:n,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));H1.displayName=W1.displayName;var np="focusScope.autoFocusOnMount",rp="focusScope.autoFocusOnUnmount",w0={bubbles:!1,cancelable:!0},sL="FocusScope",$h=h.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[l,c]=h.useState(null),u=lt(s),d=lt(o),f=h.useRef(null),g=Ae(t,p=>c(p)),m=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(r){let p=function(w){if(m.paused||!l)return;const N=w.target;l.contains(N)?f.current=N:js(f.current,{select:!0})},x=function(w){if(m.paused||!l)return;const N=w.relatedTarget;N!==null&&(l.contains(N)||js(f.current,{select:!0}))},v=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&js(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(v);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[r,l,m.paused]),h.useEffect(()=>{if(l){N0.add(m);const p=document.activeElement;if(!l.contains(p)){const v=new CustomEvent(np,w0);l.addEventListener(np,u),l.dispatchEvent(v),v.defaultPrevented||(aL(uL(K1(l)),{select:!0}),document.activeElement===p&&js(l))}return()=>{l.removeEventListener(np,u),setTimeout(()=>{const v=new CustomEvent(rp,w0);l.addEventListener(rp,d),l.dispatchEvent(v),v.defaultPrevented||js(p??document.body,{select:!0}),l.removeEventListener(rp,d),N0.remove(m)},0)}}},[l,u,d,m]);const b=h.useCallback(p=>{if(!n&&!r||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,v=document.activeElement;if(x&&v){const y=p.currentTarget,[w,N]=oL(y);w&&N?!p.shiftKey&&v===N?(p.preventDefault(),n&&js(w,{select:!0})):p.shiftKey&&v===w&&(p.preventDefault(),n&&js(N,{select:!0})):v===y&&p.preventDefault()}},[n,r,m.paused]);return a.jsx(he.div,{tabIndex:-1,...i,ref:g,onKeyDown:b})});$h.displayName=sL;function aL(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(js(r,{select:t}),document.activeElement!==n)return}function oL(e){const t=K1(e),n=b0(t,e),r=b0(t.reverse(),e);return[n,r]}function K1(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function b0(e,t){for(const n of e)if(!iL(n,{upTo:t}))return n}function iL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lL(e){return e instanceof HTMLInputElement&&"select"in e}function js(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&lL(e)&&t&&e.select()}}var N0=cL();function cL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=S0(e,t),e.unshift(t)},remove(t){var n;e=S0(e,t),(n=e[0])==null||n.resume()}}}function S0(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function uL(e){return e.filter(t=>t.tagName!=="A")}var sp=0;function Wv(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??j0()),document.body.insertAdjacentElement("beforeend",e[1]??j0()),sp++,()=>{sp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sp--}},[])}function j0(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ed="right-scroll-bar-position",td="width-before-scroll-bar",dL="with-scroll-bars-hidden",hL="--removed-body-scroll-bar-size";function ap(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fL(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var pL=typeof window<"u"?h.useLayoutEffect:h.useEffect,_0=new WeakMap;function mL(e,t){var n=fL(null,function(r){return e.forEach(function(s){return ap(s,r)})});return pL(function(){var r=_0.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(l){o.has(l)||ap(l,null)}),o.forEach(function(l){s.has(l)||ap(l,i)})}_0.set(n,e)},[e]),n}function gL(e){return e}function vL(e,t){t===void 0&&(t=gL);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(l){return l!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(l){return o(l)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var l=n;n=[],l.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function yL(e){e===void 0&&(e={});var t=vL(null);return t.options=Rr({async:!0,ssr:!1},e),t}var q1=function(e){var t=e.sideCar,n=el(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return h.createElement(r,Rr({},n))};q1.isSideCarExport=!0;function xL(e,t){return e.useMedium(t),q1}var G1=yL(),op=function(){},Fh=h.forwardRef(function(e,t){var n=h.useRef(null),r=h.useState({onScrollCapture:op,onWheelCapture:op,onTouchMoveCapture:op}),s=r[0],o=r[1],i=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,g=e.sideCar,m=e.noRelative,b=e.noIsolation,p=e.inert,x=e.allowPinchZoom,v=e.as,y=v===void 0?"div":v,w=e.gapMode,N=el(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,j=mL([n,t]),_=Rr(Rr({},N),s);return h.createElement(h.Fragment,null,d&&h.createElement(S,{sideCar:G1,removeScrollBar:u,shards:f,noRelative:m,noIsolation:b,inert:p,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:w}),i?h.cloneElement(h.Children.only(l),Rr(Rr({},_),{ref:j})):h.createElement(y,Rr({},_,{className:c,ref:j}),l))});Fh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fh.classNames={fullWidth:td,zeroRight:ed};var wL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bL(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=wL();return t&&e.setAttribute("nonce",t),e}function NL(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function SL(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jL=function(){var e=0,t=null;return{add:function(n){e==0&&(t=bL())&&(NL(t,n),SL(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},_L=function(){var e=jL();return function(t,n){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Y1=function(){var e=_L(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},CL={left:0,top:0,right:0,gap:0},ip=function(e){return parseInt(e||"",10)||0},EL=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ip(n),ip(r),ip(s)]},kL=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return CL;var t=EL(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},TL=Y1(),ci="data-scroll-locked",PL=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(dL,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ci,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ed,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(td,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(ed," .").concat(ed,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(td," .").concat(td,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ci,`] {
    `).concat(hL,": ").concat(l,`px;
  }
`)},C0=function(){var e=parseInt(document.body.getAttribute(ci)||"0",10);return isFinite(e)?e:0},AL=function(){h.useEffect(function(){return document.body.setAttribute(ci,(C0()+1).toString()),function(){var e=C0()-1;e<=0?document.body.removeAttribute(ci):document.body.setAttribute(ci,e.toString())}},[])},RL=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;AL();var o=h.useMemo(function(){return kL(s)},[s]);return h.createElement(TL,{styles:PL(o,!t,s,n?"":"!important")})},Gm=!1;if(typeof window<"u")try{var Ru=Object.defineProperty({},"passive",{get:function(){return Gm=!0,!0}});window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{Gm=!1}var Ao=Gm?{passive:!1}:!1,OL=function(e){return e.tagName==="TEXTAREA"},Q1=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!OL(e)&&n[t]==="visible")},IL=function(e){return Q1(e,"overflowY")},DL=function(e){return Q1(e,"overflowX")},E0=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=J1(e,r);if(s){var o=X1(e,r),i=o[1],l=o[2];if(i>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},ML=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},LL=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},J1=function(e,t){return e==="v"?IL(t):DL(t)},X1=function(e,t){return e==="v"?ML(t):LL(t)},$L=function(e,t){return e==="h"&&t==="rtl"?-1:1},FL=function(e,t,n,r,s){var o=$L(e,window.getComputedStyle(t).direction),i=o*r,l=n.target,c=t.contains(l),u=!1,d=i>0,f=0,g=0;do{if(!l)break;var m=X1(e,l),b=m[0],p=m[1],x=m[2],v=p-x-o*b;(b||v)&&J1(e,l)&&(f+=v,g+=b);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(g)<1||!s))&&(u=!0),u},Ou=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},k0=function(e){return[e.deltaX,e.deltaY]},T0=function(e){return e&&"current"in e?e.current:e},UL=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zL=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BL=0,Ro=[];function VL(e){var t=h.useRef([]),n=h.useRef([0,0]),r=h.useRef(),s=h.useState(BL++)[0],o=h.useState(Y1)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=x4([e.lockRef.current],(e.shards||[]).map(T0),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=h.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!i.current.allowPinchZoom;var v=Ou(p),y=n.current,w="deltaX"in p?p.deltaX:y[0]-v[0],N="deltaY"in p?p.deltaY:y[1]-v[1],S,j=p.target,_=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in p&&_==="h"&&j.type==="range")return!1;var E=E0(_,j);if(!E)return!0;if(E?S=_:(S=_==="v"?"h":"v",E=E0(_,j)),!E)return!1;if(!r.current&&"changedTouches"in p&&(w||N)&&(r.current=S),!S)return!0;var C=r.current||S;return FL(C,x,p,C==="h"?w:N,!0)},[]),c=h.useCallback(function(p){var x=p;if(!(!Ro.length||Ro[Ro.length-1]!==o)){var v="deltaY"in x?k0(x):Ou(x),y=t.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&UL(S.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(i.current.shards||[]).map(T0).filter(Boolean).filter(function(S){return S.contains(x.target)}),N=w.length>0?l(x,w[0]):!i.current.noIsolation;N&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(p,x,v,y){var w={name:p,delta:x,target:v,should:y,shadowParent:WL(v)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(N){return N!==w})},1)},[]),d=h.useCallback(function(p){n.current=Ou(p),r.current=void 0},[]),f=h.useCallback(function(p){u(p.type,k0(p),p.target,l(p,e.lockRef.current))},[]),g=h.useCallback(function(p){u(p.type,Ou(p),p.target,l(p,e.lockRef.current))},[]);h.useEffect(function(){return Ro.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Ao),document.addEventListener("touchmove",c,Ao),document.addEventListener("touchstart",d,Ao),function(){Ro=Ro.filter(function(p){return p!==o}),document.removeEventListener("wheel",c,Ao),document.removeEventListener("touchmove",c,Ao),document.removeEventListener("touchstart",d,Ao)}},[]);var m=e.removeScrollBar,b=e.inert;return h.createElement(h.Fragment,null,b?h.createElement(o,{styles:zL(s)}):null,m?h.createElement(RL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function WL(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const HL=xL(G1,VL);var Uh=h.forwardRef(function(e,t){return h.createElement(Fh,Rr({},e,{ref:t,sideCar:HL}))});Uh.classNames=Fh.classNames;var KL=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Oo=new WeakMap,Iu=new WeakMap,Du={},lp=0,Z1=function(e){return e&&(e.host||Z1(e.parentNode))},qL=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Z1(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},GL=function(e,t,n,r){var s=qL(t,Array.isArray(e)?e:[e]);Du[n]||(Du[n]=new WeakMap);var o=Du[n],i=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))d(g);else try{var m=g.getAttribute(r),b=m!==null&&m!=="false",p=(Oo.get(g)||0)+1,x=(o.get(g)||0)+1;Oo.set(g,p),o.set(g,x),i.push(g),p===1&&b&&Iu.set(g,!0),x===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",g,v)}})};return d(t),l.clear(),lp++,function(){i.forEach(function(f){var g=Oo.get(f)-1,m=o.get(f)-1;Oo.set(f,g),o.set(f,m),g||(Iu.has(f)||f.removeAttribute(r),Iu.delete(f)),m||f.removeAttribute(n)}),lp--,lp||(Oo=new WeakMap,Oo=new WeakMap,Iu=new WeakMap,Du={})}},Hv=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=KL(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),GL(r,s,n,"aria-hidden")):function(){return null}},zh="Dialog",[e_,t_]=Ft(zh),[YL,jr]=e_(zh),n_=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,l=h.useRef(null),c=h.useRef(null),[u,d]=$n({prop:r,defaultProp:s??!1,onChange:o,caller:zh});return a.jsx(YL,{scope:t,triggerRef:l,contentRef:c,contentId:cn(),titleId:cn(),descriptionId:cn(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};n_.displayName=zh;var r_="DialogTrigger",s_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jr(r_,n),o=Ae(t,s.triggerRef);return a.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Gv(s.open),...r,ref:o,onClick:oe(e.onClick,s.onOpenToggle)})});s_.displayName=r_;var Kv="DialogPortal",[QL,a_]=e_(Kv,{forceMount:void 0}),o_=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=jr(Kv,t);return a.jsx(QL,{scope:t,forceMount:n,children:h.Children.map(r,i=>a.jsx(en,{present:n||o.open,children:a.jsx(Lc,{asChild:!0,container:s,children:i})}))})};o_.displayName=Kv;var Bd="DialogOverlay",i_=h.forwardRef((e,t)=>{const n=a_(Bd,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=jr(Bd,e.__scopeDialog);return o.modal?a.jsx(en,{present:r||o.open,children:a.jsx(XL,{...s,ref:t})}):null});i_.displayName=Bd;var JL=Xa("DialogOverlay.RemoveScroll"),XL=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jr(Bd,n);return a.jsx(Uh,{as:JL,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(he.div,{"data-state":Gv(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ro="DialogContent",l_=h.forwardRef((e,t)=>{const n=a_(ro,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=jr(ro,e.__scopeDialog);return a.jsx(en,{present:r||o.open,children:o.modal?a.jsx(ZL,{...s,ref:t}):a.jsx(e$,{...s,ref:t})})});l_.displayName=ro;var ZL=h.forwardRef((e,t)=>{const n=jr(ro,e.__scopeDialog),r=h.useRef(null),s=Ae(t,n.contentRef,r);return h.useEffect(()=>{const o=r.current;if(o)return Hv(o)},[]),a.jsx(c_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0;(i.button===2||l)&&o.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,o=>o.preventDefault())})}),e$=h.forwardRef((e,t)=>{const n=jr(ro,e.__scopeDialog),r=h.useRef(!1),s=h.useRef(!1);return a.jsx(c_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,l;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),c_=h.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,l=jr(ro,n),c=h.useRef(null),u=Ae(t,c);return Wv(),a.jsxs(a.Fragment,{children:[a.jsx($h,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(Hi,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Gv(l.open),...i,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(n$,{titleId:l.titleId}),a.jsx(s$,{contentRef:c,descriptionId:l.descriptionId})]})]})}),qv="DialogTitle",u_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jr(qv,n);return a.jsx(he.h2,{id:s.titleId,...r,ref:t})});u_.displayName=qv;var d_="DialogDescription",h_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jr(d_,n);return a.jsx(he.p,{id:s.descriptionId,...r,ref:t})});h_.displayName=d_;var f_="DialogClose",p_=h.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=jr(f_,n);return a.jsx(he.button,{type:"button",...r,ref:t,onClick:oe(e.onClick,()=>s.onOpenChange(!1))})});p_.displayName=f_;function Gv(e){return e?"open":"closed"}var m_="DialogTitleWarning",[t$,g_]=NA(m_,{contentName:ro,titleName:qv,docsSlug:"dialog"}),n$=({titleId:e})=>{const t=g_(m_),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},r$="DialogDescriptionWarning",s$=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${g_(r$).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Yv=n_,Qv=s_,Jv=o_,zc=i_,Bc=l_,Vc=u_,Wc=h_,Bh=p_;const v_=Yv,a$=Qv,o$=Jv,y_=h.forwardRef(({className:e,...t},n)=>a.jsx(zc,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));y_.displayName=zc.displayName;const i$=Ki("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Xv=h.forwardRef(({side:e="right",className:t,children:n,...r},s)=>a.jsxs(o$,{children:[a.jsx(y_,{}),a.jsxs(Bc,{ref:s,className:J(i$({side:e}),t),...r,children:[n,a.jsxs(Bh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(us,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xv.displayName=Bc.displayName;const x_=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});x_.displayName="SheetHeader";const w_=h.forwardRef(({className:e,...t},n)=>a.jsx(Vc,{ref:n,className:J("text-lg font-semibold text-foreground",e),...t}));w_.displayName=Vc.displayName;const l$=h.forwardRef(({className:e,...t},n)=>a.jsx(Wc,{ref:n,className:J("text-sm text-muted-foreground",e),...t}));l$.displayName=Wc.displayName;function P0({className:e,...t}){return a.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}const c$="sidebar:state",u$=60*60*24*7,d$="16rem",h$="18rem",f$="3rem",p$="b",b_=h.createContext(null);function Hc(){const e=h.useContext(b_);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const N_=h.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:s,children:o,...i},l)=>{const c=eL(),[u,d]=h.useState(!1),[f,g]=h.useState(e),m=t??f,b=h.useCallback(y=>{const w=typeof y=="function"?y(m):y;n?n(w):g(w),document.cookie=`${c$}=${w}; path=/; max-age=${u$}`},[n,m]),p=h.useCallback(()=>c?d(y=>!y):b(y=>!y),[c,b,d]);h.useEffect(()=>{const y=w=>{w.key===p$&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),p())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[p]);const x=m?"expanded":"collapsed",v=h.useMemo(()=>({state:x,open:m,setOpen:b,isMobile:c,openMobile:u,setOpenMobile:d,toggleSidebar:p}),[x,m,b,c,u,d,p]);return a.jsx(b_.Provider,{value:v,children:a.jsx(Zj,{delayDuration:0,children:a.jsx("div",{style:{"--sidebar-width":d$,"--sidebar-width-icon":f$,...s},className:J("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:l,...i,children:o})})})});N_.displayName="SidebarProvider";const S_=h.forwardRef(({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:s,...o},i)=>{const{isMobile:l,state:c,openMobile:u,setOpenMobile:d}=Hc();return n==="none"?a.jsx("div",{className:J("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:i,...o,children:s}):l?a.jsx(v_,{open:u,onOpenChange:d,...o,children:a.jsx(Xv,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":h$},side:e,children:a.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):a.jsxs("div",{ref:i,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":t,"data-side":e,children:[a.jsx("div",{className:J("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),a.jsx("div",{className:J("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...o,children:a.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});S_.displayName="Sidebar";const j_=h.forwardRef(({className:e,onClick:t,...n},r)=>{const{toggleSidebar:s}=Hc();return a.jsx(D,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:J("h-7 w-7",e),onClick:o=>{t==null||t(o),s()},...n,children:a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})})});j_.displayName="SidebarTrigger";const m$=h.forwardRef(({className:e,...t},n)=>{const{toggleSidebar:r}=Hc();return a.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:J("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});m$.displayName="SidebarRail";const __=h.forwardRef(({className:e,...t},n)=>a.jsx("main",{ref:n,className:J("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));__.displayName="SidebarInset";const g$=h.forwardRef(({className:e,...t},n)=>a.jsx(ie,{ref:n,"data-sidebar":"input",className:J("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));g$.displayName="SidebarInput";const C_=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"header",className:J("flex flex-col gap-2 p-2",e),...t}));C_.displayName="SidebarHeader";const E_=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"footer",className:J("flex flex-col gap-2 p-2",e),...t}));E_.displayName="SidebarFooter";const v$=h.forwardRef(({className:e,...t},n)=>a.jsx(H1,{ref:n,"data-sidebar":"separator",className:J("mx-2 w-auto bg-sidebar-border",e),...t}));v$.displayName="SidebarSeparator";const k_=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"content",className:J("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));k_.displayName="SidebarContent";const T_=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"group",className:J("relative flex w-full min-w-0 flex-col p-2",e),...t}));T_.displayName="SidebarGroup";const P_=h.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Vi:"div";return a.jsx(s,{ref:r,"data-sidebar":"group-label",className:J("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})});P_.displayName="SidebarGroupLabel";const y$=h.forwardRef(({className:e,asChild:t=!1,...n},r)=>{const s=t?Vi:"button";return a.jsx(s,{ref:r,"data-sidebar":"group-action",className:J("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...n})});y$.displayName="SidebarGroupAction";const A_=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"group-content",className:J("w-full text-sm",e),...t}));A_.displayName="SidebarGroupContent";const Ym=h.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu",className:J("flex w-full min-w-0 flex-col gap-1",e),...t}));Ym.displayName="SidebarMenu";const Tl=h.forwardRef(({className:e,...t},n)=>a.jsx("li",{ref:n,"data-sidebar":"menu-item",className:J("group/menu-item relative",e),...t}));Tl.displayName="SidebarMenuItem";const x$=Ki("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Pl=h.forwardRef(({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:s,className:o,...i},l)=>{const c=e?Vi:"button",{isMobile:u,state:d}=Hc(),f=a.jsx(c,{ref:l,"data-sidebar":"menu-button","data-size":r,"data-active":t,className:J(x$({variant:n,size:r}),o),...i});return s?(typeof s=="string"&&(s={children:s}),a.jsxs(ID,{children:[a.jsx(DD,{asChild:!0,children:f}),a.jsx(e1,{side:"right",align:"center",hidden:d!=="collapsed"||u,...s})]})):f});Pl.displayName="SidebarMenuButton";const w$=h.forwardRef(({className:e,asChild:t=!1,showOnHover:n=!1,...r},s)=>{const o=t?Vi:"button";return a.jsx(o,{ref:s,"data-sidebar":"menu-action",className:J("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...r})});w$.displayName="SidebarMenuAction";const b$=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:J("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));b$.displayName="SidebarMenuBadge";const N$=h.forwardRef(({className:e,showIcon:t=!1,...n},r)=>{const s=h.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return a.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:J("flex h-8 items-center gap-2 rounded-md px-2",e),...n,children:[t&&a.jsx(P0,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),a.jsx(P0,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});N$.displayName="SidebarMenuSkeleton";const S$=h.forwardRef(({className:e,...t},n)=>a.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:J("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));S$.displayName="SidebarMenuSub";const j$=h.forwardRef(({...e},t)=>a.jsx("li",{ref:t,...e}));j$.displayName="SidebarMenuSubItem";const _$=h.forwardRef(({asChild:e=!1,size:t="md",isActive:n,className:r,...s},o)=>{const i=e?Vi:"a";return a.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:J("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});_$.displayName="SidebarMenuSubButton";const Vd=h.forwardRef(({className:e,activeClassName:t,pendingClassName:n,to:r,...s},o)=>a.jsx(p4,{ref:o,to:r,className:({isActive:i,isPending:l})=>J(e,i&&t,l&&n),...s}));Vd.displayName="NavLink";const C$=[{title:"Dashboard",url:"/",icon:oj},{title:"DNA Lab",url:"/dna-lab",icon:ma},{title:"Personas",url:"/personas",icon:Oi},{title:"Writer",url:"/writer",icon:sa},{title:"TubeClone",url:"/tubeclone",icon:Dn},{title:"Notes",url:"/notes",icon:fm}];function E$(){const{state:e,toggleSidebar:t}=Hc(),{signOut:n}=Nn(),r=e==="collapsed";return a.jsxs(S_,{collapsible:"icon",className:"border-r border-border/50",children:[a.jsx(C_,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary",children:a.jsx(gR,{className:"h-5 w-5 text-primary-foreground"})}),!r&&a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-lg font-semibold tracking-tight",children:"LOG"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Content Platform"})]})]})}),a.jsx(k_,{children:a.jsxs(T_,{children:[a.jsx(P_,{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground/70",children:"Workspace"}),a.jsx(A_,{children:a.jsx(Ym,{children:C$.map(s=>a.jsx(Tl,{children:a.jsx(Pl,{asChild:!0,tooltip:s.title,children:a.jsxs(Vd,{to:s.url,end:s.url==="/",className:"flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 hover:bg-accent",activeClassName:"bg-primary/10 text-primary",children:[a.jsx(s.icon,{className:"h-5 w-5 shrink-0"}),a.jsx("span",{children:s.title})]})})},s.title))})})]})}),a.jsx(E_,{className:"p-2 space-y-2",children:a.jsxs(Ym,{children:[a.jsx(Tl,{children:a.jsx(Pl,{asChild:!0,tooltip:r?"Expand Sidebar":"Collapse Sidebar",children:a.jsxs(D,{variant:"ghost",onClick:t,className:"w-full justify-start gap-3 rounded-lg px-3 py-2.5 text-sm font-medium hover:bg-accent",children:[r?a.jsx(CR,{className:"h-5 w-5 shrink-0"}):a.jsx(_R,{className:"h-5 w-5 shrink-0"}),!r&&a.jsx("span",{children:"Collapse"})]})})}),a.jsx(Tl,{children:a.jsx(Pl,{asChild:!0,tooltip:"Settings",children:a.jsxs(Vd,{to:"/settings",className:"flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-all duration-200 hover:bg-accent",activeClassName:"bg-primary/10 text-primary",children:[a.jsx(uj,{className:"h-5 w-5 shrink-0"}),a.jsx("span",{children:"Settings"})]})})}),a.jsx(Tl,{children:a.jsx(Pl,{asChild:!0,tooltip:"Logout",children:a.jsxs(D,{variant:"ghost",onClick:n,className:"w-full justify-start gap-3 rounded-lg px-3 py-2.5 text-sm font-medium text-destructive hover:bg-destructive/10 hover:text-destructive",children:[a.jsx(NR,{className:"h-5 w-5 shrink-0"}),!r&&a.jsx("span",{children:"Logout"})]})})})]})})]})}const k$=[{title:"Home",url:"/",icon:oj},{title:"DNA",url:"/dna-lab",icon:ma},{title:"Personas",url:"/personas",icon:Oi},{title:"Writer",url:"/writer",icon:sa},{title:"TubeClone",url:"/tubeclone",icon:Dn}];function T$(){return a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 border-t border-border/50 bg-card/80 backdrop-blur-xl md:hidden",children:a.jsx("div",{className:"flex items-center justify-around px-2 py-2 safe-area-pb",children:k$.map(e=>a.jsxs(Vd,{to:e.url,end:e.url==="/",className:"flex flex-col items-center gap-1 rounded-lg px-3 py-2 text-muted-foreground transition-colors",activeClassName:"text-primary",children:[a.jsx(e.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"text-[10px] font-medium",children:e.title})]},e.title))})})}var R_={exports:{}},O_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Li=h;function P$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A$=typeof Object.is=="function"?Object.is:P$,R$=Li.useState,O$=Li.useEffect,I$=Li.useLayoutEffect,D$=Li.useDebugValue;function M$(e,t){var n=t(),r=R$({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return I$(function(){s.value=n,s.getSnapshot=t,cp(s)&&o({inst:s})},[e,n,t]),O$(function(){return cp(s)&&o({inst:s}),e(function(){cp(s)&&o({inst:s})})},[e]),D$(n),n}function cp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!A$(e,n)}catch{return!0}}function L$(e,t){return t()}var $$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?L$:M$;O_.useSyncExternalStore=Li.useSyncExternalStore!==void 0?Li.useSyncExternalStore:$$;R_.exports=O_;var F$=R_.exports;function U$(){return F$.useSyncExternalStore(z$,()=>!0,()=>!1)}function z$(){return()=>{}}var Zv="Avatar",[B$,_V]=Ft(Zv),[V$,I_]=B$(Zv),D_=h.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=h.useState("idle");return a.jsx(V$,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:a.jsx(he.span,{...r,ref:t})})});D_.displayName=Zv;var M_="AvatarImage",L_=h.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=I_(M_,n),l=W$(r,o),c=lt(u=>{s(u),i.onImageLoadingStatusChange(u)});return ut(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(he.img,{...o,ref:t,src:r}):null});L_.displayName=M_;var $_="AvatarFallback",F_=h.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=I_($_,n),[i,l]=h.useState(r===void 0);return h.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),i&&o.imageLoadingStatus!=="loaded"?a.jsx(he.span,{...s,ref:t}):null});F_.displayName=$_;function A0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function W$(e,{referrerPolicy:t,crossOrigin:n}){const r=U$(),s=h.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,l]=h.useState(()=>A0(o,e));return ut(()=>{l(A0(o,e))},[o,e]),ut(()=>{const c=f=>()=>{l(f)};if(!o)return;const u=c("loaded"),d=c("error");return o.addEventListener("load",u),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",d)}},[o,n,t]),i}var U_=D_,z_=L_,B_=F_;const ey=h.forwardRef(({className:e,...t},n)=>a.jsx(U_,{ref:n,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ey.displayName=U_.displayName;const V_=h.forwardRef(({className:e,...t},n)=>a.jsx(z_,{ref:n,className:J("aspect-square h-full w-full",e),...t}));V_.displayName=z_.displayName;const ty=h.forwardRef(({className:e,...t},n)=>a.jsx(B_,{ref:n,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ty.displayName=B_.displayName;const R0={dna_evolution:["pro","ultra"],ai_suggest_angle:["pro","ultra"],batch_dna:["pro","ultra"],structure_innovation:["pro","ultra"],flop_analysis:["pro","ultra"],tubeclone:["ultra"]},Mu={starter:0,pro:1,ultra:2};function W_(){const{user:e}=Nn(),[t,n]=h.useState({tier:"starter",startedAt:null,expiresAt:null,isExpired:!1,loading:!0}),r=h.useCallback(async()=>{if(!e){n(u=>({...u,tier:"starter",loading:!1}));return}try{const{data:u,error:d}=await Ie.from("profiles").select("*").eq("id",e.id).single();if(d){console.error("Error fetching subscription:",d),n(v=>({...v,tier:"starter",loading:!1}));return}const f=u,g=f==null?void 0:f.subscription_tier,m=f==null?void 0:f.subscription_started_at,b=f==null?void 0:f.subscription_expires_at,p=b?new Date(b):null,x=p?p<new Date:!1;n({tier:x?"starter":g||"starter",startedAt:m?new Date(m):null,expiresAt:p,isExpired:x,loading:!1})}catch(u){console.error("Error in fetchSubscription:",u),n(d=>({...d,tier:"starter",loading:!1}))}},[e]);h.useEffect(()=>{r()},[r]);const s=h.useCallback(u=>R0[u].includes(t.tier),[t.tier]),o=h.useCallback(u=>Mu[t.tier]>=Mu[u],[t.tier]),i=h.useMemo(()=>o("pro"),[o]),l=h.useMemo(()=>t.tier==="ultra",[t.tier]),c=h.useCallback(u=>R0[u].reduce((f,g)=>Mu[g]<Mu[f]?g:f),[]);return{...t,canAccessFeature:s,hasMinimumTier:o,isPro:i,isUltra:l,getRequiredTier:c,refetch:r}}const H$=Ki("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:e,variant:t,...n}){return a.jsx("div",{className:J(H$({variant:t}),e),...n})}const K$={starter:{icon:ct,label:"Starter",className:"bg-gray-500/10 text-gray-400 border-gray-500/20"},pro:{icon:Qn,label:"Pro",className:"bg-blue-500/10 text-blue-500 border-blue-500/20"},ultra:{icon:Cd,label:"Ultra",className:"bg-amber-500/10 text-amber-500 border-amber-500/20"}};function q$({children:e}){var f;const{user:t}=Nn(),{tier:n,loading:r}=W_(),s=mo(),[o,i]=h.useState(null);h.useEffect(()=>{t&&Ie.from("profiles").select("full_name, avatar_url").eq("id",t.id).maybeSingle().then(({data:g})=>i(g))},[t]);const l=(o==null?void 0:o.full_name)||((f=t==null?void 0:t.email)==null?void 0:f.split("@")[0])||"User",c=l.slice(0,2).toUpperCase(),u=K$[n],d=u.icon;return a.jsx(N_,{children:a.jsxs("div",{className:"flex min-h-screen w-full",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(E$,{})}),a.jsxs(__,{className:"flex flex-1 flex-col",children:[a.jsxs("header",{className:"sticky top-0 z-40 flex h-14 items-center gap-4 border-b border-border/50 bg-background/80 px-4 backdrop-blur-xl md:h-16 md:px-6",children:[a.jsx(j_,{className:"hidden md:flex"}),a.jsx("div",{className:"flex-1"}),a.jsxs("div",{className:"flex items-center gap-3",children:[!r&&a.jsxs(Oe,{variant:"outline",className:`cursor-pointer gap-1 ${u.className}`,onClick:()=>s("/pricing"),children:[a.jsx(d,{className:"h-3 w-3"}),a.jsx("span",{className:"hidden sm:inline",children:u.label})]}),a.jsx("span",{className:"text-sm font-medium text-foreground hidden sm:block",children:l}),a.jsxs(ey,{className:"h-8 w-8",children:[a.jsx(V_,{src:(o==null?void 0:o.avatar_url)||void 0,alt:l}),a.jsx(ty,{className:"bg-primary/10 text-primary text-xs",children:c})]})]})]}),a.jsx("main",{className:"flex-1 overflow-auto pb-20 md:pb-0",children:e})]}),a.jsx(T$,{})]})})}const Wd=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:J("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Wd.displayName="Card";const Qm=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:J("flex flex-col space-y-1.5 p-6",e),...t}));Qm.displayName="CardHeader";const Jm=h.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:J("text-2xl font-semibold leading-none tracking-tight",e),...t}));Jm.displayName="CardTitle";const H_=h.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:J("text-sm text-muted-foreground",e),...t}));H_.displayName="CardDescription";const Hd=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:J("p-6 pt-0",e),...t}));Hd.displayName="CardContent";const K_=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:J("flex items-center p-6 pt-0",e),...t}));K_.displayName="CardFooter";var ny="Progress",ry=100,[G$,CV]=Ft(ny),[Y$,Q$]=G$(ny),q_=h.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:o=J$,...i}=e;(s||s===0)&&!O0(s)&&console.error(X$(`${s}`,"Progress"));const l=O0(s)?s:ry;r!==null&&!I0(r,l)&&console.error(Z$(`${r}`,"Progress"));const c=I0(r,l)?r:null,u=Kd(c)?o(c,l):void 0;return a.jsx(Y$,{scope:n,value:c,max:l,children:a.jsx(he.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Kd(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Q_(c,l),"data-value":c??void 0,"data-max":l,...i,ref:t})})});q_.displayName=ny;var G_="ProgressIndicator",Y_=h.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=Q$(G_,n);return a.jsx(he.div,{"data-state":Q_(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});Y_.displayName=G_;function J$(e,t){return`${Math.round(e/t*100)}%`}function Q_(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Kd(e){return typeof e=="number"}function O0(e){return Kd(e)&&!isNaN(e)&&e>0}function I0(e,t){return Kd(e)&&!isNaN(e)&&e<=t&&e>=0}function X$(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${ry}\`.`}function Z$(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${ry} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var J_=q_,eF=Y_;const tl=h.forwardRef(({className:e,value:t,...n},r)=>a.jsx(J_,{ref:r,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:a.jsx(eF,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));tl.displayName=J_.displayName;const xl=[{id:1,title:"Welcome to ScriptLab!",description:"Your AI-powered content creation studio. Let's take a quick tour of the key features that will help you create viral content.",icon:ct,color:"text-primary",tips:["Create scripts based on proven viral formulas","Extract DNA from successful videos","Build personas for your target audience"]},{id:2,title:"DNA Extraction",description:"Extract the viral DNA from any YouTube video. Our AI analyzes successful content to identify patterns, hooks, pacing, and retention tactics.",icon:ma,color:"text-purple-500",tips:["Paste any YouTube URL to start extraction","AI analyzes transcript, structure, and engagement","Save DNA templates for future script generation"],action:{label:"Try DNA Extraction",path:"/dna-lab"}},{id:3,title:"Script Generation",description:"Generate viral-ready scripts using your extracted DNA templates. Choose between original ideas or rewriting existing content.",icon:sa,color:"text-blue-500",tips:["Select a DNA template for consistent style","Add viral and flop references for context","Use version history to track changes"],action:{label:"Create Your First Script",path:"/writer"}},{id:4,title:"Audience Personas",description:"Define your target audience with detailed personas. The AI uses these to tailor content for maximum engagement.",icon:Oi,color:"text-green-500",tips:["Create personas with demographics and preferences","Define pain points and knowledge level","Apply personas to scripts for targeted content"],action:{label:"Create a Persona",path:"/personas"}},{id:5,title:"Pro Tips",description:"Here are some tips to get the most out of ScriptLab and create content that resonates with your audience.",icon:Sh,color:"text-yellow-500",tips:["Add both viral AND flop references for balanced AI learning","Use the score feature to evaluate script quality","Organize scripts into folders for better management","Check version history to restore previous drafts"]}];function tF({onComplete:e,onSkip:t}){const[n,r]=h.useState(0),s=xl[n],o=(n+1)/xl.length*100,i=n===xl.length-1,l=()=>{i?e():r(u=>u+1)},c=()=>{r(u=>Math.max(0,u-1))};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm p-4",children:a.jsx(Wd,{className:"w-full max-w-lg border-border/50 shadow-2xl",children:a.jsxs(Hd,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 ${s.color}`,children:a.jsx(s.icon,{className:"h-5 w-5"})}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Step ",n+1," of ",xl.length]})]}),a.jsx(D,{variant:"ghost",size:"icon",onClick:t,children:a.jsx(us,{className:"h-4 w-4"})})]}),a.jsx(tl,{value:o,className:"mb-6 h-1"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:s.title}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s.description}),a.jsx("ul",{className:"space-y-2",children:s.tips.map((u,d)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(aa,{className:"h-4 w-4 text-primary mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm",children:u})]},d))})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(D,{variant:"ghost",onClick:c,disabled:n===0,children:[a.jsx(pR,{className:"h-4 w-4 mr-1"}),"Previous"]}),a.jsx("div",{className:"flex gap-1",children:xl.map((u,d)=>a.jsx("button",{className:`h-2 w-2 rounded-full transition-colors ${d===n?"bg-primary":d<n?"bg-primary/50":"bg-muted"}`,onClick:()=>r(d)},d))}),a.jsxs(D,{onClick:l,children:[i?"Get Started":"Next",!i&&a.jsx(Ir,{className:"h-4 w-4 ml-1"})]})]})]})})})}function nF(){const{user:e}=Nn(),[t,n]=h.useState(!1),[r,s]=h.useState(!0);h.useEffect(()=>{if(!e){s(!1);return}(async()=>{const{data:u}=await Ie.from("profiles").select("created_at").eq("id",e.id).maybeSingle();if(u){const d=`onboarding_completed_${e.id}`;if(!localStorage.getItem(d)){const g=new Date(u.created_at);(new Date().getTime()-g.getTime())/(1e3*60)<5&&n(!0)}}s(!1)})()},[e]);const o=()=>{e&&localStorage.setItem(`onboarding_completed_${e.id}`,"true"),n(!1)};return{showOnboarding:t,loading:r,completeOnboarding:o,skipOnboarding:()=>{o()},resetOnboarding:()=>{e&&(localStorage.removeItem(`onboarding_completed_${e.id}`),n(!0))}}}const ue=h.forwardRef(({className:e,variant:t="default",...n},r)=>a.jsx("div",{ref:r,className:J("rounded-2xl border border-border/50 bg-card/80 backdrop-blur-sm transition-all duration-300 overflow-hidden",t==="default"&&"shadow-sm hover:shadow-md",t==="elevated"&&"shadow-md hover:shadow-lg hover:-translate-y-0.5",t==="subtle"&&"bg-card/50",e),...n}));ue.displayName="GlassCard";const St=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:J("flex flex-col space-y-1.5 p-6",e),...t}));St.displayName="GlassCardHeader";const _t=h.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));_t.displayName="GlassCardTitle";const Zr=h.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:J("text-sm text-muted-foreground",e),...t}));Zr.displayName="GlassCardDescription";const me=h.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:J("p-6 pt-0",e),...t}));me.displayName="GlassCardContent";function D0({title:e,value:t,icon:n,iconColor:r="text-primary"}){return a.jsx(ue,{className:"h-full",children:a.jsxs(me,{className:"p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-lg bg-muted/50 p-2",children:a.jsx(n,{className:`h-4 w-4 ${r}`})}),a.jsx("span",{className:"text-sm text-muted-foreground",children:e})]}),a.jsx("span",{className:"text-2xl font-bold",children:t})]})})}function _r(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function so(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const X_=6048e5,rF=864e5;let sF={};function Vh(){return sF}function Sc(e,t){var l,c,u,d;const n=Vh(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=_r(e),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function qd(e){return Sc(e,{weekStartsOn:1})}function Z_(e){const t=_r(e),n=t.getFullYear(),r=so(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=qd(r),o=so(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=qd(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function M0(e){const t=_r(e);return t.setHours(0,0,0,0),t}function L0(e){const t=_r(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function aF(e,t){const n=M0(e),r=M0(t),s=+n-L0(n),o=+r-L0(r);return Math.round((s-o)/rF)}function oF(e){const t=Z_(e),n=so(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),qd(n)}function iF(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function lF(e){if(!iF(e)&&typeof e!="number")return!1;const t=_r(e);return!isNaN(Number(t))}function cF(e){const t=_r(e),n=so(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const uF={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dF=(e,t,n)=>{let r;const s=uF[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function up(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const hF={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fF={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pF={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mF={date:up({formats:hF,defaultWidth:"full"}),time:up({formats:fF,defaultWidth:"full"}),dateTime:up({formats:pF,defaultWidth:"full"})},gF={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vF=(e,t,n,r)=>gF[e];function wl(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[l]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const yF={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xF={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wF={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bF={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SF={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jF=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_F={ordinalNumber:jF,era:wl({values:yF,defaultWidth:"wide"}),quarter:wl({values:xF,defaultWidth:"wide",argumentCallback:e=>e-1}),month:wl({values:wF,defaultWidth:"wide"}),day:wl({values:bF,defaultWidth:"wide"}),dayPeriod:wl({values:NF,defaultWidth:"wide",formattingValues:SF,defaultFormattingWidth:"wide"})};function bl(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?EF(l,f=>f.test(i)):CF(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function CF(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function EF(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function kF(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const TF=/^(\d+)(th|st|nd|rd)?/i,PF=/\d+/i,AF={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RF={any:[/^b/i,/^(a|c)/i]},OF={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},IF={any:[/1/i,/2/i,/3/i,/4/i]},DF={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MF={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LF={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$F={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},FF={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UF={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zF={ordinalNumber:kF({matchPattern:TF,parsePattern:PF,valueCallback:e=>parseInt(e,10)}),era:bl({matchPatterns:AF,defaultMatchWidth:"wide",parsePatterns:RF,defaultParseWidth:"any"}),quarter:bl({matchPatterns:OF,defaultMatchWidth:"wide",parsePatterns:IF,defaultParseWidth:"any",valueCallback:e=>e+1}),month:bl({matchPatterns:DF,defaultMatchWidth:"wide",parsePatterns:MF,defaultParseWidth:"any"}),day:bl({matchPatterns:LF,defaultMatchWidth:"wide",parsePatterns:$F,defaultParseWidth:"any"}),dayPeriod:bl({matchPatterns:FF,defaultMatchWidth:"any",parsePatterns:UF,defaultParseWidth:"any"})},BF={code:"en-US",formatDistance:dF,formatLong:mF,formatRelative:vF,localize:_F,match:zF,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VF(e){const t=_r(e);return aF(t,cF(t))+1}function WF(e){const t=_r(e),n=+qd(t)-+oF(t);return Math.round(n/X_)+1}function eC(e,t){var d,f,g,m;const n=_r(e),r=n.getFullYear(),s=Vh(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(g=s.locale)==null?void 0:g.options)==null?void 0:m.firstWeekContainsDate)??1,i=so(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const l=Sc(i,t),c=so(e,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const u=Sc(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function HF(e,t){var l,c,u,d;const n=Vh(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=eC(e,t),o=so(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),Sc(o,t)}function KF(e,t){const n=_r(e),r=+Sc(n,t)-+HF(n,t);return Math.round(r/X_)+1}function Ye(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const bs={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ye(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ye(n+1,2)},d(e,t){return Ye(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ye(e.getHours()%12||12,t.length)},H(e,t){return Ye(e.getHours(),t.length)},m(e,t){return Ye(e.getMinutes(),t.length)},s(e,t){return Ye(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Ye(s,t.length)}},Io={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$0={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return bs.y(e,t)},Y:function(e,t,n,r){const s=eC(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return Ye(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Ye(o,t.length)},R:function(e,t){const n=Z_(e);return Ye(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ye(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ye(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ye(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return bs.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ye(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=KF(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):Ye(s,t.length)},I:function(e,t,n){const r=WF(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ye(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):bs.d(e,t)},D:function(e,t,n){const r=VF(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ye(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Ye(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Ye(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return Ye(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Io.noon:r===0?s=Io.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Io.evening:r>=12?s=Io.afternoon:r>=4?s=Io.morning:s=Io.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return bs.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):bs.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ye(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ye(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):bs.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):bs.s(e,t)},S:function(e,t){return bs.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return U0(r);case"XXXX":case"XX":return ka(r);case"XXXXX":case"XXX":default:return ka(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return U0(r);case"xxxx":case"xx":return ka(r);case"xxxxx":case"xxx":default:return ka(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+F0(r,":");case"OOOO":default:return"GMT"+ka(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+F0(r,":");case"zzzz":default:return"GMT"+ka(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ye(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ye(r,t.length)}};function F0(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+Ye(o,2)}function U0(e,t){return e%60===0?(e>0?"-":"+")+Ye(Math.abs(e)/60,2):ka(e,t)}function ka(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Ye(Math.trunc(r/60),2),o=Ye(r%60,2);return n+s+t+o}const z0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},tC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},qF=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return z0(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",z0(r,t)).replace("{{time}}",tC(s,t))},GF={p:tC,P:qF},YF=/^D+$/,QF=/^Y+$/,JF=["D","DD","YY","YYYY"];function XF(e){return YF.test(e)}function ZF(e){return QF.test(e)}function eU(e,t,n){const r=tU(e,t,n);if(console.warn(r),JF.includes(e))throw new RangeError(r)}function tU(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sU=/^'([^]*?)'?$/,aU=/''/g,oU=/[a-zA-Z]/;function nC(e,t,n){var d,f,g,m;const r=Vh(),s=r.locale??BF,o=r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,i=r.weekStartsOn??((m=(g=r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??0,l=_r(e);if(!lF(l))throw new RangeError("Invalid time value");let c=t.match(rU).map(b=>{const p=b[0];if(p==="p"||p==="P"){const x=GF[p];return x(b,s.formatLong)}return b}).join("").match(nU).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const p=b[0];if(p==="'")return{isToken:!1,value:iU(b)};if($0[p])return{isToken:!0,value:b};if(p.match(oU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(b=>{if(!b.isToken)return b.value;const p=b.value;(ZF(p)||XF(p))&&eU(p,t,String(e));const x=$0[p[0]];return x(l,p,s.localize,u)}).join("")}function iU(e){const t=e.match(sU);return t?t[1].replace(aU,"'"):e}function lU({title:e,subtitle:t,status:n="draft",mode:r,date:s,language:o="English",onClick:i}){const l=n==="done";return a.jsx(ue,{variant:"elevated",className:"cursor-pointer transition-all hover:border-primary/50 h-[140px]",onClick:i,children:a.jsxs(me,{className:"p-4 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Oe,{variant:"outline",className:`text-xs uppercase ${l?"bg-green-500/10 text-green-600 border-green-500/30":"bg-muted text-muted-foreground"}`,children:n}),r&&a.jsx(Oe,{variant:"secondary",className:"text-xs gap-1",children:r==="new-idea"?a.jsxs(a.Fragment,{children:[a.jsx(Sh,{className:"h-3 w-3"}),"Idea"]}):r==="rewrite"?a.jsxs(a.Fragment,{children:[a.jsx(Yr,{className:"h-3 w-3"}),"Rewrite"]}):null})]}),a.jsxs("div",{className:"flex-1 mt-2 space-y-1 min-h-0",children:[a.jsx("h3",{className:"font-semibold line-clamp-1",children:e}),t&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:t})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:nC(new Date(s),"dd/MM/yyyy")}),a.jsx("span",{className:"uppercase",children:o})]})]})})}function cU({title:e,description:t,icon:n,to:r,gradient:s}){return a.jsx(gc,{to:r,className:"group block",children:a.jsx(ue,{variant:"elevated",className:"overflow-hidden",children:a.jsx(me,{className:"p-0",children:a.jsxs("div",{className:`p-6 ${s||"bg-gradient-to-br from-primary/5 to-primary/10"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"rounded-xl bg-card/80 p-3 shadow-sm backdrop-blur-sm",children:a.jsx(n,{className:"h-6 w-6 text-primary"})}),a.jsx(cs,{className:"h-5 w-5 text-muted-foreground opacity-0 transition-all duration-300 group-hover:translate-x-1 group-hover:opacity-100"})]}),a.jsxs("div",{className:"mt-4 space-y-1",children:[a.jsx("h3",{className:"font-semibold",children:e}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]})]})})})})}function ps(){const[e,t]=h.useState(null),[n,r]=h.useState(!0),{user:s}=Nn(),{toast:o}=$t(),i=h.useCallback(async()=>{if(!s){t(null),r(!1);return}try{const{data:c,error:u}=await Ie.from("user_settings").select("*").eq("user_id",s.id).maybeSingle();if(u)throw u;t(c)}catch(c){console.error("Error fetching settings:",c)}finally{r(!1)}},[s]);return h.useEffect(()=>{i()},[i]),{settings:e,loading:n,saveSettings:async c=>{if(!s)return null;try{if(e){const{data:u,error:d}=await Ie.from("user_settings").update(c).eq("id",e.id).select().single();if(d)throw d;return t(u),o({title:"Success",description:"Settings saved successfully"}),u}else{const{data:u,error:d}=await Ie.from("user_settings").insert({...c,user_id:s.id}).select().single();if(d)throw d;return t(u),o({title:"Success",description:"Settings saved successfully"}),u}}catch(u){return console.error("Error saving settings:",u),o({title:"Error",description:"Failed to save settings",variant:"destructive"}),null}},refetch:i}}const Kt=async(e,t,n="google/gemini-3-flash-preview")=>{var r,s,o,i;if(!t)throw new Error("OpenRouter API Key not configured. Please enter your key in Settings.");try{const l=await fetch("https://openrouter.ai/api/v1/chat/completions",{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({model:n,messages:e})});if(!l.ok){const f=((r=(await l.json().catch(()=>({}))).error)==null?void 0:r.message)||`HTTP ${l.status}`;throw l.status===429?new Error("Rate limit exceeded. Please try again later."):l.status===401||l.status===402?new Error("Invalid OpenRouter API Key or out of credits."):new Error(`OpenRouter error: ${f}`)}const u=(i=(o=(s=(await l.json()).choices)==null?void 0:s[0])==null?void 0:o.message)==null?void 0:i.content;if(!u)throw new Error("No response received from AI");return u}catch(l){throw console.error("OpenRouter Error:",l),new Error(l.message||"Could not connect to OpenRouter")}},zn=e=>{let t=e.replace(/^```json\s*/,"").replace(/^```\s*/,"").replace(/\s*```$/,"");try{return JSON.parse(t)}catch{const r=t.match(/(\{[\s\S]*\}|\[[\s\S]*\])/);if(!r)throw console.error("Failed to extract JSON from:",e),new Error("Could not parse JSON from response");try{return JSON.parse(r[0])}catch(s){throw console.error("JSON Parse Error:",s,"Extracted:",r[0]),new Error("Extracted text was not valid JSON")}}},uU=`
<conflict_resolution_framework>
When DNA and Persona provide conflicting guidance, use this priority matrix to make consistent, quality-driven decisions.

<priority_matrix>

 Content Element       DNA %    Persona % Resolution Rule                                  

 Structure/Flow        100%     0%        DNA defines architecture - follow exactly        
 Pacing/Rhythm         100%     0%        DNA controls tempo and sentence structure        
 Vocabulary            30%      70%       Persona's words, DNA's complexity level          
 Tone/Voice            40%      60%       Persona's tone, DNA's energy level               
 Hook Strategy         80%      20%       DNA's psychological trigger in Persona's voice   
 Objection Handling    20%      80%       Persona's objections, DNA's rhetorical method    
 Examples/Stories      50%      50%       DNA's format, Persona-relevant content           
 Complexity/Depth      40%      60%       Adapt to Persona level, keep DNA progression     

</priority_matrix>

<resolution_examples>

EXAMPLE 1: Tone Conflict
<scenario>
DNA: "Authoritative, expert-driven"
Persona: "Casual, friendly"
Conflict Type: Direct contradiction in voice
</scenario>

<resolution>
Priority: 60% Persona, 40% DNA

 WRONG (100% DNA): "The utilization of this methodology facilitates optimal outcomes..."
 WRONG (100% Persona): "So like, here's a thing you might want to try maybe..."
 RIGHT (Balanced): "Here's how this works  and trust me, the results speak for themselves."

Explanation: Uses casual words ("here's how") and friendly framing ("trust me"), but maintains authoritative confidence ("results speak for themselves"). Persona's tone dominates, DNA's authority energy preserved.
</resolution>

EXAMPLE 2: Vocabulary vs Knowledge Level
<scenario>
DNA: Uses advanced technical terms (ROI, CAC, LTV, conversion rate)
Persona: Beginner knowledge level, needs plain language
Conflict Type: Vocabulary complexity mismatch
</scenario>

<resolution>
Priority: 70% Persona (simplify vocabulary)

 WRONG (100% DNA): "Your CAC should be 3x lower than LTV for optimal ROI."
 RIGHT (Simplified): "You want to spend way less to get a customer than what they're worth to you over time  ideally about 3 times less. That's how you make money."

Explanation: Same DNA concept (3x ratio formula), translated to beginner-accessible language. Structure preserved, vocabulary adapted.
</resolution>

EXAMPLE 3: Hook Strategy Adaptation
<scenario>
DNA: Contrarian hook (challenge common belief aggressively)
Persona: Empathetic, non-confrontational audience
Conflict Type: Hook aggressiveness vs audience sensitivity
</scenario>

<resolution>
Priority: 80% DNA strategy, 20% Persona voice

 WRONG (100% DNA): "Everything you know about X is DEAD WRONG."
 WRONG (100% Persona): "Hey, let me gently share some thoughts about X..."
 RIGHT (Blended): "I used to believe the same thing about X... until I discovered this one detail that changed everything."

Explanation: Keeps contrarian psychology (DNA)  challenges belief, creates curiosity gap. Delivers in empathetic voice (Persona)  "I used to believe" creates connection, not confrontation.
</resolution>

</resolution_examples>

<decision_tree>
Follow this systematic process when conflicts arise:

STEP 1: IDENTIFY Conflict Type
 Structural (sections, flow, architecture)  DNA wins 100%
 Linguistic (word choice, grammar, vocabulary)  Persona wins 70%
 Strategic (hooks, retention tactics, viral psychology)  DNA wins 80%
 Audience Fit (objections, examples, knowledge level)  Persona wins 80%

STEP 2: CHECK for Deal-Breakers
 Is DNA strategy proven viral? If YES  Bias toward DNA
 Is Persona mismatch severe (expert terms for beginners)? If YES  Bias toward Persona
 Is platform critical (formal tone on TikTok)? If YES  Bias toward Persona/Platform
 If multiple deal-breakers  Flag for user decision, don't force-blend

STEP 3: APPLY Priority %
Use the percentage split from the matrix:
- 100/0: One side completely overrides
- 80/20: Strong preference, minor adaptation
- 60/40: Lean toward one, significant influence from other
- 50/50: True balance, blend both equally

STEP 4: VALIDATE Output Quality
Ask these questions before finalizing:
 Does it sound natural? (Not forced or "Franken-content")
 Does it respect Persona's intelligence level?
 Does it preserve DNA's viral psychology mechanisms?
 Would a real human speak/write this way?
</decision_tree>

<edge_cases>

CASE 1: DNA Without Persona Context
If DNA extracted from generic viral content (no specific audience):
 Persona takes 80% priority across all elements EXCEPT Structure
 Keep DNA skeleton, adapt everything else to Persona

CASE 2: Generic/Vague Persona
If Persona has minimal detail or is too generic ("wants value"):
 DNA takes 80% priority - use proven patterns as primary guide
 Make conservative assumptions for Persona elements

CASE 3: Both Highly Specific and Conflicting
When both DNA and Persona are detailed but contradictory:
 Follow matrix strictly
 Document adaptation: "Adapted DNA [element X] to fit Persona [constraint Y]"
 If irreconcilable  Flag to user

CASE 4: Platform-Specific Overrides
Platform conventions override both DNA and Persona:
 TikTok/Instagram Reels  Always casual, always fast-paced
 LinkedIn/Medium  DNA structure sacred, adapt tone only
 YouTube  Balance 50/50 unless strong Persona specification
 Email/Newsletter  Persona 70%, DNA structure 30%

CASE 5: Knowledge Level Safety Net
Automatic simplification rule:
IF (DNA complexity > Persona knowledgeLevel + 1):
    Simplify vocabulary automatically (override DNA %)
    Maintain DNA structure and logic
    Add "explain like I'm [knowledge level]" constraint

</edge_cases>

<anti_patterns>
Common mistakes to AVOID:

1.  Franken-Content: Randomly mixing DNA and Persona without strategy
    Instead: Apply matrix consistently across entire script

2.  Ignoring Platform: Using formal tone on TikTok because DNA says so
    Instead: Platform > DNA tone (use edge case rules)

3.  Over-Simplification: Beginner persona = treat audience like children
    Instead: Simplify vocabulary, not intelligence or insight quality

4.  Forcing Conflicts: Trying to blend when fundamental incompatibility exists
    Instead: Choose the stronger strategy or flag to user

5.  Inconsistent Application: Using different rules for different sections
    Instead: Apply same conflict resolution logic throughout entire script
</anti_patterns>

</conflict_resolution_framework>`,rC=(e,t)=>{var r;const n=[];if(e!=null&&e.tone&&(t!=null&&t.preferred_tone)){const s=e.tone.toLowerCase(),o=t.preferred_tone.toLowerCase(),i=[{dna:"authoritative",persona:"casual",conflict:"DNA is authoritative but Persona prefers casual tone"},{dna:"formal",persona:"casual",conflict:"DNA is formal but Persona prefers casual tone"},{dna:"aggressive",persona:"empathetic",conflict:"DNA is aggressive but Persona prefers empathetic tone"},{dna:"serious",persona:"humorous",conflict:"DNA is serious but Persona prefers humorous tone"}];for(const l of i)s.includes(l.dna)&&o.includes(l.persona)&&n.push(l.conflict)}if(e!=null&&e.vocabulary&&(t!=null&&t.knowledge_level)){const s=e.vocabulary.toLowerCase().includes("technical")||e.vocabulary.toLowerCase().includes("jargon")||e.vocabulary.toLowerCase().includes("advanced")||e.vocabulary.toLowerCase().includes("expert"),o=t.knowledge_level==="beginner";s&&o&&n.push("DNA uses advanced vocabulary but Persona is beginner level - will auto-simplify")}if((r=e==null?void 0:e.analysis_data)!=null&&r.audiencePsychology&&(t!=null&&t.knowledge_profile)){const s=e.analysis_data.audiencePsychology.toLowerCase(),o=t.knowledge_profile.domainKnowledge;s.includes("expert")&&o<3&&n.push("DNA targets expert audience but Persona has intermediate/beginner knowledge")}if(e!=null&&e.tone&&(t!=null&&t.platform)){const s=e.tone.toLowerCase().includes("formal")||e.tone.toLowerCase().includes("professional"),o=["tiktok","instagram","shorts","reels"].includes(t.platform.toLowerCase());s&&o&&n.push(`DNA has formal tone but Persona platform is ${t.platform} (requires casual, fast-paced style)`)}return n},dU=(e,t)=>{const n=rC(e,t);if(n.length===0)return`<alignment_status>
 No major conflicts detected between DNA and Persona.
Strategy: Follow DNA structure with Persona voice.
</alignment_status>`;let r=`<conflict_resolution_strategy>

<detected_conflicts>
${n.map((s,o)=>`${o+1}. ${s}`).join(`
`)}
</detected_conflicts>

<resolution_actions>
`;return n.forEach((s,o)=>{s.includes("vocabulary")||s.includes("beginner")?r+=`${o+1}. SIMPLIFY VOCABULARY (70% Persona priority)
   - Use plain language for technical concepts
   - Maintain DNA's logical progression and structure
   - Explain jargon when first introduced

`:s.includes("tone")&&!s.includes("platform")?r+=`${o+1}. ADAPT TONE (60% Persona, 40% DNA)
   - Use Persona's preferred tone (${t.preferred_tone||"not specified"})
   - Keep DNA's energy and confidence level
   - Blend: Casual words with authoritative insights

`:s.includes("platform")?r+=`${o+1}. PLATFORM OVERRIDE
   - Platform requirements take precedence: ${t.platform} conventions
   - Adjust pacing and tone to platform norms
   - Keep DNA structure if compatible with platform

`:s.includes("expert")&&s.includes("knowledge")&&(r+=`${o+1}. KNOWLEDGE LEVEL ADJUSTMENT (60% Persona)
   - Simplify content to match Persona's knowledge level
   - Use examples and analogies for complex concepts
   - Maintain DNA's structural progression

`)}),r+=`</resolution_actions>

<application_instruction>
Apply these resolutions consistently throughout the entire script. Do not switch strategies mid-content.
</application_instruction>

</conflict_resolution_strategy>`,r},sC=`
 TTS-OPTIMIZED OUTPUT (CRITICAL):
- NO markdown symbols: no *, #, **, _, ~, \`, etc.
- NO section titles or headers in the output
- NO film/video directions: no [B-roll], [Cut to], [VISUAL], (pause), etc.
- NO parenthetical notes or brackets of any kind
- ONLY clean, speakable text that can be read aloud naturally
- Write as if you are speaking directly to the audience
`,hU=`You are an expert viral content strategist. Your task is to create a detailed script outline that follows the provided DNA structure.

<task>
Generate a JSON outline with sections that match the DNA skeleton exactly.
</task>

<critical_rules>
1. SECTION COUNT: The number of sections MUST exactly match the DNA skeleton
2. SECTION TITLES: Use the exact titles from the DNA skeleton
3. WORD COUNTS: Match the DNA skeleton's word count targets
4. NO ADDITIONS: Do NOT add separate "Hook" or "CTA" sections unless they're in the DNA
5. UNIQUE ANGLE: If provided, integrate it into relevant sections and document it in the notes field
</critical_rules>

<unique_angle_integration>
When a "Unique Angle" is provided:
- Identify which section(s) it applies to
- In the \`notes\` field, write: "Unique Angle Integration: [How this angle is applied in this section]"
- Ensure the angle is woven into the content description, not just mentioned
</unique_angle_integration>

<output_format>
Respond with ONLY valid JSON (no markdown, no explanations):
{
  "sections": [
    {
      "title": "Section name from DNA",
      "wordCount": 150,
      "content": "Detailed description of what this section should cover",
      "notes": "Optional: Unique Angle Integration or other strategic notes"
    }
  ],
  "totalWordCount": 600
}
</output_format>`,fU=`You are an expert viral content scriptwriter. Your task is to write a complete, engaging script based on the provided outline.

<task>
Transform the outline into a compelling script that combines:
- DNA strategy (structure, pacing, viral patterns)
- Persona voice (tone, vocabulary, knowledge level)
- Unique angle (if specified in outline notes)
</task>

<critical_rules>
1. STRUCTURE ADHERENCE: Follow the outline exactly - one section in outline = one section in output
2. DNA PATTERNS: Apply the Content DNA's proven viral patterns, pacing, and retention tactics
3. PERSONA VOICE: Write in the Target Audience's preferred tone and vocabulary level
4. UNIQUE ANGLE: If any section notes mention "Unique Angle Integration", ensure that perspective is present
5. QUALITY: Content must be DETAILED and valuable, not generic or superficial
6. TTS-OPTIMIZED: Write ONLY spoken voiceover text (no [VISUAL] cues, no scene descriptions)
7. NATURAL FLOW: Use conversational, engaging language appropriate for the audience
</critical_rules>

<output_format>
IMPORTANT: Separate each section with the exact delimiter: |||SECTION|||

Example structure:
[Section 1 complete voiceover text here - detailed, engaging, natural]
|||SECTION|||
[Section 2 complete voiceover text here]
|||SECTION|||
[Section 3 complete voiceover text here]
...

Notes:
- Write one section for each outline section
- Do NOT include the section titles in the output
- Do NOT include word count markers
- Just clean, spoken-word text with the delimiter between sections
</output_format>

<dna_persona_priority>
When DNA and Persona conflict:
- STRUCTURE/PACING: Follow DNA (section flow, sentence rhythm)
- VOCABULARY/TONE: Follow Persona (word choice, formality level)
- EXAMPLES: Use DNA format but Persona-relevant content
</dna_persona_priority>

${sC}`,pU=`You are an expert content analyst specializing in viral content evaluation.

<task>
Analyze the provided script and score its viral potential across 5 key dimensions.
</task>

<evaluation_criteria>
1. Hook Strength (0-100): Does the opening grab attention in the first 3 seconds?
2. Structure & Flow (0-100): Is the progression logical, engaging, and well-paced?
3. Engagement Tactics (0-100): Are there pattern interrupts, curiosity loops, and retention hooks?
4. Clarity & Messaging (0-100): Is the core message clear and valuable?
5. Call-to-Action (0-100): Is the CTA compelling and aligned with audience psychology?
</evaluation_criteria>

<output_format>
Respond with ONLY valid JSON (no markdown, no explanations):
{
  "score": 85,
  "breakdown": {
    "hook": 90,
    "structure": 85,
    "engagement": 80,
    "clarity": 88,
    "callToAction": 82
  },
  "strengths": [
    "Specific strength observed in the script",
    "Another concrete strength with evidence"
  ],
  "improvements": [
    "Specific weakness to address",
    "Another area that needs work"
  ],
  "suggestions": [
    "Actionable suggestion to improve hook",
    "Concrete suggestion to boost engagement"
  ]
}
</output_format>

<scoring_guidelines>
- 90-100: Exceptional, viral-ready
- 75-89: Strong, minor tweaks needed
- 60-74: Good foundation, needs improvement
- 40-59: Weak, major revisions required
- 0-39: Poor, needs complete rewrite
</scoring_guidelines>`,mU=(e,t,n,r)=>{var o,i,l,c,u;let s=`You are an expert content writer. Your task is to rewrite a specific section of a script while maintaining quality and coherence.

<section_context>
Section Title: "${e}"
${r.targetWordCount?`Target Word Count: ~${r.targetWordCount} words`:""}
</section_context>

<current_content>
${t}
</current_content>

<rewrite_instructions>
${n?`User Request: ${n}`:"Make it more engaging and impactful."}
</rewrite_instructions>

<critical_rules>
1. PRESERVE FACTS: Keep all key information, numbers, and logical steps from CURRENT CONTENT
   - Do NOT invent new facts or data
   - Do NOT remove essential information
2. IMPROVE STYLE: Enhance voice, tone, and pacing to match DNA constraints
3. TTS-OPTIMIZED: Write ONLY spoken voiceover (no visual cues, no scene directions)
4. COHERENCE: Ensure smooth flow with previous sections
</critical_rules>`;return r.previousSections&&r.previousSections.length>0&&(s+=`

<previous_sections>
Context (do NOT repeat this content):
${r.previousSections.slice(-2).join(`
---
`)}
</previous_sections>`),r.dna&&(s+=`

<dna_strategy>
Apply these Content DNA patterns:
- Pacing: ${r.dna.pacing||"medium"}
- Core Patterns: ${((i=(o=r.dna.analysis_data)==null?void 0:o.corePatterns)==null?void 0:i.join(" | "))||"None specified"}
- Avoid (Flop Patterns): ${((c=(l=r.dna.analysis_data)==null?void 0:l.flopAvoidance)==null?void 0:c.join(" | "))||"None"}
- Audience Psychology: ${((u=r.dna.analysis_data)==null?void 0:u.audiencePsychology)||"Not specified"}
</dna_strategy>`),r.persona&&(s+=`

<persona_voice>
Target Audience characteristics:
- Name: ${r.persona.name}
- Preferred Tone: ${r.persona.preferred_tone||"casual"}
- Vocabulary Level: ${r.persona.vocabulary||"conversational"}
- Knowledge Level: ${r.persona.knowledge_level||"intermediate"}
</persona_voice>`),r.dna&&r.persona&&(s+=`

<conflict_resolution>
When DNA and Persona conflict:
- Use DNA for: Structure, pacing, sentence rhythm
- Use Persona for: Word choice, vocabulary, formality level
</conflict_resolution>`),s+=`

<output_format>
Write ONLY the rewritten section content.
- No explanations
- No meta-commentary
- No formatting markers
- Just clean, spoken-word text
</output_format>

${sC}`,s},aC=(e,t)=>!t||!e?"":rC(e,t).length>0?`

${uU}

${dU(e,t)}`:`

 DNA-PERSONA ALIGNMENT: No major conflicts detected. Follow DNA structure with Persona voice.`,gU=async(e,t,n="google/gemini-3-flash-preview")=>{var l,c,u,d,f,g,m,b,p,x,v,y;if(!t)throw new Error("OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.");if(!e.topic)throw new Error("Topic l bt buc");let r=hU;if(e.targetWordCount&&(r+=`

TARGET TOTAL WORD COUNT: ${e.targetWordCount}`,r+=`
INSTRUCTION: Scale the section word counts so they sum up to approximately ${e.targetWordCount}.`),e.language&&e.language!=="en"){const N={vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[e.language]||"English";r+=`

IMPORTANT: Write the output in ${N}. Keep the JSON keys in English, but the content values must be in the specified language.`}if(e.country){const N={US:"United States",GB:"United Kingdom",VN:"Vietnam",JP:"Japan",KR:"South Korea",IN:"India",DE:"Germany",FR:"France",BR:"Brazil",ID:"Indonesia",TH:"Thailand",PH:"Philippines",AU:"Australia",CA:"Canada",MX:"Mexico",ES:"Spain",IT:"Italy",RU:"Russia",PL:"Poland",NL:"Netherlands"}[e.country]||e.country;r+=`

TARGET REGION: ${N}
Adapt the content for ${N} audience - consider local culture, references, examples, and communication style.`}if(r+=aC(e.dna,e.persona),e.persona?r+=`

TARGET AUDIENCE (PRIMARY - Your defined persona):
- Name: ${e.persona.name}
- Age Range: ${e.persona.age_range||"Not specified"}
- Knowledge Level: ${e.persona.knowledge_level||"intermediate"}
- Pain Points: ${((l=e.persona.pain_points)==null?void 0:l.join(", "))||"Not specified"}
- Preferred Tone: ${e.persona.preferred_tone||"casual"}
- Vocabulary: ${e.persona.vocabulary||"conversational"}
- Objections to Address: ${((c=e.persona.objections)==null?void 0:c.join(", "))||"Not specified"}`:(d=(u=e.dna)==null?void 0:u.analysis_data)!=null&&d.audiencePsychology&&(r+=`

TARGET AUDIENCE (Inferred from source DNA):
${e.dna.analysis_data.audiencePsychology}`),e.dna){const w=(f=e.dna.analysis_data)==null?void 0:f.structuralSkeleton,N=e.dna.structure;r+=`

CONTENT DNA STRATEGY (The "Winning Formula"):`;const S=(g=e.dna.analysis_data)==null?void 0:g.hookAngle;S?r+=`
- Hook Angle: ${S.angleCategory||e.dna.hook_type||"Custom"} (${S.deconstruction||"No details"})`:r+=`
- Hook Type: ${e.dna.hook_type||"Not specified"}`,(m=e.dna.analysis_data)!=null&&m.audiencePsychology&&(r+=`
- Audience Psychology: ${e.dna.analysis_data.audiencePsychology}`),(p=(b=e.dna.analysis_data)==null?void 0:b.corePatterns)!=null&&p.length&&(r+=`
- Success Patterns: ${e.dna.analysis_data.corePatterns.join(" | ")}`),(v=(x=e.dna.analysis_data)==null?void 0:x.flopAvoidance)!=null&&v.length&&(r+=`
-  FLOP AVOIDANCE (Do NOT do this): ${e.dna.analysis_data.flopAvoidance.join(" | ")}`),r+=`
- Pacing: ${e.dna.pacing||"medium"}`,r+=`
- Tone: ${e.dna.tone||"engaging"}`,r+=`
- Retention Tactics: ${((y=e.dna.retention_tactics)==null?void 0:y.join(", "))||"Not specified"}`,w&&w.length>0?r+=`

REQUIRED STRUCTURE (Follow this EXACTLY unless innovation is allowed):
${w.map((j,_)=>`${_+1}. ${j.title} (Target: ~${j.wordCount} words) ${j.contentFocus?`[Focus: ${j.contentFocus}]`:""} ${j.pacing?`[Pacing: ${j.pacing}]`:""}`).join(`
`)}`:N&&N.length>0&&(r+=`

REQUIRED STRUCTURE:
${N.join("  ")}`),e.allowStructureInnovation?r+=`

INNOVATION ALLOWED: You may deviate from the DNA structure by 15-25% to add novelty or better fit the topic. You can merge sections or add new relevant ones, but keep the core "DNA" feeling.`:r+=`

STRICT ADHERENCE REQUIRED: You MUST follow the provided DNA structure/sections EXACTLY. Do not add or remove sections. Match the outline to the DNA steps 1-to-1.`,e.dna.hook_examples&&e.dna.hook_examples.length>0&&(r+=`

 HOOK EXAMPLES (CRITICAL - Study the PATTERN, do NOT copy exact wording):
${e.dna.hook_examples.map((j,_)=>`${_+1}. "${j}"`).join(`
`)}

INSTRUCTION: Analyze the psychological triggers and structural patterns in these hooks. Then create an ENTIRELY ORIGINAL hook using the same psychological strategy but DIFFERENT words and examples. Copying any phrase verbatim is STRICTLY PROHIBITED.`)}e.uniqueAngle&&(r+=`

=== UNIQUE ANGLE / NEW IDEA ===
"${e.uniqueAngle}"

INSTRUCTION: You MUST weave this unique angle into the content strategy of the outline. Don't just copy the DNA patterns; adapt them to serve this specific new angle.`);let s=`Create an outline for a script about: ${e.topic}`;e.keyPoints&&(s+=`

Key points to cover:
${e.keyPoints}`),e.uniqueAngle&&(s+=`

Unique angle/hook:
${e.uniqueAngle}`);const i=await Kt([{role:"system",content:r},{role:"user",content:s}],t,n);return zn(i)},vU=async(e,t,n,r="google/gemini-3-flash-preview")=>{var l,c,u,d,f,g,m,b,p,x,v,y,w,N,S,j,_,E;if(!n)throw new Error("API Key ERROR. PLEASE CONTACT ADMIN.");let s=fU;if(t.language&&t.language!=="en"){const P={vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[t.language]||"English";s+=`

IMPORTANT: Write the script in ${P}.`}if(t.country){const P={US:"United States",GB:"United Kingdom",VN:"Vietnam",JP:"Japan",KR:"South Korea",IN:"India",DE:"Germany",FR:"France",BR:"Brazil",ID:"Indonesia",TH:"Thailand",PH:"Philippines",AU:"Australia",CA:"Canada",MX:"Mexico",ES:"Spain",IT:"Italy",RU:"Russia",PL:"Poland",NL:"Netherlands"}[t.country]||t.country;s+=`

TARGET REGION: ${P}
Adapt content for ${P} audience - use local culture, references, examples.`}if(s+=aC(t.dna,t.persona),t.persona?s+=`

TARGET AUDIENCE (PRIMARY - Your defined persona):
- Name: ${t.persona.name}
- Age Range: ${t.persona.age_range||"Not specified"}
- Knowledge Level: ${t.persona.knowledge_level||"intermediate"}
- Pain Points: ${((l=t.persona.pain_points)==null?void 0:l.join(", "))||"Not specified"}
- Preferred Tone: ${t.persona.preferred_tone||"casual"}
- Vocabulary: ${t.persona.vocabulary||"conversational"}
- Objections to Address: ${((c=t.persona.objections)==null?void 0:c.join(", "))||"Not specified"}`:(d=(u=t.dna)==null?void 0:u.analysis_data)!=null&&d.audiencePsychology&&(s+=`

TARGET AUDIENCE (Inferred from source DNA):
${t.dna.analysis_data.audiencePsychology}`),t.dna){s+=`

=== CONTENT DNA STRATEGY ===`,s+=`
USE THIS FOR STRUCTURE, PACING, AND STRATEGY.`;const C=(f=t.dna.analysis_data)==null?void 0:f.hookAngle;C&&(s+=`
- Hook Angle: ${C.angleCategory} - ${C.deconstruction}`),(g=t.dna.analysis_data)!=null&&g.audiencePsychology&&(s+=`
- Audience Psychology: ${t.dna.analysis_data.audiencePsychology}`),(b=(m=t.dna.analysis_data)==null?void 0:m.corePatterns)!=null&&b.length&&(s+=`
-  CORE STRATEGIES (Apply these): ${t.dna.analysis_data.corePatterns.join(`
  * `)}`),(x=(p=t.dna.analysis_data)==null?void 0:p.viralXFactors)!=null&&x.length&&(s+=`
-  X-FACTORS (The 'Secret Sauce'): ${t.dna.analysis_data.viralXFactors.join(`
  * `)}`),(y=(v=t.dna.analysis_data)==null?void 0:v.flopAvoidance)!=null&&y.length&&(s+=`
-  FLOP AVOIDANCE (Strictly Avoid): ${t.dna.analysis_data.flopAvoidance.join(`
  * `)}`),(N=(w=t.dna.analysis_data)==null?void 0:w.objections)!=null&&N.length&&(s+=`
-  OBJECTIONS TO PRE-EMPT: ${t.dna.analysis_data.objections.join(", ")}`),s+=`

- Structure: ${((S=t.dna.structure)==null?void 0:S.join("  "))||"Follow Outline"}`,s+=`
- Pacing: ${t.dna.pacing||((_=(j=t.dna.analysis_data)==null?void 0:j.pacingAndTone)==null?void 0:_.pacing)||"medium"}`,s+=`
- Retention Tactics: ${((E=t.dna.retention_tactics)==null?void 0:E.join(", "))||"Not specified"}`,t.dna.hook_examples&&t.dna.hook_examples.length>0&&(s+=`

 HOOK EXAMPLES (CRITICAL - Study the PATTERN, do NOT copy exact wording):
${t.dna.hook_examples.map((P,R)=>`${R+1}. "${P}"`).join(`
`)}

INSTRUCTION: Analyze the psychological triggers. Create an ENTIRELY ORIGINAL hook using the same strategy but DIFFERENT words. Copying any phrase verbatim is STRICTLY PROHIBITED.`)}const o=`
OUTLINE TO FOLLOW (${e.sections.length} sections):

${e.sections.map((C,P)=>`${P+1}. ${C.title} (Target: ${C.wordCount} words)
   Content: ${C.content}
   ${C.notes?`Notes: ${C.notes}`:""}`).join(`

`)}

Total Target Words: ${e.totalWordCount}
`,i=[{role:"system",content:s},{role:"user",content:`Write a complete script following this outline:
${o}`}];return await Kt(i,n,r)},yU=async(e,t,n="google/gemini-3-flash-preview")=>{var i,l,c,u;if(!t)throw new Error("OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.");if(!e.topic)throw new Error("Topic l bt buc");let r=`You are an expert viral content scriptwriter. Your job is to create compelling, engaging scripts that capture attention and drive engagement.

Based on the provided inputs, write a complete script that:
1. Opens with a powerful hook that grabs attention in the first 3 seconds
2. Uses proven viral patterns and retention tactics
3. Maintains engagement throughout with pattern interrupts
4. Ends with a clear call-to-action

Write the script in a natural, conversational tone. Include [VISUAL] cues where relevant.`;if(e.language&&e.language!=="en"){const f={vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[e.language]||"English";r+=`

IMPORTANT: Write the script in ${f}.`}if(e.country){const f={US:"United States",GB:"United Kingdom",VN:"Vietnam",JP:"Japan",KR:"South Korea",IN:"India",DE:"Germany",FR:"France",BR:"Brazil",ID:"Indonesia",TH:"Thailand",PH:"Philippines",AU:"Australia",CA:"Canada",MX:"Mexico",ES:"Spain",IT:"Italy",RU:"Russia",PL:"Poland",NL:"Netherlands"}[e.country]||e.country;r+=`

TARGET REGION: ${f}
Adapt the content for ${f} audience - consider local culture, references, examples, and communication style.`}e.persona&&(r+=`

TARGET AUDIENCE:
- Name: ${e.persona.name}
- Age Range: ${e.persona.age_range||"Not specified"}
- Knowledge Level: ${e.persona.knowledge_level||"intermediate"}
- Pain Points: ${((i=e.persona.pain_points)==null?void 0:i.join(", "))||"Not specified"}
- Preferred Tone: ${e.persona.preferred_tone||"casual"}
- Vocabulary: ${e.persona.vocabulary||"conversational"}`),e.dna&&(r+=`

CONTENT DNA PATTERNS:
- Hook Type: ${e.dna.hook_type||"Not specified"}
- Structure: ${((l=e.dna.structure)==null?void 0:l.join("  "))||"Not specified"}
- Pacing: ${e.dna.pacing||"medium"}
- Retention Tactics: ${((c=e.dna.retention_tactics)==null?void 0:c.join(", "))||"Not specified"}
- Tone: ${e.dna.tone||"engaging"}
- Patterns: ${((u=e.dna.patterns)==null?void 0:u.join(", "))||"Not specified"}`),e.customPrompt&&(r+=`

ADDITIONAL INSTRUCTIONS:
${e.customPrompt}`);let s=`Write a script about: ${e.topic}`;return e.keyPoints&&(s+=`

Key points to cover:
${e.keyPoints}`),e.uniqueAngle&&(s+=`

Unique angle/hook:
${e.uniqueAngle}`),await Kt([{role:"system",content:r},{role:"user",content:s}],t,n)},xU=async(e,t,n="google/gemini-3-flash-preview",r,s)=>{var c;if(!t)throw new Error("OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.");if(!e)throw new Error("Script l bt buc");let o=pU;r&&(o+=`

Evaluate against these DNA patterns:
- Hook Type: ${r.hook_type||"Not specified"}
- Structure: ${((c=r.structure)==null?void 0:c.join("  "))||"Not specified"}
- Tone: ${r.tone||"engaging"}`),s&&(o+=`

Target audience:
- Name: ${s.name}
- Knowledge Level: ${s.knowledge_level||"intermediate"}`);const i=[{role:"system",content:o},{role:"user",content:`Score this script:

${e}`}],l=await Kt(i,t,n);return zn(l)},wU=(e,t)=>{const n=e.reduce((d,f)=>d+f.wordCount,0);if(n===0||t<=0)return e;const r=80,o=Math.floor(t*.35),i=t/n;let l=e.map(d=>{const f=Math.round(d.wordCount*i),g=Math.max(r,Math.min(o,f));return{...d,wordCount:g}});const c=l.reduce((d,f)=>d+f.wordCount,0),u=t-c;if(u!==0){const d=l.map((f,g)=>({idx:g,room:u>0?o-f.wordCount:f.wordCount-r})).filter(f=>f.room>0);if(d.length>0){const f=d.reduce((b,p)=>b+p.room,0);d.forEach(({idx:b,room:p})=>{const x=p/f,v=Math.round(u*x);l[b].wordCount+=v});const g=l.reduce((b,p)=>b+p.wordCount,0),m=t-g;if(m!==0){const b=l.reduce((p,x,v)=>x.wordCount>l[p].wordCount?v:p,0);l[b].wordCount+=m}}}return l},bU=(e,t=500)=>{const n=e.trim().split(/\s+/).filter(Boolean);return n.length<=t?e:n.slice(-t).join(" ")},NU=async(e,t,n,r="google/gemini-3-flash-preview",s)=>{var g,m;if(!n)throw new Error("OpenRouter API Key cha c cu hnh.");let o=e.sections;t.targetWordCount&&t.targetWordCount>0&&(o=wU(o,t.targetWordCount));const i=2,l=[];let c="";const u=[];for(let b=0;b<o.length;b+=i)u.push(o.slice(b,b+i));const d=o.length;let f=0;for(let b=0;b<u.length;b++){const p=u[b],x=p.reduce((j,_)=>j+_.wordCount,0);f+=p.length;const v=p.map(j=>j.title).join(" & ");s==null||s(f,d,`Writing "${v}"...`);let y=`You are an expert viral content scriptwriter. Write the following ${p.length} section(s) in one continuous, seamless flow.

RULES:
1. Write ONLY spoken voiceover content (no visual cues, no markdown).
2. Create natural transitions between sections without forced phrases.
3. Be DETAILED, insightful, and valuable - not generic.

 STRICT WORD COUNT (CRITICAL):
- TOTAL for this chunk: EXACTLY ${x} words
- Tolerance: 5% ONLY (${Math.floor(x*.95)}-${Math.ceil(x*1.05)} words)
- Count your words before finalizing
- Going significantly over or under is NOT acceptable

 TTS-OPTIMIZED OUTPUT (CRITICAL):
- NO markdown symbols: no *, #, **, _, ~, \`, etc.
- NO section titles or headers in the output
- NO film/video directions: no [B-roll], [Cut to], [VISUAL], (pause), etc.
- NO parenthetical notes or brackets of any kind
- ONLY clean, speakable text that can be read aloud naturally`;if(t.language&&t.language!=="en"&&(y+=`

IMPORTANT: Write in ${{vi:"Vietnamese",es:"Spanish",fr:"French",ja:"Japanese",ko:"Korean"}[t.language]||"English"}.`),t.country){const _={US:"United States",GB:"United Kingdom",VN:"Vietnam",JP:"Japan",KR:"South Korea",IN:"India",DE:"Germany",FR:"France",BR:"Brazil",ID:"Indonesia",TH:"Thailand",PH:"Philippines",AU:"Australia",CA:"Canada",MX:"Mexico",ES:"Spain",IT:"Italy",RU:"Russia",PL:"Poland",NL:"Netherlands"}[t.country]||t.country;y+=`

TARGET REGION: ${_}
Adapt the content for ${_} audience - consider local culture, references, examples, and communication style.`}t.dna&&(y+=`

CONTENT DNA:
- Tone: ${((m=(g=t.dna.analysis_data)==null?void 0:g.linguisticFingerprint)==null?void 0:m.toneAnalysis)||t.dna.tone||"engaging"}
- Pacing: ${t.dna.pacing||"medium"}`),t.persona&&(y+=`

TARGET AUDIENCE:
- Knowledge Level: ${t.persona.knowledge_level||"intermediate"}
- Preferred Tone: ${t.persona.preferred_tone||"casual"}`);let w="";if(c.length>0){const j=bU(c,500);w+=`=== PREVIOUS CONTEXT (last 500 words - maintain flow) ===
${j}

`}w+=`=== SECTIONS TO WRITE ===
`,p.forEach((j,_)=>{w+=`${_+1}. "${j.title}" (~${j.wordCount} words)
`,w+=`   Content: ${j.content}
`,j.notes&&(w+=`   Notes: ${j.notes}
`),w+=`
`}),w+=`TOTAL TARGET: ${x} words

`,p.length>1&&(w+=`OUTPUT FORMAT: Use |||SECTION||| delimiter between sections.

`),w+="Write the content now:";const S=await Kt([{role:"system",content:y},{role:"user",content:w}],n,r);l.push(S),c+=`
`+S}return l.join(`
|||SECTION|||
`)},SU=async(e,t,n,r,s="google/gemini-3-flash-preview")=>{var u;const i=[{role:"user",content:`You are a viral content strategist. Suggest 3 unique angles for creating content about this topic.

TOPIC: ${e}

${t?`DNA STYLE:
- Hook Type: ${t.hook_type||"engaging"}
- Tone: ${t.tone||"conversational"}
- Niche: ${t.niche||"general"}`:""}

${n?`TARGET AUDIENCE:
- Name: ${n.name}
- Knowledge Level: ${n.knowledge_level||"intermediate"}
- Pain Points: ${((u=n.pain_points)==null?void 0:u.join(", "))||"Not specified"}`:""}

Respond in JSON format:
{
  "angles": [
    { "angle": "The unique angle/hook", "reasoning": "Why this angle works" },
    { "angle": "Another angle", "reasoning": "Why this works" },
    { "angle": "Third angle", "reasoning": "Why this works" }
  ]
}`}],l=await Kt(i,r,s);return zn(l).angles||[]},jU=async(e,t,n,r,s,o="google/gemini-3-flash-preview")=>{const l=[{role:"user",content:mU(e,t,n,r)}];return await Kt(l,s,o)},_U=async(e,t,n,r,s="google/gemini-3-flash-preview")=>{const i=[{role:"user",content:`You are an SEO expert for video content. Generate optimized metadata for this script.

SCRIPT CONTENT:
"""
${e.substring(0,2e3)}${e.length>2e3?"...":""}
"""

${t?`CONTENT STYLE: ${t.niche||"general"} - ${t.tone||"engaging"}`:""}
${n?`TARGET AUDIENCE: ${n.name||"General audience"}`:""}

Generate SEO-optimized metadata. Respond in JSON:
{
  "title": "Catchy, SEO-friendly title (50-60 chars)",
  "description": "Compelling description with keywords (150-160 chars)",
  "tags": ["tag1", "tag2", "tag3", "tag4", "tag5"]
}`}],l=await Kt(i,r,s),c=zn(l);return{title:c.title||"",description:c.description||"",tags:c.tags||[]}};function oC(){const[e,t]=h.useState([]),[n,r]=h.useState(!0),{user:s}=Nn(),{toast:o}=$t(),{settings:i}=ps(),l=h.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:w,error:N}=await Ie.from("scripts").select("*").order("created_at",{ascending:!1});if(N)throw N;const S=(w||[]).map(j=>({...j,outline_history:j.outline_history||[],script_history:j.script_history||[],outline_model:j.outline_model||"google/gemini-3-flash-preview",script_model:j.script_model||"google/gemini-3-flash-preview"}));t(S)}catch(w){console.error("Error fetching scripts:",w),o({title:"Error",description:"Failed to fetch scripts",variant:"destructive"})}finally{r(!1)}},[s,o]);return h.useEffect(()=>{l()},[l]),{scripts:e,loading:n,generateOutline:async w=>{const N=i==null?void 0:i.openrouter_api_key;if(!N)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{const S=w.model||"google/gemini-3-flash-preview";return await gU(w,N,S)}catch(S){console.error("Error generating outline:",S);const j=S instanceof Error?S.message:"Failed to generate outline";return o({title:"Error",description:j,variant:"destructive"}),null}},generateScriptFromOutline:async(w,N)=>{const S=i==null?void 0:i.openrouter_api_key;if(!S)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{const j=N.model||"google/gemini-3-flash-preview";return await vU(w,N,S,j)}catch(j){console.error("Error generating script from outline:",j);const _=j instanceof Error?j.message:"Failed to generate script";return o({title:"Error",description:_,variant:"destructive"}),null}},generateScriptSectionBySection:async(w,N,S)=>{const j=i==null?void 0:i.openrouter_api_key;if(!j)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{const _=N.model||"google/gemini-3-flash-preview";return await NU(w,N,j,_,S)}catch(_){console.error("Error generating script section by section:",_);const E=_ instanceof Error?_.message:"Failed to generate script";return o({title:"Error",description:E,variant:"destructive"}),null}},generateScript:async w=>{const N=i==null?void 0:i.openrouter_api_key;if(!N)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await yU(w,N,"google/gemini-3-flash-preview")}catch(S){console.error("Error generating script:",S);const j=S instanceof Error?S.message:"Failed to generate script";return o({title:"Error",description:j,variant:"destructive"}),null}},scoreScript:async(w,N,S)=>{const j=i==null?void 0:i.openrouter_api_key;if(!j)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await xU(w,j,"google/gemini-3-flash-preview",N,S)}catch(_){console.error("Error scoring script:",_);const E=_ instanceof Error?_.message:"Failed to score script";return o({title:"Error",description:E,variant:"destructive"}),null}},createScript:async w=>{if(!s)return null;try{const N={title:w.title||"New Script",user_id:s.id,topic:w.topic,key_points:w.key_points,unique_angle:w.unique_angle,generation_mode:w.generation_mode,persona_id:w.persona_id,dna_id:w.dna_id,blueprint_id:w.blueprint_id,blueprint_content:w.blueprint_content,full_script:w.full_script,score:w.score,score_breakdown:w.score_breakdown,status:w.status},{data:S,error:j}=await Ie.from("scripts").insert(N).select().single();if(j)throw j;const _={...S,outline_history:S.outline_history||[],script_history:S.script_history||[],outline_model:S.outline_model||"google/gemini-3-flash-preview",script_model:S.script_model||"google/gemini-3-flash-preview"};return t(E=>[_,...E]),o({title:"Success",description:"Script saved successfully"}),_}catch(N){return console.error("Error creating script:",N),o({title:"Error",description:"Failed to save script",variant:"destructive"}),null}},updateScript:async(w,N)=>{try{const S={...N,outline_history:N.outline_history?N.outline_history:void 0,script_history:N.script_history?N.script_history:void 0},{data:j,error:_}=await Ie.from("scripts").update(S).eq("id",w).select().single();if(_)throw _;const E={...j,outline_history:j.outline_history||[],script_history:j.script_history||[],outline_model:j.outline_model||"google/gemini-3-flash-preview",script_model:j.script_model||"google/gemini-3-flash-preview"};return t(C=>C.map(P=>P.id===w?E:P)),o({title:"Success",description:"Script updated successfully"}),E}catch(S){return console.error("Error updating script:",S),o({title:"Error",description:"Failed to update script",variant:"destructive"}),null}},deleteScript:async w=>{try{const{error:N}=await Ie.from("scripts").delete().eq("id",w);if(N)throw N;return t(S=>S.filter(j=>j.id!==w)),o({title:"Success",description:"Script deleted successfully"}),!0}catch(N){return console.error("Error deleting script:",N),o({title:"Error",description:"Failed to delete script",variant:"destructive"}),!1}},refetch:l,suggestUniqueAngle:async(w,N,S,j)=>{const _=i==null?void 0:i.openrouter_api_key;if(!_)return o({title:"Error",description:"API Key not configured.",variant:"destructive"}),[];try{return await SU(w,N,S,_,j)}catch(E){return console.error("Error suggesting angles:",E),o({title:"Error",description:"Failed to suggest angles",variant:"destructive"}),[]}},rewriteSection:async(w,N,S,j,_)=>{const E=i==null?void 0:i.openrouter_api_key;if(!E)return o({title:"Error",description:"API Key not configured.",variant:"destructive"}),null;try{return await jU(w,N,S,j,E,_)}catch(C){return console.error("Error rewriting section:",C),o({title:"Error",description:"Failed to rewrite section",variant:"destructive"}),null}},generateSEO:async(w,N,S,j)=>{const _=i==null?void 0:i.openrouter_api_key;if(!_)return o({title:"Error",description:"API Key not configured.",variant:"destructive"}),null;try{return await _U(w,N,S,_,j)}catch(E){return console.error("Error generating SEO:",E),o({title:"Error",description:"Failed to generate SEO",variant:"destructive"}),null}}}}const CU="modulepreload",EU=function(e){return"/"+e},B0={},kU=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=EU(c),c in B0)return;B0[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":CU,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((g,m)=>{f.addEventListener("load",g),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},TU=`You are an expert Viral Content Analyst. Your task is to reverse-engineer the "DNA" (structural patterns, psychological triggers, and linguistic fingerprints) of high-performing video scripts.

<task>
Analyze the provided video transcripts and comments to extract reusable content patterns that can be applied to new scripts.
</task>

<golden_rules>
These rules override all other instructions:

RULE 1: ABSTRACTION OVER COPYING
You MUST generalize specific details into reusable formulas. Never copy literal values from the source material.

Examples of proper abstraction:
| Input Type      | Specific Example     |  Abstracted Formula                              |
|-----------------|----------------------|----------------------------------------------------|
| Numbers/Money   | "$1,234"             | "Use precise, non-round numbers for credibility"   |
| Names           | "John Smith"         | "Reference a specific authority figure"            |
| Dates/Time      | "Last Tuesday"       | "Anchor to recent, relatable timeframe"            |
| Locations       | "Caf in NYC"        | "Ground story in vivid, relatable setting"         |
| Events          | "My car crash"       | "Open with high-stakes personal anecdote"          |

 WRONG: contentFocus = "Talk about how I lost $500 on Bitcoin"
 RIGHT: contentFocus = "Describe personal financial setback to build empathy and hook"

RULE 2: MANDATORY AUDIENCE INTERACTION
Every section MUST have an 'audienceInteraction' field:
- Explicit CTA: "Subscribe now!"  Record exactly
- Implicit trigger: No direct CTA  Identify psychological engagement mechanism
  Examples: "Let me know thoughts" (comment bait), Cliffhanger ending (retention), Rhetorical question (internal engagement)

RULE 3: MULTI-VIDEO SYNTHESIS (When analyzing multiple videos)
- IDENTIFY: Patterns appearing in 2+ videos (consensus patterns)
- RANK: By frequency (all videos > most videos > some videos)
- ABSTRACT: Common formula, not specific examples from one video
- OUTPUT: Skeleton reflects CONSENSUS structure, not individual video's unique approach
- UNIFY: Find underlying patterns when structures differ
</golden_rules>

<analysis_methodology>
Follow this systematic process:

1. CONTRAST ANALYSIS
   Compare Viral vs Flop content. Identify the "Content Gap" - what makes one succeed and the other fail?

2. MULTI-VIDEO PATTERN DETECTION
   - Scan all videos for recurring elements
   - Weight patterns by frequency across videos
   - Abstract common formulas that transcend specific examples

3. STRUCTURAL EXTRACTION
   Break down scripts into distinct functional sections (not just "intro/body/conclusion")

4. SECTION ANALYSIS
   For each section, identify:
   - Tone and emotional texture
   - Linguistic pacing (sentence rhythm, NOT video editing speed)
   - Abstract content focus (the formula, not the specifics)
   - Audience value delivered

5. CURIOSITY LOOP MAPPING
   Track where curiosity gaps open and close throughout the script

6. EMOTIONAL ARC MAPPING
   Chart the viewer's emotional journey from hook to CTA
</analysis_methodology>

<output_schema>
Return a single valid JSON object with this exact structure:

{
  "name": "Pattern name (e.g., 'The Reluctant Expert', 'The Contrarian Educator')",
  "niche": "Content category (e.g., Personal Finance, Health Optimization, SaaS Marketing)",
  "targetWordCount": 0,  // Average word count calculated from viral inputs

  "audiencePsychology": "2-3 sentences describing audience's emotional state, fears, and desires. What psychological need does this content address?",

  "linguisticFingerprint": {
    "personaRole": "Speaker's adopted role (e.g., Mentor, Insider, Skeptic, Guide, Authority)",
    "toneAnalysis": "Detailed tone description (e.g., 'Authoritative yet empathetic', 'Playfully provocative')",
    "syntaxPatterns": "Sentence structure analysis (e.g., 'Frequent rhetorical questions', 'Short punchy statements with occasional long explanatory sentence')",
    "signatureKeywords": ["recurring_keyword1", "recurring_keyword2", "distinctive_phrase"]
  },

  "hookAngle": {
    "angleCategory": "Hook type (e.g., Contrarian, Curiosity Gap, Social Proof, Pattern Interrupt, Fear/Urgency)",
    "deconstruction": "Psychological mechanism: Why does this hook capture attention? What emotional trigger does it activate?"
  },

  "pacingAndTone": {
    "pacing": "Global linguistic rhythm description (e.g., 'Sharp, punchy sentences. Rapid-fire delivery with strategic pauses.', 'Slow build with increasing intensity')"
  },

  "emotionalArc": [
    { "section": "Hook", "emotion": "Shock/Curiosity/Intrigue" },
    { "section": "Build", "emotion": "Anticipation/Tension/Investment" },
    { "section": "Payoff", "emotion": "Satisfaction/Surprise/Relief" },
    { "section": "CTA", "emotion": "Empowerment/Urgency" }
  ],

  "structuralSkeleton": [
    {
      "title": "Abstract functional name (e.g., 'The Pattern Interrupt', 'The Credibility Anchor', 'The Value Proposition') - NOT specific content",
      "wordCount": 150,  // Calculated from source transcript, not invented
      "tone": "Section-specific tone (e.g., Urgent, Sincere, Playful, Authoritative)",
      "pacing": "Linguistic rhythm for this section (e.g., 'Staccato. Short bursts.', 'One long flowing sentence for impact.')",
      "contentFocus": "ABSTRACT formula of what happens here. NO specific details from source material.",
      "audienceValue": "What tangible value does viewer extract from this section? (MANDATORY)",
      "audienceInteraction": "Explicit CTA or implicit engagement trigger (MANDATORY - see Rule 2)",
      "antiPattern": "Specific mistake to AVOID (e.g., 'Don't use vague language', 'No slow meandering intro')",
      "openLoop": "If curiosity gap opens here, describe the unanswered question. Else null.",
      "closesLoop": "If this answers a previous open loop, reference which one. Else null.",
      "transitionOut": "How does this section bridge to the next? What's the connective tissue?"
    }
  ],

  "highDopamine": [
    "Specific engagement elements that triggered high viewer response (identified from comments/metrics)"
  ],

  "confusionPoints": [
    "Moments where viewers got lost or needed clarification (identified from comments)"
  ],

  "objections": [
    "Common pushbacks, disagreements, or skepticism expressed in comments"
  ],

  "corePatterns": [
    "Pattern Name: Why it works (psychological/structural mechanism)"
  ],

  "viralXFactors": [
    "Unique Element: Why it stood out from typical content in this niche"
  ],

  "flopAvoidance": [
    "Specific anti-patterns extracted from Flop content that MUST be avoided"
  ]
}
</output_schema>

<critical_notes>
1. Pacing = LINGUISTIC rhythm (sentence length, breath patterns), NOT video editing speed
2. wordCount = Calculated from actual transcript, NOT estimated or invented
3. If no Flop content provided: Focus only on viral pattern extraction
4. Structural skeleton sections: Use functional names that describe PURPOSE, not content
5. Every recommendation must be actionable and generalizable
</critical_notes>`,PU=`You are a DNA Evolution AI. Your task is to REFINE an existing Content DNA by integrating insights from new video content.

<task>
Intelligently merge new patterns with existing DNA. This is NOT simple list concatenation - you must learn, generalize, and consolidate.
</task>

<evolution_rules>
1. LEARN: Extract new patterns, hooks, and tactics from viral videos
2. LEARN: Identify new anti-patterns from flop videos
3. COMPARE: Evaluate new insights against existing DNA patterns
4. MERGE: Consolidate similar patterns (avoid duplicates)
5. REPLACE: Swap weak/specific patterns with stronger/general ones
6. REMOVE: Eliminate redundant or conflicting patterns
7. QUALITY: No hard limits on list length - keep what's valuable
8. GENERALIZE: Extract principles, not just specific examples
9. RESOLVE: When new content contradicts existing DNA, keep the stronger pattern
</evolution_rules>

<consolidation_logic>
Decision tree for handling new patterns:

IF new pattern is similar to existing pattern:
   MERGE into one stronger, more general pattern

IF new pattern is clearly superior:
   REPLACE the existing weak pattern

IF new pattern is unique AND valuable:
   ADD it to the DNA

IF existing patterns are now redundant:
   REMOVE them

Hook examples special case:
   Keep max 4-5 highest quality examples
   Prioritize recent additions if quality is equal
   Ensure diversity in hook types
</consolidation_logic>

<output_format>
Return valid JSON with complete evolved DNA:

{
  "evolvedDna": {
    // Complete DNA object with ALL fields
    // (same schema as DNA_EXTRACTION_PROMPT output)
  },
  "changesSummary": [
    "Merged 'Pattern X' and 'Pattern Y' into unified 'Pattern Z'",
    "Replaced weak hook example #2 with stronger version from new viral video",
    "Added 'new insight' to flopAvoidance based on recent flop analysis",
    "Removed 3 redundant items from corePatterns (consolidated into 2 stronger patterns)",
    "Updated audiencePsychology to reflect deeper understanding"
  ]
}
</output_format>

<quality_standards>
Evolved DNA should be:
- More general and reusable than before
- Free of duplicates and redundancies
- Consolidated where possible
- Stronger and more actionable
- Validated against both old and new evidence
</quality_standards>`,AU=`You are a Content Auditor. Perform a quick pre-analysis scan of the provided video transcripts and comments.

<task>
For EACH video, assess its fundamental characteristics to identify outliers and quality issues before full DNA extraction.
</task>

<assessment_criteria>
For each video, determine:
1. Topic/Niche: 1-2 word category
2. Primary Tone: Single adjective (e.g., Authoritative, Casual, Urgent)
3. Quality Score: 0-100 based on clarity, value, and coherence
4. Outlier Status: True if it deviates significantly in Topic or Tone from the group majority
</assessment_criteria>

<output_format>
Return a JSON array with one object per video:

[
  {
    "index": 0,
    "type": "viral",
    "topic": "Productivity",
    "tone": "Motivational",
    "qualityScore": 85,
    "isOutlier": false,
    "reason": "Aligns with group. Clear messaging and strong structure."
  },
  {
    "index": 1,
    "type": "viral",
    "topic": "Health",
    "tone": "Skeptical",
    "qualityScore": 92,
    "isOutlier": true,
    "reason": "Different niche from majority. Consider excluding from pattern extraction."
  }
]
</output_format>

<outlier_detection>
A video is an outlier if:
- Topic differs significantly from 70%+ of other videos
- Tone contradicts the dominant tone pattern
- Quality score is 30+ points below group average
- Structure is fundamentally different (e.g., tutorial vs. storytelling)

Recommendation: Flag outliers for potential exclusion from DNA synthesis.
</outlier_detection>`,RU=async(e,t,n="google/gemini-3-flash-preview")=>{if(!t)throw new Error("API Key required");const r=e.viralVideos.map((u,d)=>{var f;return`VIDEO #${d} (VIRAL): Title: ${u.title}. Transcript: ${(f=u.transcript)==null?void 0:f.substring(0,500)}...`}).join(`

`),s=e.flopVideos.map((u,d)=>{var f;return`VIDEO #${d} (FLOP): Title: ${u.title}. Transcript: ${(f=u.transcript)==null?void 0:f.substring(0,500)}...`}).join(`

`),o=[r,s].filter(Boolean).join(`

---

`),l=await Kt([{role:"system",content:AU},{role:"user",content:o}],t,n);return zn(l).map(u=>{var g,m;const d=((g=u.type)==null?void 0:g.toLowerCase())==="viral"||!u.type&&u.index<e.viralVideos.length,f=d?e.viralVideos[u.index]:e.flopVideos[u.index];return{...u,type:d?"viral":"flop",title:f==null?void 0:f.title,wordCount:((m=f==null?void 0:f.transcript)==null?void 0:m.split(/\s+/).length)||0}})},sy=async(e,t,n="google/gemini-3-flash-preview")=>{var d,f,g,m,b,p;if(!t)throw new Error("OpenRouter API Key cha c cu hnh.");const r=e.viralVideos.filter(x=>x.transcript),s=r.reduce((x,v)=>{var y;return x+(((y=v.transcript)==null?void 0:y.split(/\s+/).length)||0)},0),o=r.length>0?Math.round(s/r.length):0,i=3,l=[];for(let x=0;x<e.viralVideos.length;x+=i)l.push(e.viralVideos.slice(x,x+i));const c=[];for(const x of l){let v=[];x.forEach((j,_)=>{v.push(`=== VIRAL VIDEO ${_+1}: ${j.title||"Untitled"} ===`),j.transcript&&v.push(`TRANSCRIPT:
${j.transcript}`),j.comments&&v.push(`COMMENTS:
${j.comments}`)}),c.length===0&&e.flopVideos.length>0&&e.flopVideos.forEach((j,_)=>{v.push(`=== FLOP (AVOID) ${_+1}: ${j.title} ===`),v.push(`TRANSCRIPT:
${j.transcript}`)});const y=v.join(`

`);let w=TU.replace("Extract the complete",`AVERAGE WORD COUNT: ${o} words.
Extract the complete`);e.overrideLogic&&(w+=`

ADDITIONAL: ${e.overrideLogic}`);const N=[{role:"system",content:w},{role:"user",content:`Analyze batch and extract DNA:

${y}`}],S=await Kt(N,t,n);c.push(zn(S))}const u=IU(c,o);return{name:u.name||"Extracted DNA",niche:u.niche||"",targetWordCount:u.targetWordCount,audiencePsychology:u.audiencePsychology||"",linguisticFingerprint:u.linguisticFingerprint||{personaRole:"",toneAnalysis:"",signatureKeywords:[]},hookAngle:u.hookAngle||{angleCategory:"",deconstruction:""},pacingAndTone:u.pacingAndTone||{pacing:"",tone:""},emotionalArc:u.emotionalArc||[],structuralSkeleton:u.structuralSkeleton||[],highDopamine:u.highDopamine||[],confusionPoints:u.confusionPoints||[],objections:u.objections||[],corePatterns:u.corePatterns||[],viralXFactors:u.viralXFactors||[],flopAvoidance:u.flopAvoidance||[],tone:((d=u.pacingAndTone)==null?void 0:d.tone)||"",patterns:u.corePatterns||[],vocabulary:((g=(f=u.linguisticFingerprint)==null?void 0:f.signatureKeywords)==null?void 0:g.join(", "))||"",hook_type:((m=u.hookAngle)==null?void 0:m.angleCategory)||"",hook_examples:[],structure:((b=u.structuralSkeleton)==null?void 0:b.map(x=>x.title))||[],pacing:((p=u.pacingAndTone)==null?void 0:p.pacing)||"",retention_tactics:u.highDopamine||[],x_factors:u.viralXFactors||[]}},OU=async(e,t,n="google/gemini-3-flash-preview",r)=>sy({viralVideos:[{title:"",transcript:e,comments:"",notes:r?`Source: ${r}`:""}],flopVideos:[]},t,n),IU=(e,t)=>{if(e.length===0)throw new Error("No batch results to merge");if(e.length===1)return{...e[0],targetWordCount:t};const n=(m,b=.5)=>{const p=new Map,x=m.length;return m.forEach(v=>{if(!v)return;[...new Set(v)].forEach(w=>{p.set(w,(p.get(w)||0)+1)})}),Array.from(p.entries()).filter(([v,y])=>y/x>=b).sort((v,y)=>y[1]-v[1]).map(([v])=>v)},r=m=>{if(!m||m.length===0)return[];const b=m.filter(x=>x&&x.length>0);return b.length===0?[]:(b.sort((x,v)=>x.length-v.length),b[Math.floor(b.length/2)].map((x,v)=>{const w=b.map(S=>S[v]).filter(Boolean).map(S=>S.wordCount||0).filter(S=>S>0),N=w.length>0?Math.round(w.reduce((S,j)=>S+j,0)/w.length):x.wordCount;return{...x,wordCount:N}}))},s=m=>{const b=m.filter(p=>p&&p.trim().length>0);return b.length===0?"":b.reduce((p,x)=>x.length>p.length?x:p)},o=e.map(m=>m.corePatterns).filter(Boolean),i=e.map(m=>m.viralXFactors).filter(Boolean),l=e.map(m=>m.flopAvoidance).filter(Boolean),c=e.map(m=>m.highDopamine).filter(Boolean),u=e.map(m=>m.confusionPoints).filter(Boolean),d=e.map(m=>m.objections).filter(Boolean),f=e.map(m=>m.structuralSkeleton).filter(Boolean);return{name:s(e.map(m=>m.name)),niche:s(e.map(m=>m.niche)),targetWordCount:t,audiencePsychology:s(e.map(m=>m.audiencePsychology)),linguisticFingerprint:{personaRole:s(e.map(m=>{var b;return(b=m.linguisticFingerprint)==null?void 0:b.personaRole})),toneAnalysis:s(e.map(m=>{var b;return(b=m.linguisticFingerprint)==null?void 0:b.toneAnalysis})),syntaxPatterns:s(e.map(m=>{var b;return(b=m.linguisticFingerprint)==null?void 0:b.syntaxPatterns})),signatureKeywords:n(e.map(m=>{var b;return(b=m.linguisticFingerprint)==null?void 0:b.signatureKeywords}).filter(Boolean),.4)},hookAngle:e.map(m=>m.hookAngle).filter(m=>m&&m.deconstruction).sort((m,b)=>{var p,x;return(((p=b.deconstruction)==null?void 0:p.length)||0)-(((x=m.deconstruction)==null?void 0:x.length)||0)})[0]||{angleCategory:"",deconstruction:""},pacingAndTone:{pacing:s(e.map(m=>{var b;return(b=m.pacingAndTone)==null?void 0:b.pacing}))},emotionalArc:e.map(m=>m.emotionalArc).filter(m=>m&&m.length>0).sort((m,b)=>b.length-m.length)[0]||[],structuralSkeleton:r(f),corePatterns:n(o,.5),viralXFactors:n(i,.4),flopAvoidance:n(l,.5),highDopamine:n(c,.5),confusionPoints:n(u,.3),objections:n(d,.4)}},iC=async(e,t,n,r="google/gemini-3-flash-preview")=>{var u,d,f,g,m,b,p,x,v,y,w,N,S,j,_,E,C,P,R,L,B,M,H;if(!n)throw new Error("OpenRouter API Key cha c cu hnh.");let s=`EXISTING DNA TO EVOLVE:
\`\`\`json
${JSON.stringify(e,null,2)}
\`\`\`

`;t.viralVideos&&t.viralVideos.length>0&&(s+=`NEW VIRAL VIDEOS TO LEARN FROM:
`,t.viralVideos.forEach((V,Y)=>{s+=`
--- VIRAL VIDEO ${Y+1} ${V.url?`(${V.url})`:""} ---
`,s+=V.transcript.substring(0,4e3),s+=`
`}),s+=`
`),t.flopVideos&&t.flopVideos.length>0&&(s+=`NEW FLOP VIDEOS TO LEARN MISTAKES FROM:
`,t.flopVideos.forEach((V,Y)=>{s+=`
--- FLOP VIDEO ${Y+1} ${V.url?`(${V.url})`:""} ---
`,s+=V.transcript.substring(0,4e3),s+=`
`}),s+=`
`),s+=`
Analyze the new content, learn from it, and EVOLVE the DNA. Return the complete evolved DNA and a summary of changes.`;const i=await Kt([{role:"system",content:PU},{role:"user",content:s}],n,r),l=zn(i);return{evolvedDna:{name:((u=l.evolvedDna)==null?void 0:u.name)||e.name,niche:((d=l.evolvedDna)==null?void 0:d.niche)||e.niche,targetWordCount:((f=l.evolvedDna)==null?void 0:f.targetWordCount)||e.targetWordCount,audiencePsychology:((g=l.evolvedDna)==null?void 0:g.audiencePsychology)||e.audiencePsychology,linguisticFingerprint:((m=l.evolvedDna)==null?void 0:m.linguisticFingerprint)||e.linguisticFingerprint,hookAngle:((b=l.evolvedDna)==null?void 0:b.hookAngle)||e.hookAngle,pacingAndTone:((p=l.evolvedDna)==null?void 0:p.pacingAndTone)||e.pacingAndTone,structuralSkeleton:((x=l.evolvedDna)==null?void 0:x.structuralSkeleton)||e.structuralSkeleton,highDopamine:((v=l.evolvedDna)==null?void 0:v.highDopamine)||e.highDopamine,confusionPoints:((y=l.evolvedDna)==null?void 0:y.confusionPoints)||e.confusionPoints,objections:((w=l.evolvedDna)==null?void 0:w.objections)||e.objections,corePatterns:((N=l.evolvedDna)==null?void 0:N.corePatterns)||e.corePatterns,viralXFactors:((S=l.evolvedDna)==null?void 0:S.viralXFactors)||e.viralXFactors,flopAvoidance:((j=l.evolvedDna)==null?void 0:j.flopAvoidance)||e.flopAvoidance,hook_examples:((_=l.evolvedDna)==null?void 0:_.hook_examples)||e.hook_examples||[],tone:((E=l.evolvedDna)==null?void 0:E.tone)||e.tone,patterns:((C=l.evolvedDna)==null?void 0:C.patterns)||e.patterns,vocabulary:((P=l.evolvedDna)==null?void 0:P.vocabulary)||e.vocabulary,hook_type:((R=l.evolvedDna)==null?void 0:R.hook_type)||e.hook_type,structure:((L=l.evolvedDna)==null?void 0:L.structure)||e.structure,pacing:((B=l.evolvedDna)==null?void 0:B.pacing)||e.pacing,retention_tactics:((M=l.evolvedDna)==null?void 0:M.retention_tactics)||e.retention_tactics,x_factors:((H=l.evolvedDna)==null?void 0:H.x_factors)||e.x_factors},changesSummary:l.changesSummary||["Evolution completed without detailed changes"]}},DU=Object.freeze(Object.defineProperty({__proto__:null,evolveDna:iC,extractDnaFromContent:sy,extractDnaFromTranscript:OU,scanContent:RU},Symbol.toStringTag,{value:"Module"}));function ay(){const[e,t]=h.useState([]),[n,r]=h.useState(!0),{user:s}=Nn(),{toast:o}=$t(),{settings:i}=ps(),l=h.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:p,error:x}=await Ie.from("dnas").select("*").order("created_at",{ascending:!1});if(x)throw x;const v=(p||[]).map(y=>({...y,vocabulary:Array.isArray(y.vocabulary)?y.vocabulary.join(", "):y.vocabulary,analysis_data:y.analysis_data}));t(v)}catch(p){console.error("Error fetching DNAs:",p),o({title:"Error",description:"Failed to fetch DNA patterns",variant:"destructive"})}finally{r(!1)}},[s,o]);return h.useEffect(()=>{l()},[l]),{dnas:e,loading:n,scanDnaContent:async p=>{const x=i==null?void 0:i.openrouter_api_key;if(!x)return o({title:"Error",description:"OpenRouter API Key required. Please configure in Settings.",variant:"destructive"}),null;try{return await kU(()=>Promise.resolve().then(()=>DU),void 0).then(y=>y.scanContent(p,x))}catch(v){return console.error("Error scanning content:",v),o({title:"Error",description:"Failed to scan content: "+(v instanceof Error?v.message:"Unknown error"),variant:"destructive"}),null}},extractDna:async(p,x)=>{const v=i==null?void 0:i.openrouter_api_key;if(!v)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh. Vui lng nhp key vo Settings.",variant:"destructive"}),null;try{return await sy(p,v,x||"google/gemini-3-flash-preview")}catch(y){console.error("Error extracting DNA:",y);const w=y instanceof Error?y.message:"Failed to extract DNA patterns";return o({title:"Error",description:w,variant:"destructive"}),null}},createDna:async p=>{if(!s)return null;try{const x={name:p.name||"New DNA",user_id:s.id,niche:p.niche,source_url:p.source_url,source_transcript:p.source_transcript,hook_type:p.hook_type,hook_examples:p.hook_examples,structure:p.structure,pacing:p.pacing,retention_tactics:p.retention_tactics,x_factors:p.x_factors,tone:p.tone,vocabulary:p.vocabulary?p.vocabulary.split(",").map(N=>N.trim()).filter(Boolean):[],patterns:p.patterns},{data:v,error:y}=await Ie.from("dnas").insert(x).select().single();if(y)throw y;const w={...v,vocabulary:Array.isArray(v.vocabulary)?v.vocabulary.join(", "):v.vocabulary,analysis_data:v.analysis_data};return t(N=>[w,...N]),o({title:"Success",description:"DNA pattern saved successfully"}),w}catch(x){return console.error("Error creating DNA:",x),o({title:"Error",description:"Failed to save DNA pattern",variant:"destructive"}),null}},createDnaFromExtracted:async(p,x,v)=>{var y,w,N,S,j;if(!s)return null;try{const _={audiencePsychology:p.audiencePsychology,linguisticFingerprint:p.linguisticFingerprint,hookAngle:p.hookAngle,pacingAndTone:p.pacingAndTone,structuralSkeleton:p.structuralSkeleton,targetWordCount:p.targetWordCount,highDopamine:p.highDopamine,confusionPoints:p.confusionPoints,objections:p.objections,corePatterns:p.corePatterns,viralXFactors:p.viralXFactors,flopAvoidance:p.flopAvoidance},E={name:p.name,user_id:s.id,niche:p.niche,source_url:v||null,source_transcript:x||null,hook_type:p.hook_type||((y=p.hookAngle)==null?void 0:y.angleCategory),hook_examples:p.hook_examples||[],structure:p.structure||((w=p.structuralSkeleton)==null?void 0:w.map(L=>L.title)),pacing:p.pacing||((N=p.pacingAndTone)==null?void 0:N.pacing),retention_tactics:p.retention_tactics||p.highDopamine,x_factors:p.x_factors||p.viralXFactors,tone:p.tone||((S=p.linguisticFingerprint)==null?void 0:S.toneAnalysis),vocabulary:p.vocabulary?p.vocabulary.split(",").map(L=>L.trim()).filter(Boolean):((j=p.linguisticFingerprint)==null?void 0:j.signatureKeywords)||[],patterns:p.patterns||p.corePatterns,analysis_data:_},{data:C,error:P}=await Ie.from("dnas").insert(E).select().single();if(P)throw P;const R={...C,vocabulary:Array.isArray(C.vocabulary)?C.vocabulary.join(", "):C.vocabulary,analysis_data:C.analysis_data};return t(L=>[R,...L]),o({title:"Success",description:"DNA pattern saved successfully"}),R}catch(_){return console.error("Error creating DNA:",_),o({title:"Error",description:"Failed to save DNA pattern: "+_.message,variant:"destructive"}),null}},updateDna:async(p,x)=>{try{const v={...x,vocabulary:x.vocabulary?x.vocabulary.split(",").map(S=>S.trim()).filter(Boolean):void 0,analysis_data:x.analysis_data},{data:y,error:w}=await Ie.from("dnas").update(v).eq("id",p).select().single();if(w)throw w;const N={...y,vocabulary:Array.isArray(y.vocabulary)?y.vocabulary.join(", "):y.vocabulary,analysis_data:y.analysis_data};return t(S=>S.map(j=>j.id===p?N:j)),o({title:"Success",description:"DNA pattern updated successfully"}),N}catch(v){return console.error("Error updating DNA:",v),o({title:"Error",description:"Failed to update DNA pattern",variant:"destructive"}),null}},deleteDna:async p=>{try{const{error:x}=await Ie.from("dnas").delete().eq("id",p);if(x)throw x;return t(v=>v.filter(y=>y.id!==p)),o({title:"Success",description:"DNA pattern deleted successfully"}),!0}catch(x){return console.error("Error deleting DNA:",x),o({title:"Error",description:"Failed to delete DNA pattern: "+(x instanceof Error?x.message:"Unknown error"),variant:"destructive"}),!1}},evolveDna:async(p,x)=>{var w,N,S,j,_,E,C,P,R,L,B,M,H,V,Y,I,A,$;const v=i==null?void 0:i.openrouter_api_key;if(!v)return o({title:"Error",description:"OpenRouter API Key cha c cu hnh.",variant:"destructive"}),{success:!1};const y=e.find(Z=>Z.id===p);if(!y||!y.analysis_data)return o({title:"Error",description:"DNA not found or has no analysis data.",variant:"destructive"}),{success:!1};try{const Z="google/gemini-3-flash-preview",ne={name:y.name,niche:y.niche||"",targetWordCount:(w=y.analysis_data)==null?void 0:w.targetWordCount,audiencePsychology:((N=y.analysis_data)==null?void 0:N.audiencePsychology)||"",linguisticFingerprint:((S=y.analysis_data)==null?void 0:S.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]},hookAngle:((j=y.analysis_data)==null?void 0:j.hookAngle)||{angleCategory:"",deconstruction:""},pacingAndTone:((_=y.analysis_data)==null?void 0:_.pacingAndTone)||{pacing:""},structuralSkeleton:((E=y.analysis_data)==null?void 0:E.structuralSkeleton)||[],highDopamine:((C=y.analysis_data)==null?void 0:C.highDopamine)||[],confusionPoints:((P=y.analysis_data)==null?void 0:P.confusionPoints)||[],objections:((R=y.analysis_data)==null?void 0:R.objections)||[],corePatterns:((L=y.analysis_data)==null?void 0:L.corePatterns)||[],viralXFactors:((B=y.analysis_data)==null?void 0:B.viralXFactors)||[],flopAvoidance:((M=y.analysis_data)==null?void 0:M.flopAvoidance)||[],hook_examples:y.hook_examples||[]},re=await iC(ne,x,v,Z),ge={id:crypto.randomUUID(),timestamp:new Date().toISOString(),input_type:x.viralVideos&&x.flopVideos?"mixed":x.viralVideos?"viral":"flop",source_urls:[...((H=x.viralVideos)==null?void 0:H.map(se=>se.url).filter(Boolean))||[],...((V=x.flopVideos)==null?void 0:V.map(se=>se.url).filter(Boolean))||[]],transcript_preview:(((I=(Y=x.viralVideos)==null?void 0:Y[0])==null?void 0:I.transcript)||(($=(A=x.flopVideos)==null?void 0:A[0])==null?void 0:$.transcript)||"").substring(0,200)+"...",changes_made:re.changesSummary},ye=[...y.learning_history||[],ge],G={analysis_data:{...y.analysis_data,targetWordCount:re.evolvedDna.targetWordCount,audiencePsychology:re.evolvedDna.audiencePsychology,linguisticFingerprint:re.evolvedDna.linguisticFingerprint,hookAngle:re.evolvedDna.hookAngle,pacingAndTone:re.evolvedDna.pacingAndTone,structuralSkeleton:re.evolvedDna.structuralSkeleton,highDopamine:re.evolvedDna.highDopamine,confusionPoints:re.evolvedDna.confusionPoints,objections:re.evolvedDna.objections,corePatterns:re.evolvedDna.corePatterns,viralXFactors:re.evolvedDna.viralXFactors,flopAvoidance:re.evolvedDna.flopAvoidance},hook_examples:re.evolvedDna.hook_examples,learning_history:ye},{error:Ee}=await Ie.from("dnas").update(G).eq("id",p);if(Ee)throw Ee;return t(se=>se.map(xe=>xe.id===p?{...xe,...G}:xe)),o({title:"DNA Evolved!",description:`${re.changesSummary.length} changes made to your DNA.`}),{success:!0,changesSummary:re.changesSummary}}catch(Z){return console.error("Error evolving DNA:",Z),o({title:"Error",description:"Failed to evolve DNA: "+(Z instanceof Error?Z.message:"Unknown error"),variant:"destructive"}),{success:!1}}},refetch:l}}function MU(){const{user:e}=Nn(),{toast:t}=$t(),n=Dv(),{data:r=[],isLoading:s}=pM({queryKey:["folders",e==null?void 0:e.id],queryFn:async()=>{if(!e)return[];const{data:c,error:u}=await Ie.from("folders").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(u)throw u;return c},enabled:!!e}),o=Wf({mutationFn:async c=>{if(!e)throw new Error("Not authenticated");const{data:u,error:d}=await Ie.from("folders").insert({name:c,user_id:e.id}).select().single();if(d)throw d;return u},onSuccess:()=>{n.invalidateQueries({queryKey:["folders"]}),t({title:"Folder created"})},onError:c=>{t({title:"Error",description:c.message,variant:"destructive"})}}),i=Wf({mutationFn:async({id:c,name:u})=>{const{error:d}=await Ie.from("folders").update({name:u}).eq("id",c);if(d)throw d},onSuccess:()=>{n.invalidateQueries({queryKey:["folders"]})}}),l=Wf({mutationFn:async c=>{const{error:u}=await Ie.from("folders").delete().eq("id",c);if(u)throw u},onSuccess:()=>{n.invalidateQueries({queryKey:["folders"]}),t({title:"Folder deleted"})}});return{folders:r,loading:s,createFolder:c=>o.mutateAsync(c),updateFolder:(c,u)=>i.mutateAsync({id:c,name:u}),deleteFolder:c=>l.mutateAsync(c)}}const V0=5;function LU(){const[e,t]=h.useState(null),[n,r]=h.useState(!0),[s,o]=h.useState(null),{user:i}=Nn(),l=h.useCallback(async()=>{var u,d;if(!i){t(null),r(!1);return}r(!0),o(null);try{const{data:f,error:g}=await Ie.from("user_settings").select("openrouter_api_key").eq("user_id",i.id).single();if(g||!(f!=null&&f.openrouter_api_key)){o("No API key configured"),t(null),r(!1);return}const m=await fetch("https://openrouter.ai/api/v1/auth/key",{method:"GET",headers:{Authorization:`Bearer ${f.openrouter_api_key}`}});if(!m.ok)throw new Error("Failed to fetch key info from OpenRouter");const b=await m.json();t({total_credits:(((u=b.data)==null?void 0:u.limit)||0)*V0,total_usage:(((d=b.data)==null?void 0:d.usage)||0)*V0})}catch(f){console.error("Error fetching OpenRouter credits:",f),o(f instanceof Error?f.message:"Failed to fetch credits")}finally{r(!1)}},[i]);h.useEffect(()=>{l()},[l]);const c=e?e.total_credits-e.total_usage:null;return{credits:e,remaining:c,loading:n,error:s,refetch:l}}var $U=h.createContext(void 0);function go(e){const t=h.useContext($U);return e||t||"ltr"}var dp="rovingFocusGroup.onEntryFocus",FU={bubbles:!1,cancelable:!0},Kc="RovingFocusGroup",[Xm,lC,UU]=Wi(Kc),[zU,cC]=Ft(Kc,[UU]),[BU,VU]=zU(Kc),uC=h.forwardRef((e,t)=>a.jsx(Xm.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Xm.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(WU,{...e,ref:t})})}));uC.displayName=Kc;var WU=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,g=h.useRef(null),m=Ae(t,g),b=go(o),[p,x]=$n({prop:i,defaultProp:l??null,onChange:c,caller:Kc}),[v,y]=h.useState(!1),w=lt(u),N=lC(n),S=h.useRef(!1),[j,_]=h.useState(0);return h.useEffect(()=>{const E=g.current;if(E)return E.addEventListener(dp,w),()=>E.removeEventListener(dp,w)},[w]),a.jsx(BU,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:h.useCallback(E=>x(E),[x]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>_(E=>E-1),[]),children:a.jsx(he.div,{tabIndex:v||j===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:oe(e.onMouseDown,()=>{S.current=!0}),onFocus:oe(e.onFocus,E=>{const C=!S.current;if(E.target===E.currentTarget&&C&&!v){const P=new CustomEvent(dp,FU);if(E.currentTarget.dispatchEvent(P),!P.defaultPrevented){const R=N().filter(V=>V.focusable),L=R.find(V=>V.active),B=R.find(V=>V.id===p),H=[L,B,...R].filter(Boolean).map(V=>V.ref.current);fC(H,d)}}S.current=!1}),onBlur:oe(e.onBlur,()=>y(!1))})})}),dC="RovingFocusGroupItem",hC=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=cn(),u=o||c,d=VU(dC,n),f=d.currentTabStopId===u,g=lC(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:p}=d;return h.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),a.jsx(Xm.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(he.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:oe(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:oe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:oe(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=qU(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=g().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const N=w.indexOf(x.currentTarget);w=d.loop?GU(w,N+1):w.slice(N+1)}setTimeout(()=>fC(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});hC.displayName=dC;var HU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function KU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qU(e,t,n){const r=KU(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return HU[r]}function fC(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function GU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var YU=uC,QU=hC,Zm=["Enter"," "],JU=["ArrowDown","PageUp","Home"],pC=["ArrowUp","PageDown","End"],XU=[...JU,...pC],ZU={ltr:[...Zm,"ArrowRight"],rtl:[...Zm,"ArrowLeft"]},e6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qc="Menu",[jc,t6,n6]=Wi(qc),[vo,mC]=Ft(qc,[n6,Qi,cC]),Gc=Qi(),gC=cC(),[vC,ga]=vo(qc),[r6,Yc]=vo(qc),yC=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:o,modal:i=!0}=e,l=Gc(t),[c,u]=h.useState(null),d=h.useRef(!1),f=lt(o),g=go(s);return h.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(Th,{...l,children:a.jsx(vC,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(r6,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:g,modal:i,children:r})})})};yC.displayName=qc;var s6="MenuAnchor",oy=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Gc(n);return a.jsx(Ev,{...s,...r,ref:t})});oy.displayName=s6;var iy="MenuPortal",[a6,xC]=vo(iy,{forceMount:void 0}),wC=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,o=ga(iy,t);return a.jsx(a6,{scope:t,forceMount:n,children:a.jsx(en,{present:n||o.open,children:a.jsx(Lc,{asChild:!0,container:s,children:r})})})};wC.displayName=iy;var er="MenuContent",[o6,ly]=vo(er),bC=h.forwardRef((e,t)=>{const n=xC(er,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ga(er,e.__scopeMenu),i=Yc(er,e.__scopeMenu);return a.jsx(jc.Provider,{scope:e.__scopeMenu,children:a.jsx(en,{present:r||o.open,children:a.jsx(jc.Slot,{scope:e.__scopeMenu,children:i.modal?a.jsx(i6,{...s,ref:t}):a.jsx(l6,{...s,ref:t})})})})}),i6=h.forwardRef((e,t)=>{const n=ga(er,e.__scopeMenu),r=h.useRef(null),s=Ae(t,r);return h.useEffect(()=>{const o=r.current;if(o)return Hv(o)},[]),a.jsx(cy,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:oe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),l6=h.forwardRef((e,t)=>{const n=ga(er,e.__scopeMenu);return a.jsx(cy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),c6=Xa("MenuContent.ScrollLock"),cy=h.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:g,onDismiss:m,disableOutsideScroll:b,...p}=e,x=ga(er,n),v=Yc(er,n),y=Gc(n),w=gC(n),N=t6(n),[S,j]=h.useState(null),_=h.useRef(null),E=Ae(t,_,x.onContentChange),C=h.useRef(0),P=h.useRef(""),R=h.useRef(0),L=h.useRef(null),B=h.useRef("right"),M=h.useRef(0),H=b?Uh:h.Fragment,V=b?{as:c6,allowPinchZoom:!0}:void 0,Y=A=>{var G,Ee;const $=P.current+A,Z=N().filter(se=>!se.disabled),ne=document.activeElement,re=(G=Z.find(se=>se.ref.current===ne))==null?void 0:G.textValue,ge=Z.map(se=>se.textValue),Q=b6(ge,$,re),ye=(Ee=Z.find(se=>se.textValue===Q))==null?void 0:Ee.ref.current;(function se(xe){P.current=xe,window.clearTimeout(C.current),xe!==""&&(C.current=window.setTimeout(()=>se(""),1e3))})($),ye&&setTimeout(()=>ye.focus())};h.useEffect(()=>()=>window.clearTimeout(C.current),[]),Wv();const I=h.useCallback(A=>{var Z,ne;return B.current===((Z=L.current)==null?void 0:Z.side)&&S6(A,(ne=L.current)==null?void 0:ne.area)},[]);return a.jsx(o6,{scope:n,searchRef:P,onItemEnter:h.useCallback(A=>{I(A)&&A.preventDefault()},[I]),onItemLeave:h.useCallback(A=>{var $;I(A)||(($=_.current)==null||$.focus(),j(null))},[I]),onTriggerLeave:h.useCallback(A=>{I(A)&&A.preventDefault()},[I]),pointerGraceTimerRef:R,onPointerGraceIntentChange:h.useCallback(A=>{L.current=A},[]),children:a.jsx(H,{...V,children:a.jsx($h,{asChild:!0,trapped:s,onMountAutoFocus:oe(o,A=>{var $;A.preventDefault(),($=_.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:a.jsx(Hi,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:g,onDismiss:m,children:a.jsx(YU,{asChild:!0,...w,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:j,onEntryFocus:oe(c,A=>{v.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(kv,{role:"menu","aria-orientation":"vertical","data-state":$C(x.open),"data-radix-menu-content":"",dir:v.dir,...y,...p,ref:E,style:{outline:"none",...p.style},onKeyDown:oe(p.onKeyDown,A=>{const Z=A.target.closest("[data-radix-menu-content]")===A.currentTarget,ne=A.ctrlKey||A.altKey||A.metaKey,re=A.key.length===1;Z&&(A.key==="Tab"&&A.preventDefault(),!ne&&re&&Y(A.key));const ge=_.current;if(A.target!==ge||!XU.includes(A.key))return;A.preventDefault();const ye=N().filter(G=>!G.disabled).map(G=>G.ref.current);pC.includes(A.key)&&ye.reverse(),x6(ye)}),onBlur:oe(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(C.current),P.current="")}),onPointerMove:oe(e.onPointerMove,_c(A=>{const $=A.target,Z=M.current!==A.clientX;if(A.currentTarget.contains($)&&Z){const ne=A.clientX>M.current?"right":"left";B.current=ne,M.current=A.clientX}}))})})})})})})});bC.displayName=er;var u6="MenuGroup",uy=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(he.div,{role:"group",...r,ref:t})});uy.displayName=u6;var d6="MenuLabel",NC=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(he.div,{...r,ref:t})});NC.displayName=d6;var Gd="MenuItem",W0="menu.itemSelect",Wh=h.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,o=h.useRef(null),i=Yc(Gd,e.__scopeMenu),l=ly(Gd,e.__scopeMenu),c=Ae(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!n&&f){const g=new CustomEvent(W0,{bubbles:!0,cancelable:!0});f.addEventListener(W0,m=>r==null?void 0:r(m),{once:!0}),iv(f,g),g.defaultPrevented?u.current=!1:i.onClose()}};return a.jsx(SC,{...s,ref:c,disabled:n,onClick:oe(e.onClick,d),onPointerDown:f=>{var g;(g=e.onPointerDown)==null||g.call(e,f),u.current=!0},onPointerUp:oe(e.onPointerUp,f=>{var g;u.current||(g=f.currentTarget)==null||g.click()}),onKeyDown:oe(e.onKeyDown,f=>{const g=l.searchRef.current!=="";n||g&&f.key===" "||Zm.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Wh.displayName=Gd;var SC=h.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...o}=e,i=ly(Gd,n),l=gC(n),c=h.useRef(null),u=Ae(t,c),[d,f]=h.useState(!1),[g,m]=h.useState("");return h.useEffect(()=>{const b=c.current;b&&m((b.textContent??"").trim())},[o.children]),a.jsx(jc.ItemSlot,{scope:n,disabled:r,textValue:s??g,children:a.jsx(QU,{asChild:!0,...l,focusable:!r,children:a.jsx(he.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:u,onPointerMove:oe(e.onPointerMove,_c(b=>{r?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:oe(e.onPointerLeave,_c(b=>i.onItemLeave(b))),onFocus:oe(e.onFocus,()=>f(!0)),onBlur:oe(e.onBlur,()=>f(!1))})})})}),h6="MenuCheckboxItem",jC=h.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(TC,{scope:e.__scopeMenu,checked:n,children:a.jsx(Wh,{role:"menuitemcheckbox","aria-checked":Yd(n)?"mixed":n,...s,ref:t,"data-state":fy(n),onSelect:oe(s.onSelect,()=>r==null?void 0:r(Yd(n)?!0:!n),{checkForDefaultPrevented:!1})})})});jC.displayName=h6;var _C="MenuRadioGroup",[f6,p6]=vo(_C,{value:void 0,onValueChange:()=>{}}),CC=h.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,o=lt(r);return a.jsx(f6,{scope:e.__scopeMenu,value:n,onValueChange:o,children:a.jsx(uy,{...s,ref:t})})});CC.displayName=_C;var EC="MenuRadioItem",kC=h.forwardRef((e,t)=>{const{value:n,...r}=e,s=p6(EC,e.__scopeMenu),o=n===s.value;return a.jsx(TC,{scope:e.__scopeMenu,checked:o,children:a.jsx(Wh,{role:"menuitemradio","aria-checked":o,...r,ref:t,"data-state":fy(o),onSelect:oe(r.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})})});kC.displayName=EC;var dy="MenuItemIndicator",[TC,m6]=vo(dy,{checked:!1}),PC=h.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,o=m6(dy,n);return a.jsx(en,{present:r||Yd(o.checked)||o.checked===!0,children:a.jsx(he.span,{...s,ref:t,"data-state":fy(o.checked)})})});PC.displayName=dy;var g6="MenuSeparator",AC=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(he.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});AC.displayName=g6;var v6="MenuArrow",RC=h.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=Gc(n);return a.jsx(Tv,{...s,...r,ref:t})});RC.displayName=v6;var hy="MenuSub",[y6,OC]=vo(hy),IC=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:s}=e,o=ga(hy,t),i=Gc(t),[l,c]=h.useState(null),[u,d]=h.useState(null),f=lt(s);return h.useEffect(()=>(o.open===!1&&f(!1),()=>f(!1)),[o.open,f]),a.jsx(Th,{...i,children:a.jsx(vC,{scope:t,open:r,onOpenChange:f,content:u,onContentChange:d,children:a.jsx(y6,{scope:t,contentId:cn(),triggerId:cn(),trigger:l,onTriggerChange:c,children:n})})})};IC.displayName=hy;var Al="MenuSubTrigger",DC=h.forwardRef((e,t)=>{const n=ga(Al,e.__scopeMenu),r=Yc(Al,e.__scopeMenu),s=OC(Al,e.__scopeMenu),o=ly(Al,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(oy,{asChild:!0,...u,children:a.jsx(SC,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":$C(n.open),...e,ref:xh(t,s.onTriggerChange),onClick:f=>{var g;(g=e.onClick)==null||g.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:oe(e.onPointerMove,_c(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:oe(e.onPointerLeave,_c(f=>{var m,b;d();const g=(m=n.content)==null?void 0:m.getBoundingClientRect();if(g){const p=(b=n.content)==null?void 0:b.dataset.side,x=p==="right",v=x?-5:5,y=g[x?"left":"right"],w=g[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:y,y:g.top},{x:w,y:g.top},{x:w,y:g.bottom},{x:y,y:g.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:oe(e.onKeyDown,f=>{var m;const g=o.searchRef.current!=="";e.disabled||g&&f.key===" "||ZU[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});DC.displayName=Al;var MC="MenuSubContent",LC=h.forwardRef((e,t)=>{const n=xC(er,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,o=ga(er,e.__scopeMenu),i=Yc(er,e.__scopeMenu),l=OC(MC,e.__scopeMenu),c=h.useRef(null),u=Ae(t,c);return a.jsx(jc.Provider,{scope:e.__scopeMenu,children:a.jsx(en,{present:r||o.open,children:a.jsx(jc.Slot,{scope:e.__scopeMenu,children:a.jsx(cy,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:oe(e.onFocusOutside,d=>{d.target!==l.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:oe(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:oe(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),g=e6[i.dir].includes(d.key);f&&g&&(o.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});LC.displayName=MC;function $C(e){return e?"open":"closed"}function Yd(e){return e==="indeterminate"}function fy(e){return Yd(e)?"indeterminate":e?"checked":"unchecked"}function x6(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function w6(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function b6(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=w6(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function N6(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const l=t[o],c=t[i],u=l.x,d=l.y,f=c.x,g=c.y;d>r!=g>r&&n<(f-u)*(r-d)/(g-d)+u&&(s=!s)}return s}function S6(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return N6(n,t)}function _c(e){return t=>t.pointerType==="mouse"?e(t):void 0}var j6=yC,_6=oy,C6=wC,E6=bC,k6=uy,T6=NC,P6=Wh,A6=jC,R6=CC,O6=kC,I6=PC,D6=AC,M6=RC,L6=IC,$6=DC,F6=LC,Hh="DropdownMenu",[U6,EV]=Ft(Hh,[mC]),tn=mC(),[z6,FC]=U6(Hh),UC=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:o,onOpenChange:i,modal:l=!0}=e,c=tn(t),u=h.useRef(null),[d,f]=$n({prop:s,defaultProp:o??!1,onChange:i,caller:Hh});return a.jsx(z6,{scope:t,triggerId:cn(),triggerRef:u,contentId:cn(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(g=>!g),[f]),modal:l,children:a.jsx(j6,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};UC.displayName=Hh;var zC="DropdownMenuTrigger",BC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,o=FC(zC,n),i=tn(n);return a.jsx(_6,{asChild:!0,...i,children:a.jsx(he.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:xh(t,o.triggerRef),onPointerDown:oe(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(o.onOpenToggle(),o.open||l.preventDefault())}),onKeyDown:oe(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&o.onOpenToggle(),l.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BC.displayName=zC;var B6="DropdownMenuPortal",VC=e=>{const{__scopeDropdownMenu:t,...n}=e,r=tn(t);return a.jsx(C6,{...r,...n})};VC.displayName=B6;var WC="DropdownMenuContent",HC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=FC(WC,n),o=tn(n),i=h.useRef(!1);return a.jsx(E6,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...r,ref:t,onCloseAutoFocus:oe(e.onCloseAutoFocus,l=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,l.preventDefault()}),onInteractOutside:oe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HC.displayName=WC;var V6="DropdownMenuGroup",W6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx(k6,{...s,...r,ref:t})});W6.displayName=V6;var H6="DropdownMenuLabel",KC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx(T6,{...s,...r,ref:t})});KC.displayName=H6;var K6="DropdownMenuItem",qC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx(P6,{...s,...r,ref:t})});qC.displayName=K6;var q6="DropdownMenuCheckboxItem",GC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx(A6,{...s,...r,ref:t})});GC.displayName=q6;var G6="DropdownMenuRadioGroup",Y6=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx(R6,{...s,...r,ref:t})});Y6.displayName=G6;var Q6="DropdownMenuRadioItem",YC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx(O6,{...s,...r,ref:t})});YC.displayName=Q6;var J6="DropdownMenuItemIndicator",QC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx(I6,{...s,...r,ref:t})});QC.displayName=J6;var X6="DropdownMenuSeparator",JC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx(D6,{...s,...r,ref:t})});JC.displayName=X6;var Z6="DropdownMenuArrow",ez=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx(M6,{...s,...r,ref:t})});ez.displayName=Z6;var tz=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:s,defaultOpen:o}=e,i=tn(t),[l,c]=$n({prop:r,defaultProp:o??!1,onChange:s,caller:"DropdownMenuSub"});return a.jsx(L6,{...i,open:l,onOpenChange:c,children:n})},nz="DropdownMenuSubTrigger",XC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx($6,{...s,...r,ref:t})});XC.displayName=nz;var rz="DropdownMenuSubContent",ZC=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=tn(n);return a.jsx(F6,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZC.displayName=rz;var sz=UC,az=BC,oz=VC,eE=HC,tE=KC,nE=qC,rE=GC,sE=YC,aE=QC,oE=JC,iz=tz,iE=XC,lE=ZC;const H0=sz,K0=az,lz=iz,cE=h.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(iE,{ref:s,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(Ir,{className:"ml-auto h-4 w-4"})]}));cE.displayName=iE.displayName;const uE=h.forwardRef(({className:e,...t},n)=>a.jsx(lE,{ref:n,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));uE.displayName=lE.displayName;const eg=h.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(oz,{children:a.jsx(eE,{ref:r,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));eg.displayName=eE.displayName;const Fo=h.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(nE,{ref:r,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));Fo.displayName=nE.displayName;const cz=h.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(rE,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(aE,{children:a.jsx(pa,{className:"h-4 w-4"})})}),t]}));cz.displayName=rE.displayName;const uz=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(sE,{ref:r,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(aE,{children:a.jsx(mR,{className:"h-2 w-2 fill-current"})})}),t]}));uz.displayName=sE.displayName;const dz=h.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(tE,{ref:r,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));dz.displayName=tE.displayName;const dE=h.forwardRef(({className:e,...t},n)=>a.jsx(oE,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));dE.displayName=oE.displayName;const ao=Yv,hz=Qv,fz=Jv,hE=h.forwardRef(({className:e,...t},n)=>a.jsx(zc,{ref:n,className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));hE.displayName=zc.displayName;const la=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(fz,{children:[a.jsx(hE,{}),a.jsxs(Bc,{ref:r,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(Bh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(us,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));la.displayName=Bc.displayName;const ca=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ca.displayName="DialogHeader";const Qd=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qd.displayName="DialogFooter";const ua=h.forwardRef(({className:e,...t},n)=>a.jsx(Vc,{ref:n,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));ua.displayName=Vc.displayName;const Kh=h.forwardRef(({className:e,...t},n)=>a.jsx(Wc,{ref:n,className:J("text-sm text-muted-foreground",e),...t}));Kh.displayName=Wc.displayName;var pz="Label",fE=h.forwardRef((e,t)=>a.jsx(he.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));fE.displayName=pz;var pE=fE;const mz=Ki("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),z=h.forwardRef(({className:e,...t},n)=>a.jsx(pE,{ref:n,className:J(mz(),e),...t}));z.displayName=pE.displayName;const gz=[{title:"Extract DNA",description:"Analyze viral content patterns",icon:ma,to:"/dna-lab"},{title:"New Script",description:"Create content with AI",icon:sa,to:"/writer"}];function vz(){const e=mo(),{toast:t}=$t(),{scripts:n,loading:r,updateScript:s,deleteScript:o}=oC(),{dnas:i,loading:l}=ay(),{folders:c,loading:u,createFolder:d,deleteFolder:f}=MU(),{credits:g,loading:m,error:b,refetch:p}=LU(),[x,v]=h.useState(""),[y,w]=h.useState(!1),[N,S]=h.useState(""),[j,_]=h.useState(null),[E,C]=h.useState(!1),[P,R]=h.useState(null),[L,B]=h.useState(""),M=n.length,H=i.length,V=()=>m?"Loading...":b?b.includes("No API key")?"No API Key":"Error":(g==null?void 0:g.total_usage)!==void 0?`$${g.total_usage.toFixed(2)}`:"N/A",Y=n.filter(Q=>{const ye=Q.title.toLowerCase().includes(x.toLowerCase())||Q.topic&&Q.topic.toLowerCase().includes(x.toLowerCase());return j?ye&&Q.folder_id===j:ye}),I=n.filter(Q=>!Q.folder_id),A=async()=>{N.trim()&&(await d(N),S(""),w(!1))},$=async()=>{!P||!L.trim()||(await s(P,{title:L}),C(!1),R(null),B(""))},Z=async Q=>{await o(Q)},ne=async(Q,ye)=>{await s(Q,{folder_id:ye}),t({title:ye?"Moved to folder":"Removed from folder",description:ye?"Script has been moved to the folder":"Script has been moved to root"})},re=(Q,ye)=>{R(Q),B(ye),C(!0)},ge=c.find(Q=>Q.id===j);return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"grid gap-3 grid-cols-2 lg:grid-cols-4",children:[a.jsx(D0,{title:"Total Projects",value:M,icon:hv,iconColor:"text-blue-500"}),a.jsx(D0,{title:"DNA Templates",value:H,icon:ct,iconColor:"text-purple-500"}),a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-2xl border border-border/50 bg-card/80",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-xl bg-emerald-500/10 p-2.5",children:a.jsx(vR,{className:"h-5 w-5 text-emerald-500"})}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Credits Used"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-semibold",children:V()}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>p(),disabled:m,children:a.jsx(Yr,{className:`h-4 w-4 ${m?"animate-spin":""}`})})]})]}),a.jsxs("a",{href:"https://www.facebook.com/logdd.pitre",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-4 rounded-2xl border border-border/50 bg-card/80 hover:border-primary/50 hover:bg-card transition-all",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-xl bg-blue-500/10 p-2.5",children:a.jsx(xR,{className:"h-5 w-5 text-blue-500"})}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Contact"})]}),a.jsx("span",{className:"text-lg font-semibold",children:"LONG"})]})]}),a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsx("div",{children:ge?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(D,{variant:"ghost",size:"sm",onClick:()=>_(null),children:" Back"}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(pv,{className:"h-6 w-6 text-primary"}),ge.name]}),a.jsxs("p",{className:"text-muted-foreground",children:[Y.length," scripts in this folder"]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your viral engineering projects."})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(D,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>w(!0),children:[a.jsx(wR,{className:"h-4 w-4"}),"New Folder"]}),a.jsx(D,{size:"sm",className:"gap-2",asChild:!0,children:a.jsxs(gc,{to:"/writer",children:[a.jsx(He,{className:"h-4 w-4"}),"New Project"]})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search projects and folders...",value:x,onChange:Q=>v(Q.target.value),className:"pl-10"})]}),!j&&a.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:gz.map(Q=>a.jsx(cU,{...Q},Q.title))}),!j&&c.length>0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Folders"}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:c.map(Q=>{const ye=n.filter(G=>G.folder_id===Q.id).length;return a.jsxs("div",{className:"relative group p-4 rounded-2xl border border-border/50 bg-card/80 hover:border-primary/50 transition-all cursor-pointer",onClick:()=>_(Q.id),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Ff,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-medium truncate",children:Q.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[ye," items"]})]})]}),a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs(H0,{children:[a.jsx(K0,{asChild:!0,onClick:G=>G.stopPropagation(),children:a.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-background/80 backdrop-blur-sm",children:a.jsx(vw,{className:"h-4 w-4"})})}),a.jsx(eg,{align:"end",children:a.jsxs(Fo,{onClick:G=>{G.stopPropagation(),f(Q.id)},className:"text-destructive focus:text-destructive",children:[a.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Delete"]})})]})})]},Q.id)})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:j?"Scripts":"Recent Projects"}),r?a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[1,2,3,4].map(Q=>a.jsx("div",{className:"h-32 animate-pulse rounded-2xl bg-muted/50"},Q))}):(j?Y:I.filter(Q=>Q.title.toLowerCase().includes(x.toLowerCase())||Q.topic&&Q.topic.toLowerCase().includes(x.toLowerCase()))).length>0?a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:(j?Y:I.filter(Q=>Q.title.toLowerCase().includes(x.toLowerCase())||Q.topic&&Q.topic.toLowerCase().includes(x.toLowerCase()))).map(Q=>a.jsxs("div",{className:"relative group",children:[a.jsx(lU,{title:Q.title,status:Q.status||"draft",mode:Q.generation_mode||void 0,date:Q.created_at,onClick:()=>e(`/writer/${Q.id}`)}),a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsxs(H0,{children:[a.jsx(K0,{asChild:!0,children:a.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8 bg-background/80 backdrop-blur-sm",children:a.jsx(vw,{className:"h-4 w-4"})})}),a.jsxs(eg,{align:"end",children:[a.jsxs(Fo,{onClick:()=>re(Q.id,Q.title),children:[a.jsx(ER,{className:"h-4 w-4 mr-2"}),"Rename"]}),c.length>0&&a.jsxs(lz,{children:[a.jsxs(cE,{children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),"Move to folder"]}),a.jsxs(uE,{children:[Q.folder_id&&a.jsxs(Fo,{onClick:()=>ne(Q.id,null),children:[a.jsx(Ff,{className:"h-4 w-4 mr-2"}),"Remove from folder"]}),c.filter(ye=>ye.id!==Q.folder_id).map(ye=>a.jsxs(Fo,{onClick:()=>ne(Q.id,ye.id),children:[a.jsx(Ff,{className:"h-4 w-4 mr-2"}),ye.name]},ye.id))]})]}),a.jsx(dE,{}),a.jsxs(Fo,{onClick:()=>Z(Q.id),className:"text-destructive focus:text-destructive",children:[a.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},Q.id))}):a.jsxs("div",{className:"rounded-2xl border border-dashed border-border/50 p-12 text-center",children:[a.jsx("p",{className:"text-muted-foreground",children:x?"No projects found matching your search.":j?"No scripts in this folder yet.":"No projects yet. Create your first script!"}),a.jsx(D,{className:"mt-4",asChild:!0,children:a.jsxs(gc,{to:"/writer",children:[a.jsx(He,{className:"mr-2 h-4 w-4"}),"Create Script"]})})]})]}),a.jsx(ao,{open:y,onOpenChange:w,children:a.jsxs(la,{children:[a.jsx(ca,{children:a.jsx(ua,{children:"Create New Folder"})}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Folder Name"}),a.jsx(ie,{value:N,onChange:Q=>S(Q.target.value),placeholder:"My folder...",onKeyDown:Q=>Q.key==="Enter"&&A()})]})}),a.jsxs(Qd,{children:[a.jsx(D,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx(D,{onClick:A,children:"Create"})]})]})}),a.jsx(ao,{open:E,onOpenChange:C,children:a.jsxs(la,{children:[a.jsx(ca,{children:a.jsx(ua,{children:"Rename Project"})}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Project Name"}),a.jsx(ie,{value:L,onChange:Q=>B(Q.target.value),placeholder:"Project name...",onKeyDown:Q=>Q.key==="Enter"&&$()})]})}),a.jsxs(Qd,{children:[a.jsx(D,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),a.jsx(D,{onClick:$,children:"Save"})]})]})})]})}const yz=()=>a.jsx(vz,{});function xz(){const[e,t]=h.useState(!0),[n,r]=h.useState(""),[s,o]=h.useState(""),[i,l]=h.useState(""),[c,u]=h.useState(!1),[d,f]=h.useState(!1),[g,m]=h.useState(!1),{user:b,signIn:p,signUp:x}=Nn(),{toast:v}=$t();if(b)return a.jsx(S1,{to:"/",replace:!0});const y=async()=>{m(!0);try{const{error:S}=await Ie.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/`}});S&&v({title:"Error",description:S.message,variant:"destructive"})}finally{m(!1)}},w=async S=>{if(S.preventDefault(),s.length<6){v({title:"Password too short",description:"Password must be at least 6 characters",variant:"destructive"});return}f(!0);try{const{error:j}=e?await p(n,s):await x(n,s);if(j){let _=j.message;j.message.includes("Invalid login credentials")?_="Invalid email or password. Please try again.":j.message.includes("User already registered")&&(_="This email is already registered. Please sign in instead."),v({title:"Error",description:_,variant:"destructive"})}else e||(v({title:"Account created!",description:"You can now sign in with your credentials."}),t(!0),o(""))}finally{f(!1)}},N=[{icon:ma,text:"Extract viral DNA patterns",description:"Analyze top-performing videos"},{icon:ct,text:"AI-powered generation",description:"Create scripts in seconds"},{icon:aa,text:"Audience personas",description:"Understand your viewers"},{icon:Qn,text:"Rapid iteration",description:"Test and refine faster"}];return a.jsxs("div",{className:"min-h-screen flex overflow-hidden",children:[a.jsxs("div",{className:"hidden lg:flex lg:w-1/2 relative p-12 flex-col justify-between",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 via-background to-accent/30"}),a.jsxs("div",{className:"absolute inset-0 opacity-30",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-primary/30 rounded-full blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/20 rounded-full blur-3xl animate-pulse delay-1000"})]}),a.jsx("div",{className:"relative z-10",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"rounded-2xl bg-primary/20 backdrop-blur-sm p-3 border border-primary/20",children:a.jsx(ct,{className:"h-7 w-7 text-primary"})}),a.jsx("span",{className:"text-2xl font-bold tracking-tight",children:"Viral DNA"})]})}),a.jsxs("div",{className:"relative z-10 space-y-10",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-5xl font-bold tracking-tight leading-tight",children:["Unlock the secrets",a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"of viral content"})]}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground max-w-md leading-relaxed",children:"Extract patterns from successful videos, generate scripts that resonate, and build your audience faster than ever before."})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4",children:N.map((S,j)=>a.jsxs("div",{className:"group p-4 rounded-2xl bg-card/50 backdrop-blur-sm border border-border/50 hover:border-primary/30 hover:bg-card/80 transition-all duration-300",children:[a.jsx("div",{className:"rounded-xl bg-primary/10 p-2.5 w-fit mb-3 group-hover:bg-primary/20 transition-colors",children:a.jsx(S.icon,{className:"h-5 w-5 text-primary"})}),a.jsx("p",{className:"font-medium text-sm",children:S.text}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:S.description})]},j))})]}),a.jsxs("div",{className:"relative z-10 flex items-center justify-between text-sm text-muted-foreground",children:[a.jsx("span",{children:" 2026 logdd. All rights reserved."}),a.jsx(gc,{to:"/pricing",className:"text-primary hover:underline",children:"View Pricing"})]})]}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-6 lg:p-12 bg-background",children:a.jsxs("div",{className:"w-full max-w-md",children:[a.jsxs("div",{className:"lg:hidden flex items-center gap-3 mb-8 justify-center",children:[a.jsx("div",{className:"rounded-2xl bg-primary/20 p-3",children:a.jsx(ct,{className:"h-7 w-7 text-primary"})}),a.jsx("span",{className:"text-2xl font-bold",children:"Viral DNA"})]}),a.jsxs(ue,{className:"border-0 shadow-2xl",children:[a.jsxs(St,{className:"text-center pb-2",children:[a.jsx(_t,{className:"text-2xl",children:e?"Welcome back":"Create your account"}),a.jsx(Zr,{children:e?"Enter your credentials to continue":"Start creating viral content today"})]}),a.jsxs(me,{className:"pt-4 space-y-6",children:[a.jsx(D,{type:"button",variant:"outline",className:"w-full rounded-xl h-12 gap-3 font-medium hover:bg-accent/50 transition-all",onClick:y,disabled:g,children:g?a.jsx(qe,{className:"h-5 w-5 animate-spin"}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]})}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-3 text-muted-foreground",children:"or continue with email"})})]}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[!e&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{htmlFor:"name",children:"Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(IR,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{id:"name",type:"text",placeholder:"Your name",value:i,onChange:S=>l(S.target.value),className:"pl-10 rounded-xl h-12"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(SR,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{id:"email",type:"email",placeholder:"you@example.com",value:n,onChange:S=>r(S.target.value),className:"pl-10 rounded-xl h-12",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{htmlFor:"password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(bR,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{id:"password",type:c?"text":"password",placeholder:"",value:s,onChange:S=>o(S.target.value),className:"pl-10 pr-10 rounded-xl h-12",required:!0,minLength:6}),a.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:c?a.jsx(yR,{className:"h-4 w-4"}):a.jsx(sj,{className:"h-4 w-4"})})]}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 6 characters"})]}),e&&a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",children:"Forgot password?"})}),a.jsx(D,{type:"submit",className:"w-full rounded-xl h-12 gap-2 font-medium",disabled:d,children:d?a.jsx(qe,{className:"h-4 w-4 animate-spin"}):a.jsxs(a.Fragment,{children:[e?"Sign In":"Create Account",a.jsx(cs,{className:"h-4 w-4"})]})})]}),a.jsxs("div",{className:"text-center text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e?"Don't have an account? ":"Already have an account? "}),a.jsx("button",{type:"button",onClick:()=>{t(!e),o("")},className:"font-semibold text-primary hover:underline",children:e?"Sign up":"Sign in"})]}),!e&&a.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By creating an account, you agree to our"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]})]})]})})]})}const Ne=h.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Ne.displayName="Textarea";function es(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var hp="rovingFocusGroup.onEntryFocus",wz={bubbles:!1,cancelable:!0},Qc="RovingFocusGroup",[tg,mE,bz]=Wi(Qc),[Nz,gE]=Ft(Qc,[bz]),[Sz,jz]=Nz(Qc),vE=h.forwardRef((e,t)=>a.jsx(tg.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(tg.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(_z,{...e,ref:t})})}));vE.displayName=Qc;var _z=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,g=h.useRef(null),m=Ae(t,g),b=go(o),[p,x]=$n({prop:i,defaultProp:l??null,onChange:c,caller:Qc}),[v,y]=h.useState(!1),w=lt(u),N=mE(n),S=h.useRef(!1),[j,_]=h.useState(0);return h.useEffect(()=>{const E=g.current;if(E)return E.addEventListener(hp,w),()=>E.removeEventListener(hp,w)},[w]),a.jsx(Sz,{scope:n,orientation:r,dir:b,loop:s,currentTabStopId:p,onItemFocus:h.useCallback(E=>x(E),[x]),onItemShiftTab:h.useCallback(()=>y(!0),[]),onFocusableItemAdd:h.useCallback(()=>_(E=>E+1),[]),onFocusableItemRemove:h.useCallback(()=>_(E=>E-1),[]),children:a.jsx(he.div,{tabIndex:v||j===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:es(e.onMouseDown,()=>{S.current=!0}),onFocus:es(e.onFocus,E=>{const C=!S.current;if(E.target===E.currentTarget&&C&&!v){const P=new CustomEvent(hp,wz);if(E.currentTarget.dispatchEvent(P),!P.defaultPrevented){const R=N().filter(V=>V.focusable),L=R.find(V=>V.active),B=R.find(V=>V.id===p),H=[L,B,...R].filter(Boolean).map(V=>V.ref.current);wE(H,d)}}S.current=!1}),onBlur:es(e.onBlur,()=>y(!1))})})}),yE="RovingFocusGroupItem",xE=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...l}=e,c=cn(),u=o||c,d=jz(yE,n),f=d.currentTabStopId===u,g=mE(n),{onFocusableItemAdd:m,onFocusableItemRemove:b,currentTabStopId:p}=d;return h.useEffect(()=>{if(r)return m(),()=>b()},[r,m,b]),a.jsx(tg.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:a.jsx(he.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:es(e.onMouseDown,x=>{r?d.onItemFocus(u):x.preventDefault()}),onFocus:es(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:es(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=kz(x,d.orientation,d.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=g().filter(N=>N.focusable).map(N=>N.ref.current);if(v==="last")w.reverse();else if(v==="prev"||v==="next"){v==="prev"&&w.reverse();const N=w.indexOf(x.currentTarget);w=d.loop?Tz(w,N+1):w.slice(N+1)}setTimeout(()=>wE(w))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:p!=null}):i})})});xE.displayName=yE;var Cz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ez(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function kz(e,t,n){const r=Ez(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Cz[r]}function wE(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Tz(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Pz=vE,Az=xE;function Rz(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var bE=e=>{const{present:t,children:n}=e,r=Oz(t),s=typeof n=="function"?n({present:r.isPresent}):h.Children.only(n),o=Ae(r.ref,Iz(s));return typeof n=="function"||r.isPresent?h.cloneElement(s,{ref:o}):null};bE.displayName="Presence";function Oz(e){const[t,n]=h.useState(),r=h.useRef(null),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[l,c]=Rz(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Lu(r.current);o.current=l==="mounted"?u:"none"},[l]),ut(()=>{const u=r.current,d=s.current;if(d!==e){const g=o.current,m=Lu(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&g!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),ut(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Lu(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},g=m=>{m.target===t&&(o.current=Lu(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:h.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Lu(e){return(e==null?void 0:e.animationName)||"none"}function Iz(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var qh="Tabs",[Dz,kV]=Ft(qh,[gE]),NE=gE(),[Mz,py]=Dz(qh),SE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=go(l),[f,g]=$n({prop:r,onChange:s,defaultProp:o??"",caller:qh});return a.jsx(Mz,{scope:n,baseId:cn(),value:f,onValueChange:g,orientation:i,dir:d,activationMode:c,children:a.jsx(he.div,{dir:d,"data-orientation":i,...u,ref:t})})});SE.displayName=qh;var jE="TabsList",_E=h.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=py(jE,n),i=NE(n);return a.jsx(Pz,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:a.jsx(he.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});_E.displayName=jE;var CE="TabsTrigger",EE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=py(CE,n),l=NE(n),c=PE(i.baseId,r),u=AE(i.baseId,r),d=r===i.value;return a.jsx(Az,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(he.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:es(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(r):f.preventDefault()}),onKeyDown:es(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(r)}),onFocus:es(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(r)})})})});EE.displayName=CE;var kE="TabsContent",TE=h.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,l=py(kE,n),c=PE(l.baseId,r),u=AE(l.baseId,r),d=r===l.value,f=h.useRef(d);return h.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(bE,{present:s||d,children:({present:g})=>a.jsx(he.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&o})})});TE.displayName=kE;function PE(e,t){return`${e}-trigger-${t}`}function AE(e,t){return`${e}-content-${t}`}var Lz=SE,RE=_E,OE=EE,IE=TE;const $i=Lz,oo=h.forwardRef(({className:e,...t},n)=>a.jsx(RE,{ref:n,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));oo.displayName=RE.displayName;const Rn=h.forwardRef(({className:e,...t},n)=>a.jsx(OE,{ref:n,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Rn.displayName=OE.displayName;const On=h.forwardRef(({className:e,...t},n)=>a.jsx(IE,{ref:n,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));On.displayName=IE.displayName;function Cc(e,[t,n]){return Math.min(n,Math.max(t,e))}function my(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $z=[" ","Enter","ArrowUp","ArrowDown"],Fz=[" ","Enter"],io="Select",[Gh,Yh,Uz]=Wi(io),[nl,TV]=Ft(io,[Uz,Qi]),Qh=Qi(),[zz,va]=nl(io),[Bz,Vz]=nl(io),DE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:g,required:m,form:b}=e,p=Qh(t),[x,v]=h.useState(null),[y,w]=h.useState(null),[N,S]=h.useState(!1),j=go(u),[_,E]=$n({prop:r,defaultProp:s??!1,onChange:o,caller:io}),[C,P]=$n({prop:i,defaultProp:l,onChange:c,caller:io}),R=h.useRef(null),L=x?b||!!x.closest("form"):!0,[B,M]=h.useState(new Set),H=Array.from(B).map(V=>V.props.value).join(";");return a.jsx(Th,{...p,children:a.jsxs(zz,{required:m,scope:t,trigger:x,onTriggerChange:v,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:cn(),value:C,onValueChange:P,open:_,onOpenChange:E,dir:j,triggerPointerDownPosRef:R,disabled:g,children:[a.jsx(Gh.Provider,{scope:t,children:a.jsx(Bz,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(V=>{M(Y=>new Set(Y).add(V))},[]),onNativeOptionRemove:h.useCallback(V=>{M(Y=>{const I=new Set(Y);return I.delete(V),I})},[]),children:n})}),L?a.jsxs(ak,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:V=>P(V.target.value),disabled:g,form:b,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(B)]},H):null]})})};DE.displayName=io;var ME="SelectTrigger",LE=h.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=Qh(n),i=va(ME,n),l=i.disabled||r,c=Ae(t,i.onTriggerChange),u=Yh(n),d=h.useRef("touch"),[f,g,m]=ik(p=>{const x=u().filter(w=>!w.disabled),v=x.find(w=>w.value===i.value),y=lk(x,p,v);y!==void 0&&i.onValueChange(y.value)}),b=p=>{l||(i.onOpenChange(!0),m()),p&&(i.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(Ev,{asChild:!0,...o,children:a.jsx(he.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":ok(i.value)?"":void 0,...s,ref:c,onClick:oe(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&b(p)}),onPointerDown:oe(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(b(p),p.preventDefault())}),onKeyDown:oe(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&g(p.key),!(x&&p.key===" ")&&$z.includes(p.key)&&(b(),p.preventDefault())})})})});LE.displayName=ME;var $E="SelectValue",FE=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...l}=e,c=va($E,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Ae(t,c.onValueNodeChange);return ut(()=>{u(d)},[u,d]),a.jsx(he.span,{...l,ref:f,style:{pointerEvents:"none"},children:ok(c.value)?a.jsx(a.Fragment,{children:i}):o})});FE.displayName=$E;var Wz="SelectIcon",UE=h.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(he.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});UE.displayName=Wz;var Hz="SelectPortal",zE=e=>a.jsx(Lc,{asChild:!0,...e});zE.displayName=Hz;var lo="SelectContent",BE=h.forwardRef((e,t)=>{const n=va(lo,e.__scopeSelect),[r,s]=h.useState();if(ut(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?ho.createPortal(a.jsx(VE,{scope:e.__scopeSelect,children:a.jsx(Gh.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),o):null}return a.jsx(WE,{...e,ref:t})});BE.displayName=lo;var cr=10,[VE,ya]=nl(lo),Kz="SelectContentImpl",qz=Xa("SelectContent.RemoveScroll"),WE=h.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x,...v}=e,y=va(lo,n),[w,N]=h.useState(null),[S,j]=h.useState(null),_=Ae(t,G=>N(G)),[E,C]=h.useState(null),[P,R]=h.useState(null),L=Yh(n),[B,M]=h.useState(!1),H=h.useRef(!1);h.useEffect(()=>{if(w)return Hv(w)},[w]),Wv();const V=h.useCallback(G=>{const[Ee,...se]=L().map(De=>De.ref.current),[xe]=se.slice(-1),Re=document.activeElement;for(const De of G)if(De===Re||(De==null||De.scrollIntoView({block:"nearest"}),De===Ee&&S&&(S.scrollTop=0),De===xe&&S&&(S.scrollTop=S.scrollHeight),De==null||De.focus(),document.activeElement!==Re))return},[L,S]),Y=h.useCallback(()=>V([E,w]),[V,E,w]);h.useEffect(()=>{B&&Y()},[B,Y]);const{onOpenChange:I,triggerPointerDownPosRef:A}=y;h.useEffect(()=>{if(w){let G={x:0,y:0};const Ee=xe=>{var Re,De;G={x:Math.abs(Math.round(xe.pageX)-(((Re=A.current)==null?void 0:Re.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((De=A.current)==null?void 0:De.y)??0))}},se=xe=>{G.x<=10&&G.y<=10?xe.preventDefault():w.contains(xe.target)||I(!1),document.removeEventListener("pointermove",Ee),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",se,{capture:!0})}}},[w,I,A]),h.useEffect(()=>{const G=()=>I(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[I]);const[$,Z]=ik(G=>{const Ee=L().filter(Re=>!Re.disabled),se=Ee.find(Re=>Re.ref.current===document.activeElement),xe=lk(Ee,G,se);xe&&setTimeout(()=>xe.ref.current.focus())}),ne=h.useCallback((G,Ee,se)=>{const xe=!H.current&&!se;(y.value!==void 0&&y.value===Ee||xe)&&(C(G),xe&&(H.current=!0))},[y.value]),re=h.useCallback(()=>w==null?void 0:w.focus(),[w]),ge=h.useCallback((G,Ee,se)=>{const xe=!H.current&&!se;(y.value!==void 0&&y.value===Ee||xe)&&R(G)},[y.value]),Q=r==="popper"?ng:HE,ye=Q===ng?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:m,sticky:b,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(VE,{scope:n,content:w,viewport:S,onViewportChange:j,itemRefCallback:ne,selectedItem:E,onItemLeave:re,itemTextRefCallback:ge,focusSelectedItem:Y,selectedItemText:P,position:r,isPositioned:B,searchRef:$,children:a.jsx(Uh,{as:qz,allowPinchZoom:!0,children:a.jsx($h,{asChild:!0,trapped:y.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:oe(s,G=>{var Ee;(Ee=y.trigger)==null||Ee.focus({preventScroll:!0}),G.preventDefault()}),children:a.jsx(Hi,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(Q,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:G=>G.preventDefault(),...v,...ye,onPlaced:()=>M(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:oe(v.onKeyDown,G=>{const Ee=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!Ee&&G.key.length===1&&Z(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let xe=L().filter(Re=>!Re.disabled).map(Re=>Re.ref.current);if(["ArrowUp","End"].includes(G.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const Re=G.target,De=xe.indexOf(Re);xe=xe.slice(De+1)}setTimeout(()=>V(xe)),G.preventDefault()}})})})})})})});WE.displayName=Kz;var Gz="SelectItemAlignedPosition",HE=h.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=va(lo,n),i=ya(lo,n),[l,c]=h.useState(null),[u,d]=h.useState(null),f=Ae(t,_=>d(_)),g=Yh(n),m=h.useRef(!1),b=h.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=i,w=h.useCallback(()=>{if(o.trigger&&o.valueNode&&l&&u&&p&&x&&v){const _=o.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),P=v.getBoundingClientRect();if(o.dir!=="rtl"){const Re=P.left-E.left,De=C.left-Re,We=_.left-De,dt=_.width+We,ht=Math.max(dt,E.width),Et=window.innerWidth-cr,yt=Cc(De,[cr,Math.max(cr,Et-ht)]);l.style.minWidth=dt+"px",l.style.left=yt+"px"}else{const Re=E.right-P.right,De=window.innerWidth-C.right-Re,We=window.innerWidth-_.right-De,dt=_.width+We,ht=Math.max(dt,E.width),Et=window.innerWidth-cr,yt=Cc(De,[cr,Math.max(cr,Et-ht)]);l.style.minWidth=dt+"px",l.style.right=yt+"px"}const R=g(),L=window.innerHeight-cr*2,B=p.scrollHeight,M=window.getComputedStyle(u),H=parseInt(M.borderTopWidth,10),V=parseInt(M.paddingTop,10),Y=parseInt(M.borderBottomWidth,10),I=parseInt(M.paddingBottom,10),A=H+V+B+I+Y,$=Math.min(x.offsetHeight*5,A),Z=window.getComputedStyle(p),ne=parseInt(Z.paddingTop,10),re=parseInt(Z.paddingBottom,10),ge=_.top+_.height/2-cr,Q=L-ge,ye=x.offsetHeight/2,G=x.offsetTop+ye,Ee=H+V+G,se=A-Ee;if(Ee<=ge){const Re=R.length>0&&x===R[R.length-1].ref.current;l.style.bottom="0px";const De=u.clientHeight-p.offsetTop-p.offsetHeight,We=Math.max(Q,ye+(Re?re:0)+De+Y),dt=Ee+We;l.style.height=dt+"px"}else{const Re=R.length>0&&x===R[0].ref.current;l.style.top="0px";const We=Math.max(ge,H+p.offsetTop+(Re?ne:0)+ye)+se;l.style.height=We+"px",p.scrollTop=Ee-ge+p.offsetTop}l.style.margin=`${cr}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[g,o.trigger,o.valueNode,l,u,p,x,v,o.dir,r]);ut(()=>w(),[w]);const[N,S]=h.useState();ut(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const j=h.useCallback(_=>{_&&b.current===!0&&(w(),y==null||y(),b.current=!1)},[w,y]);return a.jsx(Qz,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:a.jsx(he.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});HE.displayName=Gz;var Yz="SelectPopperPosition",ng=h.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=cr,...o}=e,i=Qh(n);return a.jsx(kv,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ng.displayName=Yz;var[Qz,gy]=nl(lo,{}),rg="SelectViewport",KE=h.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=ya(rg,n),i=gy(rg,n),l=Ae(t,o.onViewportChange),c=h.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Gh.Slot,{scope:n,children:a.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:oe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=i;if(g!=null&&g.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const b=window.innerHeight-cr*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),v=Math.max(p,x);if(v<b){const y=v+m,w=Math.min(b,y),N=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});KE.displayName=rg;var qE="SelectGroup",[Jz,Xz]=nl(qE),Zz=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=cn();return a.jsx(Jz,{scope:n,id:s,children:a.jsx(he.div,{role:"group","aria-labelledby":s,...r,ref:t})})});Zz.displayName=qE;var GE="SelectLabel",YE=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Xz(GE,n);return a.jsx(he.div,{id:s.id,...r,ref:t})});YE.displayName=GE;var Jd="SelectItem",[e8,QE]=nl(Jd),JE=h.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,l=va(Jd,n),c=ya(Jd,n),u=l.value===r,[d,f]=h.useState(o??""),[g,m]=h.useState(!1),b=Ae(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,r,s)}),p=cn(),x=h.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(e8,{scope:n,value:r,disabled:s,textId:p,isSelected:u,onItemTextChange:h.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(Gh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:a.jsx(he.div,{role:"option","aria-labelledby":p,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:b,onFocus:oe(i.onFocus,()=>m(!0)),onBlur:oe(i.onBlur,()=>m(!1)),onClick:oe(i.onClick,()=>{x.current!=="mouse"&&v()}),onPointerUp:oe(i.onPointerUp,()=>{x.current==="mouse"&&v()}),onPointerDown:oe(i.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:oe(i.onPointerMove,y=>{var w;x.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(i.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:oe(i.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(Fz.includes(y.key)&&v(),y.key===" "&&y.preventDefault())})})})})});JE.displayName=Jd;var Rl="SelectItemText",XE=h.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=va(Rl,n),l=ya(Rl,n),c=QE(Rl,n),u=Vz(Rl,n),[d,f]=h.useState(null),g=Ae(t,v=>f(v),c.onItemTextChange,v=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,v,c.value,c.disabled)}),m=d==null?void 0:d.textContent,b=h.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return ut(()=>(p(b),()=>x(b)),[p,x,b]),a.jsxs(a.Fragment,{children:[a.jsx(he.span,{id:c.textId,...o,ref:g}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ho.createPortal(o.children,i.valueNode):null]})});XE.displayName=Rl;var ZE="SelectItemIndicator",ek=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return QE(ZE,n).isSelected?a.jsx(he.span,{"aria-hidden":!0,...r,ref:t}):null});ek.displayName=ZE;var sg="SelectScrollUpButton",tk=h.forwardRef((e,t)=>{const n=ya(sg,e.__scopeSelect),r=gy(sg,e.__scopeSelect),[s,o]=h.useState(!1),i=Ae(t,r.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(rk,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});tk.displayName=sg;var ag="SelectScrollDownButton",nk=h.forwardRef((e,t)=>{const n=ya(ag,e.__scopeSelect),r=gy(ag,e.__scopeSelect),[s,o]=h.useState(!1),i=Ae(t,r.onScrollButtonChange);return ut(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(rk,{...e,ref:i,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});nk.displayName=ag;var rk=h.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=ya("SelectScrollButton",n),i=h.useRef(null),l=Yh(n),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),ut(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(he.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:oe(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:oe(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:oe(s.onPointerLeave,()=>{c()})})}),t8="SelectSeparator",sk=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(he.div,{"aria-hidden":!0,...r,ref:t})});sk.displayName=t8;var og="SelectArrow",n8=h.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Qh(n),o=va(og,n),i=ya(og,n);return o.open&&i.position==="popper"?a.jsx(Tv,{...s,...r,ref:t}):null});n8.displayName=og;var r8="SelectBubbleInput",ak=h.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=h.useRef(null),o=Ae(r,s),i=my(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(he.select,{...n,style:{...OS,...n.style},ref:o,defaultValue:t})});ak.displayName=r8;function ok(e){return e===""||e===void 0}function ik(e){const t=lt(e),n=h.useRef(""),r=h.useRef(0),s=h.useCallback(i=>{const l=n.current+i;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function lk(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=s8(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function s8(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var a8=DE,ck=LE,o8=FE,i8=UE,l8=zE,uk=BE,c8=KE,dk=YE,hk=JE,u8=XE,d8=ek,fk=tk,pk=nk,mk=sk;const vr=a8,yr=o8,Jn=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(ck,{ref:r,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(i8,{asChild:!0,children:a.jsx(Pi,{className:"h-4 w-4 opacity-50"})})]}));Jn.displayName=ck.displayName;const gk=h.forwardRef(({className:e,...t},n)=>a.jsx(fk,{ref:n,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(dm,{className:"h-4 w-4"})}));gk.displayName=fk.displayName;const vk=h.forwardRef(({className:e,...t},n)=>a.jsx(pk,{ref:n,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Pi,{className:"h-4 w-4"})}));vk.displayName=pk.displayName;const Xn=h.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(l8,{children:a.jsxs(uk,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(gk,{}),a.jsx(c8,{className:J("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(vk,{})]})}));Xn.displayName=uk.displayName;const h8=h.forwardRef(({className:e,...t},n)=>a.jsx(dk,{ref:n,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));h8.displayName=dk.displayName;const ke=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(hk,{ref:r,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(d8,{children:a.jsx(pa,{className:"h-4 w-4"})})}),a.jsx(u8,{children:t})]}));ke.displayName=hk.displayName;const f8=h.forwardRef(({className:e,...t},n)=>a.jsx(mk,{ref:n,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));f8.displayName=mk.displayName;const p8=e=>{try{const t=/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,n=e.match(t);return n?n[1]:null}catch{return null}},m8=async(e,t,n=200)=>{var s;if(!t)throw new Error("YouTube API Key not configured. Please enter your key in Settings.");const r=p8(e);if(!r)throw new Error("Invalid YouTube URL.");try{let o=[],i;const l=Math.ceil(n/100);for(let c=0;c<l&&o.length<n;c++){const u=new URLSearchParams({part:"snippet",videoId:r,key:t,maxResults:"100",order:"relevance",textFormat:"plainText"});i&&u.append("pageToken",i);const d=await fetch(`https://www.googleapis.com/youtube/v3/commentThreads?${u.toString()}`),f=await d.json();if(!d.ok){const g=((s=f.error)==null?void 0:s.message)||"Unknown YouTube API error";throw g.includes("disabled")?new Error("Comments are disabled for this video."):g.includes("API key not valid")?new Error("Invalid API Key. Please check your Settings."):g.includes("commentsDisabled")?new Error("Comments are disabled for this video."):new Error(g)}if(f.items){const g=f.items.map(m=>{const b=m.snippet.topLevelComment.snippet;return{author:b.authorDisplayName,text:b.textDisplay,likeCount:b.likeCount,authorProfileImageUrl:b.authorProfileImageUrl,publishedAt:b.publishedAt}});o=o.concat(g)}if(i=f.nextPageToken,!i)break}return o.sort((c,u)=>u.likeCount-c.likeCount).slice(0,n)}catch(o){throw console.error("YouTube Fetch Error:",o),new Error(o.message||"Could not fetch comments.")}};function yk(){const[e,t]=h.useState(!1),{toast:n}=$t(),{settings:r}=ps();return{fetchComments:async(o,i=200)=>{if(!o)return n({title:"Error",description:"Please enter a video URL",variant:"destructive"}),[];const l=r==null?void 0:r.youtube_api_key;if(!l)return n({title:"Error",description:"YouTube API Key not configured. Please enter your key in Settings.",variant:"destructive"}),[];t(!0);try{const c=await m8(o,l,i);return n({title:"Success",description:`Fetched ${c.length} comments`}),c}catch(c){console.error("Error fetching YouTube comments:",c);const u=c instanceof Error?c.message:"Could not fetch comments";return n({title:"Error",description:u,variant:"destructive"}),[]}finally{t(!1)}},loading:e}}var Jh="Collapsible",[g8,PV]=Ft(Jh),[v8,vy]=g8(Jh),xk=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:o,onOpenChange:i,...l}=e,[c,u]=$n({prop:r,defaultProp:s??!1,onChange:i,caller:Jh});return a.jsx(v8,{scope:n,disabled:o,contentId:cn(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:a.jsx(he.div,{"data-state":xy(c),"data-disabled":o?"":void 0,...l,ref:t})})});xk.displayName=Jh;var wk="CollapsibleTrigger",bk=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=vy(wk,n);return a.jsx(he.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":xy(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:oe(e.onClick,s.onOpenToggle)})});bk.displayName=wk;var yy="CollapsibleContent",Nk=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=vy(yy,e.__scopeCollapsible);return a.jsx(en,{present:n||s.open,children:({present:o})=>a.jsx(y8,{...r,ref:t,present:o})})});Nk.displayName=yy;var y8=h.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...o}=e,i=vy(yy,n),[l,c]=h.useState(r),u=h.useRef(null),d=Ae(t,u),f=h.useRef(0),g=f.current,m=h.useRef(0),b=m.current,p=i.open||l,x=h.useRef(p),v=h.useRef(void 0);return h.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),ut(()=>{const y=u.current;if(y){v.current=v.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,m.current=w.width,x.current||(y.style.transitionDuration=v.current.transitionDuration,y.style.animationName=v.current.animationName),c(r)}},[i.open,r]),a.jsx(he.div,{"data-state":xy(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!p,...o,ref:d,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:p&&s})});function xy(e){return e?"open":"closed"}var x8=xk;const Xd=x8,Zd=bk,eh=Nk;function w8({dna:e,onSave:t,onCancel:n,saving:r}){const[s,o]=h.useState(e),[i,l]=h.useState({}),c=(p,x)=>{o(v=>({...v,[p]:x}))},u=(p,x,v)=>{o(y=>({...y,[p]:{...y[p],[x]:v}}))},d=(p,x="")=>{const v=s[p];c(p,[...v,x])},f=(p,x,v)=>{const y=[...s[p]];y[x]=v,c(p,y)},g=(p,x)=>{const v=s[p].filter((y,w)=>w!==x);c(p,v)},m=p=>{l(x=>({...x,[p]:!x[p]}))},b=s.structuralSkeleton.reduce((p,x)=>p+(x.wordCount||0),0);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b",children:a.jsxs("div",{className:"flex items-center justify-between p-4 max-w-[1600px] mx-auto",children:[a.jsxs(D,{variant:"ghost",onClick:n,className:"gap-2",children:[a.jsx(us,{className:"h-4 w-4"}),"Cancel"]}),a.jsx(ie,{value:s.name,onChange:p=>c("name",p.target.value),className:"max-w-md text-center text-lg font-semibold bg-transparent border-none focus-visible:ring-1",placeholder:"DNA Name"}),a.jsxs(D,{onClick:()=>t(s),disabled:r,className:"gap-2",children:[a.jsx(jh,{className:"h-4 w-4"}),"Save DNA"]})]})}),a.jsx("div",{className:"max-w-[1600px] mx-auto p-4 md:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Yn,{className:"h-3 w-3 text-primary"})," My Notes / Constraints"]}),a.jsx(Ne,{placeholder:"Add your own mandatory elements or notes here (optional)...",className:"min-h-[80px] bg-muted/50 resize-none"})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(aa,{className:"h-3 w-3"})," Niche / Category"]}),a.jsx(ie,{value:s.niche,onChange:p=>c("niche",p.target.value),placeholder:"e.g., Health & Fitness, Crypto, Gaming...",className:"bg-muted/50"})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(Yn,{className:"h-3 w-3"})," Target Word Count"]}),a.jsx(ie,{type:"number",value:s.targetWordCount||"",onChange:p=>c("targetWordCount",parseInt(p.target.value)||0),placeholder:"e.g., 3316",className:"bg-muted/50"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Calculated from viral scripts. Scripts generated will aim for this range."})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(lj,{className:"h-3 w-3"})," Linguistic Fingerprint (The Voice)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Persona / Role"}),a.jsx(ie,{value:s.linguisticFingerprint.personaRole,onChange:p=>u("linguisticFingerprint","personaRole",p.target.value),placeholder:"e.g., The Financial Realist Mentor",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Tone Analysis"}),a.jsx(Ne,{value:s.linguisticFingerprint.toneAnalysis,onChange:p=>u("linguisticFingerprint","toneAnalysis",p.target.value),placeholder:"Describe the tone...",className:"min-h-[80px] bg-muted/50 resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Signature Keywords"}),a.jsx(ie,{value:s.linguisticFingerprint.signatureKeywords.join(", "),onChange:p=>u("linguisticFingerprint","signatureKeywords",p.target.value.split(",").map(x=>x.trim())),placeholder:"e.g., Trap, Survival Mode, Freedom, System...",className:"bg-muted/50"})]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Qn,{className:"h-3 w-3 text-green-500"})," Hook Angle (Psychology)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Angle / Category"}),a.jsx(ie,{value:s.hookAngle.angleCategory,onChange:p=>u("hookAngle","angleCategory",p.target.value),placeholder:"e.g., Negative, Curiosity, Paradox...",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Deconstruction"}),a.jsx(Ne,{value:s.hookAngle.deconstruction,onChange:p=>u("hookAngle","deconstruction",p.target.value),placeholder:"How the hook works psychologically...",className:"min-h-[80px] bg-muted/50 resize-none"})]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(cj,{className:"h-3 w-3"})," Pacing (Linguistic Rhythm)"]}),a.jsx(Ne,{value:s.pacingAndTone.pacing,onChange:p=>u("pacingAndTone","pacing",p.target.value),placeholder:"Describe the pacing...",className:"min-h-[100px] bg-muted/50 resize-none"})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(z,{className:"text-xs uppercase text-blue-500 flex items-center gap-1.5",children:[a.jsx(Yn,{className:"h-3 w-3"})," Structural Skeleton (Advanced)"]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Est. Total: ",a.jsxs("span",{className:"text-foreground font-medium",children:[b," words"]})]})]}),a.jsx("div",{className:"space-y-2",children:s.structuralSkeleton.map((p,x)=>a.jsxs(Xd,{open:!!i[x],onOpenChange:()=>m(x),children:[a.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-2",children:[a.jsx(Zd,{asChild:!0,children:a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",children:i[x]?a.jsx(Pi,{className:"h-4 w-4"}):a.jsx(Ir,{className:"h-4 w-4"})})}),a.jsx(ie,{value:p.title,onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,title:v.target.value},c("structuralSkeleton",y)},className:"flex-1 h-8 bg-transparent border-none",placeholder:"Section title..."}),a.jsx(ie,{type:"number",value:p.wordCount||0,onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,wordCount:parseInt(v.target.value)||0},c("structuralSkeleton",y)},className:"w-24 h-8 text-xs text-center bg-muted",placeholder:"Words"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{const v=s.structuralSkeleton.filter((y,w)=>w!==x);c("structuralSkeleton",v)},children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]}),a.jsxs(eh,{className:"pt-4 pl-4 space-y-4 border-l-2 border-muted ml-3 mb-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Section Tone"}),a.jsx(ie,{value:p.tone||"",onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,tone:v.target.value},c("structuralSkeleton",y)},className:"h-8 bg-muted/30 text-xs",placeholder:"e.g. Urgent, Inquisitive, Calm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Linguistic Pacing (Rhythm/Speed)"}),a.jsx(Ne,{value:p.pacing||"",onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,pacing:v.target.value},c("structuralSkeleton",y)},className:"min-h-[60px] bg-muted/30 text-xs resize-none",placeholder:"Detailed pacing instructions (e.g. Fast cuts every 2s...)"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Content Focus"}),a.jsx(Ne,{value:p.contentFocus||"",onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,contentFocus:v.target.value},c("structuralSkeleton",y)},className:"min-h-[80px] bg-muted/30 text-xs resize-none",placeholder:"What happens here? Main objective..."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Micro Hook (First 5s)"}),a.jsx(ie,{value:p.microHook||"",onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,microHook:v.target.value},c("structuralSkeleton",y)},className:"h-8 bg-muted/30 text-xs",placeholder:"Mini-hook strategy..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Open Loop (Optional)"}),a.jsx(ie,{value:p.openLoop||"",onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,openLoop:v.target.value},c("structuralSkeleton",y)},className:"h-8 bg-muted/30 text-xs",placeholder:"Curiosity gap..."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Viral Trigger (Optional)"}),a.jsx(ie,{value:p.viralTriggers||"",onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,viralTriggers:v.target.value},c("structuralSkeleton",y)},className:"h-8 bg-muted/30 text-xs",placeholder:"Specific element..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Must Include Elements (Comma Separated)"}),a.jsx(ie,{value:(p.mustInclude||[]).join(", "),onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,mustInclude:v.target.value.split(",").map(w=>w.trim())},c("structuralSkeleton",y)},className:"h-8 bg-muted/30 text-xs",placeholder:"e.g. Sound effect, Visual metaphor"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Audience Interaction / CTA (Optional)"}),a.jsx(ie,{value:p.audienceInteraction||"",onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,audienceInteraction:v.target.value},c("structuralSkeleton",y)},className:"h-8 bg-muted/30 text-xs",placeholder:"Specific CTA or engagement prompt..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-orange-500",children:"Audience Value (Takeaway) *"}),a.jsx(Ne,{value:p.audienceValue||"",onChange:v=>{const y=[...s.structuralSkeleton];y[x]={...p,audienceValue:v.target.value},c("structuralSkeleton",y)},className:"min-h-[60px] bg-muted/30 text-xs resize-none border-orange-500/30 focus:border-orange-500/50",placeholder:"What value does the viewer get? (Mandatory)"})]})]})]})]},x))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>{c("structuralSkeleton",[...s.structuralSkeleton,{title:"",wordCount:100}])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Detailed Section"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-yellow-500 flex items-center gap-1.5",children:[a.jsx(Qn,{className:"h-3 w-3"})," High Dopamine (Keep)"]}),a.jsx("div",{className:"space-y-2",children:s.highDopamine.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:p,onChange:v=>f("highDopamine",x,v.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("highDopamine",x),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>d("highDopamine"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add High"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-orange-500 flex items-center gap-1.5",children:[a.jsx(hj,{className:"h-3 w-3"})," Confusion Points (Fix)"]}),a.jsx("div",{className:"space-y-2",children:s.confusionPoints.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:p,onChange:v=>f("confusionPoints",x,v.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("confusionPoints",x),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>d("confusionPoints"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Confusion"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(Ri,{className:"h-3 w-3"})," Objections (Address)"]}),a.jsx("div",{className:"space-y-2",children:s.objections.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:p,onChange:v=>f("objections",x,v.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("objections",x),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>d("objections"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Objections"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(dj,{className:"h-3 w-3"})," Core Patterns (70% Safe)"]}),a.jsx("div",{className:"space-y-2",children:s.corePatterns.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:p,onChange:v=>f("corePatterns",x,v.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("corePatterns",x),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>d("corePatterns"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Core"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-purple-500 flex items-center gap-1.5",children:[a.jsx(ct,{className:"h-3 w-3"})," Viral X-Factors (30% Magic)"]}),a.jsx("div",{className:"space-y-2",children:s.viralXFactors.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:p,onChange:v=>f("viralXFactors",x,v.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("viralXFactors",x),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>d("viralXFactors"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Viral"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-400 flex items-center gap-1.5",children:[a.jsx(rj,{className:"h-3 w-3"})," Flop Avoidance"]}),a.jsx("div",{className:"space-y-2",children:s.flopAvoidance.map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:p,onChange:v=>f("flopAvoidance",x,v.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("flopAvoidance",x),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>d("flopAvoidance"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Flop"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(Qn,{className:"h-3 w-3"})," Hook Examples"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"AI learns from these patterns. DO NOT copy exact wording."}),a.jsx("div",{className:"space-y-2",children:(s.hook_examples||[]).map((p,x)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:p,onChange:v=>f("hook_examples",x,v.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>g("hook_examples",x),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},x))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>d("hook_examples"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Example"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-purple-500 flex items-center gap-1.5",children:[a.jsx(dv,{className:"h-3 w-3"})," Audience Psychology"]}),a.jsx(Ne,{value:s.audiencePsychology,onChange:p=>c("audiencePsychology",p.target.value),placeholder:"Describe the audience's emotional state, fears, desires...",className:"min-h-[120px] bg-muted/50 resize-none"})]})})]})]})]})})]})}const b8={dna_evolution:{name:"DNA Evolution",description:"Learn from new videos to improve your DNA profile"},ai_suggest_angle:{name:"AI Suggest Angle",description:"AI automatically suggests unique angles for your content"},batch_dna:{name:"Batch DNA",description:"Analyze multiple videos at once to create a combined DNA"},structure_innovation:{name:"Structure Innovation",description:"Allow AI to creatively transform script structure"},flop_analysis:{name:"Flop Analysis",description:"Analyze failed videos to avoid similar mistakes"}},N8={starter:{name:"Starter",color:"bg-gray-500"},pro:{name:"Pro",color:"bg-gradient-to-r from-blue-500 to-purple-500"},ultra:{name:"Ultra",color:"bg-gradient-to-r from-amber-500 to-orange-500"}};function S8({feature:e,requiredTier:t,isModal:n,onClose:r}){const s=mo(),o=b8[e],i=N8[t],l=()=>{s("/pricing"),r==null||r()},c=a.jsxs("div",{className:"relative bg-gradient-to-br from-primary/5 via-transparent to-primary/10 border border-primary/20 rounded-xl p-4 space-y-3",children:[n&&r&&a.jsx("button",{onClick:r,className:"absolute top-2 right-2 text-muted-foreground hover:text-foreground",children:a.jsx(us,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Cd,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-sm",children:o.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:o.description})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs(Oe,{className:`${i.color} text-white border-0`,children:[a.jsx(ct,{className:"h-3 w-3 mr-1"}),"Requires ",i.name]}),a.jsxs(D,{size:"sm",onClick:l,className:"gap-1",children:[a.jsx(Cd,{className:"h-3 w-3"}),"Upgrade"]})]})]});return n?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:a.jsx("div",{className:"w-full max-w-md mx-4",children:c})}):c}function Ka({feature:e,children:t,showUpgradePrompt:n=!0,fallback:r,hideCompletely:s=!1}){const{canAccessFeature:o,getRequiredTier:i,loading:l}=W_();if(l)return null;if(o(e))return a.jsx(a.Fragment,{children:t});if(s)return null;if(r)return a.jsx(a.Fragment,{children:r});if(n){const c=i(e);return a.jsx(S8,{feature:e,requiredTier:c})}return null}function j8({dna:e,onBack:t,onUpdate:n,onExport:r,onEvolve:s}){var I,A,$,Z,ne,re,ge,Q,ye,G,Ee,se,xe,Re,De,We,dt,ht,Et,yt,qt,Gt,Dt,U;const[o,i]=h.useState(e),[l,c]=h.useState({}),[u,d]=h.useState(!1),[f,g]=h.useState(!1),[m,b]=h.useState(!1),[p,x]=h.useState(!1),[v,y]=h.useState([]),[w,N]=h.useState(""),[S,j]=h.useState(""),[_,E]=h.useState(""),[C,P]=h.useState(""),R=(F,O)=>{i(q=>({...q,[F]:O})),g(!0)},L=F=>{c(O=>({...O,[F]:!O[F]}))},B=async()=>{d(!0);try{await n({name:o.name,niche:o.niche,tone:o.tone,pacing:o.pacing,vocabulary:o.vocabulary,hook_type:o.hook_type,hook_examples:o.hook_examples,structure:o.structure,patterns:o.patterns,retention_tactics:o.retention_tactics,x_factors:o.x_factors,analysis_data:o.analysis_data}),g(!1)}finally{d(!1)}},M=(F,O)=>{i(q=>({...q,analysis_data:{...q.analysis_data||{},[F]:O}})),g(!0)},H=F=>{const O=o[F]||[];R(F,[...O,""])},V=(F,O,q)=>{const te=[...o[F]||[]];te[O]=q,R(F,te)},Y=(F,O)=>{const q=(o[F]||[]).filter((te,le)=>le!==O);R(F,q)};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"sticky top-0 z-50 bg-background/95 backdrop-blur border-b",children:a.jsxs("div",{className:"flex items-center justify-between p-4 max-w-[1600px] mx-auto",children:[a.jsxs(D,{variant:"ghost",onClick:t,className:"gap-2",children:[a.jsx(fo,{className:"h-4 w-4"}),"Back"]}),a.jsx(ie,{value:o.name,onChange:F=>R("name",F.target.value),className:"max-w-md text-center text-lg font-semibold bg-transparent border-none focus-visible:ring-1",placeholder:"DNA Name"}),a.jsxs("div",{className:"flex gap-2",children:[s&&a.jsx(Ka,{feature:"dna_evolution",hideCompletely:!0,children:a.jsxs(D,{variant:"outline",onClick:()=>b(!m),className:"gap-2 border-green-500/50 text-green-500 hover:bg-green-500/10",children:[a.jsx(Yr,{className:"h-4 w-4"}),"Evolve DNA"]})}),a.jsxs(D,{variant:"outline",onClick:()=>r(o),className:"gap-2",children:[a.jsx(fv,{className:"h-4 w-4"}),"Export"]}),f&&a.jsxs(D,{onClick:B,disabled:u,className:"gap-2",children:[a.jsx(jh,{className:"h-4 w-4"}),"Save"]})]})]})}),m&&s&&a.jsx("div",{className:"max-w-[1600px] mx-auto p-4 border-b bg-green-500/5",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(z,{className:"text-sm font-semibold flex items-center gap-2 text-green-500",children:[a.jsx(Yr,{className:"h-4 w-4"}),"DNA Evolution - Learn from New Content"]}),a.jsx(D,{variant:"ghost",size:"sm",onClick:()=>{b(!1),y([])},children:" Close"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsx(z,{className:"text-xs uppercase text-green-500",children:" Viral Video (to learn from)"}),a.jsx(ie,{value:S,onChange:F=>j(F.target.value),placeholder:"Video URL (optional)",className:"bg-muted/50"}),a.jsx(Ne,{value:w,onChange:F=>N(F.target.value),placeholder:"Paste viral video transcript here...",className:"min-h-[120px] bg-muted/50 resize-none"})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsx(z,{className:"text-xs uppercase text-red-400",children:" Flop Video (to learn mistakes)"}),a.jsx(ie,{value:C,onChange:F=>P(F.target.value),placeholder:"Video URL (optional)",className:"bg-muted/50"}),a.jsx(Ne,{value:_,onChange:F=>E(F.target.value),placeholder:"Paste flop video transcript here...",className:"min-h-[120px] bg-muted/50 resize-none"})]})})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(D,{onClick:async()=>{if(!w&&!_)return;x(!0),y([]);const F=await s({viralVideos:w?[{transcript:w,url:S}]:void 0,flopVideos:_?[{transcript:_,url:C}]:void 0});x(!1),F.success&&F.changesSummary&&(y(F.changesSummary),N(""),j(""),E(""),P(""),i({...e}))},disabled:p||!w&&!_,className:"gap-2 bg-green-600 hover:bg-green-700",children:p?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"h-4 w-4 animate-spin"}),"Evolving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"h-4 w-4"}),"Evolve Now"]})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"AI will learn from new content and refine your DNA patterns."})]}),v.length>0&&a.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-4",children:[a.jsxs(z,{className:"text-sm font-semibold text-green-500 mb-2 block",children:[" Evolution Complete - ",v.length," Changes Made:"]}),a.jsx("ul",{className:"space-y-1",children:v.map((F,O)=>a.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[a.jsx("span",{className:"text-green-500",children:""}),F]},O))})]})]})}),a.jsx("div",{className:"max-w-[1600px] mx-auto p-4 md:p-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[400px_1fr] gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Yn,{className:"h-3 w-3 text-primary"})," My Notes / Constraints"]}),a.jsx(Ne,{placeholder:"Add your own mandatory elements or notes here (optional)...",className:"min-h-[80px] bg-muted/50 resize-none"})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(aa,{className:"h-3 w-3"})," Niche / Category"]}),a.jsx(ie,{value:o.niche||"",onChange:F=>R("niche",F.target.value),placeholder:"e.g., Health & Fitness, Crypto, Gaming...",className:"bg-muted/50"})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(Yn,{className:"h-3 w-3"})," Target Word Count"]}),a.jsx(ie,{type:"number",value:((I=o.analysis_data)==null?void 0:I.targetWordCount)||"",onChange:F=>M("targetWordCount",parseInt(F.target.value)||0),placeholder:"e.g., 3316",className:"bg-muted/50"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Calculated from viral scripts. Scripts generated will aim for this range."})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(lj,{className:"h-3 w-3"})," Linguistic Fingerprint (The Voice)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Persona / Role"}),a.jsx(ie,{value:(($=(A=o.analysis_data)==null?void 0:A.linguisticFingerprint)==null?void 0:$.personaRole)||"",onChange:F=>{var q;const O=((q=o.analysis_data)==null?void 0:q.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]};M("linguisticFingerprint",{...O,personaRole:F.target.value})},placeholder:"e.g., The Financial Realist Mentor",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Tone Analysis"}),a.jsx(Ne,{value:((ne=(Z=o.analysis_data)==null?void 0:Z.linguisticFingerprint)==null?void 0:ne.toneAnalysis)||"",onChange:F=>{var q;const O=((q=o.analysis_data)==null?void 0:q.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]};M("linguisticFingerprint",{...O,toneAnalysis:F.target.value})},placeholder:"Describe the tone...",className:"min-h-[80px] bg-muted/50 resize-none"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Signature Keywords"}),a.jsx(ie,{value:((Q=(ge=(re=o.analysis_data)==null?void 0:re.linguisticFingerprint)==null?void 0:ge.signatureKeywords)==null?void 0:Q.join(", "))||"",onChange:F=>{var q;const O=((q=o.analysis_data)==null?void 0:q.linguisticFingerprint)||{personaRole:"",toneAnalysis:"",signatureKeywords:[]};M("linguisticFingerprint",{...O,signatureKeywords:F.target.value.split(",").map(te=>te.trim())})},placeholder:"e.g., Trap, Survival Mode, Freedom, System...",className:"bg-muted/50"})]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Qn,{className:"h-3 w-3 text-green-500"})," Hook Angle (Psychology)"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Angle / Category"}),a.jsx(ie,{value:((G=(ye=o.analysis_data)==null?void 0:ye.hookAngle)==null?void 0:G.angleCategory)||o.hook_type||"",onChange:F=>{var q;const O=((q=o.analysis_data)==null?void 0:q.hookAngle)||{angleCategory:"",deconstruction:""};M("hookAngle",{...O,angleCategory:F.target.value})},placeholder:"e.g., Negative, Curiosity, Paradox...",className:"bg-muted/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Deconstruction"}),a.jsx(Ne,{value:((se=(Ee=o.analysis_data)==null?void 0:Ee.hookAngle)==null?void 0:se.deconstruction)||"",onChange:F=>{var q;const O=((q=o.analysis_data)==null?void 0:q.hookAngle)||{angleCategory:"",deconstruction:""};M("hookAngle",{...O,deconstruction:F.target.value})},placeholder:"How the hook works psychologically...",className:"min-h-[80px] bg-muted/50 resize-none"})]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(cj,{className:"h-3 w-3"})," Pacing"]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Pacing"}),a.jsx(Ne,{value:((Re=(xe=o.analysis_data)==null?void 0:xe.pacingAndTone)==null?void 0:Re.pacing)||o.pacing||"",onChange:F=>{var q;const O=((q=o.analysis_data)==null?void 0:q.pacingAndTone)||{pacing:""};M("pacingAndTone",{...O,pacing:F.target.value})},placeholder:"Describe the pacing...",className:"min-h-[80px] bg-muted/50 resize-none"})]})]})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-4",children:[a.jsxs(z,{className:"text-xs uppercase text-pink-500 flex items-center gap-1.5",children:[a.jsx(ct,{className:"h-3 w-3"})," Emotional Arc"]}),a.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:[(((De=o.analysis_data)==null?void 0:De.emotionalArc)||[]).map((F,O)=>{var q,te;return a.jsxs("div",{className:"flex-shrink-0 flex items-center",children:[a.jsxs("div",{className:"bg-pink-500/10 border border-pink-500/20 rounded-lg p-3 min-w-[120px] text-center space-y-1",children:[a.jsx("div",{className:"text-[10px] uppercase text-muted-foreground",children:F.section}),a.jsx("div",{className:"text-sm font-medium text-pink-500",children:F.emotion})]}),O<(((te=(q=o.analysis_data)==null?void 0:q.emotionalArc)==null?void 0:te.length)||0)-1&&a.jsx("div",{className:"w-8 h-[2px] bg-muted mx-2"})]},O)}),a.jsx(D,{variant:"ghost",size:"sm",className:"h-full ml-2 border border-dashed",onClick:()=>{var O;const F=[...((O=o.analysis_data)==null?void 0:O.emotionalArc)||[]];F.push({section:"New Phase",emotion:"Emotion"}),M("emotionalArc",F)},children:a.jsx(He,{className:"h-4 w-4"})})]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(z,{className:"text-xs uppercase text-blue-500 flex items-center gap-1.5",children:[a.jsx(Yn,{className:"h-3 w-3"})," Structural Skeleton (Advanced)"]}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Est. Total: ",a.jsxs("span",{className:"text-foreground font-medium",children:[(((We=o.analysis_data)==null?void 0:We.structuralSkeleton)||[]).reduce((F,O)=>F+(O.wordCount||0),0)," words"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[(((dt=o.analysis_data)==null?void 0:dt.structuralSkeleton)||[]).map((F,O)=>a.jsxs(Xd,{open:!!l[O],onOpenChange:()=>L(O),children:[a.jsxs("div",{className:"flex items-center gap-2 bg-muted/50 rounded-lg p-2",children:[a.jsx(Zd,{asChild:!0,children:a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",children:l[O]?a.jsx(Pi,{className:"h-4 w-4"}):a.jsx(Ir,{className:"h-4 w-4"})})}),a.jsx(ie,{value:F.title,onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];te[O]={...F,title:q.target.value},M("structuralSkeleton",te)},className:"flex-1 h-8 bg-transparent border-none",placeholder:"Section title..."}),a.jsx(ie,{type:"number",value:F.wordCount||0,onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];te[O]={...F,wordCount:parseInt(q.target.value)||0},M("structuralSkeleton",te)},className:"w-24 h-8 text-xs text-center bg-muted",placeholder:"Words"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var te;const q=(((te=o.analysis_data)==null?void 0:te.structuralSkeleton)||[]).filter((le,Me)=>Me!==O);M("structuralSkeleton",q)},children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]}),a.jsxs(eh,{className:"pt-4 pl-4 space-y-4 border-l-2 border-muted ml-3 mb-2",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Section Tone"}),a.jsx(ie,{value:F.tone||"",onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];te[O]={...F,tone:q.target.value},M("structuralSkeleton",te)},className:"h-8 bg-muted/30 text-xs",placeholder:"e.g. Urgent, Inquisitive, Calm"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Linguistic Pacing (Rhythm/Speed)"}),a.jsx(Ne,{value:F.pacing||"",onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];te[O]={...F,pacing:q.target.value},M("structuralSkeleton",te)},className:"min-h-[60px] bg-muted/30 text-xs resize-none",placeholder:"Detailed pacing instructions (e.g. Fast cuts every 2s...)"})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Content Focus"}),a.jsx(Ne,{value:F.contentFocus||"",onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];te[O]={...F,contentFocus:q.target.value},M("structuralSkeleton",te)},className:"min-h-[80px] bg-muted/30 text-xs resize-none",placeholder:"What happens here? Main objective..."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Open Loop (Optional)"}),a.jsx(ie,{value:F.openLoop||"",onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];te[O]={...F,openLoop:q.target.value},M("structuralSkeleton",te)},className:"h-8 bg-muted/30 text-xs",placeholder:"Curiosity gap..."})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Closes Loop (Optional)"}),a.jsx(ie,{value:F.closesLoop||"",onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];te[O]={...F,closesLoop:q.target.value},M("structuralSkeleton",te)},className:"h-8 bg-muted/30 text-xs",placeholder:"Reference closed loop..."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-muted-foreground",children:"Audience Interaction / CTA (Mandatory)"}),a.jsx(ie,{value:F.audienceInteraction||"",onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];te[O]={...F,audienceInteraction:q.target.value},M("structuralSkeleton",te)},className:"h-8 bg-muted/30 text-xs border-green-500/30",placeholder:"Explicit CTA or implicit trigger..."})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-orange-500",children:"Audience Value (Takeaway) *"}),a.jsx(Ne,{value:F.audienceValue||"",onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];te[O]={...F,audienceValue:q.target.value},M("structuralSkeleton",te)},className:"min-h-[60px] bg-muted/30 text-xs resize-none border-orange-500/30 focus:border-orange-500/50",placeholder:"What value does the viewer get? (Mandatory)"})]})]}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(z,{className:"text-[10px] uppercase text-red-400",children:"Anti-Pattern (Mistake to Avoid)"}),a.jsx(ie,{value:F.antiPattern||"",onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.structuralSkeleton)||[]];te[O]={...F,antiPattern:q.target.value},M("structuralSkeleton",te)},className:"h-8 bg-red-500/10 border-red-500/30 text-xs",placeholder:"Specific mistake to avoid here..."})]})]})]},O)),(!((ht=o.analysis_data)!=null&&ht.structuralSkeleton)||o.analysis_data.structuralSkeleton.length===0)&&(o.structure||[]).length>0&&a.jsxs("div",{className:"space-y-2 mt-4",children:[a.jsx(z,{className:"text-xs text-muted-foreground block mb-2",children:"Legacy Structure View"}),(Et=o.structure)==null?void 0:Et.map((F,O)=>a.jsxs("div",{className:"flex gap-2 items-center bg-muted/30 p-2 rounded",children:[a.jsx(Oe,{variant:"secondary",className:"shrink-0",children:O+1}),a.jsx("span",{className:"text-sm flex-1",children:F})]},O)),a.jsx(D,{variant:"outline",size:"sm",className:"w-full mt-2",onClick:()=>{const F=(o.structure||[]).map(O=>({title:O,wordCount:100,percentage:10,wordRange:"0-0"}));M("structuralSkeleton",F)},children:"Convert to Advanced Structure"})]})]}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>{var O;const F=((O=o.analysis_data)==null?void 0:O.structuralSkeleton)||[];M("structuralSkeleton",[...F,{title:"",wordCount:100}])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Detailed Section"]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-purple-500 flex items-center gap-1.5",children:[a.jsx(ct,{className:"h-3 w-3"})," Core Patterns"]}),a.jsx("div",{className:"space-y-2",children:(o.patterns||[]).map((F,O)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:F,onChange:q=>V("patterns",O,q.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter pattern..."}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>Y("patterns",O),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},O))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>H("patterns"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Pattern"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-yellow-500 flex items-center gap-1.5",children:[a.jsx(Qn,{className:"h-3 w-3"})," Retention Tactics"]}),a.jsx("div",{className:"space-y-2",children:(o.retention_tactics||[]).map((F,O)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:F,onChange:q=>V("retention_tactics",O,q.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter tactic..."}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>Y("retention_tactics",O),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},O))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>H("retention_tactics"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Tactic"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-pink-500 flex items-center gap-1.5",children:[a.jsx(dj,{className:"h-3 w-3"})," Viral X-Factors"]}),a.jsx("div",{className:"space-y-2",children:(o.x_factors||[]).map((F,O)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:F,onChange:q=>V("x_factors",O,q.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter x-factor..."}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>Y("x_factors",O),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},O))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>H("x_factors"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add X-Factor"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-yellow-500 flex items-center gap-1.5",children:[a.jsx(Qn,{className:"h-3 w-3"})," High Dopamine (Keep)"]}),a.jsx("div",{className:"space-y-2",children:(((yt=o.analysis_data)==null?void 0:yt.highDopamine)||[]).map((F,O)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:F,onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.highDopamine)||[]];te[O]=q.target.value,M("highDopamine",te)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"High dopamine element..."}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var te;const q=(((te=o.analysis_data)==null?void 0:te.highDopamine)||[]).filter((le,Me)=>Me!==O);M("highDopamine",q)},children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},O))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>{var F;return M("highDopamine",[...((F=o.analysis_data)==null?void 0:F.highDopamine)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add High"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-orange-500 flex items-center gap-1.5",children:[a.jsx(hj,{className:"h-3 w-3"})," Confusion Points (Fix)"]}),a.jsx("div",{className:"space-y-2",children:(((qt=o.analysis_data)==null?void 0:qt.confusionPoints)||[]).map((F,O)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:F,onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.confusionPoints)||[]];te[O]=q.target.value,M("confusionPoints",te)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Confusion point..."}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var te;const q=(((te=o.analysis_data)==null?void 0:te.confusionPoints)||[]).filter((le,Me)=>Me!==O);M("confusionPoints",q)},children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},O))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>{var F;return M("confusionPoints",[...((F=o.analysis_data)==null?void 0:F.confusionPoints)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Confusion"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(Ri,{className:"h-3 w-3"})," Objections (Address)"]}),a.jsx("div",{className:"space-y-2",children:(((Gt=o.analysis_data)==null?void 0:Gt.objections)||[]).map((F,O)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:F,onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.objections)||[]];te[O]=q.target.value,M("objections",te)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Objection to address..."}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var te;const q=(((te=o.analysis_data)==null?void 0:te.objections)||[]).filter((le,Me)=>Me!==O);M("objections",q)},children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},O))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>{var F;return M("objections",[...((F=o.analysis_data)==null?void 0:F.objections)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Objection"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-red-500 flex items-center gap-1.5",children:[a.jsx(rj,{className:"h-3 w-3"})," Flop Avoidance"]}),a.jsx("div",{className:"space-y-2",children:(((Dt=o.analysis_data)==null?void 0:Dt.flopAvoidance)||[]).map((F,O)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:F,onChange:q=>{var le;const te=[...((le=o.analysis_data)==null?void 0:le.flopAvoidance)||[]];te[O]=q.target.value,M("flopAvoidance",te)},className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"What to avoid..."}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>{var te;const q=(((te=o.analysis_data)==null?void 0:te.flopAvoidance)||[]).filter((le,Me)=>Me!==O);M("flopAvoidance",q)},children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},O))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>{var F;return M("flopAvoidance",[...((F=o.analysis_data)==null?void 0:F.flopAvoidance)||[],""])},className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Flop"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-green-500 flex items-center gap-1.5",children:[a.jsx(Qn,{className:"h-3 w-3"})," Hook Examples"]}),a.jsx("div",{className:"space-y-2",children:(o.hook_examples||[]).map((F,O)=>a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{value:F,onChange:q=>V("hook_examples",O,q.target.value),className:"min-h-[60px] bg-muted/50 resize-none text-sm flex-1",placeholder:"Enter hook example..."}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>Y("hook_examples",O),children:a.jsx(Ke,{className:"h-3 w-3 text-destructive"})})]},O))}),a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>H("hook_examples"),className:"w-full text-muted-foreground",children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Example"]})]})}),a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-3",children:[a.jsxs(z,{className:"text-xs uppercase text-blue-500 flex items-center gap-1.5",children:[a.jsx(dv,{className:"h-3 w-3"})," Audience Psychology"]}),a.jsx(Ne,{value:((U=o.analysis_data)==null?void 0:U.audiencePsychology)||"",onChange:F=>M("audiencePsychology",F.target.value),className:"min-h-[100px] bg-muted/50 resize-none text-sm",placeholder:"Describe audience psychology..."})]})})]}),o.source_url&&a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-2",children:[a.jsx(z,{className:"text-xs uppercase text-muted-foreground",children:"Source URL"}),a.jsx("p",{className:"text-sm text-muted-foreground break-all",children:o.source_url})]})}),o.source_transcript&&a.jsx(ue,{children:a.jsxs(me,{className:"p-4 space-y-2",children:[a.jsx(z,{className:"text-xs uppercase text-muted-foreground",children:"Source Transcript"}),a.jsx(Ne,{value:o.source_transcript,readOnly:!0,className:"min-h-[200px] bg-muted/50 resize-none text-sm"})]})})]})]})})]})}const q0=[{value:"google/gemini-3-flash-preview",label:"Gemini 3 Flash",description:"Next-Gen Fast"},{value:"google/gemini-3-pro-preview",label:"Gemini 3 Pro",description:"Next-Gen Quality"},{value:"anthropic/claude-sonnet-4.5",label:"Claude 4.5 Sonnet",description:"Adv. Reasoning"},{value:"openai/gpt-5.2",label:"GPT-5.2",description:"State of the Art"},{value:"openai/gpt-oss-120b:free",label:"GPT-OSS 120B",description:"Open Source"}];function Kl({value:e,onChange:t,label:n,compact:r=!1}){return r?a.jsxs("div",{className:"flex items-center gap-2",children:[n&&a.jsxs(z,{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(ct,{className:"h-3 w-3"}),n,":"]}),a.jsxs(vr,{value:e,onValueChange:t,children:[a.jsx(Jn,{className:"h-8 rounded-lg text-xs w-[160px]",children:a.jsx(yr,{})}),a.jsx(Xn,{children:q0.map(s=>a.jsxs(ke,{value:s.value,className:"text-xs",children:[s.label," (",s.description,")"]},s.value))})]})]}):a.jsxs("div",{className:"space-y-2",children:[n&&a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(ct,{className:"h-4 w-4 text-primary"}),n]}),a.jsxs(vr,{value:e,onValueChange:t,children:[a.jsx(Jn,{className:"rounded-xl",children:a.jsx(yr,{})}),a.jsx(Xn,{children:q0.map(s=>a.jsxs(ke,{value:s.value,children:[s.label," (",s.description,")"]},s.value))})]})]})}var Xh="Checkbox",[_8,AV]=Ft(Xh),[C8,wy]=_8(Xh);function E8(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[g,m]=$n({prop:n,defaultProp:s??!1,onChange:c,caller:Xh}),[b,p]=h.useState(null),[x,v]=h.useState(null),y=h.useRef(!1),w=b?!!i||!!b.closest("form"):!0,N={checked:g,disabled:o,setChecked:m,control:b,setControl:p,name:l,form:i,value:d,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:ta(s)?!1:s,isFormControl:w,bubbleInput:x,setBubbleInput:v};return a.jsx(C8,{scope:t,...N,children:k8(f)?f(N):r})}var Sk="CheckboxTrigger",jk=h.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:i,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:m,bubbleInput:b}=wy(Sk,e),p=Ae(s,d),x=h.useRef(c);return h.useEffect(()=>{const v=o==null?void 0:o.form;if(v){const y=()=>f(x.current);return v.addEventListener("reset",y),()=>v.removeEventListener("reset",y)}},[o,f]),a.jsx(he.button,{type:"button",role:"checkbox","aria-checked":ta(c)?"mixed":c,"aria-required":u,"data-state":Tk(c),"data-disabled":l?"":void 0,disabled:l,value:i,...r,ref:p,onKeyDown:oe(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:oe(n,v=>{f(y=>ta(y)?!0:!y),b&&m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})})});jk.displayName=Sk;var by=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:l,value:c,onCheckedChange:u,form:d,...f}=e;return a.jsx(E8,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:l,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(jk,{...f,ref:t,__scopeCheckbox:n}),g&&a.jsx(kk,{__scopeCheckbox:n})]})})});by.displayName=Xh;var _k="CheckboxIndicator",Ck=h.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=wy(_k,n);return a.jsx(en,{present:r||ta(o.checked)||o.checked===!0,children:a.jsx(he.span,{"data-state":Tk(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});Ck.displayName=_k;var Ek="CheckboxBubbleInput",kk=h.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:g,setBubbleInput:m}=wy(Ek,e),b=Ae(n,m),p=my(o),x=jv(r);h.useEffect(()=>{const y=g;if(!y)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,j=!s.current;if(p!==o&&S){const _=new Event("click",{bubbles:j});y.indeterminate=ta(o),S.call(y,ta(o)?!1:o),y.dispatchEvent(_)}},[g,p,o,s]);const v=h.useRef(ta(o)?!1:o);return a.jsx(he.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??v.current,required:l,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kk.displayName=Ek;function k8(e){return typeof e=="function"}function ta(e){return e==="indeterminate"}function Tk(e){return ta(e)?"indeterminate":e?"checked":"unchecked"}const Zh=h.forwardRef(({className:e,...t},n)=>a.jsx(by,{ref:n,className:J("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(Ck,{className:J("flex items-center justify-center text-current"),children:a.jsx(pa,{className:"h-4 w-4"})})}));Zh.displayName=by.displayName;function T8({dna:e,onView:t,onExport:n,onDelete:r}){return a.jsxs(ue,{variant:"elevated",className:"group cursor-pointer",onClick:()=>t(e),children:[a.jsxs(St,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"rounded-xl bg-primary/10 p-2.5",children:a.jsx(ma,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s=>{s.stopPropagation(),n(e)},children:a.jsx(fv,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:s=>{s.stopPropagation(),r(e.id)},children:a.jsx(Ke,{className:"h-4 w-4 text-destructive"})}),a.jsx(Ir,{className:"h-5 w-5 text-muted-foreground opacity-0 transition-all group-hover:opacity-100 group-hover:translate-x-1"})]})]}),a.jsx(_t,{className:"mt-3",children:e.name}),a.jsxs(Zr,{children:[e.niche||"No niche","  ",e.source_url?"1 source":"Manual"]})]}),a.jsx(me,{className:"pt-0"})]})}function P8({dnas:e,loading:t,searchQuery:n,onSearchChange:r,onView:s,onExport:o,onDelete:i}){const l=e.filter(c=>{var u;return c.name.toLowerCase().includes(n.toLowerCase())||((u=c.niche)==null?void 0:u.toLowerCase().includes(n.toLowerCase()))});return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search DNA patterns...",value:n,onChange:c=>r(c.target.value),className:"pl-10 rounded-xl bg-card/50"})]}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(qe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):l.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(ma,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No DNA patterns found. Extract your first one!"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-3 lg:grid-cols-4",children:l.map(c=>a.jsx(T8,{dna:c,onView:s,onExport:o,onDelete:i},c.id))})]})}const Do=()=>({id:crypto.randomUUID(),title:"",url:"",transcript:"",comments:"",notes:"",activeTab:"transcript"});function A8(){const[e,t]=h.useState(""),[n,r]=h.useState("library"),[s,o]=h.useState(null),i=h.useRef(null),[l,c]=h.useState([Do()]),[u,d]=h.useState([Do()]),[f,g]=h.useState(""),[m,b]=h.useState("en"),[p,x]=h.useState(!1),[v,y]=h.useState(!1),[w,N]=h.useState(null),[S,j]=h.useState(!1),[_,E]=h.useState("google/gemini-3-flash-preview"),[C,P]=h.useState(!1),[R,L]=h.useState(null),[B,M]=h.useState(!1),[H,V]=h.useState([]),[Y,I]=h.useState(!1),[A,$]=h.useState({name:"",niche:"",tone:"",patterns:"",hookType:"",structure:"",pacing:""}),{dnas:Z,loading:ne,extractDna:re,createDna:ge,createDnaFromExtracted:Q,updateDna:ye,deleteDna:G,scanDnaContent:Ee,evolveDna:se}=ay(),{toast:xe}=$t(),{fetchComments:Re,loading:De}=yk(),[We,dt]=h.useState(null);ps(),Z.filter(W=>{var fe;return W.name.toLowerCase().includes(e.toLowerCase())||((fe=W.niche)==null?void 0:fe.toLowerCase().includes(e.toLowerCase()))});const ht=W=>{const fe={name:W.name,niche:W.niche,hook_type:W.hook_type,hook_examples:W.hook_examples,structure:W.structure,pacing:W.pacing,retention_tactics:W.retention_tactics,x_factors:W.x_factors,tone:W.tone,vocabulary:W.vocabulary,patterns:W.patterns,source_url:W.source_url},Je=new Blob([JSON.stringify(fe,null,2)],{type:"application/json"}),Se=URL.createObjectURL(Je),we=document.createElement("a");we.href=Se,we.download=`${W.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}_dna.json`,document.body.appendChild(we),we.click(),document.body.removeChild(we),URL.revokeObjectURL(Se),xe({title:"Exported",description:"DNA exported successfully"})},Et=()=>{var W;(W=i.current)==null||W.click()},yt=async W=>{var Je;const fe=(Je=W.target.files)==null?void 0:Je[0];if(fe){try{const Se=await fe.text(),we=JSON.parse(Se);if(!we.name)throw new Error("Invalid DNA file: missing name");await ge({name:we.name,niche:we.niche||null,hook_type:we.hook_type||null,hook_examples:we.hook_examples||null,structure:we.structure||null,pacing:we.pacing||null,retention_tactics:we.retention_tactics||null,x_factors:we.x_factors||null,tone:we.tone||null,vocabulary:we.vocabulary||null,patterns:we.patterns||null,source_url:we.source_url||null}),xe({title:"Imported",description:`DNA "${we.name}" imported successfully`})}catch(Se){console.error("Import error:",Se),xe({title:"Import Failed",description:Se instanceof Error?Se.message:"Failed to import DNA file",variant:"destructive"})}i.current&&(i.current.value="")}},qt=()=>{c(W=>[...W,Do()])},Gt=()=>{d(W=>[...W,Do()])},Dt=(W,fe,Je,Se)=>{(W==="viral"?c:d)($e=>$e.map(kt=>kt.id===fe?{...kt,[Je]:Se}:kt))},U=(W,fe)=>{(W==="viral"?c:d)(Se=>Se.filter(we=>we.id!==fe))},F=async(W,fe,Je)=>{if(!Je){xe({title:"Error",description:"Please enter a YouTube URL first",variant:"destructive"});return}dt(fe);try{const Se=await Re(Je);if(Se&&Se.length>0){const we=Se.map(($e,kt)=>`${kt+1}. [${$e.likeCount} likes] ${$e.author}: ${$e.text}`).join(`

`);Dt(W,fe,"comments",we),Dt(W,fe,"activeTab","comments")}}finally{dt(null)}},O=async()=>{if(!(l.some(fe=>fe.transcript||fe.comments)||u.some(fe=>fe.transcript||fe.comments))){xe({title:"Error",description:"Please add at least one video (viral or flop) with transcript or comments",variant:"destructive"});return}P(!0);try{const fe={viralVideos:l.map(Se=>({title:Se.title,transcript:Se.transcript,comments:Se.comments,notes:Se.notes})),flopVideos:u.map(Se=>({title:Se.title,transcript:Se.transcript,comments:Se.comments,notes:Se.notes})),language:m},Je=await Ee(fe);Je&&(L(Je),V(Je.filter(Se=>!Se.isOutlier).map(Se=>`${Se.type}-${Se.index}`)),M(!0))}finally{P(!1)}},q=async()=>{if(H.length===0){xe({title:"Error",description:"Please select at least one video to analyze",variant:"destructive"});return}M(!1),x(!0);try{const W=R==null?void 0:R.filter($e=>H.includes(`${$e.type}-${$e.index}`)),fe=l.filter(($e,kt)=>W==null?void 0:W.some(nn=>nn.type==="viral"&&nn.index===kt)),Je=u.filter(($e,kt)=>W==null?void 0:W.some(nn=>nn.type==="flop"&&nn.index===kt)),Se={viralVideos:fe.map($e=>({title:$e.title,transcript:$e.transcript,comments:$e.comments,notes:$e.notes})),flopVideos:Je.map($e=>({title:$e.title,transcript:$e.transcript,comments:$e.comments,notes:$e.notes})),overrideLogic:f,language:m},we=await re(Se,_);we&&(N(we),y(!0))}catch(W){console.error("Analysis error:",W)}finally{x(!1)}},te=async W=>{var fe,Je;j(!0);try{const Se=l.filter(kt=>kt.transcript).map(kt=>kt.transcript).join(`

---

`),we=((fe=l[0])==null?void 0:fe.url)||((Je=u[0])==null?void 0:Je.url);await Q(W,Se,we)&&(c([Do()]),d([Do()]),g(""),y(!1),N(null),r("library"))}finally{j(!1)}},le=()=>{y(!1),N(null)},Me=async()=>{if(!A.name){xe({title:"Error",description:"Please enter a name for the DNA",variant:"destructive"});return}await ge({name:A.name,niche:A.niche,tone:A.tone,patterns:A.patterns?A.patterns.split(",").map(W=>W.trim()):null,hook_type:A.hookType,structure:A.structure?A.structure.split(",").map(W=>W.trim()):null,pacing:A.pacing}),$({name:"",niche:"",tone:"",patterns:"",hookType:"",structure:"",pacing:""}),I(!1)},Bn=(W,fe,Je)=>a.jsxs("div",{className:"relative bg-muted/50 rounded-2xl p-4 space-y-4",children:[a.jsxs(Oe,{className:`absolute -top-2 -left-2 ${fe==="viral"?"bg-green-500":"bg-red-500"} text-white`,children:["#",Je+1]}),(fe==="viral"?l:u).length>1&&a.jsx(D,{variant:"ghost",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>U(fe,W.id),children:a.jsx(Ke,{className:"h-3 w-3"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(yw,{className:"h-3 w-3"})," Title"]}),a.jsx(ie,{placeholder:"e.g., How I built a SaaS in 2 days",value:W.title,onChange:Se=>Dt(fe,W.id,"title",Se.target.value),className:"rounded-xl bg-background"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Za,{className:"h-3 w-3"})," YouTube URL"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{placeholder:"https://youtube.com/",value:W.url,onChange:Se=>Dt(fe,W.id,"url",Se.target.value),className:"rounded-xl bg-background flex-1"}),a.jsx(D,{variant:"secondary",size:"sm",className:"rounded-xl",onClick:()=>F(fe,W.id,W.url),disabled:We===W.id,children:We===W.id?a.jsx(qe,{className:"h-4 w-4 animate-spin"}):"Get"})]})]})]}),a.jsxs($i,{value:W.activeTab,onValueChange:Se=>Dt(fe,W.id,"activeTab",Se),className:"w-full",children:[a.jsxs(oo,{className:"bg-background/50 w-full justify-start",children:[a.jsxs(Rn,{value:"transcript",className:"flex items-center gap-1.5",children:[a.jsx(Yn,{className:"h-3 w-3"})," Script / Transcript"]}),a.jsxs(Rn,{value:"comments",className:"flex items-center gap-1.5",children:[a.jsx(Ri,{className:"h-3 w-3"})," Comments / Feedback"]})]}),a.jsx(On,{value:"transcript",className:"mt-2",children:a.jsx(Ne,{placeholder:"Paste content here...",value:W.transcript,onChange:Se=>Dt(fe,W.id,"transcript",Se.target.value),className:"min-h-[120px] rounded-xl bg-background resize-none"})}),a.jsx(On,{value:"comments",className:"mt-2",children:a.jsx(Ne,{placeholder:"Paste comments or feedback here...",value:W.comments,onChange:Se=>Dt(fe,W.id,"comments",Se.target.value),className:"min-h-[120px] rounded-xl bg-background resize-none"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"text-xs uppercase text-muted-foreground flex items-center gap-1.5",children:[a.jsx(Yn,{className:"h-3 w-3"})," Description / Notes"]}),a.jsx(Ne,{placeholder:"e.g., A quick breakdown of the tech stack...",value:W.notes,onChange:Se=>Dt(fe,W.id,"notes",Se.target.value),className:"min-h-[80px] rounded-xl bg-background resize-none"})]})]},W.id);return s?a.jsx(j8,{dna:s,onBack:()=>o(null),onUpdate:W=>ye(s.id,W),onExport:ht,onEvolve:W=>se(s.id,W)}):v&&w?a.jsx(w8,{dna:w,onSave:te,onCancel:le,saving:S}):a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"DNA Lab"}),a.jsx("p",{className:"text-muted-foreground",children:"Extract viral patterns from successful content"})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("input",{type:"file",ref:i,onChange:yt,accept:".json",className:"hidden"}),a.jsxs(D,{variant:"outline",className:"gap-2 rounded-xl",onClick:Et,children:[a.jsx(OR,{className:"h-4 w-4"}),"Import"]}),a.jsxs(ao,{open:Y,onOpenChange:I,children:[a.jsx(hz,{asChild:!0,children:a.jsxs(D,{variant:"outline",className:"gap-2 rounded-xl",children:[a.jsx(yw,{className:"h-4 w-4"}),"Write"]})}),a.jsxs(la,{className:"max-w-lg",children:[a.jsx(ca,{children:a.jsx(ua,{children:"Create DNA Manually"})}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Name *"}),a.jsx(ie,{placeholder:"e.g., Storytelling Master",value:A.name,onChange:W=>$(fe=>({...fe,name:W.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Niche"}),a.jsx(ie,{placeholder:"e.g., Technology",value:A.niche,onChange:W=>$(fe=>({...fe,niche:W.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Tone"}),a.jsx(ie,{placeholder:"e.g., Energetic",value:A.tone,onChange:W=>$(fe=>({...fe,tone:W.target.value})),className:"rounded-xl"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Hook Type"}),a.jsx(ie,{placeholder:"e.g., Question, Story, Statistic",value:A.hookType,onChange:W=>$(fe=>({...fe,hookType:W.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Patterns (comma separated)"}),a.jsx(ie,{placeholder:"e.g., Emotional Hook, Three-Act Structure",value:A.patterns,onChange:W=>$(fe=>({...fe,patterns:W.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Structure (comma separated)"}),a.jsx(ie,{placeholder:"e.g., Hook, Problem, Solution, CTA",value:A.structure,onChange:W=>$(fe=>({...fe,structure:W.target.value})),className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Pacing"}),a.jsx(ie,{placeholder:"e.g., Fast-paced with quick cuts",value:A.pacing,onChange:W=>$(fe=>({...fe,pacing:W.target.value})),className:"rounded-xl"})]}),a.jsx(D,{onClick:Me,className:"w-full rounded-xl",children:"Create DNA"})]})]})]}),a.jsxs(D,{className:"gap-2 rounded-xl shadow-lg shadow-primary/20",onClick:()=>r("extract"),children:[a.jsx(He,{className:"h-4 w-4"}),"Extract New DNA"]})]})]}),a.jsxs($i,{value:n,onValueChange:r,className:"space-y-6",children:[a.jsxs(oo,{className:"bg-muted/50 p-1 rounded-xl",children:[a.jsx(Rn,{value:"library",className:"rounded-lg data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Library"}),a.jsx(Rn,{value:"extract",className:"rounded-lg data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Extract"})]}),a.jsx(On,{value:"library",className:"space-y-4",children:a.jsx(P8,{dnas:Z,loading:ne,searchQuery:e,onSearchChange:t,onView:o,onExport:ht,onDelete:G})}),a.jsxs(On,{value:"extract",className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-500",children:[a.jsx(pa,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold text-lg",children:"Virals"})]}),a.jsx("div",{className:"space-y-6",children:l.map((W,fe)=>Bn(W,"viral",fe))}),a.jsx(Ka,{feature:"batch_dna",hideCompletely:!0,children:a.jsxs(D,{variant:"secondary",className:"w-full rounded-xl gap-2",onClick:qt,children:[a.jsx(He,{className:"h-4 w-4"}),"Add Viral"]})})]}),a.jsx(Ka,{feature:"flop_analysis",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-500",children:[a.jsx(Ke,{className:"h-5 w-5"}),a.jsx("h3",{className:"font-semibold text-lg",children:"Flops"})]}),a.jsx("div",{className:"space-y-6",children:u.map((W,fe)=>Bn(W,"flop",fe))}),a.jsxs(D,{variant:"secondary",className:"w-full rounded-xl gap-2",onClick:Gt,children:[a.jsx(He,{className:"h-4 w-4"}),"Add Flop"]})]})})]}),a.jsx(ue,{className:"sticky bottom-4",children:a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1 space-y-2 w-full",children:[a.jsx(z,{className:"text-xs uppercase text-muted-foreground",children:"Override Logic"}),a.jsx(ie,{placeholder:"Override default analysis logic...",value:f,onChange:W=>g(W.target.value),className:"rounded-xl bg-muted"})]}),a.jsxs("div",{className:"flex gap-4 w-full lg:w-auto items-end",children:[a.jsx("div",{className:"space-y-2 flex-1 lg:flex-none",children:a.jsx(Kl,{value:_,onChange:E,label:"AI Model",compact:!1})}),a.jsxs("div",{className:"space-y-2 flex-1 lg:flex-none",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(Za,{className:"h-4 w-4 text-primary"}),"Language"]}),a.jsxs(vr,{value:m,onValueChange:b,children:[a.jsx(Jn,{className:"w-full lg:w-[140px] rounded-xl",children:a.jsx(yr,{})}),a.jsxs(Xn,{children:[a.jsx(ke,{value:"en",children:"English"}),a.jsx(ke,{value:"vi",children:"Ting Vit"}),a.jsx(ke,{value:"es",children:"Espaol"}),a.jsx(ke,{value:"fr",children:"Franais"}),a.jsx(ke,{value:"ja",children:" (Japanese)"}),a.jsx(ke,{value:"ko",children:" (Korean)"})]})]})]}),a.jsxs(D,{onClick:O,disabled:C||p,className:"gap-2 rounded-xl px-6 h-10",children:[C?a.jsx(qe,{className:"h-4 w-4 animate-spin"}):a.jsx(xw,{className:"h-4 w-4"}),C?"Scanning...":"Analyze & Extract DNA"]})]})]})})})]})]}),a.jsx(ao,{open:B,onOpenChange:M,children:a.jsxs(la,{className:"max-w-3xl",children:[a.jsx(ca,{children:a.jsx(ua,{children:"Content Pre-Scan Results"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-500/10 text-blue-500 rounded-lg border border-blue-500/20",children:[a.jsx(xw,{className:"h-5 w-5"}),a.jsx("p",{className:"text-sm",children:"We scanned your inputs. Review and uncheck any outliers (e.g., wrong niche/tone) before deep analysis."})]}),a.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2",children:R==null?void 0:R.map(W=>{const fe=`${W.type}-${W.index}`;return a.jsxs("div",{className:`flex items-start gap-3 p-3 rounded-lg border ${W.isOutlier?"bg-red-500/5 border-red-500/20":"bg-card border-border"}`,children:[a.jsx(Zh,{checked:H.includes(fe),onCheckedChange:Je=>{V(Je?Se=>[...Se,fe]:Se=>Se.filter(we=>we!==fe))},className:"mt-1"}),a.jsxs("div",{className:"flex-1 space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:W.title||`${W.type==="viral"?"Viral":"Flop"} Video #${W.index+1}`}),W.isOutlier&&a.jsx(Oe,{variant:"destructive",className:"text-[10px] h-5",children:"Outlier"})]}),a.jsxs("div",{className:"flex gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-foreground",children:"Topic:"})," ",W.topic]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-foreground",children:"Tone:"})," ",W.tone]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"font-semibold text-foreground",children:"Quality:"})," ",W.qualityScore,"/100"]})]}),W.reason&&a.jsxs("p",{className:"text-xs text-red-500 italic mt-1",children:[" ",W.reason]})]})]},fe)})}),a.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[a.jsx(D,{variant:"ghost",onClick:()=>M(!1),children:"Cancel"}),a.jsxs(D,{onClick:q,disabled:H.length===0,children:["Proceed with ",H.length," Videos"]})]})]})]})})]})}const R8=`You are an expert audience researcher and psychologist. Your task is to reverse-engineer a target audience persona from the content they consume and the feedback they provide.

<task>
Analyze the provided transcript and comments to build a comprehensive audience persona that enables precise content customization.
</task>

<data_sources>
If Manual Description provided: Use it as the foundational base
If Transcript provided: Analyze complexity, tone, subject matter to understand audience interests
If Comments provided: Extract pain points, objections, questions, and resonance patterns

Look for behavioral patterns:
- Specific complaints or frustrations (Pain Points)
- Types of questions asked (Knowledge Level)
- Language style and formality (Vocabulary Preferences)
- Engagement patterns (Content Consumption Behavior)
</data_sources>

<analysis_dimensions>

1. DEMOGRAPHIC INFERENCE (from comments and behavior):
   Extract clues about:
   - Age bracket: Slang usage, cultural references, life stage mentions
     Examples: "in college" (18-24), "my kids" (30-50), "retirement" (55+)
   - Location hints: Timezone patterns, cultural mentions, location-specific references
   - Occupation/Industry: Topic engagement patterns, professional terminology
   - Digital fluency: Emoji usage, meme references, platform-native behavior
     * low: Basic text, formal style, minimal slang
     * medium: Mixed formal/casual, some emoji use
     * high: Heavy meme culture, platform-specific language, rapid trend adoption

2. KNOWLEDGE PROFILE (3-dimensional assessment):

   A. Domain Knowledge (1-5 scale):
      1 = Complete beginner (needs basic definitions, foundational concepts)
      2 = Novice (understands basics, learning fundamentals)
      3 = Intermediate (grasps concepts, lacks deep expertise)
      4 = Advanced (strong understanding, can discuss nuances)
      5 = Expert (uses advanced terminology naturally, teaches others)

   B. Engagement Depth (1-5 scale):
      1 = Casual viewer (surface interest, passive consumption)
      2 = Light learner (some curiosity, occasional deeper dive)
      3 = Invested learner (asks follow-up questions, seeks understanding)
      4 = Active researcher (reads deeply, cross-references sources)
      5 = Deep researcher (comprehensive exploration, contributes insights)

   C. Skepticism Level (1-5 scale):
      1 = Highly trusting (accepts claims at face value)
      2 = Somewhat trusting (minimal verification needed)
      3 = Moderately skeptical (wants some evidence and reasoning)
      4 = Very skeptical (demands multiple sources, rigorous proof)
      5 = Extremely skeptical (challenges everything, requires peer-reviewed data)

   Provide reasoning for each score based on comment evidence.

3. CONTENT CONSUMPTION PATTERNS:

   A. Attention Span (infer from comment length and engagement depth):
      * short: Quick scrollers, prefer bite-sized info (<3min optimal)
      * medium: Standard attention span, comfortable with 3-8min content
      * long: Deep divers, willing to invest 8min+ for quality content

   B. Engagement Triggers (what motivates them to comment/engage):
      * data-driven: Responds to statistics, studies, hard numbers
      * story-driven: Engages with narratives, personal case studies
      * emotion-driven: Reacts to emotional appeals, relatable struggles
      * authority-driven: Values expert credentials, citations, proof

   C. Learning Style (how they prefer information delivery):
      * visual-heavy: Prefers diagrams, charts, visual demonstrations
      * step-by-step: Wants sequential, structured instructions
      * conceptual-first: Likes big-picture understanding before details
      * example-based: Learns best through concrete examples and case studies

4. PAIN POINTS PRIORITIZATION:
   Analyze comment sentiment to extract and rank pain points by:
   - Intensity: high (mentioned repeatedly with strong emotion), medium (consistent mention), low (occasional concern)
   - Evidence: "Mentioned in 15+ comments" or "Implied from frustration pattern in Y discussion"

5. MOTIVATIONS & OBJECTIONS WITH CONTEXT:
   For motivations: What drives them to watch/engage?
   - Frequency: high (dominant driver), medium (common reason), low (occasional motivator)
   - Source: "Positive comments analysis" or "Success story responses"

   For objections: What prevents engagement or creates skepticism?
   - Frequency: high (major barrier), medium (common concern), low (minor hesitation)
   - Source: "Negative comments" or "Skeptical questions pattern"

</analysis_dimensions>

<output_schema>
Return ONLY valid JSON (no markdown, no explanations):

{
  "name": "Descriptive persona name capturing essence (e.g., 'Frustrated Beginner Investor', 'Skeptical Health Optimizer', 'Time-Starved Parent Entrepreneur')",

  "ageRange": "22-35 (evidence: mentions of college life, early career stress, Gen Z slang usage)",

  "knowledgeLevel": "beginner|intermediate|advanced",

  "targetCountry": "USA | UK | Vietnam | Japan | Korea | India | Germany | France | Other (Inferred from timezone patterns, currency mentions, cultural references, language patterns, location-specific mentions)",

  "knowledgeProfile": {
    "domainKnowledge": 3,
    "engagementDepth": 4,
    "skepticismLevel": 2,
    "reasoning": "Intermediate domain knowledge evidenced by basic concept understanding but confusion on advanced terms. High engagement depth shown by follow-up questions. Low skepticism - accepts explanations readily."
  },

  "demographics": {
    "ageEvidence": "Uses phrases like 'just graduated', mentions student loans, employs Gen Z slang",
    "locationHints": "Mentions PST timezone, references US-specific cultural events",
    "occupationInference": "Early career tech worker based on software terminology and work schedule comments",
    "digitalFluency": "high"
  },

  "contentConsumption": {
    "attentionSpan": "medium",
    "engagementTriggers": ["data-driven", "story-driven"],
    "learningStyle": ["step-by-step", "example-based"],
    "preferredContentLength": "5-7 minute videos with clear structure and actionable takeaways"
  },

  "painPoints": [
    {
      "text": "Can't afford expensive courses or tools",
      "intensity": "high",
      "evidence": "Mentioned in 30+ comments with strong emotional language"
    },
    {
      "text": "Overwhelmed by conflicting advice online",
      "intensity": "medium",
      "evidence": "Recurring theme in 'confused' comment cluster"
    }
  ],

  "preferredTone": "casual|formal|inspirational|educational|humorous|direct|empathetic",

  "vocabulary": "Conversational with occasional technical terms. Avoid jargon overload. Explain concepts in plain language first.",

  "platform": "YouTube",

  "description": "Tech-savvy early career professional seeking actionable advice without high costs. Values clear, step-by-step guidance backed by data. Moderately skeptical of overpromises but open to learning. Prefers medium-length content that respects their time constraints.",

  "contentPreferences": [
    "Actionable tutorials over theory",
    "Real-world examples and case studies",
    "Data-backed recommendations"
  ],

  "motivations": [
    {
      "text": "Career advancement and skill development",
      "frequency": "high",
      "source": "Positive engagement on career growth topics"
    },
    {
      "text": "Financial independence",
      "frequency": "medium",
      "source": "Comments on money-saving tips and side hustles"
    }
  ],

  "objections": [
    {
      "text": "Skeptical of 'get rich quick' claims",
      "frequency": "high",
      "source": "Negative reactions to overpromising content"
    },
    {
      "text": "Concerned about time investment vs. results",
      "frequency": "medium",
      "source": "Questions about ROI and realistic timelines"
    }
  ]
}
</output_schema>

<validation_rules>
Flag potential inconsistencies:
- If knowledgeLevel="beginner" BUT vocabulary includes "advanced technical jargon"  Add note about mismatch
- If preferredTone="formal" BUT platform="TikTok"  Flag platform-tone mismatch
- Ensure painPoints align with knowledgeLevel (beginners and experts have different pain points)
- Verify demographics inferences are evidence-based, not assumptions
</validation_rules>

<quality_standards>
Your persona should:
1. Be actionable: Provide enough detail for content customization
2. Be evidence-based: Every claim rooted in transcript/comment analysis
3. Be coherent: All dimensions should paint a consistent picture
4. Be specific: Avoid generic descriptors like "wants value" - specify WHAT value and WHY
5. Be realistic: Represent an actual human psychology, not an idealized archetype
</quality_standards>`,O8=async(e,t="google/gemini-3-flash-preview",n,r,s)=>{if(!e)throw new Error("OpenRouter API Key is required");if(!n&&!r&&!s)throw new Error("At least one of description, transcript, or comments must be provided");let o="";n&&(o+=`<manual_description>
${n}
</manual_description>

`),r&&(o+=`<transcript>
${r}
</transcript>

`),s&&(o+=`<comments>
${s}
</comments>

`),o+="Analyze the above and extract a comprehensive audience persona.";const l=await Kt([{role:"system",content:R8},{role:"user",content:o}],e,t);return zn(l)};function Pk(){const[e,t]=h.useState([]),[n,r]=h.useState(!0),{user:s}=Nn(),{toast:o}=$t(),{settings:i}=ps(),l=h.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:g,error:m}=await Ie.from("personas").select("*").order("created_at",{ascending:!1});if(m)throw m;t(g||[])}catch(g){console.error("Error fetching personas:",g),o({title:"Error",description:"Failed to fetch personas",variant:"destructive"})}finally{r(!1)}},[s,o]);return h.useEffect(()=>{l()},[l]),{personas:e,loading:n,createPersona:async g=>{if(!s)return null;try{const m={name:g.name||"New Persona",user_id:s.id,age_range:g.age_range,knowledge_level:g.knowledge_level,target_country:g.target_country,pain_points:g.pain_points,preferred_tone:g.preferred_tone,vocabulary:g.vocabulary,platform:g.platform,description:g.description,motivations:g.motivations,objections:g.objections,content_sources:g.content_sources},{data:b,error:p}=await Ie.from("personas").insert(m).select().single();if(p)throw p;return t(x=>[b,...x]),o({title:"Success",description:"Persona created successfully"}),b}catch(m){return console.error("Error creating persona:",m),o({title:"Error",description:"Failed to create persona",variant:"destructive"}),null}},updatePersona:async(g,m)=>{try{const{data:b,error:p}=await Ie.from("personas").update(m).eq("id",g).select().single();if(p)throw p;return t(x=>x.map(v=>v.id===g?b:v)),o({title:"Success",description:"Persona updated successfully"}),b}catch(b){return console.error("Error updating persona:",b),o({title:"Error",description:"Failed to update persona",variant:"destructive"}),null}},deletePersona:async g=>{try{const{error:m}=await Ie.from("personas").delete().eq("id",g);if(m)throw m;return t(b=>b.filter(p=>p.id!==g)),o({title:"Success",description:"Persona deleted successfully"}),!0}catch(m){return console.error("Error deleting persona:",m),o({title:"Error",description:"Failed to delete persona",variant:"destructive"}),!1}},analyzePersona:async(g,m,b,p)=>{const x=i==null?void 0:i.openrouter_api_key;if(!x)return o({title:"Error",description:"OpenRouter API Key is not configured. Please enter your key in Settings.",variant:"destructive"}),null;try{return await O8(x,p||"google/gemini-3-flash-preview",g,m,b)}catch(v){console.error("Error analyzing persona:",v);const y=v instanceof Error?v.message:"Failed to analyze persona";return o({title:"Error",description:y,variant:"destructive"}),null}},refetch:l}}const G0=["bg-violet-500","bg-sky-500","bg-pink-500","bg-emerald-500","bg-amber-500","bg-rose-500"],Y0=[{value:"google/gemini-3-flash-preview",label:"Gemini 3 Flash (Fast)"},{value:"google/gemini-3-pro-preview",label:"Gemini 3 Pro (Quality)"},{value:"anthropic/claude-sonnet-4.5",label:"Claude 4.5 Sonnet (Reasoning)"},{value:"openai/gpt-5.2",label:"GPT-5.2 (SOTA)"},{value:"openai/gpt-oss-120b:free",label:"GPT-OSS 120B (Free)"}];function I8(){const{personas:e,loading:t,createPersona:n,updatePersona:r,deletePersona:s,analyzePersona:o}=Pk(),[i,l]=h.useState(""),[c,u]=h.useState(!1),[d,f]=h.useState(null),[g,m]=h.useState(!1),[b,p]=h.useState(!1),[x,v]=h.useState(""),[y,w]=h.useState(""),[N,S]=h.useState("intermediate"),[j,_]=h.useState(""),[E,C]=h.useState(""),[P,R]=h.useState(""),[L,B]=h.useState(""),[M,H]=h.useState(""),[V,Y]=h.useState([{id:"1",script:"",youtubeUrl:"",comments:""}]),[I,A]=h.useState(""),[$,Z]=h.useState(""),[ne,re]=h.useState(200),[ge,Q]=h.useState(Y0[0].value),{fetchComments:ye,loading:G}=yk(),Ee=e.filter(U=>U.name.toLowerCase().includes(i.toLowerCase())),se=()=>{v(""),w(""),S("intermediate"),_(""),C(""),R(""),H(""),Y([{id:crypto.randomUUID(),script:"",youtubeUrl:"",comments:""}]),A(""),Z(""),B(""),f(null)},xe=()=>{se(),u(!0)},Re=U=>{var F,O,q;f(U),v(U.name),w(U.age_range||""),S(U.knowledge_level||"intermediate"),_(((F=U.pain_points)==null?void 0:F.join(", "))||""),C(U.preferred_tone||""),R(U.platform||""),H(U.description||""),A(((O=U.motivations)==null?void 0:O.join(", "))||""),Z(((q=U.objections)==null?void 0:q.join(", "))||""),B(U.target_country||""),U.content_sources&&Array.isArray(U.content_sources)&&U.content_sources.length>0?Y(U.content_sources):Y([{id:crypto.randomUUID(),script:"",youtubeUrl:"",comments:""}]),u(!0)},De=(U,F,O)=>{Y(q=>q.map(te=>te.id===U?{...te,[F]:O}:te))},We=()=>{Y(U=>[...U,{id:crypto.randomUUID(),script:"",youtubeUrl:"",comments:""}])},dt=U=>{V.length>1&&Y(F=>F.filter(O=>O.id!==U))},ht=async(U,F,O)=>{if(!F)return;const q=await ye(F,O);if(q&&q.length>0){const te=q.map(le=>`- ${le.author}: ${le.text} (${le.likeCount} likes)`).join(`
`);Y(le=>le.map(Me=>{if(Me.id===U){const Bn=Me.comments?`${Me.comments}

${te}`:te;return{...Me,comments:Bn,fetchedCommentsCount:q.length}}return Me}))}},Et=async()=>{const U=V.map(O=>O.script).filter(Boolean).join(`

-- NEXT SOURCE --

`),F=V.map(O=>O.comments).filter(Boolean).join(`

-- NEXT SOURCE --

`);if(!(!U&&!F)){p(!0);try{const O=await o(void 0,U,F,ge);if(O){if(v(O.name||x),w(O.ageRange||y),S(O.knowledgeLevel||N),Array.isArray(O.painPoints)){const q=O.painPoints.map(te=>typeof te=="string"?te:te.text).join(", ");_(q||j)}if(C(O.preferredTone||E),R(O.platform||P),B(O.targetCountry||L),Array.isArray(O.motivations)){const q=O.motivations.map(te=>typeof te=="string"?te:te.text).join(", ");A(q||I)}if(Array.isArray(O.objections)){const q=O.objections.map(te=>typeof te=="string"?te:te.text).join(", ");Z(q||$)}(O.knowledgeProfile||O.demographics||O.contentConsumption)&&(window.__tempPersonaExtended={knowledge_profile:O.knowledgeProfile,demographics:O.demographics,content_consumption:O.contentConsumption})}}finally{p(!1)}}},yt=async()=>{const U={name:x,age_range:y||null,knowledge_level:N||null,target_country:L||null,pain_points:j?j.split(",").map(F=>F.trim()).filter(Boolean):null,preferred_tone:E||null,platform:P||null,description:M||null,motivations:I?I.split(",").map(F=>F.trim()).filter(Boolean):null,objections:$?$.split(",").map(F=>F.trim()).filter(Boolean):null,content_sources:V};if(window.__tempPersonaExtended){const F=window.__tempPersonaExtended;F.knowledge_profile&&(U.knowledge_profile=F.knowledge_profile),F.demographics&&(U.demographics=F.demographics),F.content_consumption&&(U.content_consumption=F.content_consumption),delete window.__tempPersonaExtended}m(!0),d?await r(d.id,U):await n(U),m(!1),u(!1),se()},qt=async U=>{await s(U)},Gt=U=>{switch(U){case"complete-beginner":return 20;case"beginner":return 40;case"intermediate":return 60;case"advanced":return 80;case"expert":return 100;default:return 50}},Dt=U=>G0[U%G0.length];return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Audience Personas"}),a.jsx("p",{className:"text-muted-foreground",children:"Define and manage your target audiences (Manual or AI Analyzed)"})]}),a.jsxs(D,{onClick:xe,className:"gap-2 rounded-xl shadow-lg shadow-primary/20",children:[a.jsx(He,{className:"h-4 w-4"}),"Create Persona"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search personas...",value:i,onChange:U=>l(U.target.value),className:"pl-10 rounded-xl bg-card/50"})]}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(qe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):Ee.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Oi,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No personas yet. Create your first one!"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Ee.map((U,F)=>a.jsxs(ue,{variant:"elevated",className:"group",children:[a.jsxs(St,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx(ey,{className:"h-12 w-12",children:a.jsx(ty,{className:`${Dt(F)} text-primary-foreground font-semibold`,children:U.name.split(" ").map(O=>O[0]).join("").slice(0,2)})}),a.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx(D,{variant:"ghost",size:"icon",onClick:()=>Re(U),children:a.jsx(TR,{className:"h-4 w-4"})}),a.jsx(D,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>qt(U.id),children:a.jsx(Ke,{className:"h-4 w-4"})})]})]}),a.jsx(_t,{className:"mt-3",children:U.name}),a.jsxs(Zr,{children:[U.age_range&&`Age ${U.age_range}`,U.age_range&&(U.target_country||U.platform)&&"  ",U.target_country&&a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx(Za,{className:"h-3 w-3"}),U.target_country]}),U.target_country&&U.platform&&"  ",U.platform]})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(dv,{className:"h-4 w-4"}),"Knowledge"]}),a.jsx("span",{className:"font-medium capitalize",children:U.knowledge_level||"Intermediate"})]}),a.jsx(tl,{value:Gt(U.knowledge_level),className:"h-1.5"})]}),U.knowledge_profile&&a.jsxs("div",{className:"space-y-2 p-3 rounded-lg bg-primary/5 border border-primary/10",children:[a.jsx("span",{className:"text-xs font-semibold text-primary",children:"3D Knowledge Profile"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-primary",children:U.knowledge_profile.domainKnowledge}),a.jsx("div",{className:"text-muted-foreground",children:"Domain"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-primary",children:U.knowledge_profile.engagementDepth}),a.jsx("div",{className:"text-muted-foreground",children:"Engagement"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"font-bold text-lg text-primary",children:U.knowledge_profile.skepticismLevel}),a.jsx("div",{className:"text-muted-foreground",children:"Skepticism"})]})]}),U.knowledge_profile.reasoning&&a.jsx("p",{className:"text-xs text-muted-foreground italic",children:U.knowledge_profile.reasoning})]}),U.pain_points&&U.pain_points.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(aa,{className:"h-4 w-4"}),"Pain Points"]}),a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[U.pain_points.slice(0,2).map((O,q)=>{const te=typeof O=="string"?O:O.text,le=typeof O=="object"&&O.intensity?O.intensity:null;return a.jsx("span",{className:`rounded-lg px-2 py-1 text-xs font-medium ${le==="high"?"bg-red-500/20 text-red-600":le==="medium"?"bg-orange-500/20 text-orange-600":le==="low"?"bg-yellow-500/20 text-yellow-600":"bg-accent text-accent-foreground"}`,children:te},q)}),U.pain_points.length>2&&a.jsxs("span",{className:"rounded-lg bg-muted px-2 py-1 text-xs text-muted-foreground",children:["+",U.pain_points.length-2]})]})]}),U.demographics&&a.jsxs("div",{className:"space-y-1.5 text-xs",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground font-medium",children:[a.jsx(Oi,{className:"h-4 w-4"}),"Demographics Inference"]}),U.demographics.ageEvidence&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Age:"})," ",U.demographics.ageEvidence]}),U.demographics.occupationInference&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Occupation:"})," ",U.demographics.occupationInference]}),U.demographics.digitalFluency&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Digital Fluency:"})," ",a.jsx("span",{className:"capitalize",children:U.demographics.digitalFluency})]})]}),U.content_consumption&&a.jsxs("div",{className:"space-y-1.5 text-xs",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground font-medium",children:[a.jsx(aa,{className:"h-4 w-4"}),"Content Preferences"]}),U.content_consumption.attentionSpan&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Attention:"})," ",a.jsx("span",{className:"capitalize",children:U.content_consumption.attentionSpan})]}),U.content_consumption.engagementTriggers&&U.content_consumption.engagementTriggers.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:U.content_consumption.engagementTriggers.map(O=>a.jsx("span",{className:"rounded-md bg-blue-500/10 text-blue-600 px-1.5 py-0.5 text-xs",children:O},O))})]}),U.motivations&&U.motivations.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("span",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Qn,{className:"h-4 w-4"}),"Motivations"]}),a.jsx("p",{className:"text-xs text-foreground/80 line-clamp-1",children:Array.isArray(U.motivations)&&typeof U.motivations[0]=="string"?U.motivations.join(", "):U.motivations.map(O=>O.text||O).join(", ")})]}),U.preferred_tone&&a.jsxs("div",{className:"flex items-center gap-2 text-sm pt-2 border-t border-border/50",children:[a.jsx(jR,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Tone:"}),a.jsx("span",{className:"font-medium",children:U.preferred_tone})]})]})]},U.id))}),a.jsx(ao,{open:c,onOpenChange:u,children:a.jsxs(la,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ca,{children:[a.jsx(ua,{children:d?"Edit Persona":"Create Audience Persona"}),a.jsx(Kh,{children:"Define your target audience manually or analyze content to reverse-engineer them."})]}),a.jsxs($i,{defaultValue:"analyze",className:"w-full",children:[a.jsxs(oo,{className:"grid w-full grid-cols-2",children:[a.jsx(Rn,{value:"manual",children:"Manual Description"}),a.jsx(Rn,{value:"analyze",children:"Analyze Content (AI)"})]}),a.jsx(On,{value:"manual",className:"space-y-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Description"}),a.jsx(Ne,{value:M,onChange:U=>H(U.target.value),placeholder:"Describe your target audience... e.g., Young professionals aged 25-35...",className:"min-h-[80px]"}),a.jsxs(D,{variant:"outline",size:"sm",onClick:Et,disabled:b||!M,className:"w-full",children:[b?a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(ct,{className:"mr-2 h-4 w-4"}),"Format Description with AI"]})]})}),a.jsxs(On,{value:"analyze",className:"space-y-6 py-4",children:[a.jsxs("div",{className:"space-y-4",children:[V.map((U,F)=>a.jsxs("div",{className:"relative rounded-xl border border-border bg-muted/10 p-4 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-semibold text-sm flex items-center gap-2",children:a.jsxs("span",{className:"bg-primary/10 text-primary px-2 py-0.5 rounded text-xs border border-primary/20",children:["Source #",F+1]})}),V.length>1&&a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>dt(U.id),children:a.jsx(Ke,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Script / Transcript"}),a.jsx(Ne,{value:U.script,onChange:O=>De(U.id,"script",O.target.value),placeholder:"Paste video transcript here...",className:"min-h-[120px] resize-none"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Import from YouTube (Optional)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(ij,{className:"absolute left-2.5 top-2.5 h-3.5 w-3.5 text-muted-foreground"}),a.jsx(ie,{value:U.youtubeUrl,onChange:O=>De(U.id,"youtubeUrl",O.target.value),placeholder:"https://youtube.com/...",className:"pl-8 h-8 text-xs"})]}),a.jsx(D,{size:"sm",variant:"secondary",className:"h-8 px-2",onClick:()=>ht(U.id,U.youtubeUrl,ne),disabled:G||!U.youtubeUrl,children:G?a.jsx(qe,{className:"h-3 w-3 animate-spin"}):a.jsx(fv,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("input",{type:"range",min:50,max:500,step:50,value:ne,onChange:O=>re(Number(O.target.value)),className:"flex-1 h-1.5 bg-muted rounded-full appearance-none cursor-pointer accent-primary"}),a.jsxs("span",{className:"text-xs text-muted-foreground w-16 text-right",children:[ne," max"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(z,{children:"Comments"}),U.fetchedCommentsCount?a.jsxs("span",{className:"text-[10px] text-green-600 font-medium",children:[U.fetchedCommentsCount," fetched"]}):null]}),a.jsx(Ne,{value:U.comments,onChange:O=>De(U.id,"comments",O.target.value),placeholder:"Community comments...",className:"min-h-[80px] resize-none"})]})]})]})]},U.id)),a.jsxs(D,{variant:"outline",className:"w-full border-dashed text-muted-foreground hover:text-foreground hover:border-primary/50",onClick:We,children:[a.jsx(He,{className:"mr-2 h-4 w-4"})," Add Another Source"]})]}),a.jsx("div",{className:"pt-2",children:a.jsxs(D,{variant:"default",size:"default",onClick:Et,disabled:b,className:"w-full bg-violet-600 hover:bg-violet-700 h-10 text-md shadow-lg shadow-violet-500/20",children:[b?a.jsx(qe,{className:"mr-2 h-5 w-5 animate-spin"}):a.jsx(ct,{className:"mr-2 h-5 w-5"}),"Reverse-Engineer Audience with AI"]})})]})]}),a.jsxs("div",{className:"grid gap-4 py-4 border-t border-border",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Name *"}),a.jsx(ie,{value:x,onChange:U=>v(U.target.value),placeholder:"e.g., Tech Enthusiast"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Age Range"}),a.jsx(ie,{value:y,onChange:U=>w(U.target.value),placeholder:"e.g., 25-35"})]})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Knowledge Level"}),a.jsxs(vr,{value:N,onValueChange:S,children:[a.jsx(Jn,{children:a.jsx(yr,{})}),a.jsxs(Xn,{children:[a.jsx(ke,{value:"complete-beginner",children:"1 - Complete Beginner"}),a.jsx(ke,{value:"beginner",children:"2 - Beginner"}),a.jsx(ke,{value:"intermediate",children:"3 - Intermediate"}),a.jsx(ke,{value:"advanced",children:"4 - Advanced"}),a.jsx(ke,{value:"expert",children:"5 - Expert"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Platform"}),a.jsxs(vr,{value:P,onValueChange:R,children:[a.jsx(Jn,{children:a.jsx(yr,{placeholder:"Select platform"})}),a.jsxs(Xn,{children:[a.jsx(ke,{value:"YouTube",children:"YouTube"}),a.jsx(ke,{value:"TikTok",children:"TikTok"}),a.jsx(ke,{value:"Instagram",children:"Instagram"}),a.jsx(ke,{value:"Twitter",children:"Twitter"}),a.jsx(ke,{value:"LinkedIn",children:"LinkedIn"})]})]})]})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Target Country / Region"}),a.jsx(ie,{value:L,onChange:U=>B(U.target.value),placeholder:"e.g., USA, UK, Vietnam, Japan, Global..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Preferred Tone"}),a.jsx(ie,{value:E,onChange:U=>C(U.target.value),placeholder:"Casual & Direct, Motivational"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Pain Points"}),a.jsx(ie,{value:j,onChange:U=>_(U.target.value),placeholder:"Time management, Career growth..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Motivations (Why they watch)"}),a.jsx(ie,{value:I,onChange:U=>A(U.target.value),placeholder:"To get rich quick, To feel validated..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Objections (Why they skip)"}),a.jsx(ie,{value:$,onChange:U=>Z(U.target.value),placeholder:"Too complicated, Fake guru vibes..."})]})]}),a.jsxs(Qd,{className:"flex items-center justify-between sm:justify-between w-full",children:[a.jsx("div",{className:"w-[200px]",children:a.jsxs(vr,{value:ge,onValueChange:Q,children:[a.jsx(Jn,{className:"h-8 text-xs",children:a.jsx(yr,{placeholder:"Select AI Model"})}),a.jsx(Xn,{children:Y0.map(U=>a.jsx(ke,{value:U.value,children:U.label},U.value))})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(D,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),a.jsxs(D,{onClick:yt,disabled:g||!x.trim(),children:[g?a.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}):null,d?"Update":"Create"]})]})]})]})})]})}const D8=[{name:"Starter",tier:"starter",description:"Basic features to get started",price:"$20",period:"/month",icon:ct,popular:!1,features:[{name:"Extract DNA from 1 video",included:!0},{name:"Basic script generation",included:!0},{name:"2 Personas",included:!0},{name:"7-day version history",included:!0},{name:"DNA Evolution",included:!1},{name:"AI Suggest Angle",included:!1},{name:"Batch DNA (multiple videos)",included:!1},{name:"Structure Innovation",included:!1},{name:"Flop Avoidance Analysis",included:!1}]},{name:"Pro",tier:"pro",description:"Unlock all advanced AI features",price:"$59",period:"/month",icon:Qn,popular:!0,features:[{name:"Extract DNA from multiple videos",included:!0},{name:"Unlimited scripts",included:!0},{name:"Unlimited Personas",included:!0},{name:"Unlimited version history",included:!0},{name:"DNA Evolution",included:!0},{name:"AI Suggest Angle",included:!0},{name:"Batch DNA (multiple videos)",included:!0},{name:"Structure Innovation",included:!0},{name:"Flop Avoidance Analysis",included:!0}]},{name:"Ultra",tier:"ultra",description:"Everything in Pro + Future features",price:"$99",period:"/month",icon:Cd,popular:!1,features:[{name:"All Pro features",included:!0},{name:"Early access to new features",included:!0},{name:"24/7 Priority support",included:!0},{name:"Premium Templates (coming soon)",included:!0},{name:"Team Collaboration (coming soon)",included:!0}]}],M8=[{name:"DNA Extraction",starter:"1 video",pro:"Multiple videos",ultra:"Multiple videos"},{name:"Script Generations",starter:"Basic",pro:"Unlimited",ultra:"Unlimited"},{name:"Personas",starter:"2",pro:"Unlimited",ultra:"Unlimited"},{name:"DNA Evolution",starter:"",pro:"",ultra:""},{name:"AI Suggest Angle",starter:"",pro:"",ultra:""},{name:"Batch DNA",starter:"",pro:"",ultra:""},{name:"Structure Innovation",starter:"",pro:"",ultra:""},{name:"Flop Avoidance Analysis",starter:"",pro:"",ultra:""},{name:"Version History",starter:"7 days",pro:"Unlimited",ultra:"Unlimited"},{name:"Support",starter:"Community",pro:"Priority Email",ultra:"24/7 Dedicated"}];function L8(){const e=mo();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"border-b border-border/50 bg-card/50 backdrop-blur-xl",children:a.jsxs("div",{className:"container mx-auto flex items-center justify-between px-4 py-4",children:[a.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary",children:a.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"L"})}),a.jsx("span",{className:"text-lg font-semibold",children:"LOG"})]}),a.jsx(D,{variant:"outline",onClick:()=>e("/auth"),children:"Sign In"})]})}),a.jsx("section",{className:"py-16 text-center",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx(Oe,{variant:"secondary",className:"mb-4",children:"Simple, transparent pricing"}),a.jsx("h1",{className:"mb-4 text-4xl font-bold md:text-5xl",children:"Choose your plan"}),a.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Start for free and upgrade as you grow. All plans include our core features to help you create viral content."})]})}),a.jsx("section",{className:"pb-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:D8.map(t=>a.jsxs(Wd,{className:`relative flex flex-col ${t.popular?"border-primary shadow-lg shadow-primary/20":"border-border/50"}`,children:[t.popular&&a.jsx(Oe,{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:"Most Popular"}),a.jsxs(Qm,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:a.jsx(t.icon,{className:"h-6 w-6 text-primary"})}),a.jsx(Jm,{className:"text-2xl",children:t.name}),a.jsx(H_,{children:t.description})]}),a.jsxs(Hd,{className:"flex-1",children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("span",{className:"text-4xl font-bold",children:t.price}),a.jsx("span",{className:"text-muted-foreground",children:t.period})]}),a.jsx("ul",{className:"space-y-3",children:t.features.map(n=>a.jsxs("li",{className:"flex items-center gap-3",children:[n.included?a.jsx(pa,{className:"h-4 w-4 text-primary"}):a.jsx(us,{className:"h-4 w-4 text-muted-foreground/50"}),a.jsx("span",{className:n.included?"":"text-muted-foreground/50",children:n.name})]},n.name))})]}),a.jsx(K_,{children:a.jsx(D,{className:"w-full",variant:t.popular?"default":"outline",onClick:()=>e("/auth"),children:t.price==="$0"?"Get Started Free":"Start Free Trial"})})]},t.name))})})}),a.jsx("section",{className:"border-t border-border/50 bg-card/30 py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h2",{className:"mb-8 text-center text-3xl font-bold",children:"Compare Plans"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border/50",children:[a.jsx("th",{className:"px-4 py-3 text-left font-medium",children:"Feature"}),a.jsx("th",{className:"px-4 py-3 text-center font-medium",children:"Starter"}),a.jsx("th",{className:"px-4 py-3 text-center font-medium text-primary",children:"Pro"}),a.jsx("th",{className:"px-4 py-3 text-center font-medium",children:"Ultra"})]})}),a.jsx("tbody",{children:M8.map(t=>a.jsxs("tr",{className:"border-b border-border/30",children:[a.jsx("td",{className:"px-4 py-3 font-medium",children:t.name}),a.jsx("td",{className:"px-4 py-3 text-center text-muted-foreground",children:t.starter}),a.jsx("td",{className:"px-4 py-3 text-center",children:t.pro}),a.jsx("td",{className:"px-4 py-3 text-center",children:t.ultra})]},t.name))})]})})]})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h2",{className:"mb-8 text-center text-3xl font-bold",children:"Frequently Asked Questions"}),a.jsx("div",{className:"mx-auto grid max-w-3xl gap-4",children:[{q:"Can I switch plans anytime?",a:"Yes, you can upgrade or downgrade your plan at any time. Changes take effect immediately."},{q:"Is there a free trial for paid plans?",a:"Yes, all paid plans come with a 14-day free trial. No credit card required to start."},{q:"What happens to my data if I downgrade?",a:"Your data is always safe. If you downgrade, you'll keep access to your existing work but new creation limits will apply."},{q:"Do you offer refunds?",a:"Yes, we offer a 30-day money-back guarantee if you're not satisfied with your purchase."}].map(t=>a.jsxs(Wd,{className:"border-border/50",children:[a.jsx(Qm,{className:"pb-2",children:a.jsx(Jm,{className:"text-lg",children:t.q})}),a.jsx(Hd,{children:a.jsx("p",{className:"text-muted-foreground",children:t.a})})]},t.q))})]})}),a.jsx("section",{className:"border-t border-border/50 bg-primary/5 py-16",children:a.jsxs("div",{className:"container mx-auto px-4 text-center",children:[a.jsx("h2",{className:"mb-4 text-3xl font-bold",children:"Ready to create viral content?"}),a.jsx("p",{className:"mb-6 text-muted-foreground",children:"Join thousands of creators already using ScriptLab"}),a.jsx(D,{size:"lg",onClick:()=>e("/auth"),children:"Start Free Today"})]})})]})}function ja({text:e,className:t="",showCharacters:n=!1}){const r=h.useMemo(()=>{const s=e.trim();if(!s)return{words:0,characters:0};const o=s.split(/\s+/).filter(Boolean).length,i=s.length;return{words:o,characters:i}},[e]);return a.jsxs("span",{className:`text-xs text-muted-foreground ${t}`,children:[r.words," words",n&&`  ${r.characters} chars`]})}function $8({score:e}){const t=s=>s>=80?"text-green-500":s>=60?"text-yellow-500":"text-red-500",n=s=>s>=80?"bg-green-500":s>=60?"bg-yellow-500":"bg-red-500",r=[{key:"hook",label:"Hook",icon:Qn,value:e.breakdown.hook},{key:"structure",label:"Structure",icon:aa,value:e.breakdown.structure},{key:"engagement",label:"Engagement",icon:_h,value:e.breakdown.engagement},{key:"clarity",label:"Clarity",icon:Ri,value:e.breakdown.clarity},{key:"callToAction",label:"CTA",icon:kd,value:e.breakdown.callToAction}];return a.jsxs(ue,{children:[a.jsx(St,{children:a.jsxs(_t,{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kd,{className:"h-5 w-5 text-primary"}),"Script Score"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-3xl font-bold ${t(e.score)}`,children:e.score}),a.jsx("span",{className:"text-muted-foreground",children:"/100"})]})]})}),a.jsxs(me,{className:"space-y-4",children:[a.jsx("div",{className:"grid gap-3",children:r.map(({key:s,label:o,icon:i,value:l})=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(i,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:o})]}),a.jsx("span",{className:`font-medium ${t(l)}`,children:l})]}),a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full transition-all ${n(l)}`,style:{width:`${l}%`}})})]},s))}),e.suggestions&&e.suggestions.length>0&&a.jsxs("div",{className:"pt-3 border-t border-border/50 space-y-2",children:[a.jsx("span",{className:"text-sm font-medium",children:"Suggestions"}),a.jsx("ul",{className:"space-y-1",children:e.suggestions.map((s,o)=>a.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[a.jsx("span",{className:"text-primary mt-1",children:""}),s]},o))})]})]})]})}function F8(e,t){return h.useReducer((n,r)=>t[n][r]??n,e)}var Ny="ScrollArea",[Ak,RV]=Ft(Ny),[U8,rr]=Ak(Ny),Rk=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[l,c]=h.useState(null),[u,d]=h.useState(null),[f,g]=h.useState(null),[m,b]=h.useState(null),[p,x]=h.useState(null),[v,y]=h.useState(0),[w,N]=h.useState(0),[S,j]=h.useState(!1),[_,E]=h.useState(!1),C=Ae(t,R=>c(R)),P=go(s);return a.jsx(U8,{scope:n,type:r,dir:P,scrollHideDelay:o,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:g,scrollbarX:m,onScrollbarXChange:b,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:_,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:N,children:a.jsx(he.div,{dir:P,...i,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":v+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Rk.displayName=Ny;var Ok="ScrollAreaViewport",Ik=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=rr(Ok,n),l=h.useRef(null),c=Ae(t,l,i.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(he.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Ik.displayName=Ok;var zr="ScrollAreaScrollbar",Sy=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=rr(zr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,l=e.orientation==="horizontal";return h.useEffect(()=>(l?o(!0):i(!0),()=>{l?o(!1):i(!1)}),[l,o,i]),s.type==="hover"?a.jsx(z8,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(B8,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(Dk,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(jy,{...r,ref:t}):null});Sy.displayName=zr;var z8=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=rr(zr,e.__scopeScrollArea),[o,i]=h.useState(!1);return h.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),i(!0)},d=()=>{c=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(en,{present:n||o,children:a.jsx(Dk,{"data-state":o?"visible":"hidden",...r,ref:t})})}),B8=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=rr(zr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=tf(()=>c("SCROLL_END"),100),[l,c]=F8("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return h.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),h.useEffect(()=>{const u=s.viewport,d=o?"scrollLeft":"scrollTop";if(u){let f=u[d];const g=()=>{const m=u[d];f!==m&&(c("SCROLL"),i()),f=m};return u.addEventListener("scroll",g),()=>u.removeEventListener("scroll",g)}},[s.viewport,o,c,i]),a.jsx(en,{present:n||l!=="hidden",children:a.jsx(jy,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:oe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:oe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Dk=h.forwardRef((e,t)=>{const n=rr(zr,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=h.useState(!1),l=e.orientation==="horizontal",c=tf(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(l?u:d)}},10);return Fi(n.viewport,c),Fi(n.content,c),a.jsx(en,{present:r||o,children:a.jsx(jy,{"data-state":o?"visible":"hidden",...s,ref:t})})}),jy=h.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=rr(zr,e.__scopeScrollArea),o=h.useRef(null),i=h.useRef(0),[l,c]=h.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Uk(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:g=>i.current=g};function f(g,m){return G8(g,i.current,l,m)}return n==="horizontal"?a.jsx(V8,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollLeft,m=Q0(g,l,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=f(g,s.dir))}}):n==="vertical"?a.jsx(W8,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const g=s.viewport.scrollTop,m=Q0(g,l);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=f(g))}}):null}),V8=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=rr(zr,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=Ae(t,c,o.onScrollbarXChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Lk,{"data-orientation":"horizontal",...s,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ef(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(o.viewport){const g=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(g),Bk(g,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:nh(i.paddingLeft),paddingEnd:nh(i.paddingRight)}})}})}),W8=h.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=rr(zr,e.__scopeScrollArea),[i,l]=h.useState(),c=h.useRef(null),u=Ae(t,c,o.onScrollbarYChange);return h.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(Lk,{"data-orientation":"vertical",...s,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ef(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(o.viewport){const g=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(g),Bk(g,f)&&d.preventDefault()}},onResize:()=>{c.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:nh(i.paddingTop),paddingEnd:nh(i.paddingBottom)}})}})}),[H8,Mk]=Ak(zr),Lk=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...g}=e,m=rr(zr,n),[b,p]=h.useState(null),x=Ae(t,C=>p(C)),v=h.useRef(null),y=h.useRef(""),w=m.viewport,N=r.content-r.viewport,S=lt(d),j=lt(c),_=tf(f,10);function E(C){if(v.current){const P=C.clientX-v.current.left,R=C.clientY-v.current.top;u({x:P,y:R})}}return h.useEffect(()=>{const C=P=>{const R=P.target;(b==null?void 0:b.contains(R))&&S(P,N)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,b,N,S]),h.useEffect(j,[r,j]),Fi(b,_),Fi(m.content,_),a.jsx(H8,{scope:n,scrollbar:b,hasThumb:s,onThumbChange:lt(o),onThumbPointerUp:lt(i),onThumbPositionChange:j,onThumbPointerDown:lt(l),children:a.jsx(he.div,{...g,ref:x,style:{position:"absolute",...g.style},onPointerDown:oe(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),v.current=b.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),E(C))}),onPointerMove:oe(e.onPointerMove,E),onPointerUp:oe(e.onPointerUp,C=>{const P=C.target;P.hasPointerCapture(C.pointerId)&&P.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),v.current=null})})})}),th="ScrollAreaThumb",$k=h.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=Mk(th,e.__scopeScrollArea);return a.jsx(en,{present:n||s.hasThumb,children:a.jsx(K8,{ref:t,...r})})}),K8=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=rr(th,n),i=Mk(th,n),{onThumbPositionChange:l}=i,c=Ae(t,f=>i.onThumbChange(f)),u=h.useRef(void 0),d=tf(()=>{u.current&&(u.current(),u.current=void 0)},100);return h.useEffect(()=>{const f=o.viewport;if(f){const g=()=>{if(d(),!u.current){const m=Y8(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[o.viewport,d,l]),a.jsx(he.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:oe(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),b=f.clientX-m.left,p=f.clientY-m.top;i.onThumbPointerDown({x:b,y:p})}),onPointerUp:oe(e.onPointerUp,i.onThumbPointerUp)})});$k.displayName=th;var _y="ScrollAreaCorner",Fk=h.forwardRef((e,t)=>{const n=rr(_y,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(q8,{...e,ref:t}):null});Fk.displayName=_y;var q8=h.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=rr(_y,n),[o,i]=h.useState(0),[l,c]=h.useState(0),u=!!(o&&l);return Fi(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Fi(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),u?a.jsx(he.div,{...r,ref:t,style:{width:o,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function nh(e){return e?parseInt(e,10):0}function Uk(e,t){const n=e/t;return isNaN(n)?0:n}function ef(e){const t=Uk(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function G8(e,t,n,r="ltr"){const s=ef(n),o=s/2,i=t||o,l=s-i,c=n.scrollbar.paddingStart+i,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return zk([c,u],f)(e)}function Q0(e,t,n="ltr"){const r=ef(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,l=o-r,c=n==="ltr"?[0,i]:[i*-1,0],u=Cc(e,c);return zk([0,i],[0,l])(u)}function zk(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Bk(e,t){return e>0&&e<t}var Y8=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,l=n.top!==o.top;(i||l)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function tf(e,t){const n=lt(e),r=h.useRef(0);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),h.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Fi(e,t){const n=lt(t);ut(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var Vk=Rk,Q8=Ik,J8=Fk;const Ec=h.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Vk,{ref:r,className:J("relative overflow-hidden",e),...n,children:[a.jsx(Q8,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(Wk,{}),a.jsx(J8,{})]}));Ec.displayName=Vk.displayName;const Wk=h.forwardRef(({className:e,orientation:t="vertical",...n},r)=>a.jsx(Sy,{ref:r,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx($k,{className:"relative flex-1 rounded-full bg-border"})}));Wk.displayName=Sy.displayName;var Hk="AlertDialog",[X8,OV]=Ft(Hk,[t_]),ms=t_(),Kk=e=>{const{__scopeAlertDialog:t,...n}=e,r=ms(t);return a.jsx(Yv,{...r,...n,modal:!0})};Kk.displayName=Hk;var Z8="AlertDialogTrigger",qk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ms(n);return a.jsx(Qv,{...s,...r,ref:t})});qk.displayName=Z8;var eB="AlertDialogPortal",Gk=e=>{const{__scopeAlertDialog:t,...n}=e,r=ms(t);return a.jsx(Jv,{...r,...n})};Gk.displayName=eB;var tB="AlertDialogOverlay",Yk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ms(n);return a.jsx(zc,{...s,...r,ref:t})});Yk.displayName=tB;var ui="AlertDialogContent",[nB,rB]=X8(ui),sB=TS("AlertDialogContent"),Qk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=ms(n),i=h.useRef(null),l=Ae(t,i),c=h.useRef(null);return a.jsx(t$,{contentName:ui,titleName:Jk,docsSlug:"alert-dialog",children:a.jsx(nB,{scope:n,cancelRef:c,children:a.jsxs(Bc,{role:"alertdialog",...o,...s,ref:l,onOpenAutoFocus:oe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(sB,{children:r}),a.jsx(oB,{contentRef:i})]})})})});Qk.displayName=ui;var Jk="AlertDialogTitle",Xk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ms(n);return a.jsx(Vc,{...s,...r,ref:t})});Xk.displayName=Jk;var Zk="AlertDialogDescription",eT=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ms(n);return a.jsx(Wc,{...s,...r,ref:t})});eT.displayName=Zk;var aB="AlertDialogAction",tT=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=ms(n);return a.jsx(Bh,{...s,...r,ref:t})});tT.displayName=aB;var nT="AlertDialogCancel",rT=h.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=rB(nT,n),o=ms(n),i=Ae(t,s);return a.jsx(Bh,{...o,...r,ref:i})});rT.displayName=nT;var oB=({contentRef:e})=>{const t=`\`${ui}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ui}\` by passing a \`${Zk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ui}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},iB=Kk,lB=qk,cB=Gk,sT=Yk,aT=Qk,oT=tT,iT=rT,lT=Xk,cT=eT;const uT=iB,uB=lB,dB=cB,dT=h.forwardRef(({className:e,...t},n)=>a.jsx(sT,{className:J("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));dT.displayName=sT.displayName;const Cy=h.forwardRef(({className:e,...t},n)=>a.jsxs(dB,{children:[a.jsx(dT,{}),a.jsx(aT,{ref:n,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Cy.displayName=aT.displayName;const Ey=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ey.displayName="AlertDialogHeader";const ky=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ky.displayName="AlertDialogFooter";const Ty=h.forwardRef(({className:e,...t},n)=>a.jsx(lT,{ref:n,className:J("text-lg font-semibold",e),...t}));Ty.displayName=lT.displayName;const Py=h.forwardRef(({className:e,...t},n)=>a.jsx(cT,{ref:n,className:J("text-sm text-muted-foreground",e),...t}));Py.displayName=cT.displayName;const Ay=h.forwardRef(({className:e,...t},n)=>a.jsx(oT,{ref:n,className:J(Vv(),e),...t}));Ay.displayName=oT.displayName;const Ry=h.forwardRef(({className:e,...t},n)=>a.jsx(iT,{ref:n,className:J(Vv({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Ry.displayName=iT.displayName;function J0({versions:e,type:t,onRestore:n,onUpdateName:r,onDelete:s,renderInfo:o,disabled:i}){const{toast:l}=$t(),[c,u]=h.useState(!1),[d,f]=h.useState(null),[g,m]=h.useState(null),[b,p]=h.useState(""),[x,v]=h.useState(null),y=R=>{n(R),u(!1),f(null),l({title:"Restored",description:`${t==="outline"?"Outline":"Script"} version loaded to editor`})},w=(R,L)=>{L.stopPropagation(),s&&v(R)},N=()=>{x&&s&&(s(x),d!==null&&f(null),v(null),l({title:"Deleted",description:"Version removed from history"}))},S=(R,L)=>{m(R),p(L)},j=(R,L,B)=>{B.stopPropagation(),r&&b.trim()&&(r(L,b),m(null))},_=R=>{R.stopPropagation(),m(null),p("")},E=async R=>{try{await navigator.clipboard.writeText(R),l({title:"Copied",description:"Content copied to clipboard"})}catch{l({title:"Error",description:"Could not copy content",variant:"destructive"})}},C=(R,L)=>{f(d===R?null:R)},P=[...e].sort((R,L)=>new Date(L.timestamp).getTime()-new Date(R.timestamp).getTime());return a.jsxs(v_,{open:c,onOpenChange:R=>{u(R),R||(f(null),m(null))},children:[a.jsx(a$,{asChild:!0,children:a.jsxs(D,{variant:"outline",size:"sm",disabled:i||e.length===0,className:"gap-2",children:[a.jsx(hm,{className:"h-4 w-4"}),"History (",e.length,")"]})}),a.jsxs(Xv,{className:"w-[400px] sm:w-[600px]",children:[a.jsx(x_,{children:a.jsxs(w_,{className:"flex items-center gap-2",children:[a.jsx(hm,{className:"h-5 w-5"}),t==="outline"?"Outline":"Script"," History"]})}),a.jsx(Ec,{className:"h-[calc(100vh-120px)] mt-4",children:a.jsx("div",{className:"space-y-3 pr-4",children:P.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No versions saved yet"}):P.map((R,L)=>a.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${d===L?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,onClick:()=>C(L,R.content),children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("div",{className:"flex items-center gap-2 text-sm font-medium",children:g===L?a.jsxs("div",{className:"flex items-center gap-1",onClick:B=>B.stopPropagation(),children:[a.jsx(ie,{value:b,onChange:B=>p(B.target.value),className:"h-7 w-32 text-xs",autoFocus:!0,onClick:B=>B.stopPropagation(),onKeyDown:B=>{B.key==="Enter"&&j(L,R,B),B.key==="Escape"&&_(B)}}),a.jsx(D,{size:"icon",variant:"ghost",className:"h-7 w-7 text-green-600 hover:text-green-700 hover:bg-green-50",onClick:B=>j(L,R,B),children:a.jsx(pa,{className:"h-3 w-3"})}),a.jsx(D,{size:"icon",variant:"ghost",className:"h-7 w-7 text-destructive hover:text-destructive hover:bg-red-50",onClick:_,children:a.jsx(us,{className:"h-3 w-3"})})]}):a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsx("span",{className:"text-foreground/90 font-semibold",children:R.name||`Draft ${L+1}`}),r&&a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:B=>{B.stopPropagation(),S(L,R.name||`Draft ${L+1}`)},children:a.jsx(Vl,{className:"h-3 w-3 text-muted-foreground"})})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[o&&o(R),R.score&&a.jsx("div",{className:`text-[10px] px-1.5 py-0.5 rounded-full font-bold ${R.score.score>=90?"bg-green-100 text-green-700":R.score.score>=80?"bg-blue-100 text-blue-700":R.score.score>=70?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:R.score.score}),a.jsx("span",{className:"text-xs text-muted-foreground",children:nC(new Date(R.timestamp),"HH:mm")})]})]}),a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("span",{className:"text-xs text-muted-foreground",children:[R.wordCount||0," words"]}),s&&a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:B=>w(R,B),children:a.jsx(Ke,{className:"h-3 w-3"})})]}),a.jsxs("p",{className:"text-sm line-clamp-3 text-foreground/80",children:[R.content.substring(0,200),R.content.length>200?"...":""]}),d===L&&a.jsxs("div",{className:"mt-3 pt-3 border-t space-y-3",children:[a.jsx(Ec,{className:"h-[250px]",children:a.jsx("pre",{className:"text-xs whitespace-pre-wrap font-mono text-foreground/70 leading-relaxed",children:R.content})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(D,{size:"sm",onClick:B=>{B.stopPropagation(),y(R)},className:"flex-1 gap-2",children:[a.jsx(Vl,{className:"h-4 w-4"}),"Edit in Main Editor"]}),a.jsxs(D,{size:"sm",variant:"outline",onClick:B=>{B.stopPropagation(),E(R.content)},className:"gap-2",children:[a.jsx(Ps,{className:"h-4 w-4"}),"Copy"]})]})]})]},L))})}),a.jsx(uT,{open:!!x,onOpenChange:R=>!R&&v(null),children:a.jsxs(Cy,{children:[a.jsxs(Ey,{children:[a.jsx(Ty,{children:"Are you sure?"}),a.jsx(Py,{children:"This action cannot be undone. This will permanently delete this version from history."})]}),a.jsxs(ky,{children:[a.jsx(Ry,{children:"Cancel"}),a.jsx(Ay,{onClick:N,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})]})}const X0=()=>({id:crypto.randomUUID(),title:"",url:"",transcript:"",comments:"",notes:"",activeTab:"transcript"});function Z0(){const e=mo(),{id:t}=BM(),{toast:n}=$t(),{personas:r}=Pk(),{dnas:s}=ay(),{scripts:o,generateOutline:i,generateScriptFromOutline:l,generateScriptSectionBySection:c,scoreScript:u,createScript:d,updateScript:f,suggestUniqueAngle:g,rewriteSection:m,generateSEO:b}=oC(),[p,x]=h.useState("select"),[v,y]=h.useState("input"),[w,N]=h.useState("google/gemini-3-flash-preview"),[S,j]=h.useState("google/gemini-3-flash-preview"),[_,E]=h.useState(""),[C,P]=h.useState(""),[R,L]=h.useState("en"),[B,M]=h.useState("US"),[H,V]=h.useState(null),[Y,I]=h.useState("New Script"),[A,$]=h.useState(!1),[Z,ne]=h.useState(""),[re,ge]=h.useState(""),[Q,ye]=h.useState(""),[G,Ee]=h.useState(""),[se,xe]=h.useState(1e3),[Re,De]=h.useState(!1),[We,dt]=h.useState(""),[ht,Et]=h.useState([]),[yt,qt]=h.useState([]),[Gt,Dt]=h.useState(!1),[U,F]=h.useState(!1),[O,q]=h.useState(null),[te,le]=h.useState([]),[Me,Bn]=h.useState(null),[W,fe]=h.useState(!1),[Je,Se]=h.useState(!1),[we,$e]=h.useState(""),[kt,nn]=h.useState(""),[sl,Jc]=h.useState(""),[xo,al]=h.useState(""),[rf,xa]=h.useState(null),[Ut,wa]=h.useState([]),[je,ze]=h.useState([]),[Xe,jt]=h.useState(null),[hn,sr]=h.useState(!1),[Sn,fn]=h.useState(!1),[jn,Iy]=h.useState(!1),[AT,Dy]=h.useState(""),[Xc,Zc]=h.useState(!1),[eu,tu]=h.useState(null),[My,Ly]=h.useState(!1),[nu,$y]=h.useState({}),[gs,vs]=h.useState(["input"]),sf=h.useRef(!1);h.useEffect(()=>{if(t){const T=o.find(X=>X.id===t);if(T){V(T.id),I(T.title||"New Script"),ge(T.topic||""),ye(T.key_points||""),Ee(T.unique_angle||""),P(T.dna_id||"none"),E(T.persona_id||"none"),$e(T.full_script||"");const X=(T.outline_history||[]).map(_e=>({..._e,id:_e.id||crypto.randomUUID()})),K=(T.script_history||[]).map(_e=>({..._e,id:_e.id||crypto.randomUUID()}));if(wa(X),ze(K),T.score_breakdown&&jt(T.score_breakdown),T.blueprint_content){const _e=T.blueprint_content;q(_e);let nt=crypto.randomUUID();const xt=X.find(ot=>ot.content===JSON.stringify(_e))||X[X.length-1];xt&&(nt=xt.id),le([{id:nt,outline:_e,createdAt:new Date(T.created_at),script:T.full_script||void 0}]),Bn(nt)}x("new-idea");const pe=["input"];if(T.blueprint_content&&pe.push("outline"),T.full_script&&pe.push("script"),vs(pe),sf.current||(T.outline_model&&N(T.outline_model),T.script_model&&j(T.script_model)),!sf.current)if(sf.current=!0,T.full_script){y("script");const _e=K.find(nt=>nt.content===T.full_script)||K[K.length-1];_e&&_e.id&&xa(_e.id)}else T.blueprint_content?y("outline"):y("input")}}},[t,o]),h.useEffect(()=>{re&&Y==="New Script"&&I(re.slice(0,50)+(re.length>50?"...":""))},[re,Y]);const Fy=T=>{const X=C&&C!=="none"?s.find(Ze=>Ze.id===C):null,K=_&&_!=="none"?r.find(Ze=>Ze.id===_):null,pe=X&&K?"hybrid":X?"dna":"persona",_e=Ze=>{const ba=[];return Ze.title&&ba.push(`Title: ${Ze.title}`),Ze.transcript&&ba.push(`Script: ${Ze.transcript}`),Ze.comments&&ba.push(`Comments: ${Ze.comments}`),Ze.notes&&ba.push(`Notes: ${Ze.notes}`),ba.join(`
`)},nt=ht.filter(Ze=>Ze.transcript||Ze.comments),xt=yt.filter(Ze=>Ze.transcript||Ze.comments),ot=nt.length>0?`

Viral References (learn from these):
${nt.map(_e).join(`
---
`)}`:"",_n=xt.length>0?`

Flop References (avoid these patterns):
${xt.map(_e).join(`
---
`)}`:"";return{topic:p==="new-idea"?re:"Rewrite competitor script",keyPoints:(p==="new-idea"?Q:We)+ot+_n,uniqueAngle:G,mode:pe,dna:X||void 0,persona:K||void 0,model:T,language:R,country:B,targetWordCount:se||void 0,allowStructureInnovation:Re}},RT=()=>Et([...ht,X0()]),wo=(T,X,K)=>{Et(pe=>pe.map(_e=>_e.id===T?{..._e,[X]:K}:_e))},OT=T=>{Et(ht.filter(X=>X.id!==T))},IT=()=>qt([...yt,X0()]),bo=(T,X,K)=>{qt(pe=>pe.map(_e=>_e.id===T?{..._e,[X]:K}:_e))},DT=T=>{qt(yt.filter(X=>X.id!==T))},Uy=()=>{ne(Y),$(!0)},zy=async()=>{I(Z),$(!1),H&&await f(H,{title:Z})},By=()=>{$(!1)},Vy=async T=>{x(T);const X=await d({title:"New Script",topic:"",status:"draft",generation_mode:T});X&&V(X.id)},ru=T=>T.trim().split(/\s+/).filter(Boolean).length,ol=async(T,X)=>{try{const K=T.replace(/\|\|\|SECTION\|\|\|/g,`

`).trim();await navigator.clipboard.writeText(K),n({title:"Copied",description:`${X} copied to clipboard`})}catch{n({title:"Error",description:"Could not copy content",variant:"destructive"})}},Wy=async()=>{fn(!0);let T=[...Ut];const X=O?JSON.stringify(O):null;if(X&&H){const K={id:Me||crypto.randomUUID(),content:X,timestamp:new Date().toISOString(),wordCount:ru(X)};T=[...Ut,K],wa(T)}try{const K=await i(Fy(w));if(K){const pe=crypto.randomUUID(),_e={id:pe,outline:K,createdAt:new Date};le(ot=>[...ot,_e]),Bn(pe),q(K),$e(""),jt(null),y("outline");const nt={id:pe,name:`Draft ${T.length+1}`,content:JSON.stringify(K),timestamp:new Date().toISOString(),wordCount:ru(JSON.stringify(K))},xt=[...T,nt];if(wa(xt),gs.includes("outline")||vs(ot=>[...ot,"outline"]),vs(ot=>ot.filter(_n=>_n!=="script")),H){const ot=C&&C!=="none"?s.find(Ze=>Ze.id===C):null,_n=_&&_!=="none"?r.find(Ze=>Ze.id===_):null;await f(H,{title:Y,topic:re,key_points:Q,unique_angle:G,dna_id:(ot==null?void 0:ot.id)||null,persona_id:(_n==null?void 0:_n.id)||null,blueprint_content:K,status:"outline",full_script:null,score:null,score_breakdown:null,outline_history:xt,outline_model:w,script_model:S})}}}finally{fn(!1)}},Hy=async()=>{if(!O)return;Iy(!0),jt(null);let T=[...je];const X=je.some(K=>K.content===we);if(we&&H&&!X){const K={id:crypto.randomUUID(),content:we,timestamp:new Date().toISOString(),wordCount:ru(we),outlineVersionId:Me||void 0};T=[...je,K],ze(T)}try{const K=await c(O,Fy(S),(pe,_e,nt)=>{Dy(`[${pe}/${_e}] ${nt}`)});if(Dy(""),K){$e(K),y("script"),gs.includes("script")||vs(xt=>[...xt,"script"]),Me&&le(xt=>xt.map(ot=>ot.id===Me?{...ot,script:K}:ot));const pe=`Draft ${T.filter(xt=>!Me||xt.outlineVersionId===Me).length+1}`,_e={id:crypto.randomUUID(),name:pe,content:K,timestamp:new Date().toISOString(),wordCount:ru(K),outlineVersionId:Me||void 0},nt=[...T,_e];ze(nt),xa(_e.id),H&&(await f(H,{title:Y,full_script:K,status:"done",script_history:nt,blueprint_content:O,outline_model:w,script_model:S}),n({title:"Script Complete",description:"Your script has been saved"}))}}finally{Iy(!1)}},MT=async()=>{if(we){sr(!0);try{const T=C&&C!=="none"?s.find(pe=>pe.id===C):null,X=_&&_!=="none"?r.find(pe=>pe.id===_):null,K=await u(we,T,X);if(K){jt(K);const pe=je.map(_e=>_e.content===we?{..._e,score:K}:_e);ze(pe),H&&await f(H,{score:K.score,score_breakdown:K,script_history:pe}),n({title:"Script Scored",description:`Your script scored ${K.score}/100`})}}finally{sr(!1)}}},LT=async()=>{H&&(v==="outline"&&O?(await f(H,{title:Y,blueprint_content:O,status:"draft"}),n({title:"Saved",description:"Outline saved successfully"})):v==="script"&&(await f(H,{title:Y,full_script:we,status:"done"}),n({title:"Saved",description:"Script saved successfully"})))},$T=()=>{v==="script"?y("outline"):v==="outline"?y("input"):v==="input"&&(x("select"),q(null),le([]),Bn(null),$e(""),jt(null),vs(["input"]),V(null),I("New Script"),ge(""),ye(""),Ee(""),dt(""),e("/writer"))},af=T=>{(T==="input"||gs.includes(T))&&y(T)},FT=T=>{q(T.outline),Bn(T.id),$e(T.script||""),Se(!1),T.script?gs.includes("script")||vs(X=>[...X,"script"]):vs(X=>X.filter(K=>K!=="script"))},Ky=T=>{try{T.id&&Bn(T.id);const X=JSON.parse(T.content);q(X),T.script?($e(T.script),jt(null),n({title:"Restored",description:"Outline and associated script restored"})):($e(""),jt(null),n({title:"Restored",description:"Outline restored (no linked script found)"}))}catch{n({title:"Error",description:"Could not restore outline",variant:"destructive"})}},qy=async(T,X)=>{const K=Ut.map(pe=>pe.id===T.id||pe.timestamp===T.timestamp&&pe.content===T.content?{...pe,name:X}:pe);wa(K),H&&await f(H,{outline_history:K})},Gy=async(T,X)=>{const K=je.map(pe=>pe.id===T.id||pe.timestamp===T.timestamp&&pe.content===T.content?{...pe,name:X}:pe);ze(K),H&&await f(H,{script_history:K})},UT=async T=>{const X=Ut.filter(K=>K.id!==T.id);if(wa(X),X.length===0){y("input"),q(null),vs(K=>K.filter(pe=>pe!=="outline"&&pe!=="script")),n({title:"History Cleared",description:"Returned to input step"}),H&&await f(H,{outline_history:X,blueprint_content:null,status:"idea"});return}if(T.id===Me){const pe=[...X].sort((_e,nt)=>new Date(nt.timestamp).getTime()-new Date(_e.timestamp).getTime())[0];pe&&(Ky(pe),n({title:"Switched Version",description:"Switched to latest available outline"}))}H&&await f(H,{outline_history:X})},zT=async T=>{const X=je.filter(K=>K.id!==T.id);ze(X),H&&await f(H,{script_history:X})},[BT,il]=h.useState(!1),[su,of]=h.useState(""),No=Ut.find(T=>T.id===Me),Yy=(No==null?void 0:No.name)||(Ut.length>0?`Draft ${Ut.length}`:"New Draft"),So=je.find(T=>T.id===rf),Qy=(So==null?void 0:So.name)||(je.filter(T=>!Me||T.outlineVersionId===Me).length>0?`Draft ${je.filter(T=>!Me||T.outlineVersionId===Me).length}`:"New Script"),Jy=async()=>{if(!su.trim()){il(!1);return}v==="outline"&&No?await qy(No,su):v==="script"&&So&&await Gy(So,su),il(!1)},VT=T=>{$e(T.content),T.id&&xa(T.id),T.score?jt(T.score):jt(null),n({title:"Restored",description:"Script restored from history"})},ll=(T,X,K)=>{if(!O)return;const pe=[...O.sections];pe[T]={...pe[T],[X]:K},q({...O,sections:pe})},Xy=()=>{if(!O)return;const T={title:"New Section",content:"",wordCount:100,notes:""};q({...O,sections:[...O.sections,T]})},WT=T=>{O&&q({...O,sections:O.sections.filter((X,K)=>K!==T)})};return p==="select"&&!t?a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"AI Writer"}),a.jsx("p",{className:"text-muted-foreground",children:"Generate unique, viral-ready scripts"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2 max-w-3xl",children:[a.jsx(ue,{variant:"elevated",className:"cursor-pointer group hover:ring-2 hover:ring-primary transition-all",onClick:()=>Vy("new-idea"),children:a.jsxs(me,{className:"p-8 text-center space-y-4",children:[a.jsx("div",{className:"mx-auto rounded-2xl bg-primary/10 p-6 w-fit group-hover:bg-primary/20 transition-colors",children:a.jsx(Sh,{className:"h-12 w-12 text-primary"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"New Idea"}),a.jsx("p",{className:"text-muted-foreground",children:"Start fresh with your own topic and create an original script"})]}),a.jsx(Oe,{className:"bg-primary/10 text-primary",children:"Most Popular"})]})}),a.jsx(ue,{variant:"elevated",className:"cursor-pointer group hover:ring-2 hover:ring-primary transition-all",onClick:()=>Vy("rewrite"),children:a.jsxs(me,{className:"p-8 text-center space-y-4",children:[a.jsx("div",{className:"mx-auto rounded-2xl bg-accent/50 p-6 w-fit group-hover:bg-accent transition-colors",children:a.jsx(Yr,{className:"h-12 w-12 text-accent-foreground"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-xl font-semibold",children:"Rewrite"}),a.jsx("p",{className:"text-muted-foreground",children:"Transform a competitor's script using your unique DNA pattern"})]})]})})]})]}):a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(D,{variant:"ghost",size:"sm",onClick:$T,children:" Back"}),a.jsxs("div",{className:"flex-1",children:[A?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ie,{value:Z,onChange:T=>ne(T.target.value),className:"text-xl font-bold h-9 max-w-md",autoFocus:!0,onKeyDown:T=>{T.key==="Enter"&&zy(),T.key==="Escape"&&By()}}),a.jsx(D,{size:"icon",variant:"ghost",onClick:zy,children:a.jsx(pa,{className:"h-4 w-4"})}),a.jsx(D,{size:"icon",variant:"ghost",onClick:By,children:a.jsx(us,{className:"h-4 w-4"})})]}):a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight cursor-pointer hover:text-primary transition-colors",onClick:Uy,children:Y}),a.jsx(D,{size:"icon",variant:"ghost",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:Uy,children:a.jsx(Vl,{className:"h-3 w-3"})})]}),a.jsxs("p",{className:"text-muted-foreground",children:[v==="input"&&"Step 1: Enter your inputs",v==="outline"&&"Step 2: Review and edit outline",v==="script"&&"Step 3: Your generated script"]})]}),(v==="script"||v==="outline")&&a.jsxs("div",{className:"flex items-center gap-3 bg-muted/30 p-1 rounded-full border border-border/50",children:[a.jsxs(D,{onClick:LT,size:"sm",className:"gap-2 shadow-sm h-8 rounded-full",children:[a.jsx(jh,{className:"h-4 w-4"}),"Save"]}),a.jsx("div",{className:"flex items-center justify-center min-w-[150px] px-2 border-l border-r border-border/50 h-6",children:BT?a.jsx("div",{className:"flex items-center gap-1",children:a.jsx(ie,{value:su,onChange:T=>of(T.target.value),className:"h-6 w-32 text-xs text-center",autoFocus:!0,onKeyDown:T=>{T.key==="Enter"&&Jy(),T.key==="Escape"&&il(!1)},onBlur:Jy})}):a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:bg-muted/50 px-2 py-1 rounded transition-colors group",onClick:()=>{v==="outline"&&No?(of(Yy),il(!0)):v==="script"&&So&&(of(Qy),il(!0))},children:[a.jsx("span",{className:"text-sm font-medium text-foreground/80",children:v==="outline"?Yy:Qy}),(v==="outline"||v==="script")&&a.jsx(Vl,{className:"h-3 w-3 text-muted-foreground opacity-0 group-hover:opacity-100"})]})}),v==="outline"&&a.jsxs(D,{variant:W?"secondary":"ghost",size:"sm",onClick:()=>fe(!W),className:"h-8 gap-2",children:[a.jsx(Vl,{className:"h-3 w-3"}),W?"Done":"Edit"]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>af("input"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors cursor-pointer ${v==="input"?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center text-xs",children:"1"}),"Input"]}),a.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("button",{onClick:()=>af("outline"),disabled:!gs.includes("outline"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${v==="outline"?"bg-primary text-primary-foreground cursor-pointer":gs.includes("outline")?"bg-muted text-muted-foreground hover:bg-muted/80 cursor-pointer":"bg-muted/50 text-muted-foreground/50 cursor-not-allowed"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center text-xs",children:"2"}),"Outline"]}),a.jsx(Ir,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("button",{onClick:()=>af("script"),disabled:!gs.includes("script"),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${v==="script"?"bg-primary text-primary-foreground cursor-pointer":gs.includes("script")?"bg-muted text-muted-foreground hover:bg-muted/80 cursor-pointer":"bg-muted/50 text-muted-foreground/50 cursor-not-allowed"}`,children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-current/20 flex items-center justify-center text-xs",children:"3"}),"Script"]})]})]}),v==="input"&&a.jsxs("div",{className:"grid gap-6 lg:grid-cols-5",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs(ue,{children:[a.jsx(St,{children:a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(ct,{className:"h-5 w-5 text-primary"}),"AI Model (Outline)"]})}),a.jsx(me,{children:a.jsx(Kl,{value:w,onChange:N})})]}),a.jsxs(ue,{children:[a.jsxs(St,{children:[a.jsx(_t,{children:"Configure Generation"}),a.jsx(Zr,{children:"Select DNA pattern and/or audience persona to guide the script"})]}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(ma,{className:"h-4 w-4 text-primary"}),"DNA Pattern"]}),a.jsxs(vr,{value:C,onValueChange:P,children:[a.jsx(Jn,{className:"rounded-xl",children:a.jsx(yr,{placeholder:"Select DNA (optional)..."})}),a.jsxs(Xn,{children:[a.jsx(ke,{value:"none",children:"No DNA"}),s.map(T=>a.jsx(ke,{value:T.id,children:T.name},T.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(Oi,{className:"h-4 w-4 text-primary"}),"Audience Persona"]}),a.jsxs(vr,{value:_,onValueChange:E,children:[a.jsx(Jn,{className:"rounded-xl",children:a.jsx(yr,{placeholder:"Select persona (optional)..."})}),a.jsxs(Xn,{children:[a.jsx(ke,{value:"none",children:"No Persona"}),r.map(T=>a.jsx(ke,{value:T.id,children:T.name},T.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(Za,{className:"h-4 w-4 text-primary"}),"Language"]}),a.jsxs(vr,{value:R,onValueChange:L,children:[a.jsx(Jn,{className:"rounded-xl",children:a.jsx(yr,{placeholder:"Select language..."})}),a.jsxs(Xn,{children:[a.jsx(ke,{value:"en",children:"English"}),a.jsx(ke,{value:"vi",children:"Ting Vit"}),a.jsx(ke,{value:"es",children:"Espaol"}),a.jsx(ke,{value:"fr",children:"Franais"}),a.jsx(ke,{value:"ja",children:" (Japanese)"}),a.jsx(ke,{value:"ko",children:" (Korean)"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(Za,{className:"h-4 w-4 text-primary"}),"Target Country/Region"]}),a.jsxs(vr,{value:B,onValueChange:M,children:[a.jsx(Jn,{className:"rounded-xl",children:a.jsx(yr,{placeholder:"Select country..."})}),a.jsxs(Xn,{children:[a.jsx(ke,{value:"US",children:" United States"}),a.jsx(ke,{value:"GB",children:" United Kingdom"}),a.jsx(ke,{value:"VN",children:" Vietnam"}),a.jsx(ke,{value:"JP",children:" Japan"}),a.jsx(ke,{value:"KR",children:" Korea"}),a.jsx(ke,{value:"IN",children:" India"}),a.jsx(ke,{value:"DE",children:" Germany"}),a.jsx(ke,{value:"FR",children:" France"}),a.jsx(ke,{value:"BR",children:" Brazil"}),a.jsx(ke,{value:"ID",children:" Indonesia"}),a.jsx(ke,{value:"TH",children:" Thailand"}),a.jsx(ke,{value:"PH",children:" Philippines"}),a.jsx(ke,{value:"AU",children:" Australia"}),a.jsx(ke,{value:"CA",children:" Canada"}),a.jsx(ke,{value:"MX",children:" Mexico"}),a.jsx(ke,{value:"ES",children:" Spain"}),a.jsx(ke,{value:"IT",children:" Italy"}),a.jsx(ke,{value:"RU",children:" Russia"}),a.jsx(ke,{value:"PL",children:" Poland"}),a.jsx(ke,{value:"NL",children:" Netherlands"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Cultural adaptation for local audience"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(Yn,{className:"h-4 w-4 text-primary"}),"Target Word Count"]}),a.jsx(ie,{type:"number",value:se,onChange:T=>xe(parseInt(T.target.value)||0),className:"rounded-xl",placeholder:"e.g. 1000"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Approximate length for scaling sections"})]}),a.jsx(Ka,{feature:"structure_innovation",children:a.jsxs("div",{className:"flex items-start space-x-3 pt-2 p-3 bg-muted/30 rounded-xl border border-border/50",children:[a.jsx(Zh,{id:"innovation",checked:Re,onCheckedChange:T=>De(T),className:"mt-1"}),a.jsxs("div",{className:"grid gap-1.5 leading-none",children:[a.jsx(z,{htmlFor:"innovation",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Allow Structure Innovation"}),a.jsx("p",{className:"text-xs text-muted-foreground leading-snug",children:"Allow AI to vary the structure by 15-25% for novelty while keeping core DNA elements."})]})]})})]})]})]}),a.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[a.jsxs(ue,{children:[a.jsxs(St,{children:[a.jsx(_t,{children:p==="new-idea"?"Your Idea":"Competitor Script"}),a.jsx(Zr,{children:p==="new-idea"?"What topic do you want to create content about?":"Paste the competitor's script to rewrite"})]}),a.jsx(me,{className:"space-y-4",children:p==="new-idea"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{children:"Topic *"}),a.jsx(ja,{text:re})]}),a.jsx(ie,{value:re,onChange:T=>ge(T.target.value),placeholder:"e.g., How to build a morning routine...",className:"rounded-xl"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{children:"Key Points (Optional)"}),a.jsx(ja,{text:Q})]}),a.jsx(Ne,{value:Q,onChange:T=>ye(T.target.value),placeholder:"Main points you want to cover...",className:"rounded-xl resize-none min-h-[100px]"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{children:"Your Unique Angle"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ka,{feature:"ai_suggest_angle",hideCompletely:!0,children:a.jsxs(D,{variant:"ghost",size:"sm",onClick:async()=>{if(!re){n({title:"Enter a topic first",variant:"destructive"});return}Zc(!0);const T=C&&C!=="none"?s.find(pe=>pe.id===C):null,X=_&&_!=="none"?r.find(pe=>pe.id===_):null,K=await g(re,T,X,w);K.length>0&&(Ee(K.map((pe,_e)=>`${_e+1}. ${pe.angle}`).join(`

`)),n({title:`${K.length} angles suggested!`})),Zc(!1)},disabled:Xc||!re,className:"h-7 text-xs gap-1",children:[Xc?a.jsx(qe,{className:"h-3 w-3 animate-spin"}):a.jsx(ct,{className:"h-3 w-3"}),"AI Suggest"]})}),a.jsx(ja,{text:G})]})]}),a.jsx(Ne,{value:G,onChange:T=>Ee(T.target.value),placeholder:"What makes your perspective different? Click 'AI Suggest' for ideas...",className:"rounded-xl resize-none min-h-[80px]"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{children:"Competitor Script *"}),a.jsx(ja,{text:We})]}),a.jsx(Ne,{value:We,onChange:T=>dt(T.target.value),placeholder:"Paste the competitor's script here...",className:"rounded-xl resize-none min-h-[200px]"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{children:"Your Unique Angle (Optional)"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ka,{feature:"ai_suggest_angle",hideCompletely:!0,children:a.jsxs(D,{variant:"ghost",size:"sm",onClick:async()=>{if(!We){n({title:"Paste competitor script first",variant:"destructive"});return}Zc(!0);const T=C&&C!=="none"?s.find(_e=>_e.id===C):null,X=_&&_!=="none"?r.find(_e=>_e.id===_):null,K=We.substring(0,200),pe=await g(K,T,X,w);pe.length>0&&(Ee(pe.map((_e,nt)=>`${nt+1}. ${_e.angle}`).join(`

`)),n({title:`${pe.length} angles suggested!`})),Zc(!1)},disabled:Xc||!We,className:"h-7 text-xs gap-1",children:[Xc?a.jsx(qe,{className:"h-3 w-3 animate-spin"}):a.jsx(ct,{className:"h-3 w-3"}),"AI Suggest"]})}),a.jsx(ja,{text:G})]})]}),a.jsx(Ne,{value:G,onChange:T=>Ee(T.target.value),placeholder:"What makes your version different? Click 'AI Suggest' for ideas...",className:"rounded-xl resize-none min-h-[80px]"})]})]})})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Xd,{open:Gt,onOpenChange:Dt,children:a.jsxs(ue,{className:"overflow-hidden",children:[a.jsx(Zd,{asChild:!0,children:a.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:a.jsx(_h,{className:"h-4 w-4 text-green-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-green-600",children:"Viral References"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Add successful content examples to learn from"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[ht.length>0&&a.jsx(Oe,{variant:"secondary",className:"text-xs",children:ht.length}),Gt?a.jsx(dm,{className:"h-4 w-4"}):a.jsx(Pi,{className:"h-4 w-4"})]})]})}),a.jsx(eh,{children:a.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[ht.map((T,X)=>a.jsxs("div",{className:"relative bg-muted/30 rounded-xl p-4 space-y-3",children:[a.jsxs(Oe,{className:"absolute -top-2 -left-2 bg-green-500 text-white text-xs",children:["#",X+1]}),ht.length>0&&a.jsx(D,{variant:"ghost",size:"icon",onClick:()=>OT(T.id),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a.jsx(Ke,{className:"h-3 w-3"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Title"}),a.jsx(ie,{placeholder:"e.g., How I built a SaaS in 2 days",value:T.title,onChange:K=>wo(T.id,"title",K.target.value),className:"h-8 text-sm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"YouTube URL"}),a.jsx(ie,{placeholder:"https://youtube.com/",value:T.url,onChange:K=>wo(T.id,"url",K.target.value),className:"h-8 text-sm"})]})]}),a.jsxs($i,{value:T.activeTab,onValueChange:K=>wo(T.id,"activeTab",K),children:[a.jsxs(oo,{className:"h-8 bg-background/50",children:[a.jsxs(Rn,{value:"transcript",className:"text-xs h-6 gap-1",children:[a.jsx(Yn,{className:"h-3 w-3"})," Script / Transcript"]}),a.jsxs(Rn,{value:"comments",className:"text-xs h-6 gap-1",children:[a.jsx(Ri,{className:"h-3 w-3"})," Comments / Feedback"]})]}),a.jsx(On,{value:"transcript",className:"mt-2",children:a.jsx(Ne,{placeholder:"Paste content here...",value:T.transcript,onChange:K=>wo(T.id,"transcript",K.target.value),className:"min-h-[80px] text-sm resize-none"})}),a.jsx(On,{value:"comments",className:"mt-2",children:a.jsx(Ne,{placeholder:"Paste comments or feedback here...",value:T.comments,onChange:K=>wo(T.id,"comments",K.target.value),className:"min-h-[80px] text-sm resize-none"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Description / Notes"}),a.jsx(Ne,{placeholder:"e.g., A quick breakdown of the tech stack...",value:T.notes,onChange:K=>wo(T.id,"notes",K.target.value),className:"min-h-[60px] text-sm resize-none"})]})]},T.id)),a.jsxs(D,{variant:"outline",size:"sm",onClick:RT,className:"w-full gap-2 border-dashed border-green-500/50 text-green-600 hover:bg-green-500/5",children:[a.jsx(He,{className:"h-4 w-4"}),"Add Viral Reference"]})]})})]})}),a.jsx(Xd,{open:U,onOpenChange:F,children:a.jsxs(ue,{className:"overflow-hidden",children:[a.jsx(Zd,{asChild:!0,children:a.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-muted/50 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 rounded-lg bg-red-500/10",children:a.jsx(AR,{className:"h-4 w-4 text-red-500"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-red-500",children:"Flop References"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Add examples of what to avoid"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[yt.length>0&&a.jsx(Oe,{variant:"secondary",className:"text-xs",children:yt.length}),U?a.jsx(dm,{className:"h-4 w-4"}):a.jsx(Pi,{className:"h-4 w-4"})]})]})}),a.jsx(eh,{children:a.jsxs("div",{className:"px-4 pb-4 space-y-4",children:[yt.map((T,X)=>a.jsxs("div",{className:"relative bg-muted/30 rounded-xl p-4 space-y-3",children:[a.jsxs(Oe,{className:"absolute -top-2 -left-2 bg-red-500 text-white text-xs",children:["#",X+1]}),yt.length>0&&a.jsx(D,{variant:"ghost",size:"icon",onClick:()=>DT(T.id),className:"absolute -top-2 -right-2 h-6 w-6 rounded-full bg-destructive text-destructive-foreground hover:bg-destructive/90",children:a.jsx(Ke,{className:"h-3 w-3"})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Title"}),a.jsx(ie,{placeholder:"e.g., Why my video flopped",value:T.title,onChange:K=>bo(T.id,"title",K.target.value),className:"h-8 text-sm"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"YouTube URL"}),a.jsx(ie,{placeholder:"https://youtube.com/",value:T.url,onChange:K=>bo(T.id,"url",K.target.value),className:"h-8 text-sm"})]})]}),a.jsxs($i,{value:T.activeTab,onValueChange:K=>bo(T.id,"activeTab",K),children:[a.jsxs(oo,{className:"h-8 bg-background/50",children:[a.jsxs(Rn,{value:"transcript",className:"text-xs h-6 gap-1",children:[a.jsx(Yn,{className:"h-3 w-3"})," Script / Transcript"]}),a.jsxs(Rn,{value:"comments",className:"text-xs h-6 gap-1",children:[a.jsx(Ri,{className:"h-3 w-3"})," Comments / Feedback"]})]}),a.jsx(On,{value:"transcript",className:"mt-2",children:a.jsx(Ne,{placeholder:"Paste content here...",value:T.transcript,onChange:K=>bo(T.id,"transcript",K.target.value),className:"min-h-[80px] text-sm resize-none"})}),a.jsx(On,{value:"comments",className:"mt-2",children:a.jsx(Ne,{placeholder:"Paste comments or feedback here...",value:T.comments,onChange:K=>bo(T.id,"comments",K.target.value),className:"min-h-[80px] text-sm resize-none"})})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(z,{className:"text-xs text-muted-foreground",children:"Description / Notes"}),a.jsx(Ne,{placeholder:"e.g., Why this didn't work...",value:T.notes,onChange:K=>bo(T.id,"notes",K.target.value),className:"min-h-[60px] text-sm resize-none"})]})]},T.id)),a.jsxs(D,{variant:"outline",size:"sm",onClick:IT,className:"w-full gap-2 border-dashed border-red-500/50 text-red-500 hover:bg-red-500/5",children:[a.jsx(He,{className:"h-4 w-4"}),"Add Flop Reference"]})]})})]})})]}),a.jsx(D,{className:"w-full gap-2 rounded-xl h-12 shadow-lg shadow-primary/20",onClick:Wy,disabled:Sn||(p==="new-idea"?!re:!We),children:Sn?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"h-5 w-5 animate-spin"}),"Generating Outline..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Yn,{className:"h-5 w-5"}),"Generate Outline",a.jsx(Ir,{className:"h-4 w-4"})]})})]})]}),v==="outline"&&O&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ai,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("span",{className:"text-muted-foreground",children:["Est. Words: ",O.totalWordCount]})]}),a.jsx(J0,{versions:Ut,type:"outline",onRestore:Ky,onUpdateName:qy,onDelete:UT,renderInfo:T=>{const X=je.filter(K=>K.outlineVersionId===T.id).length;return X>0?a.jsxs(Oe,{variant:"secondary",className:"text-[10px] h-5 px-1 bg-blue-100 text-blue-700 hover:bg-blue-200 border-none",children:[X," scripts"]}):null},disabled:Sn}),a.jsx(Kl,{value:S,onChange:j,label:"Script Model",compact:!0})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(D,{variant:"outline",size:"sm",onClick:Wy,disabled:Sn,children:[a.jsx(Yr,{className:`h-4 w-4 mr-2 ${Sn?"animate-spin":""}`}),"Regenerate"]})})]}),Je&&a.jsxs(ue,{children:[a.jsx(St,{children:a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(hm,{className:"h-5 w-5"}),"Outline Versions"]})}),a.jsx(me,{children:a.jsx("div",{className:"space-y-2",children:te.map((T,X)=>a.jsxs("div",{onClick:()=>FT(T),className:`p-3 rounded-lg cursor-pointer transition-colors flex items-center justify-between ${T.id===Me?"bg-primary/10 border border-primary/30":"bg-muted/50 hover:bg-muted"}`,children:[a.jsxs("div",{children:[a.jsxs("span",{className:"font-medium",children:["Version ",X+1]}),a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:T.createdAt.toLocaleTimeString()})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[T.script&&a.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Has Script"}),T.id===Me&&a.jsx(Oe,{className:"text-xs",children:"Current"})]})]},T.id))})})]}),a.jsxs(ue,{children:[a.jsx(St,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(_t,{children:"Content Sections"}),a.jsxs(Zr,{children:[O.sections.length," sections in your script"]})]}),W&&a.jsxs(D,{variant:"outline",size:"sm",onClick:Xy,children:[a.jsx(He,{className:"h-4 w-4 mr-2"}),"Add Section"]})]})}),a.jsxs(me,{className:"space-y-4",children:[O.sections.map((T,X)=>a.jsxs("div",{children:[W&&a.jsx("div",{className:"flex justify-center py-1",children:a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>{const K={title:"New Section",wordCount:100,content:"",notes:""},pe=[...O.sections];pe.splice(X,0,K),q({...O,sections:pe})},className:"h-6 text-xs gap-1 text-muted-foreground hover:text-primary",children:[a.jsx(He,{className:"h-3 w-3"}),"Insert Section"]})}),a.jsxs("div",{className:"p-4 rounded-xl bg-muted/50 space-y-3",children:[a.jsx("div",{className:"flex items-center justify-between gap-2",children:W?a.jsxs(a.Fragment,{children:[a.jsx(ie,{value:T.title,onChange:K=>ll(X,"title",K.target.value),className:"rounded-lg font-medium flex-1",placeholder:"Section title..."}),a.jsx(ie,{type:"number",value:T.wordCount,onChange:K=>ll(X,"wordCount",parseInt(K.target.value)||0),className:"rounded-lg w-24",placeholder:"Words"}),a.jsx(D,{variant:"ghost",size:"icon",onClick:()=>WT(X),className:"h-8 w-8 text-destructive",children:a.jsx(Ke,{className:"h-4 w-4"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("h4",{className:"font-medium",children:[X+1,". ",T.title]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(Oe,{variant:"outline",children:[T.wordCount," words"]})})]})}),W?a.jsxs("div",{className:"space-y-1",children:[a.jsx(Ne,{value:T.content,onChange:K=>ll(X,"content",K.target.value),className:"rounded-lg resize-none min-h-[80px]",placeholder:"Section content..."}),a.jsx(ja,{text:T.content})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:T.content}),W?a.jsx(ie,{value:T.notes||"",onChange:K=>ll(X,"notes",K.target.value),className:"rounded-lg text-sm",placeholder:"Notes (optional)..."}):T.notes&&a.jsxs("div",{className:"space-y-1",children:[T.notes.includes("Unique Angle Integration")&&a.jsx(Oe,{variant:"secondary",className:"bg-purple-500/10 text-purple-500 border-purple-500/20 mb-1",children:" Unique Angle Integrated"}),a.jsxs("p",{className:"text-xs text-muted-foreground italic",children:[" ",T.notes]})]}),!W&&a.jsxs("div",{className:"pt-2 border-t border-border/50 flex items-center gap-2",children:[a.jsx(ie,{value:nu[X]||"",onChange:K=>$y(pe=>({...pe,[X]:K.target.value})),placeholder:"Add ideas to improve this section...",className:"rounded-lg text-sm flex-1 h-8"}),a.jsxs(D,{variant:"outline",size:"sm",onClick:async()=>{tu(X);const K=C&&C!=="none"?s.find(nt=>nt.id===C):null,pe=_&&_!=="none"?r.find(nt=>nt.id===_):null,_e=await m(T.title,T.content,nu[X]||"",{dna:K,persona:pe,targetWordCount:T.wordCount},w);_e&&(ll(X,"content",_e),n({title:`Section "${T.title}" rewritten!`})),tu(null)},disabled:eu===X,className:"h-8 gap-1",children:[eu===X?a.jsx(qe,{className:"h-3 w-3 animate-spin"}):a.jsx(Yr,{className:"h-3 w-3"}),"Rewrite"]})]})]})]},X)),W&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsxs(D,{variant:"outline",size:"sm",onClick:Xy,className:"h-8 gap-1",children:[a.jsx(He,{className:"h-4 w-4"}),"Add Section at End"]})})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(D,{variant:"outline",className:"flex-1 rounded-xl h-12",onClick:()=>y("input"),children:" Back to Input"}),a.jsx(D,{className:"flex-1 gap-2 rounded-xl h-12 shadow-lg shadow-primary/20",onClick:Hy,disabled:jn,children:jn?a.jsxs(a.Fragment,{children:[a.jsx(qe,{className:"h-5 w-5 animate-spin"}),AT||"Starting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(sa,{className:"h-5 w-5"}),"Write Full Script",a.jsx(Ir,{className:"h-4 w-4"})]})})]})]}),v==="script"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[a.jsxs(ue,{children:[a.jsx(St,{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(_t,{className:"text-sm",children:"SEO Metadata"}),a.jsxs(D,{variant:"outline",size:"sm",onClick:async()=>{if(!we){n({title:"Generate script first",variant:"destructive"});return}Ly(!0);const T=C&&C!=="none"?s.find(pe=>pe.id===C):null,X=_&&_!=="none"?r.find(pe=>pe.id===_):null,K=await b(we,T,X,S);K&&(nn(K.title),Jc(K.description),al(K.tags.join(", ")),n({title:"SEO metadata generated!"})),Ly(!1)},disabled:My||!we,className:"h-7 gap-1",children:[My?a.jsx(qe,{className:"h-3 w-3 animate-spin"}):a.jsx(ct,{className:"h-3 w-3"}),"Generate SEO"]})]})}),a.jsxs(me,{className:"p-4 space-y-4 pt-0",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{className:"text-sm font-medium",children:"Title"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>ol(kt,"title"),disabled:!kt,children:a.jsx(Ps,{className:"h-3 w-3"})})]}),a.jsx(ie,{value:kt,onChange:T=>nn(T.target.value),placeholder:"Enter video title...",className:"bg-background/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(z,{className:"text-sm font-medium",children:"Description"}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>ol(sl,"description"),disabled:!sl,children:a.jsx(Ps,{className:"h-3 w-3"})})]}),a.jsx(Ne,{value:sl,onChange:T=>Jc(T.target.value),placeholder:"Enter video description...",className:"min-h-[80px] resize-none bg-background/50"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(z,{className:"text-sm font-medium flex items-center gap-1",children:[a.jsx(mv,{className:"h-3 w-3"}),"Tags"]}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>ol(xo,"tags"),disabled:!xo,children:a.jsx(Ps,{className:"h-3 w-3"})})]}),a.jsx(ie,{value:xo,onChange:T=>al(T.target.value),placeholder:"Enter tags (comma separated)...",className:"bg-background/50"})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ue,{children:a.jsx(St,{className:"border-b border-border/50 py-3",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(_t,{className:"flex items-center gap-2 text-base",children:[a.jsx(sa,{className:"h-4 w-4 text-primary"}),"Script"]}),a.jsx(Oe,{className:"bg-green-500/10 text-green-600 text-xs",children:"Done"}),a.jsx(ja,{text:we,showCharacters:!0})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(D,{variant:"outline",size:"sm",className:"gap-1 h-8 text-xs",onClick:()=>ol(we,"kch bn"),disabled:!we,children:[a.jsx(Ps,{className:"h-3 w-3"}),"Copy All"]}),a.jsx(Kl,{value:S,onChange:j,label:"Model",compact:!0}),a.jsx(J0,{versions:je.filter(T=>!Me||T.outlineVersionId===Me),type:"script",onRestore:VT,onUpdateName:Gy,onDelete:zT,disabled:jn}),a.jsxs(D,{variant:"outline",size:"sm",onClick:MT,disabled:hn||!we,className:"gap-1 h-8 text-xs",children:[hn?a.jsx(qe,{className:"h-3 w-3 animate-spin"}):a.jsx(kd,{className:"h-3 w-3"}),"Score"]})]})]})})}),O&&we?a.jsx("div",{className:"space-y-3",children:O.sections.map((T,X)=>{const K=we.includes("|||SECTION|||")?"|||SECTION|||":`

`,_e=we.split(K)[X]||"",nt=_e.trim().split(/\s+/).filter(xt=>xt.length>0).length;return a.jsxs(ue,{children:[a.jsx(St,{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-5 h-5 rounded-full bg-primary/20 flex items-center justify-center text-xs font-medium",children:X+1}),a.jsx("span",{className:"font-medium text-sm",children:T.title}),a.jsxs(Oe,{variant:"outline",className:"text-xs",children:[nt," words"]})]}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>ol(_e,T.title),children:a.jsx(Ps,{className:"h-3 w-3"})})]})}),a.jsxs(me,{className:"px-4 pb-4 pt-0 space-y-2",children:[a.jsx(Ne,{value:_e,onChange:xt=>{const ot=we.includes("|||SECTION|||")?"|||SECTION|||":`

`,_n=we.split(ot);_n[X]=xt.target.value,$e(_n.join(ot))},className:"resize-none text-sm leading-relaxed min-h-[100px]"}),a.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[a.jsx(ie,{value:nu[X+1e3]||"",onChange:xt=>$y(ot=>({...ot,[X+1e3]:xt.target.value})),placeholder:"Ideas to improve this section...",className:"text-sm flex-1 h-8"}),a.jsxs(D,{variant:"outline",size:"sm",onClick:async()=>{tu(X+1e3);const xt=C&&C!=="none"?s.find(lf=>lf.id===C):null,ot=_&&_!=="none"?r.find(lf=>lf.id===_):null,_n=we.includes("|||SECTION|||")?"|||SECTION|||":`

`,Ze=we.split(_n),ba=Ze.slice(0,X),Zy=await m(T.title,_e,nu[X+1e3]||"",{previousSections:ba,dna:xt,persona:ot,targetWordCount:T.wordCount},S);Zy&&(Ze[X]=Zy,$e(Ze.join(_n)),n({title:`Section "${T.title}" rewritten!`})),tu(null)},disabled:eu===X+1e3,className:"h-8 gap-1",children:[eu===X+1e3?a.jsx(qe,{className:"h-3 w-3 animate-spin"}):a.jsx(Yr,{className:"h-3 w-3"}),"Rewrite"]})]})]})]},X)})}):a.jsx(ue,{children:a.jsx(me,{className:"p-4",children:a.jsx(Ne,{value:we,onChange:T=>$e(T.target.value),className:"min-h-[400px] resize-none text-sm leading-relaxed",placeholder:"Your script will appear here..."})})})]})]}),a.jsx("div",{className:"lg:col-span-1",children:Xe?a.jsx($8,{score:Xe}):a.jsx(ue,{children:a.jsxs(me,{className:"p-8 text-center space-y-4",children:[a.jsx(kd,{className:"h-12 w-12 text-muted-foreground/30 mx-auto"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium text-muted-foreground",children:"No Score Yet"}),a.jsx("p",{className:"text-sm text-muted-foreground/70",children:`Click "Score Script" to analyze your script's viral potential`})]})]})})})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(D,{variant:"outline",className:"flex-1 rounded-xl h-12",onClick:()=>y("outline"),children:" Back to Outline"}),a.jsxs(D,{variant:"outline",className:"flex-1 gap-2 rounded-xl h-12",onClick:Hy,disabled:jn,children:[a.jsx(Yr,{className:"h-5 w-5"}),"Regenerate Script"]}),a.jsx(D,{className:"flex-1 gap-2 rounded-xl h-12",onClick:()=>e("/"),children:"Go to Dashboard"})]})]})]})}function hB(){const[e,t]=h.useState([]),[n,r]=h.useState(!0),{user:s}=Nn(),{toast:o}=$t(),i=h.useCallback(async()=>{if(!s){t([]),r(!1);return}try{const{data:d,error:f}=await Ie.from("notes").select("*").order("updated_at",{ascending:!1});if(f)throw f;t(d||[])}catch(d){console.error("Error fetching notes:",d),o({title:"Error",description:"Failed to fetch notes",variant:"destructive"})}finally{r(!1)}},[s,o]);return h.useEffect(()=>{i()},[i]),{notes:e,loading:n,createNote:async d=>{if(!s)return null;try{const{data:f,error:g}=await Ie.from("notes").insert({...d,user_id:s.id,title:d.title||"Untitled"}).select().single();if(g)throw g;return t(m=>[f,...m]),f}catch(f){return console.error("Error creating note:",f),o({title:"Error",description:"Failed to create note",variant:"destructive"}),null}},updateNote:async(d,f)=>{try{const{data:g,error:m}=await Ie.from("notes").update(f).eq("id",d).select().single();if(m)throw m;return t(b=>b.map(p=>p.id===d?g:p)),g}catch(g){return console.error("Error updating note:",g),o({title:"Error",description:"Failed to update note",variant:"destructive"}),null}},deleteNote:async d=>{try{const{error:f}=await Ie.from("notes").delete().eq("id",d);if(f)throw f;return t(g=>g.filter(m=>m.id!==d)),o({title:"Success",description:"Note deleted successfully"}),!0}catch(f){return console.error("Error deleting note:",f),o({title:"Error",description:"Failed to delete note",variant:"destructive"}),!1}},refetch:i}}const fp=["bg-violet-100 dark:bg-violet-900/20","bg-sky-100 dark:bg-sky-900/20","bg-amber-100 dark:bg-amber-900/20","bg-emerald-100 dark:bg-emerald-900/20","bg-pink-100 dark:bg-pink-900/20","bg-rose-100 dark:bg-rose-900/20"];function fB(){const{notes:e,loading:t,createNote:n,updateNote:r,deleteNote:s}=hB(),[o,i]=h.useState(""),[l,c]=h.useState(null),[u,d]=h.useState(""),[f,g]=h.useState(""),[m,b]=h.useState(!1),p=e.filter(S=>S.title.toLowerCase().includes(o.toLowerCase())||S.content&&S.content.toLowerCase().includes(o.toLowerCase()));h.useEffect(()=>{l&&(d(l.title),g(l.content||""))},[l]);const x=async()=>{const S=fp[Math.floor(Math.random()*fp.length)],j=await n({title:"Untitled Note",content:"",color:S});j&&(c(j),d(j.title),g(j.content||""))},v=async()=>{if(!l)return;b(!0);const S=await r(l.id,{title:u||"Untitled",content:f});S&&c(S),b(!1)},y=async S=>{if(!l)return;const j=await r(l.id,{color:S});j&&c(j)},w=async()=>{if(!l)return;await s(l.id)&&(c(null),d(""),g(""))},N=S=>{const j=new Date(S),E=new Date().getTime()-j.getTime(),C=Math.floor(E/6e4),P=Math.floor(E/36e5),R=Math.floor(E/864e5);return C<1?"Just now":C<60?`${C} min ago`:P<24?`${P} hour${P>1?"s":""} ago`:R<7?`${R} day${R>1?"s":""} ago`:j.toLocaleDateString()};return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Quick Notes"}),a.jsx("p",{className:"text-muted-foreground",children:"Capture ideas and insights"})]}),a.jsxs(D,{onClick:x,className:"gap-2 rounded-xl shadow-lg shadow-primary/20",children:[a.jsx(He,{className:"h-4 w-4"}),"New Note"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Dn,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ie,{placeholder:"Search notes...",value:o,onChange:S=>i(S.target.value),className:"pl-10 rounded-xl bg-card/50"})]}),t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(qe,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):p.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(fm,{className:"h-10 w-10 mx-auto text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No notes yet"})]}):a.jsx("div",{className:"space-y-3",children:p.map(S=>a.jsx(ue,{variant:"elevated",className:`cursor-pointer transition-all ${(l==null?void 0:l.id)===S.id?"ring-2 ring-primary":""}`,onClick:()=>c(S),children:a.jsxs(me,{className:"p-4",children:[a.jsx("div",{className:`mb-3 h-2 w-12 rounded-full ${S.color||"bg-violet-100 dark:bg-violet-900/20"}`}),a.jsx("h3",{className:"font-medium line-clamp-1",children:S.title}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:S.content||"No content"}),a.jsxs("div",{className:"mt-3 flex items-center gap-1.5 text-xs text-muted-foreground",children:[a.jsx(Ai,{className:"h-3 w-3"}),N(S.updated_at)]})]})},S.id))})]}),a.jsx("div",{className:"lg:col-span-2",children:a.jsx(ue,{className:"h-full min-h-[500px]",children:l?a.jsxs(me,{className:"p-6 space-y-4 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsx(ie,{value:u,onChange:S=>d(S.target.value),className:"text-lg font-semibold border-0 p-0 h-auto focus-visible:ring-0 bg-transparent",placeholder:"Note title..."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(D,{variant:"outline",size:"sm",onClick:v,disabled:m,children:m?a.jsx(qe,{className:"h-4 w-4 animate-spin"}):a.jsx(jh,{className:"h-4 w-4"})}),a.jsx(D,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:w,children:a.jsx(Ke,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Color:"}),a.jsx("div",{className:"flex gap-1.5",children:fp.map(S=>a.jsx("button",{onClick:()=>y(S),className:`h-6 w-6 rounded-full transition-all hover:scale-110 ${S} ${l.color===S?"ring-2 ring-primary ring-offset-2 ring-offset-background":"ring-1 ring-border/50"}`,title:"Select color"},S))})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Ai,{className:"h-4 w-4"}),N(l.updated_at)]}),a.jsx(Ne,{value:f,onChange:S=>g(S.target.value),className:"flex-1 resize-none border-0 p-0 pl-1 pt-2 focus-visible:ring-0 bg-transparent text-base leading-relaxed",placeholder:"Write your note..."})]}):a.jsx(me,{className:"p-6 h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center max-w-sm space-y-4",children:[a.jsx("div",{className:"mx-auto rounded-2xl bg-muted/50 p-6 w-fit",children:a.jsx(fm,{className:"h-12 w-12 text-muted-foreground/50"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-lg font-medium",children:"Select a Note"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose a note from the list to view and edit, or create a new one."})]})]})})})})]})]})}function pB(){return a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6 max-w-xl",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Configure your preferences"})]}),a.jsxs(ue,{children:[a.jsxs(St,{children:[a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(ct,{className:"h-5 w-5 text-primary"}),"AI Model",a.jsxs(Oe,{variant:"secondary",className:"ml-2",children:[a.jsx(Ai,{className:"h-3 w-3 mr-1"}),"Coming Soon"]})]}),a.jsx(Zr,{children:"Model selection is now available at each step (DNA extraction, Outline, Script generation)"})]}),a.jsx(me,{children:a.jsxs("div",{className:"text-sm text-muted-foreground bg-muted/50 rounded-xl p-4",children:[a.jsx("p",{className:"font-medium mb-2",children:" Per-step model selection"}),a.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"DNA Lab: Select model when extracting DNA"}),a.jsx("li",{children:"Writer Input: Select model for outline generation"}),a.jsx("li",{children:"Writer Outline: Select model for script writing"}),a.jsx("li",{children:"Persona: Select model for persona generation"})]})]})})]})]})}function hT(){const[e,t]=h.useState([]),[n,r]=h.useState(!0),[s,o]=h.useState(null),[i,l]=h.useState([]),[c,u]=h.useState(null),{user:d}=Nn(),{toast:f}=$t(),g=h.useCallback(async()=>{if(!d){t([]),r(!1);return}try{const{data:w,error:N}=await Ie.from("tubeclone_projects").select("*").order("created_at",{ascending:!1});if(N)throw N;t(w||[])}catch(w){console.error("Error fetching TubeClone projects:",w),f({title:"Error",description:"Failed to fetch projects",variant:"destructive"})}finally{r(!1)}},[d,f]);return h.useEffect(()=>{g()},[g]),{projects:e,loading:n,currentProject:s,videos:i,analysis:c,fetchProjects:g,createProject:async w=>{if(!d)return null;try{const N={user_id:d.id,name:w.name||"New Project",source_url:w.source_url||null,niche:w.niche||null,country:w.country||"USA",category_id:w.category_id||null,video_limit:w.video_limit||50,time_range:w.time_range||"30d",status:"draft"},{data:S,error:j}=await Ie.from("tubeclone_projects").insert(N).select().single();if(j)throw j;const _=S;return t(E=>[_,...E]),f({title:"Success",description:"Project created"}),_}catch(N){return console.error("Error creating project:",N),f({title:"Error",description:"Failed to create project",variant:"destructive"}),null}},updateProject:async(w,N)=>{try{const{data:S,error:j}=await Ie.from("tubeclone_projects").update({...N,updated_at:new Date().toISOString()}).eq("id",w).select().single();if(j)throw j;const _=S;return t(E=>E.map(C=>C.id===w?_:C)),(s==null?void 0:s.id)===w&&o(_),_}catch(S){return console.error("Error updating project:",S),f({title:"Error",description:"Failed to update project",variant:"destructive"}),null}},deleteProject:async w=>{try{const{error:N}=await Ie.from("tubeclone_projects").delete().eq("id",w);if(N)throw N;return t(S=>S.filter(j=>j.id!==w)),(s==null?void 0:s.id)===w&&o(null),f({title:"Success",description:"Project deleted"}),!0}catch(N){return console.error("Error deleting project:",N),f({title:"Error",description:"Failed to delete project",variant:"destructive"}),!1}},loadProject:async w=>{try{const{data:N,error:S}=await Ie.from("tubeclone_projects").select("*").eq("id",w).single();if(S)throw S;o(N);const{data:j,error:_}=await Ie.from("tubeclone_videos").select("*").eq("project_id",w).order("combined_score",{ascending:!1});if(_)throw _;l(j||[]);const{data:E,error:C}=await Ie.from("tubeclone_analyses").select("*").eq("project_id",w).order("created_at",{ascending:!1}).limit(1).single();return u(!C&&E?E:null),N}catch(N){return console.error("Error loading project:",N),f({title:"Error",description:"Failed to load project",variant:"destructive"}),null}},saveVideos:async(w,N)=>{try{const S=N.map(E=>({...E,project_id:w})),{error:j}=await Ie.from("tubeclone_videos").upsert(S);if(j)throw j;const{data:_}=await Ie.from("tubeclone_videos").select("*").eq("project_id",w).order("combined_score",{ascending:!1});return l(_||[]),!0}catch(S){return console.error("Error saving videos:",S),f({title:"Error",description:"Failed to save videos",variant:"destructive"}),!1}},saveAnalysis:async(w,N)=>{try{const{data:S,error:j}=await Ie.from("tubeclone_analyses").insert({...N,project_id:w}).select().single();if(j)throw j;return u(S),S}catch(S){return console.error("Error saving analysis:",S),f({title:"Error",description:"Failed to save analysis",variant:"destructive"}),null}},setCurrentProject:o}}const eb={draft:"bg-gray-500/20 text-gray-600",searching:"bg-blue-500/20 text-blue-600",filtering:"bg-yellow-500/20 text-yellow-600",embedding:"bg-purple-500/20 text-purple-600",analyzing:"bg-orange-500/20 text-orange-600",done:"bg-green-500/20 text-green-600"};function mB({projects:e,loading:t,onOpen:n,onCreateNew:r,onDelete:s}){const o=async l=>{s(l)},i=l=>new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(qe,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(pv,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No projects yet"}),a.jsx(D,{onClick:r,children:"Create Your First Research"})]}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(l=>a.jsxs(ue,{variant:"elevated",className:"group cursor-pointer hover:border-primary/30 transition-all",onClick:()=>n(l),children:[a.jsxs(St,{children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx(Oe,{className:eb[l.status]||eb.draft,children:l.status}),a.jsxs(uT,{children:[a.jsx(uB,{asChild:!0,children:a.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:c=>c.stopPropagation(),children:a.jsx(Ke,{className:"h-4 w-4"})})}),a.jsxs(Cy,{onClick:c=>c.stopPropagation(),children:[a.jsxs(Ey,{children:[a.jsx(Ty,{children:"Delete Project?"}),a.jsxs(Py,{children:['This will permanently delete "',l.name,'" and all of its research data. This action cannot be undone.']})]}),a.jsxs(ky,{children:[a.jsx(Ry,{onClick:c=>c.stopPropagation(),children:"Cancel"}),a.jsx(Ay,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:c=>{c.stopPropagation(),o(l.id)},children:"Delete"})]})]})]})]}),a.jsx(_t,{className:"mt-2 line-clamp-1",children:l.name}),l.niche&&a.jsx(Zr,{className:"line-clamp-1",children:l.niche})]}),a.jsx(me,{children:a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Za,{className:"h-3 w-3"}),l.country]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(fj,{className:"h-3 w-3"}),l.video_limit," videos"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ai,{className:"h-3 w-3"}),i(l.created_at)]})]})})]},l.id))})}const fT=h.createContext(null);function yo(){const e=h.useContext(fT);if(!e)throw new Error("useTubeCloneContext must be used within a TubeCloneProvider");return e}function Zo(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var pT=["PageUp","PageDown"],mT=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],gT={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},rl="Slider",[ig,gB,vB]=Wi(rl),[vT,IV]=Ft(rl,[vB]),[yB,nf]=vT(rl),yT=h.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:i="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:m=!1,form:b,...p}=e,x=h.useRef(new Set),v=h.useRef(0),w=i==="horizontal"?xB:wB,[N=[],S]=$n({prop:d,defaultProp:u,onChange:R=>{var B;(B=[...x.current][v.current])==null||B.focus(),f(R)}}),j=h.useRef(N);function _(R){const L=_B(N,R);P(R,L)}function E(R){P(R,v.current)}function C(){const R=j.current[v.current];N[v.current]!==R&&g(N)}function P(R,L,{commit:B}={commit:!1}){const M=TB(o),H=PB(Math.round((R-r)/o)*o+r,M),V=Cc(H,[r,s]);S((Y=[])=>{const I=SB(Y,V,L);if(kB(I,c*o)){v.current=I.indexOf(V);const A=String(I)!==String(Y);return A&&B&&g(I),A?I:Y}else return Y})}return a.jsx(yB,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:s,valueIndexToChangeRef:v,thumbs:x.current,values:N,orientation:i,form:b,children:a.jsx(ig.Provider,{scope:e.__scopeSlider,children:a.jsx(ig.Slot,{scope:e.__scopeSlider,children:a.jsx(w,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:t,onPointerDown:Zo(p.onPointerDown,()=>{l||(j.current=N)}),min:r,max:s,inverted:m,onSlideStart:l?void 0:_,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&P(r,0,{commit:!0}),onEndKeyDown:()=>!l&&P(s,N.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:L})=>{if(!l){const H=pT.includes(R.key)||R.shiftKey&&mT.includes(R.key)?10:1,V=v.current,Y=N[V],I=o*H*L;P(Y+I,V,{commit:!0})}}})})})})});yT.displayName=rl;var[xT,wT]=vT(rl,{startEdge:"left",endEdge:"right",size:"width",direction:1}),xB=h.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:i,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,g]=h.useState(null),m=Ae(t,w=>g(w)),b=h.useRef(void 0),p=go(s),x=p==="ltr",v=x&&!o||!x&&o;function y(w){const N=b.current||f.getBoundingClientRect(),S=[0,N.width],_=Oy(S,v?[n,r]:[r,n]);return b.current=N,_(w-N.left)}return a.jsx(xT,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:a.jsx(bT,{dir:p,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const N=y(w.clientX);i==null||i(N)},onSlideMove:w=>{const N=y(w.clientX);l==null||l(N)},onSlideEnd:()=>{b.current=void 0,c==null||c()},onStepKeyDown:w=>{const S=gT[v?"from-left":"from-right"].includes(w.key);u==null||u({event:w,direction:S?-1:1})}})})}),wB=h.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...u}=e,d=h.useRef(null),f=Ae(t,d),g=h.useRef(void 0),m=!s;function b(p){const x=g.current||d.current.getBoundingClientRect(),v=[0,x.height],w=Oy(v,m?[r,n]:[n,r]);return g.current=x,w(p-x.top)}return a.jsx(xT,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:a.jsx(bT,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const x=b(p.clientY);o==null||o(x)},onSlideMove:p=>{const x=b(p.clientY);i==null||i(x)},onSlideEnd:()=>{g.current=void 0,l==null||l()},onStepKeyDown:p=>{const v=gT[m?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:v?-1:1})}})})}),bT=h.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:i,onEndKeyDown:l,onStepKeyDown:c,...u}=e,d=nf(rl,n);return a.jsx(he.span,{...u,ref:t,onKeyDown:Zo(e.onKeyDown,f=>{f.key==="Home"?(i(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):pT.concat(mT).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Zo(e.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(g)?g.focus():r(f)}),onPointerMove:Zo(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Zo(e.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),o(f))})})}),NT="SliderTrack",ST=h.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=nf(NT,n);return a.jsx(he.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});ST.displayName=NT;var lg="SliderRange",jT=h.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=nf(lg,n),o=wT(lg,n),i=h.useRef(null),l=Ae(t,i),c=s.values.length,u=s.values.map(g=>ET(g,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return a.jsx(he.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:l,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:f+"%"}})});jT.displayName=lg;var cg="SliderThumb",_T=h.forwardRef((e,t)=>{const n=gB(e.__scopeSlider),[r,s]=h.useState(null),o=Ae(t,l=>s(l)),i=h.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx(bB,{...e,ref:o,index:i})}),bB=h.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...o}=e,i=nf(cg,n),l=wT(cg,n),[c,u]=h.useState(null),d=Ae(t,y=>u(y)),f=c?i.form||!!c.closest("form"):!0,g=jv(c),m=i.values[r],b=m===void 0?0:ET(m,i.min,i.max),p=jB(r,i.values.length),x=g==null?void 0:g[l.size],v=x?CB(x,b,l.direction):0;return h.useEffect(()=>{if(c)return i.thumbs.add(c),()=>{i.thumbs.delete(c)}},[c,i.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${v}px)`},children:[a.jsx(ig.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(he.span,{role:"slider","aria-label":e["aria-label"]||p,"aria-valuemin":i.min,"aria-valuenow":m,"aria-valuemax":i.max,"aria-orientation":i.orientation,"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,tabIndex:i.disabled?void 0:0,...o,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:Zo(e.onFocus,()=>{i.valueIndexToChangeRef.current=r})})}),f&&a.jsx(CT,{name:s??(i.name?i.name+(i.values.length>1?"[]":""):void 0),form:i.form,value:m},r)]})});_T.displayName=cg;var NB="RadioBubbleInput",CT=h.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=h.useRef(null),o=Ae(s,r),i=my(t);return h.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("input",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[i,t]),a.jsx(he.input,{style:{display:"none"},...n,ref:o,defaultValue:t})});CT.displayName=NB;function SB(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,o)=>s-o)}function ET(e,t,n){const o=100/(n-t)*(e-t);return Cc(o,[0,100])}function jB(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function _B(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function CB(e,t,n){const r=e/2,o=Oy([0,50],[0,r]);return(r-o(t)*n)*n}function EB(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function kB(e,t){if(t>0){const n=EB(e);return Math.min(...n)>=t}return!0}function Oy(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function TB(e){return(String(e).split(".")[1]||"").length}function PB(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var kT=yT,AB=ST,RB=jT,OB=_T;const ug=h.forwardRef(({className:e,...t},n)=>a.jsxs(kT,{ref:n,className:J("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(AB,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(RB,{className:"absolute h-full bg-primary"})}),a.jsx(OB,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));ug.displayName=kT.displayName;const TT="https://www.googleapis.com/youtube/v3";function IB(e){const t=e.match(/PT(\d+H)?(\d+M)?(\d+S)?/);if(!t)return e;const n=t[1]?parseInt(t[1]):0,r=t[2]?parseInt(t[2]):0,s=t[3]?parseInt(t[3]):0;return n>0?`${n}:${r.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`:`${r}:${s.toString().padStart(2,"0")}`}function DB(e){const t=new Date;switch(e){case"7d":t.setDate(t.getDate()-7);break;case"30d":t.setDate(t.getDate()-30);break;case"90d":t.setDate(t.getDate()-90);break;case"1y":t.setFullYear(t.getFullYear()-1);break;case"all":return;default:t.setDate(t.getDate()-30)}return t.toISOString()}async function dg(e,t){var s;if(e.length===0)return[];const n=[];for(let o=0;o<e.length;o+=50)n.push(e.slice(o,o+50));const r=[];for(const o of n){const i=new URL(`${TT}/videos`);i.searchParams.set("part","snippet,statistics,contentDetails"),i.searchParams.set("id",o.join(",")),i.searchParams.set("key",t);const l=await fetch(i.toString());if(!l.ok){const d=await l.json();throw new Error(((s=d.error)==null?void 0:s.message)||"Failed to get video details")}const u=((await l.json()).items||[]).map(d=>{var f,g,m,b;return{videoId:d.id,title:d.snippet.title,description:d.snippet.description,tags:d.snippet.tags||[],categoryId:d.snippet.categoryId,channelId:d.snippet.channelId,channelTitle:d.snippet.channelTitle,thumbnailUrl:((g=(f=d.snippet.thumbnails)==null?void 0:f.medium)==null?void 0:g.url)||((b=(m=d.snippet.thumbnails)==null?void 0:m.default)==null?void 0:b.url),viewCount:parseInt(d.statistics.viewCount||"0"),likeCount:parseInt(d.statistics.likeCount||"0"),commentCount:parseInt(d.statistics.commentCount||"0"),duration:IB(d.contentDetails.duration),publishedAt:d.snippet.publishedAt}});r.push(...u)}return r}function MB(e){const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/|youtube\.com\/embed\/)([^&\n?#]+)/,/^([a-zA-Z0-9_-]{11})$/];for(const n of t){const r=e.match(n);if(r)return r[1]}return null}async function LB(e,t,n){var l;const r=[];let s;const i=Math.ceil(t/50);for(let c=0;c<i&&r.length<t;c++){n==null||n(c+1,i);const u=new URL(`${TT}/search`);u.searchParams.set("part","snippet"),u.searchParams.set("type","video"),u.searchParams.set("q",e.query),u.searchParams.set("order",e.order||"relevance"),u.searchParams.set("maxResults","50"),u.searchParams.set("key",e.apiKey),e.regionCode&&u.searchParams.set("regionCode",e.regionCode),e.publishedAfter&&u.searchParams.set("publishedAfter",e.publishedAfter),e.videoCategoryId&&u.searchParams.set("videoCategoryId",e.videoCategoryId),s&&u.searchParams.set("pageToken",s);const d=await fetch(u.toString());if(!d.ok){const m=await d.json();throw new Error(((l=m.error)==null?void 0:l.message)||"YouTube search failed")}const f=await d.json(),g=(f.items||[]).map(m=>{var b,p,x,v;return{videoId:m.id.videoId,title:m.snippet.title,channelId:m.snippet.channelId,channelTitle:m.snippet.channelTitle,description:m.snippet.description,publishedAt:m.snippet.publishedAt,thumbnailUrl:((p=(b=m.snippet.thumbnails)==null?void 0:b.medium)==null?void 0:p.url)||((v=(x=m.snippet.thumbnails)==null?void 0:x.default)==null?void 0:v.url)}});if(r.push(...g),s=f.nextPageToken,!s)break}return r.slice(0,t)}async function tb(e,t,n={}){const{maxResults:r=100,regionCode:s,publishedAfter:o,videoCategoryId:i,onProgress:l}=n;return await LB({query:e,apiKey:t,order:"relevance",regionCode:s,publishedAfter:o,videoCategoryId:i},r,l)}async function $B(e,t,n,r={}){const{resultsPerQuery:s=50,regionCode:o,publishedAfter:i,videoCategoryId:l,onProgress:c}=r,u=[],d=new Set,f=Math.ceil(s*.75);c==null||c(e,1,t.length>0?2:1);try{const g=await tb(e,n,{maxResults:f,regionCode:o,publishedAfter:i,videoCategoryId:l});for(const m of g)d.has(m.videoId)||(d.add(m.videoId),u.push(m))}catch(g){console.error(`Title query "${e}" failed:`,g)}if(t&&t.length>0){const m=t.slice(0,7).join(" "),b=Math.ceil(s*.25);c==null||c(m,2,2);try{const p=await tb(m,n,{maxResults:b,regionCode:o,publishedAfter:i,videoCategoryId:l});for(const x of p)d.has(x.videoId)||(d.add(x.videoId),u.push(x))}catch(p){console.error(`Tag query "${m}" failed:`,p)}}return u}const FB=[{value:"US",label:" United States"},{value:"GB",label:" United Kingdom"},{value:"VN",label:" Vietnam"},{value:"JP",label:" Japan"},{value:"KR",label:" Korea"},{value:"IN",label:" India"},{value:"DE",label:" Germany"},{value:"FR",label:" France"},{value:"BR",label:" Brazil"},{value:"ID",label:" Indonesia"},{value:"TH",label:" Thailand"},{value:"PH",label:" Philippines"},{value:"AU",label:" Australia"},{value:"CA",label:" Canada"},{value:"MX",label:" Mexico"},{value:"ES",label:" Spain"},{value:"IT",label:" Italy"},{value:"RU",label:" Russia"},{value:"PL",label:" Poland"},{value:"NL",label:" Netherlands"}];function UB(e){if(e<=23)return e+1;if(e<=30)return(2+(e-24))*24;if(e<=60)return(8+Math.round((e-31)*(22/29)))*24;if(e<=120)return(31+Math.round((e-61)*(59/59)))*24;if(e<=180)return(91+Math.round((e-121)*(89/59)))*24;const t=181+Math.round((e-181)*(184/59));return Math.min(t,365)*24}function zB(e){const t=e/24;return e<=24?e-1:t<=7?24+(t-2):t<=30?31+Math.round((t-8)*(29/22)):t<=90?61+Math.round((t-31)*(59/59)):t<=180?121+Math.round((t-91)*(59/89)):181+Math.round((t-181)*(59/184))}function BB(e){if(e<24)return`${e} hour${e>1?"s":""}`;const t=Math.round(e/24);return t===1?"1 day":t<7?`${t} days`:t===7?"1 week":t<14?`${t} days`:t<30?`${Math.round(t/7)} weeks`:t===30?"1 month":t<60?`${t} days`:t<90?`${Math.round(t/30)} months`:t===90?"3 months":t<180?`${Math.round(t/30)} months`:t===180?"6 months":t<365?`${Math.round(t/30)} months`:"1 year"}function VB({project:e,configState:t,setConfigState:n,onNext:r}){const{updateProject:s,videos:o}=yo(),{settings:i}=ps(),{toast:l}=$t(),[c,u]=h.useState(!1),[d,f]=h.useState(!1),g=zB(t.hoursRange),m=async()=>{if(!t.sourceUrl){l({title:"Error",description:"Please enter a YouTube URL first",variant:"destructive"});return}const v=i==null?void 0:i.youtube_api_key;if(!v){l({title:"Error",description:"YouTube API Key is not configured. Please add it in Settings.",variant:"destructive"});return}const y=MB(t.sourceUrl);if(!y){l({title:"Error",description:"Invalid YouTube URL",variant:"destructive"});return}f(!0);try{const w=await dg([y],v);if(w.length>0){const N=w[0];n(S=>({...S,videoPreview:{title:N.title,description:N.description,tags:N.tags,categoryId:N.categoryId,publishedAt:N.publishedAt,channelTitle:N.channelTitle,thumbnailUrl:N.thumbnailUrl},detectedNiche:S.detectedNiche||N.title})),l({title:"Video Found",description:`"${N.title}"`})}}catch(w){console.error("Error fetching video:",w),l({title:"Error",description:"Failed to fetch video details",variant:"destructive"})}finally{f(!1)}},b=async()=>{var S;u(!0);const v=t.hoursRange,y=Math.round(v/24);let w;v<24?w=`${v}h`:w=`${y}d`;const N=t.detectedNiche||t.name;await s(e.id,{name:t.name,source_url:t.sourceUrl||null,country:t.country,time_range:w,video_limit:t.videoLimit,niche:N,category_id:((S=t.videoPreview)==null?void 0:S.categoryId)||null,status:"searching"}),u(!1),r()},p=v=>new Date(v).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),x=v=>({1:"Film & Animation",2:"Autos & Vehicles",10:"Music",15:"Pets & Animals",17:"Sports",18:"Short Movies",19:"Travel & Events",20:"Gaming",21:"Videoblogging",22:"People & Blogs",23:"Comedy",24:"Entertainment",25:"News & Politics",26:"Howto & Style",27:"Education",28:"Science & Technology",29:"Nonprofits & Activism"})[v]||`Category ${v}`;return a.jsxs(ue,{variant:"elevated",children:[a.jsx(St,{children:a.jsx(_t,{children:"Research Configuration"})}),a.jsxs(me,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Project Name"}),a.jsx(ie,{value:t.name,onChange:v=>n(y=>({...y,name:v.target.value})),placeholder:"My YouTube Research"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(ij,{className:"h-4 w-4"}),"Competitor Video URL (Optional)"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ie,{value:t.sourceUrl,onChange:v=>n(y=>({...y,sourceUrl:v.target.value,videoPreview:null})),placeholder:"https://youtube.com/watch?v=...",className:"flex-1"}),a.jsxs(D,{variant:"outline",onClick:m,disabled:d||!t.sourceUrl,className:"gap-2",children:[d?a.jsx(qe,{className:"h-4 w-4 animate-spin"}):a.jsx(Dn,{className:"h-4 w-4"}),"Fetch"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Paste a URL to auto-fill search keywords, detecting category and tags."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(RR,{className:"h-4 w-4"}),"Search Keywords / Niche"]}),a.jsx(ie,{value:t.detectedNiche,onChange:v=>n(y=>({...y,detectedNiche:v.target.value})),placeholder:"e.g. 'coding tutorials', 'vegan recipes', 'minecraft gameplay'"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"These keywords will be used to find competitor videos."})]}),t.videoPreview&&a.jsxs("div",{className:"p-4 rounded-lg border bg-muted/30 space-y-3",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx("img",{src:t.videoPreview.thumbnailUrl,alt:"",className:"w-32 h-20 object-cover rounded"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"font-medium line-clamp-2",children:t.videoPreview.title}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t.videoPreview.channelTitle}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:t.videoPreview.description})]})]}),a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Oe,{variant:"outline",className:"shrink-0",children:"Category"}),a.jsx("span",{className:"text-muted-foreground",children:x(t.videoPreview.categoryId)})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Oe,{variant:"outline",className:"shrink-0",children:"Published"}),a.jsx("span",{className:"text-muted-foreground",children:p(t.videoPreview.publishedAt)})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsxs(Oe,{variant:"outline",className:"shrink-0",children:["Tags (",t.videoPreview.tags.length,")"]}),t.videoPreview.tags.length>0?a.jsx("div",{className:"flex flex-wrap gap-1 max-h-24 overflow-y-auto",children:t.videoPreview.tags.map((v,y)=>a.jsx(Oe,{variant:"secondary",className:"text-xs",children:v},y))}):a.jsx("span",{className:"text-muted-foreground italic",children:"No tags found"})]})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center gap-2",children:[a.jsx(Za,{className:"h-4 w-4"})," Target Country"]}),a.jsxs(vr,{value:t.country,onValueChange:v=>n(y=>({...y,country:v})),children:[a.jsx(Jn,{children:a.jsx(yr,{})}),a.jsx(Xn,{children:FB.map(v=>a.jsx(ke,{value:v.value,children:v.label},v.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(fj,{className:"h-4 w-4"})," Videos to Analyze"]}),a.jsx("span",{className:"text-primary font-bold",children:t.videoLimit})]}),a.jsx(ug,{value:[t.videoLimit],onValueChange:v=>n(y=>({...y,videoLimit:v[0]})),min:50,max:200,step:10,className:"py-2"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(z,{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Ai,{className:"h-4 w-4"})," Time Range (Past)"]}),a.jsx("span",{className:"text-primary font-bold",children:BB(t.hoursRange)})]}),a.jsx(ug,{value:[g],onValueChange:v=>{const y=UB(v[0]);n(w=>({...w,hoursRange:y}))},min:0,max:240,step:1,className:"py-2"})]}),a.jsxs("div",{className:"flex justify-between pt-4",children:[o.length>0&&a.jsx("div",{className:"text-sm text-yellow-600 flex items-center",children:"Warning: Changing keywords might require re-searching."}),a.jsx(D,{onClick:b,disabled:c||!t.name.trim(),className:"gap-2 ml-auto",children:c?a.jsx(qe,{className:"h-4 w-4 animate-spin"}):a.jsxs(a.Fragment,{children:["Start Research ",a.jsx(cs,{className:"h-4 w-4"})]})})]})]})]})}function WB(e,t,n){return n===0?0:(e+t)/n*100}function HB(e,t){const n=new Date(t),s=Math.max(1,Math.floor((new Date().getTime()-n.getTime())/(1e3*60*60*24)));return e/s}function KB(e){const t=new Date(e);return Math.max(1,Math.floor((new Date().getTime()-t.getTime())/(1e3*60*60*24)))}function pp(e,t,n){return n===t?50:Math.max(0,Math.min(100,(e-t)/(n-t)*100))}function qB(e,t){if(!e||e.length===0||!t||t.length===0)return 0;const n=new Set(e.map(i=>i.toLowerCase().trim())),r=new Set(t.map(i=>i.toLowerCase().trim()));let s=0;for(const i of n)r.has(i)&&s++;const o=n.size+r.size-s;return o>0?s/o*100:0}function GB(e,t=1.5){if(e.length<4)return{min:Math.min(...e),max:Math.max(...e)};const n=[...e].sort((i,l)=>i-l),r=n[Math.floor(n.length*.25)],s=n[Math.floor(n.length*.75)],o=s-r;return{min:r-o*t,max:s+o*t}}function YB(e,t=50,n={}){const{engagementWeight:r=.4,velocityWeight:s=.3,tagWeight:o=.2,categoryWeight:i=.1,removeOutliers:l=!0,sourceTags:c=[],sourceCategoryId:u}=n;if(e.length===0)return[];let d=e.map(N=>{const S=WB(N.likeCount,N.commentCount,N.viewCount),j=HB(N.viewCount,N.publishedAt),_=KB(N.publishedAt),E=c.length>0?qB(c,N.tags):50,C=u?N.categoryId===u:!0;return{...N,engagementRate:S,viewVelocity:j,tagOverlapScore:E,categoryMatch:C,combinedScore:0,daysSincePublish:_}});if(l&&d.length>10){const N=d.map(j=>j.viewCount),S=GB(N);d=d.filter(j=>j.viewCount>=S.min&&j.viewCount<=S.max)}if(d.length===0)return[];const f=d.map(N=>N.engagementRate),g=d.map(N=>N.viewVelocity),m=d.map(N=>N.tagOverlapScore||0),b=Math.min(...f),p=Math.max(...f),x=Math.min(...g),v=Math.max(...g),y=Math.min(...m),w=Math.max(...m);return d=d.map(N=>{const S=pp(N.engagementRate,b,p),j=pp(N.viewVelocity,x,v),_=pp(N.tagOverlapScore||0,y,w),E=N.categoryMatch?i*100:0,C=S*r+j*s+_*o+E;return{...N,combinedScore:C}}),d.sort((N,S)=>S.combinedScore-N.combinedScore).slice(0,t)}function Or(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toString()}function QB({project:e,onNext:t,onBack:n,autoStart:r=!1}){const{settings:s,loading:o}=ps(),{toast:i}=$t(),{updateProject:l,saveVideos:c,videos:u}=yo(),[d,f]=h.useState("idle"),[g,m]=h.useState(0),[b,p]=h.useState(""),[x,v]=h.useState([]),[y,w]=h.useState(null),N=h.useRef(!1),[S,j]=h.useState(null),_=()=>u.map(C=>({videoId:C.youtube_id,title:C.title||"",description:C.description||"",tags:C.tags||[],categoryId:C.category_id||"",channelId:C.channel_id||"",channelTitle:C.channel_title||"",thumbnailUrl:C.thumbnail_url||"",viewCount:C.view_count,likeCount:C.like_count,commentCount:C.comment_count,duration:C.duration||"",publishedAt:C.published_at||"",engagementRate:C.engagement_rate||0,viewVelocity:C.view_velocity||0,combinedScore:C.combined_score||0,daysSincePublish:0}));h.useEffect(()=>{u.length>0?(v(_()),f("done"),p(`Loaded ${u.length} videos`)):r&&!N.current&&!o&&(N.current=!0,E())},[u,r,o]);const E=async()=>{var P;if(o)return;const C=s==null?void 0:s.youtube_api_key;if(!C){i({title:"Error",description:"YouTube API Key is not configured. Please add it in Settings.",variant:"destructive"}),f("error"),w("YouTube API Key is not configured. Please add it in Settings.");return}f("searching"),m(0),w(null),v([]);try{let R,L=[];if(e.source_url){p("Analyzing source video...");try{const $=await dg([((P=e.source_url.match(/[?&]v=([^&]+)/))==null?void 0:P[1])||""],C);$.length>0&&(R=$[0].categoryId,L=$[0].tags||[])}catch($){console.warn("Failed to analyze source video",$)}}let B;const M=e.time_range;if(M){const $=new Date;if(M.endsWith("h")){const Z=parseInt(M);$.setHours($.getHours()-Z),B=$.toISOString()}else if(M.endsWith("d")){const Z=parseInt(M);$.setDate($.getDate()-Z),B=$.toISOString()}else B=DB(M)}p("Searching YouTube with optimized relevance strategy..."),m(10);const H=await $B(e.niche||"trending",L,C,{resultsPerQuery:Math.ceil(e.video_limit*.8),regionCode:e.country,publishedAfter:B,videoCategoryId:R,onProgress:($,Z,ne)=>{m(10+Z/ne*30),p(`Searching: "${$.substring(0,30)}..." (${Z}/${ne})`)}});if(H.length===0)throw new Error("No videos found. Try different search terms or settings.");p(`Found ${H.length} videos, fetching details...`),m(45),f("fetching_details");const V=H.map($=>$.videoId),Y=await dg(V,C);m(65),p(`Analyzing ${Y.length} videos with tag matching...`),f("filtering");const I=YB(Y,e.video_limit,{removeOutliers:!1,sourceTags:L,sourceCategoryId:R,engagementWeight:.4,velocityWeight:.3,tagWeight:.2,categoryWeight:.1});m(85),p(`Saving top ${I.length} videos...`),f("saving");const A=I.map($=>({youtube_id:$.videoId,title:$.title,description:$.description,tags:$.tags,category_id:$.categoryId,channel_id:$.channelId,channel_title:$.channelTitle,thumbnail_url:$.thumbnailUrl,view_count:$.viewCount,like_count:$.likeCount,comment_count:$.commentCount,duration:$.duration,published_at:$.publishedAt,engagement_rate:$.engagementRate,view_velocity:$.viewVelocity,combined_score:$.combinedScore}));await c(e.id,A),await l(e.id,{status:"filtering"}),v(I),m(100),f("done"),p(`Found ${I.length} top videos!`),i({title:"Search Complete",description:`Found and analyzed ${I.length} videos`})}catch(R){console.error("Search error:",R);const L=R instanceof Error?R.message:"Search failed";w(L),f("error"),i({title:"Error",description:L,variant:"destructive"})}};return a.jsxs(a.Fragment,{children:[a.jsxs(ue,{variant:"elevated",children:[a.jsx(St,{children:a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(Dn,{className:"h-5 w-5"}),"Search & Analyze Videos"]})}),a.jsxs(me,{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Oe,{variant:"outline",children:[" ",e.country]}),a.jsxs(Oe,{variant:"outline",children:[" ",e.time_range]}),a.jsxs(Oe,{variant:"outline",children:[" ",e.video_limit," videos"]}),e.niche&&a.jsxs(Oe,{variant:"outline",children:[" ",e.niche]})]}),d!=="idle"&&d!=="done"&&d!=="error"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(tl,{value:g,className:"h-2"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(qe,{className:"h-4 w-4 animate-spin"}),b]})]}),d==="done"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Nh,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:b})]}),a.jsxs(Oe,{variant:"outline",children:[x.length," videos"]})]}),a.jsx(Ec,{className:"h-[400px] rounded-lg border",children:a.jsx("div",{className:"space-y-2 p-2",children:x.map((C,P)=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 hover:bg-muted transition-colors cursor-pointer",onClick:()=>j(C),children:[a.jsxs("span",{className:"text-xs font-bold text-muted-foreground w-6 text-center",children:["#",P+1]}),a.jsx("img",{src:C.thumbnailUrl,alt:"",className:"w-20 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium line-clamp-1",children:C.title}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[C.channelTitle,"  ",Or(C.viewCount)," views"]}),a.jsxs("div",{className:"flex gap-1 mt-1",children:[C.tags.slice(0,3).map((R,L)=>a.jsx(Oe,{variant:"secondary",className:"text-[10px] px-1 py-0",children:R},L)),C.tags.length>3&&a.jsxs(Oe,{variant:"outline",className:"text-[10px] px-1 py-0",children:["+",C.tags.length-3]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(Oe,{className:"bg-primary/20 text-primary",children:C.combinedScore.toFixed(0)}),a.jsxs("p",{className:"text-[10px] text-muted-foreground mt-1",children:[C.engagementRate.toFixed(2),"% eng"]})]}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:R=>{R.stopPropagation(),window.open(`https://youtube.com/watch?v=${C.videoId}`,"_blank")},children:a.jsx(Ed,{className:"h-4 w-4"})})]},C.videoId))})})]}),d==="error"&&a.jsxs("div",{className:"flex flex-col items-center gap-4 py-8",children:[a.jsx(nj,{className:"h-12 w-12 text-destructive"}),a.jsx("p",{className:"text-destructive text-center",children:y}),a.jsx(D,{onClick:E,children:"Retry Search"})]}),d==="idle"&&a.jsx("div",{className:"text-center py-8",children:o?a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx(qe,{className:"h-8 w-8 animate-spin text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Checking settings..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Dn,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Ready to search for top-performing videos in your niche"}),a.jsxs(D,{onClick:E,size:"lg",className:"gap-2",children:[a.jsx(Dn,{className:"h-4 w-4"}),"Start Search"]})]})}),a.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[a.jsxs(D,{variant:"outline",onClick:n,className:"gap-2",children:[a.jsx(fo,{className:"h-4 w-4"}),"Back"]}),a.jsxs("div",{className:"flex gap-2",children:[d==="done"&&a.jsx(D,{variant:"outline",onClick:E,children:"Re-Search"}),a.jsxs(D,{onClick:t,disabled:d!=="done",className:"gap-2",children:["Continue",a.jsx(cs,{className:"h-4 w-4"})]})]})]})]})]}),a.jsx(ao,{open:!!S,onOpenChange:C=>!C&&j(null),children:a.jsx(la,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:S&&a.jsxs(a.Fragment,{children:[a.jsxs(ca,{children:[a.jsx(ua,{className:"line-clamp-2",children:S.title}),a.jsxs(Kh,{children:[S.channelTitle,"  ",Or(S.viewCount)," views"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("img",{src:S.thumbnailUrl,alt:"",className:"w-full aspect-video object-cover rounded-lg"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-xl font-bold",children:Or(S.viewCount)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Views"})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-xl font-bold",children:Or(S.likeCount)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Likes"})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"text-xl font-bold",children:[S.engagementRate.toFixed(2),"%"]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Engagement"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[a.jsx(mv,{className:"h-4 w-4"}),"Tags (",S.tags.length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-1 max-h-40 overflow-y-auto",children:S.tags.map((C,P)=>a.jsx(Oe,{variant:"secondary",children:C},P))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap max-h-40 overflow-y-auto",children:S.description})]}),a.jsxs(D,{className:"w-full gap-2",onClick:()=>window.open(`https://youtube.com/watch?v=${S.videoId}`,"_blank"),children:[a.jsx(Ed,{className:"h-4 w-4"}),"Open on YouTube"]})]})]})})})]})}function JB({project:e,onNext:t,onBack:n}){const{videos:r,updateProject:s}=yo(),[o,i]=h.useState(new Set),[l,c]=h.useState("score"),[u,d]=h.useState(null),f=p=>{i(x=>{const v=new Set(x);return v.has(p)?v.delete(p):v.add(p),v})},g=[...r].sort((p,x)=>{switch(l){case"views":return x.view_count-p.view_count;case"engagement":return(x.engagement_rate||0)-(p.engagement_rate||0);default:return(x.combined_score||0)-(p.combined_score||0)}}),m=g.filter(p=>!o.has(p.id)),b=async()=>{await s(e.id,{status:"embedding"}),t()};return a.jsxs(a.Fragment,{children:[a.jsxs(ue,{variant:"elevated",children:[a.jsx(St,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(aj,{className:"h-5 w-5"}),"Review Top Videos (",r.length,")"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Sort by:"}),a.jsxs("select",{value:l,onChange:p=>c(p.target.value),className:"text-sm bg-background border rounded-md px-2 py-1",children:[a.jsx("option",{value:"score",children:"Combined Score"}),a.jsx("option",{value:"views",children:"View Count"}),a.jsx("option",{value:"engagement",children:"Engagement"})]})]})]})}),a.jsxs(me,{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsxs(Oe,{variant:"outline",className:"gap-1",children:["Total: ",r.length]}),a.jsxs(Oe,{variant:"outline",className:"gap-1 text-green-600",children:["Active: ",m.length]}),o.size>0&&a.jsxs(Oe,{variant:"outline",className:"gap-1 text-red-600",children:["Excluded: ",o.size]})]}),a.jsx(Ec,{className:"h-[400px] rounded-lg border",children:a.jsx("div",{className:"space-y-2 p-2",children:g.map((p,x)=>{var y,w;const v=o.has(p.id);return a.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-lg border transition-all cursor-pointer ${v?"bg-muted/30 opacity-50 border-transparent":"bg-card border-border hover:border-primary/30"}`,onClick:()=>d(p),children:[a.jsx(Zh,{checked:!v,onCheckedChange:()=>f(p.id),onClick:N=>N.stopPropagation()}),a.jsxs("span",{className:"text-xs font-bold text-muted-foreground w-6",children:["#",x+1]}),a.jsx("img",{src:p.thumbnail_url||"",alt:"",className:"w-20 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium line-clamp-1",children:p.title}),a.jsx("p",{className:"text-xs text-muted-foreground",children:p.channel_title}),a.jsxs("div",{className:"flex gap-1 mt-1",children:[(p.tags||[]).slice(0,3).map((N,S)=>a.jsx(Oe,{variant:"secondary",className:"text-[10px] px-1 py-0",children:N},S)),(((y=p.tags)==null?void 0:y.length)||0)>3&&a.jsxs(Oe,{variant:"outline",className:"text-[10px] px-1 py-0",children:["+",(((w=p.tags)==null?void 0:w.length)||0)-3]})]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(sj,{className:"h-3 w-3"}),Or(p.view_count)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(PR,{className:"h-3 w-3"}),Or(p.like_count)]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_h,{className:"h-3 w-3"}),(p.engagement_rate||0).toFixed(2),"%"]})]}),a.jsx(Oe,{className:"bg-primary/20 text-primary min-w-[70px] justify-center",children:(p.combined_score||0).toFixed(0)}),a.jsx(D,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:N=>{N.stopPropagation(),window.open(`https://youtube.com/watch?v=${p.youtube_id}`,"_blank")},children:a.jsx(Ed,{className:"h-4 w-4"})})]},p.id)})})}),a.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[a.jsxs(D,{variant:"outline",onClick:n,className:"gap-2",children:[a.jsx(fo,{className:"h-4 w-4"}),"Back"]}),a.jsxs(D,{onClick:b,disabled:m.length<1,className:"gap-2",children:["Continue with ",m.length," videos",a.jsx(cs,{className:"h-4 w-4"})]})]})]})]}),a.jsx(ao,{open:!!u,onOpenChange:p=>!p&&d(null),children:a.jsx(la,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:u&&a.jsxs(a.Fragment,{children:[a.jsxs(ca,{children:[a.jsx(ua,{className:"line-clamp-2",children:u.title}),a.jsxs(Kh,{children:[u.channel_title,"  ",Or(u.view_count)," views"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("img",{src:u.thumbnail_url||"",alt:"",className:"w-full aspect-video object-cover rounded-lg"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-xl font-bold",children:Or(u.view_count)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Views"})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-xl font-bold",children:Or(u.like_count)}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Likes"})]}),a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"text-xl font-bold",children:[(u.engagement_rate||0).toFixed(2),"%"]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Engagement"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[a.jsx(mv,{className:"h-4 w-4"}),"Tags (",(u.tags||[]).length,")"]}),a.jsx("div",{className:"flex flex-wrap gap-1 max-h-40 overflow-y-auto",children:(u.tags||[]).map((p,x)=>a.jsx(Oe,{variant:"secondary",children:p},x))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Description"}),a.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap max-h-40 overflow-y-auto",children:u.description})]}),a.jsxs(D,{className:"w-full gap-2",onClick:()=>window.open(`https://youtube.com/watch?v=${u.youtube_id}`,"_blank"),children:[a.jsx(Ed,{className:"h-4 w-4"}),"Open on YouTube"]})]})]})})})]})}const XB="https://openrouter.ai/api/v1";async function PT(e,t,n={}){var c;const{model:r="openai/text-embedding-3-small",dimensions:s=1536,onProgress:o}=n;if(e.length===0)return[];const i=50,l=[];for(let u=0;u<e.length;u+=i){const d=e.slice(u,u+i);o==null||o(u,e.length);const f=await fetch(`${XB}/embeddings`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin,"X-Title":"TubeClone Research"},body:JSON.stringify({model:r,input:d})});if(!f.ok){const m=await f.json();throw console.error("Embedding API Error:",f.status,m),new Error(((c=m.error)==null?void 0:c.message)||`Embedding failed: ${f.status}`)}const g=await f.json();for(let m=0;m<d.length;m++)l.push({text:d[m],embedding:g.data[m].embedding})}return o==null||o(e.length,e.length),l}function nb(e,t){if(e.length!==t.length)throw new Error("Vectors must have the same length");let n=0,r=0,s=0;for(let o=0;o<e.length;o++)n+=e[o]*t[o],r+=e[o]*e[o],s+=t[o]*t[o];return r===0||s===0?0:n/(Math.sqrt(r)*Math.sqrt(s))}function ZB({project:e,onNext:t,onBack:n,autoStart:r=!0}){const{videos:s,updateProject:o,saveVideos:i}=yo(),{settings:l,loading:c}=ps(),{toast:u}=$t(),[d,f]=h.useState("idle"),[g,m]=h.useState(0),[b,p]=h.useState(""),x=s.filter(w=>!w.embedding),v=s.length;h.useEffect(()=>{x.length===0&&v>0&&d==="idle"?f("completed"):r&&d==="idle"&&x.length>0&&!c&&(l!=null&&l.openrouter_api_key)&&y()},[x.length,v,r,c,l==null?void 0:l.openrouter_api_key,d]);const y=async w=>{const N=typeof w=="boolean"?w:!1;if(d==="embedding"||d==="completed"&&!N)return;const S=l==null?void 0:l.openrouter_api_key;if(!S){c||(f("error"),u({title:"Error",description:"OpenRouter API Key is required for embeddings. Please add it in Settings.",variant:"destructive"}));return}f("embedding"),m(0),p("Initializing embedding process...");try{const _=N?s:x,E=_.length;if(E===0){f("completed");return}for(let C=0;C<E;C+=5){const P=_.slice(C,C+5);p(`Embedding batch ${Math.ceil((C+1)/5)} of ${Math.ceil(E/5)}...`);const R=P.map(M=>{const H=M.tags?M.tags.join(", "):"";return`Title: ${M.title||""}
Description: ${M.description||""}
Tags: ${H}`}),L=await PT(R,S),B=P.map((M,H)=>({...M,embedding:L[H].embedding}));await i(e.id,B),m((C+5)/E*100)}await o(e.id,{status:"analyzing"}),f("completed"),m(100),p("Embedding generation complete!"),u({title:"Success",description:`Generated embeddings for ${E} videos`})}catch(j){console.error("Embedding error:",j),f("error"),p("Failed to generate embeddings. Check console for details."),u({title:"Error",description:"An error occurred while generating embeddings",variant:"destructive"})}};return a.jsxs(ue,{variant:"elevated",children:[a.jsx(St,{children:a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(Cl,{className:"h-5 w-5"}),"Generate Video Embeddings"]})}),a.jsxs(me,{className:"space-y-6",children:[a.jsxs("div",{className:"flex gap-4 text-sm",children:[a.jsxs(Oe,{variant:"outline",children:["Total Videos: ",v]}),a.jsxs(Oe,{variant:"outline",className:"text-amber-600",children:["Pending: ",x.length]}),a.jsxs(Oe,{variant:"outline",className:"text-green-600",children:["Ready: ",v-x.length]})]}),d==="idle"&&x.length>0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Cl,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Analyze video content semantics to find deep patterns.",a.jsx("br",{}),"This requires OpenRouter API key."]}),a.jsxs(D,{onClick:y,size:"lg",className:"gap-2",children:[a.jsx(Cl,{className:"h-4 w-4"}),"Start Embedding Generation"]})]}),d==="embedding"&&a.jsxs("div",{className:"space-y-4 py-8",children:[a.jsx(tl,{value:g,className:"h-2"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[a.jsx(qe,{className:"h-4 w-4 animate-spin"}),b]})]}),d==="completed"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Nh,{className:"h-12 w-12 mx-auto text-green-500 mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Embeddings Ready"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"All videos have been processed and are ready for analysis."}),a.jsxs(D,{variant:"outline",size:"sm",onClick:()=>y(!0),className:"mt-2",children:[a.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Regenerate Embeddings"]})]}),d==="error"&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(nj,{className:"h-12 w-12 mx-auto text-destructive mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2 text-destructive",children:"Process Failed"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"There was an error generating embeddings. Check your API key and connection."}),a.jsx(D,{onClick:y,variant:"outline",children:"Retry"})]}),a.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[a.jsxs(D,{variant:"outline",onClick:n,className:"gap-2",children:[a.jsx(fo,{className:"h-4 w-4"}),"Back"]}),a.jsxs(D,{onClick:t,disabled:d!=="completed",className:"gap-2",children:["Continue",a.jsx(cs,{className:"h-4 w-4"})]})]})]})]})}function eV({project:e,userInput:t,setUserInput:n,onNext:r,onBack:s}){const{updateProject:o}=yo(),i=async()=>{await o(e.id,{status:"analyzing"}),r()};return a.jsxs(ue,{variant:"elevated",children:[a.jsx(St,{children:a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(sa,{className:"h-5 w-5"}),"Your Content Input"]})}),a.jsxs(me,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Working Title"}),a.jsx(ie,{value:t.title,onChange:l=>n(c=>({...c,title:l.target.value})),placeholder:"E.g., How to make coding tutorials 2024"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"The draft title for your video."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Description / Key Points"}),a.jsx(Ne,{value:t.description,onChange:l=>n(c=>({...c,description:l.target.value})),placeholder:"Briefly describe what your video is about, or bullet points of content...",className:"h-32"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(z,{children:"Target Keywords / Tags (Optional)"}),a.jsx(ie,{value:t.tags,onChange:l=>n(c=>({...c,tags:l.target.value})),placeholder:"coding, tutorial, devlog"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma separated keywords you want to target."})]})]}),a.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[a.jsxs(D,{variant:"outline",onClick:s,className:"gap-2",children:[a.jsx(fo,{className:"h-4 w-4"}),"Back"]}),a.jsxs(D,{onClick:i,disabled:!t.title.trim(),className:"gap-2",children:["Start Analysis",a.jsx(cs,{className:"h-4 w-4"})]})]})]})]})}const tV=`You are an expert YouTube SEO analyst. Analyze the metadata from these top-performing videos and extract patterns.

<top_videos>
{videos_data}
</top_videos>

Extract patterns that make these videos successful. Return ONLY valid JSON:

{
  "titlePatterns": [
    {
      "pattern": "Pattern description",
      "examples": ["Example 1", "Example 2"],
      "frequency": "high|medium|low"
    }
  ],
  "descriptionPatterns": [
    {
      "pattern": "Pattern description",
      "location": "first_line|opening|middle|cta",
      "examples": ["Example snippet"]
    }
  ],
  "keywordClusters": [
    {
      "name": "Cluster name",
      "keywords": ["keyword1", "keyword2", "keyword3"],
      "importance": "high|medium|low"
    }
  ],
  "commonElements": {
    "avgTitleLength": 50,
    "avgDescriptionLength": 500,
    "avgTagCount": 15,
    "powerWords": ["word1", "word2"],
    "emotionalTriggers": ["trigger1", "trigger2"]
  }
}`,nV=`You are an expert YouTube SEO analyst. Compare the user's video metadata against successful patterns and score it.

<successful_patterns>
{patterns}
</successful_patterns>

<user_metadata>
Title: {user_title}
Description: {user_description}
Tags: {user_tags}
</user_metadata>

Analyze gaps and score the metadata. Return ONLY valid JSON:

{
  "scores": {
    "homepage": 0-100,
    "suggested": 0-100,
    "cpi": 0-100,
    "titleScore": 0-100,
    "descriptionScore": 0-100,
    "tagsScore": 0-100
  },
  "gaps": [
    {
      "type": "title|description|tags|keyword",
      "issue": "Description of the issue",
      "severity": "high|medium|low",
      "suggestion": "How to fix it"
    }
  ],
  "strengths": [
    "What the user is doing well"
  ],
  "overallAnalysis": "Brief overall assessment"
}`,rV=`You are an expert YouTube title optimizer. Based on successful patterns, generate optimized title variants.

<successful_patterns>
{patterns}
</successful_patterns>

<current_title>
{user_title}
</current_title>

<topic_context>
{topic_context}
</topic_context>

Generate 5 optimized title variants that:
1. Follow successful patterns
2. Include power words and emotional triggers
3. Are 50-70 characters (optimal for display)
4. Maintain the core message

Return ONLY valid JSON:

{
  "variants": [
    {
      "title": "Optimized title",
      "reasoning": "Why this works",
      "patternsUsed": ["pattern1", "pattern2"],
      "predictedCTR": "high|medium|standard"
    }
  ]
}`,sV=`You are an expert YouTube description optimizer. Create an optimized description based on successful patterns.

<successful_patterns>
{patterns}
</successful_patterns>

<current_description>
{user_description}
</current_description>

<video_context>
Title: {video_title}
Tags: {video_tags}
</video_context>

Create an optimized description that:
1. Has a compelling first line (visible in search)
2. Includes relevant keywords naturally
3. Has clear structure with timestamps placeholder
4. Includes call-to-action
5. Is 500-1000 characters optimal

Return ONLY valid JSON:

{
  "optimizedDescription": "Full optimized description",
  "keyChanges": [
    "What was improved and why"
  ],
  "keywordsIncluded": ["keyword1", "keyword2"],
  "structure": {
    "hook": "First line",
    "mainContent": "Middle section summary",
    "cta": "Call to action"
  }
}`,aV=`You are an expert YouTube tags optimizer. Suggest optimal tags based on successful videos.

<successful_video_tags>
{top_video_tags}
</successful_video_tags>

<user_video>
Title: {user_title}
Description: {user_description}
Current Tags: {user_tags}
</user_video>

Suggest optimal tags that:
1. Include high-volume keywords from successful videos
2. Mix broad and specific tags
3. Include variations and synonyms
4. Total 15-30 tags (YouTube allows up to 500 characters)

Return ONLY valid JSON:

{
  "suggestedTags": ["tag1", "tag2", "tag3"],
  "removeTags": ["tags that should be removed"],
  "tagCategories": {
    "primary": ["main topic tags"],
    "secondary": ["related topic tags"],
    "longtail": ["specific phrase tags"],
    "trending": ["trending/timely tags"]
  },
  "totalCharacters": 450
}`;async function oV(e,t,n="google/gemini-3-flash-preview"){const r=JSON.stringify(e.slice(0,10),null,2),o=[{role:"user",content:tV.replace("{videos_data}",r)}],i=await Kt(o,t,n);return zn(i)}async function iV(e,t,n,r,s,o="google/gemini-3-flash-preview"){const l=[{role:"user",content:nV.replace("{patterns}",JSON.stringify(e,null,2)).replace("{user_title}",t).replace("{user_description}",n).replace("{user_tags}",r.join(", "))}],c=await Kt(l,s,o);return zn(c)}async function lV(e,t,n,r,s="google/gemini-3-flash-preview"){const i=[{role:"user",content:rV.replace("{patterns}",JSON.stringify(e,null,2)).replace("{user_title}",t).replace("{topic_context}",n)}],l=await Kt(i,r,s);return zn(l)}async function cV(e,t,n,r,s,o="google/gemini-3-flash-preview"){const l=[{role:"user",content:sV.replace("{patterns}",JSON.stringify(e,null,2)).replace("{user_description}",t).replace("{video_title}",n).replace("{video_tags}",r.join(", "))}],c=await Kt(l,s,o);return zn(c)}async function uV(e,t,n,r,s,o="google/gemini-3-flash-preview"){const l=[{role:"user",content:aV.replace("{top_video_tags}",JSON.stringify(e,null,2)).replace("{user_title}",t).replace("{user_description}",n).replace("{user_tags}",r.join(", "))}],c=await Kt(l,s,o);return zn(c)}function dV({project:e,userInput:t,onNext:n,onBack:r}){var y,w,N,S;const{videos:s,analysis:o,saveAnalysis:i,updateProject:l}=yo(),{settings:c}=ps(),[u,d]=h.useState("google/gemini-3-flash-preview"),[f,g]=h.useState("idle"),[m,b]=h.useState(0),[p,x]=h.useState("");h.useEffect(()=>{o&&f==="idle"?g("completed"):!o&&f==="idle"&&s.length>0},[o,f,s.length]);const v=async()=>{var _,E,C;const j=c==null?void 0:c.openrouter_api_key;if(j){g("analyzing"),b(0);try{x("Analyzing your concept...");const P=t.tags.split(",").map(se=>se.trim()).filter(Boolean),R=`${t.title}
${t.description}
${t.tags}`,[L]=await PT([R],j),B=L.embedding;b(10),x("Comparing with top competitors...");const M=s.filter(se=>se.embedding&&se.embedding.length>0),H=se=>{if(!se)return null;if(Array.isArray(se))return se;if(typeof se=="string")try{return JSON.parse(se)}catch(xe){return console.error("Failed to parse embedding string:",xe),null}return null},Y=s.map(se=>{const xe=H(se.embedding);if(!xe)return{id:se.id,video:se,score:0};try{const Re=nb(B,xe);return{id:se.id,video:se,score:Re}}catch(Re){return console.warn(`Similarity error for video ${se.id}:`,Re),{id:se.id,video:se,score:0}}}).sort((se,xe)=>xe.score-se.score).slice(0,10).map(se=>se.video),I=Y.map(se=>({title:se.title||"",description:se.description||"",tags:se.tags||[]}));b(30),x("Extracting winning patterns...");const A=await oV(I,j,u);b(50),x("Identifying opportunities & gaps...");const $=await iV(A,t.title,t.description,P,j,u);b(70),x("Optimizing your metadata...");const[Z,ne,re]=await Promise.all([lV(A,t.title,t.description,j,u),cV(A,t.description,t.title,P,j,u),uV(Y.map(se=>se.tags||[]),t.title,t.description,P,j,u)]);b(90);const ge=Array.isArray($.gaps)?$.gaps.map(se=>se.issue||JSON.stringify(se)):[],Q=Array.isArray(Z.variants)?Z.variants.map(se=>se.title):[],ye=ne.optimizedDescription||"",G=Array.isArray(re.suggestedTags)?re.suggestedTags:[],Ee={user_title:t.title,user_description:t.description,user_tags:P,user_embedding:B,top_video_ids:Y.map(se=>se.id),pattern_analysis:A,scores:{homepage:((_=$.scores)==null?void 0:_.homepage)||80,suggested:((E=$.scores)==null?void 0:E.suggested)||80,cpi:((C=$.scores)==null?void 0:C.cpi)||80,gaps:ge},suggestions:{titleVariants:Q,optimizedDescription:ye,suggestedTags:G},validation_score:0};await i(e.id,Ee),await l(e.id,{status:"done"}),g("completed"),b(100)}catch(P){console.error("Analysis failed:",P);const R=P instanceof Error?P.message:"Unknown error";x(`Analysis failed: ${R}`)}}};return a.jsxs(ue,{variant:"elevated",children:[a.jsx(St,{children:a.jsxs(_t,{className:"flex items-center gap-2",children:[a.jsx(hv,{className:"h-5 w-5"}),"AI Analysis in Progress"]})}),a.jsxs(me,{className:"space-y-6",children:[f==="analyzing"&&a.jsxs("div",{className:"py-10 space-y-6 text-center",children:[a.jsxs("div",{className:"relative w-24 h-24 mx-auto",children:[a.jsx(qe,{className:"w-24 h-24 animate-spin text-primary opacity-20"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-xl font-bold",children:[Math.round(m),"%"]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-medium",children:p}),a.jsx(tl,{value:m,className:"h-2 w-full max-w-md mx-auto"})]})]}),f==="completed"&&o&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[a.jsxs(ue,{className:"p-4 bg-green-500/10 border-green-500/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-green-600",children:[a.jsx(aa,{className:"h-4 w-4"}),a.jsx("span",{className:"font-semibold",children:"Similarity Score"})]}),a.jsx("div",{className:"text-2xl font-bold",children:((y=o.top_video_ids)==null?void 0:y.length)>0&&s.length>0?(()=>{const j=s.find(P=>P.id===o.top_video_ids[0]);if(!(j!=null&&j.embedding)||!o.user_embedding)return"N/A";const _=P=>{if(!P)return null;if(Array.isArray(P))return P;if(typeof P=="string")try{return JSON.parse(P)}catch{return null}return null},E=_(j.embedding),C=_(o.user_embedding);if(!E||!C)return"N/A";try{return(nb(C,E)*100).toFixed(1)+"%"}catch{return"N/A"}})():"N/A"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Match with top competitor"})]}),a.jsxs(ue,{className:"p-4 bg-blue-500/10 border-blue-500/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-blue-600",children:[a.jsx(_h,{className:"h-4 w-4"}),a.jsx("span",{className:"font-semibold",children:"Top Competitors"})]}),a.jsx("div",{className:"text-2xl font-bold",children:((w=o.top_video_ids)==null?void 0:w.length)||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Similar videos analyzed"})]}),a.jsxs(ue,{className:"p-4 bg-amber-500/10 border-amber-500/20",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2 text-amber-600",children:[a.jsx(Sh,{className:"h-4 w-4"}),a.jsx("span",{className:"font-semibold",children:"Gaps Found"})]}),a.jsx("div",{className:"text-2xl font-bold",children:((S=(N=o.scores)==null?void 0:N.gaps)==null?void 0:S.length)||0}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Opportunities to stand out"})]})]}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsx("h4",{className:"text-sm font-medium",children:"Your Input Will Compete With These Videos"}),a.jsx("div",{className:"grid gap-3",children:(s||[]).filter(j=>(o.top_video_ids||[]).includes(j.id)).slice(0,10).map((j,_)=>a.jsxs("div",{className:"flex gap-3 p-2 rounded border bg-card/50 hover:bg-card transition-colors cursor-pointer",onClick:()=>window.open(`https://youtube.com/watch?v=${j.youtube_id}`,"_blank"),children:[a.jsx("img",{src:j.thumbnail_url||"",alt:"",className:"w-20 h-12 object-cover rounded"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium line-clamp-1",children:j.title}),a.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-2",children:[a.jsx("span",{children:j.channel_title}),a.jsx("span",{children:""}),a.jsxs("span",{children:[Or(j.view_count)," views"]})]})]})]},_))})]})]}),f==="idle"&&!o&&a.jsxs("div",{className:"flex flex-col items-center gap-6 py-10",children:[a.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[a.jsx(Kl,{label:"Analysis Model",value:u,onChange:d}),a.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Select the AI model to perform pattern extraction and optimization."})]}),a.jsx(D,{onClick:v,size:"lg",className:"w-full max-w-sm",children:"Start Analysis"})]}),a.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[a.jsxs(D,{variant:"outline",onClick:r,className:"gap-2",children:[a.jsx(fo,{className:"h-4 w-4"}),"Back"]}),a.jsxs(D,{onClick:n,disabled:f!=="completed",className:"gap-2",children:["See Results",a.jsx(cs,{className:"h-4 w-4"})]})]})]})]})}function hV({project:e,userInput:t,onBack:n}){var i,l,c,u;const{analysis:r}=yo(),{toast:s}=$t();if(!r)return null;const o=d=>{navigator.clipboard.writeText(d),s({title:"Copied!",description:"Content copied to clipboard"})};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ue,{variant:"elevated",children:[a.jsx(St,{children:a.jsxs(_t,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Nh,{className:"h-6 w-6"}),"Validation Complete"]})}),a.jsxs(me,{children:[a.jsxs("div",{className:"p-4 rounded-lg bg-green-500/10 border border-green-500/20 mb-6",children:[a.jsx("h3",{className:"font-semibold text-green-700 mb-1",children:"Ready for Production"}),a.jsxs("p",{className:"text-sm text-green-600/80",children:["Your concept has been optimized based on ",((i=r.top_video_ids)==null?void 0:i.length)||0," top-performing competitor videos."]})]}),a.jsxs("div",{className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(ct,{className:"h-3 w-3 text-primary"}),"Optimized Titles"]}),a.jsx("div",{className:"grid gap-2",children:(l=r.suggestions)==null?void 0:l.titleVariants.map((d,f)=>a.jsxs("div",{className:"flex gap-2 items-center p-3 rounded bg-muted/50 border group hover:border-primary/50 transition-colors",children:[a.jsx("div",{className:"font-medium text-sm flex-1",children:d}),a.jsx(D,{size:"icon",variant:"ghost",className:"h-8 w-8 opacity-0 group-hover:opacity-100",onClick:()=>o(d),children:a.jsx(Ps,{className:"h-4 w-4"})})]},f))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(ct,{className:"h-3 w-3 text-primary"}),"Optimized Description"]}),a.jsxs("div",{className:"relative p-4 rounded bg-muted/50 border min-h-[100px] text-sm whitespace-pre-wrap group",children:[(c=r.suggestions)==null?void 0:c.optimizedDescription,a.jsx(D,{size:"icon",variant:"ghost",className:"absolute top-2 right-2 h-8 w-8 opacity-0 group-hover:opacity-100",onClick:()=>{var d;return o(((d=r.suggestions)==null?void 0:d.optimizedDescription)||"")},children:a.jsx(Ps,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(ct,{className:"h-3 w-3 text-primary"}),"Recommended Tags"]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:(u=r.suggestions)==null?void 0:u.suggestedTags.map((d,f)=>a.jsx(Oe,{variant:"secondary",className:"px-2 py-1 cursor-pointer hover:bg-primary/20",onClick:()=>o(d),children:d},f))})]})]})]})]}),a.jsx("div",{className:"flex justify-start",children:a.jsxs(D,{variant:"outline",onClick:n,className:"gap-2",children:[a.jsx(fo,{className:"h-4 w-4"}),"Back to Analysis"]})})]})}const ir=[{id:"config",label:"Config",icon:uj},{id:"search",label:"Search",icon:Dn},{id:"filter",label:"Filter",icon:aj},{id:"embed",label:"Embed",icon:Cl},{id:"input",label:"Input",icon:sa},{id:"analysis",label:"Analysis",icon:hv},{id:"validation",label:"Validate",icon:Nh}];function fV(e){switch(e){case"searching":return"search";case"filtering":return"filter";case"embedding":return"embed";case"analyzing":return"input";case"done":return"validation";default:return"config"}}function pV({project:e}){const t=hT(),{loadProject:n,currentProject:r,videos:s}=t,[o,i]=h.useState(!0),[l,c]=h.useState("config"),[u,d]=h.useState("config"),[f,g]=h.useState(!1),[m,b]=h.useState({name:e.name,sourceUrl:e.source_url||"",country:e.country||"US",hoursRange:24*30,videoLimit:e.video_limit||50,videoPreview:null,detectedNiche:e.niche||""}),[p,x]=h.useState({title:"",description:"",tags:""});h.useEffect(()=>{(async()=>{i(!0),await n(e.id),i(!1)})()},[e.id]),h.useEffect(()=>{if(!o&&r&&!f){const S=fV(r.status);c(S),d(S),g(!0),b(j=>({...j,name:r.name,sourceUrl:r.source_url||"",country:r.country||"US",videoLimit:r.video_limit||50,detectedNiche:r.niche||""}))}},[o,f]);const v=S=>{const j=ir.findIndex(C=>C.id===S),_=ir.findIndex(C=>C.id===l),E=ir.findIndex(C=>C.id===u);return j<=E&&j<_?"completed":j===_?"current":"upcoming"},y=()=>{const S=ir.findIndex(j=>j.id===l);if(S<ir.length-1){const j=ir[S+1].id;c(j);const _=ir.findIndex(E=>E.id===u);S+1>_&&d(j)}},w=()=>{const S=ir.findIndex(j=>j.id===l);S>0&&c(ir[S-1].id)};if(o)return a.jsxs("div",{className:"flex items-center justify-center py-20",children:[a.jsx(qe,{className:"h-8 w-8 animate-spin text-primary"}),a.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading project..."})]});const N=()=>{const S=r||e;return a.jsxs(a.Fragment,{children:[l==="config"&&a.jsx(VB,{project:S,configState:m,setConfigState:b,onNext:y}),l==="search"&&a.jsx(QB,{project:S,onNext:y,onBack:w,autoStart:s.length===0}),l==="filter"&&a.jsx(JB,{project:S,onNext:y,onBack:w}),l==="embed"&&a.jsx(ZB,{project:S,onNext:y,onBack:w}),l==="input"&&a.jsx(eV,{project:S,userInput:p,setUserInput:x,onNext:y,onBack:w}),l==="analysis"&&a.jsx(dV,{project:S,userInput:p,onNext:y,onBack:w}),l==="validation"&&a.jsx(hV,{project:S,userInput:p,onBack:w})]})};return a.jsx(fT.Provider,{value:t,children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between overflow-x-auto pb-2",children:ir.map((S,j)=>{const _=v(S.id),E=S.icon,C=_!=="upcoming";return a.jsxs("div",{className:"flex items-center",children:[a.jsxs("button",{onClick:()=>C&&c(S.id),disabled:!C,className:J("flex flex-col items-center gap-1 px-3 py-2 rounded-lg transition-all",_==="completed"&&"text-primary cursor-pointer hover:bg-primary/10",_==="current"&&"text-primary bg-primary/10",_==="upcoming"&&"text-muted-foreground/50 cursor-not-allowed"),children:[a.jsx("div",{className:J("flex h-8 w-8 items-center justify-center rounded-full border-2 transition-all",_==="completed"&&"border-primary bg-primary text-primary-foreground",_==="current"&&"border-primary bg-primary/20",_==="upcoming"&&"border-muted-foreground/30"),children:_==="completed"?a.jsx(pa,{className:"h-4 w-4"}):a.jsx(E,{className:"h-4 w-4"})}),a.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:S.label})]}),j<ir.length-1&&a.jsx(Ir,{className:J("h-4 w-4 mx-1 flex-shrink-0",_==="completed"?"text-primary":"text-muted-foreground/30")})]},S.id)})}),a.jsx("div",{className:"min-h-[400px]",children:N()})]})})}function mV(){const{projects:e,loading:t,currentProject:n,createProject:r,setCurrentProject:s,deleteProject:o}=hT(),[i,l]=h.useState("library"),[c,u]=h.useState(!1),d=async()=>{u(!0);const g=await r({name:"New Research"});g&&(s(g),l("research")),u(!1)},f=g=>{s(g),l("research")};return a.jsx(Ka,{feature:"tubeclone",children:a.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:a.jsx(Dn,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"TubeClone"}),a.jsx("p",{className:"text-muted-foreground",children:"Research & optimize your YouTube metadata"})]})]}),a.jsxs(D,{onClick:d,disabled:c,className:"gap-2 rounded-xl shadow-lg shadow-primary/20",children:[c?a.jsx(qe,{className:"h-4 w-4 animate-spin"}):a.jsx(He,{className:"h-4 w-4"}),"New Research"]})]}),a.jsxs($i,{value:i,onValueChange:g=>l(g),children:[a.jsxs(oo,{className:"grid w-full max-w-md grid-cols-2",children:[a.jsxs(Rn,{value:"library",className:"gap-2",children:[a.jsx(pv,{className:"h-4 w-4"}),"Library"]}),a.jsxs(Rn,{value:"research",className:"gap-2",disabled:!n,children:[a.jsx(kR,{className:"h-4 w-4"}),"Research"]})]}),a.jsx(On,{value:"library",className:"mt-6",children:a.jsx(mB,{projects:e,loading:t,onOpen:f,onCreateNew:d,onDelete:o})}),a.jsx(On,{value:"research",className:"mt-6",children:n?a.jsx(pV,{project:n}):a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Dn,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Select or create a project to start research"})]})})]})]})})}const gV=()=>{const e=po();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},vV=new JD,Ns=({children:e})=>{const{user:t,loading:n}=Nn(),{showOnboarding:r,completeOnboarding:s,skipOnboarding:o}=nF();return n?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):t?a.jsxs(q$,{children:[r&&a.jsx(tF,{onComplete:s,onSkip:o}),e]}):a.jsx(S1,{to:"/auth",replace:!0})},yV=()=>a.jsxs(r4,{children:[a.jsx(Vn,{path:"/auth",element:a.jsx(xz,{})}),a.jsx(Vn,{path:"/pricing",element:a.jsx(L8,{})}),a.jsx(Vn,{path:"/",element:a.jsx(Ns,{children:a.jsx(yz,{})})}),a.jsx(Vn,{path:"/dna-lab",element:a.jsx(Ns,{children:a.jsx(A8,{})})}),a.jsx(Vn,{path:"/personas",element:a.jsx(Ns,{children:a.jsx(I8,{})})}),a.jsx(Vn,{path:"/writer",element:a.jsx(Ns,{children:a.jsx(Z0,{})})}),a.jsx(Vn,{path:"/writer/:id",element:a.jsx(Ns,{children:a.jsx(Z0,{})})}),a.jsx(Vn,{path:"/notes",element:a.jsx(Ns,{children:a.jsx(fB,{})})}),a.jsx(Vn,{path:"/tubeclone",element:a.jsx(Ns,{children:a.jsx(mV,{})})}),a.jsx(Vn,{path:"/settings",element:a.jsx(Ns,{children:a.jsx(pB,{})})}),a.jsx(Vn,{path:"*",element:a.jsx(gV,{})})]}),xV=()=>a.jsx(nM,{client:vV,children:a.jsxs(Zj,{children:[a.jsx(gO,{}),a.jsx(GO,{}),a.jsx(d4,{children:a.jsx(Z3,{children:a.jsx(yV,{})})})]})});ES(document.getElementById("root")).render(a.jsx(xV,{}));
